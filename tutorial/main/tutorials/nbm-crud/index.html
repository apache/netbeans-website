<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans Platform CRUD Application Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans Platform CRUD Application Tutorial - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans Platform CRUD Application Tutorial">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../index.html"><img src='../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="../../../../front/main/download/nb19">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">NetBeans Platform CRUD Application Tutorial</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/tutorials/nbm-crud.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_setting_up_the_application">Setting up the Application</a></li>
<li><a href="#_integrating_the_database">Integrating the Database</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_entity_classes">Creating the Entity Classes</a></li>
<li><a href="#_wrapping_the_entity_class_jar_in_a_module">Wrapping the Entity Class JAR in a Module</a></li>
<li><a href="#_wrapping_supporting_jars_in_modules">Wrapping Supporting JARs in Modules</a></li>
<li><a href="#_designing_the_user_interface">Designing the User Interface</a></li>
<li><a href="#_setting_dependencies">Setting Dependencies</a></li>
<li><a href="#_running_the_prototype">Running the Prototype</a></li>
</ul>
</li>
<li><a href="#_integrating_crud_functionality_read">Integrating CRUD Functionality: Read</a></li>
<li><a href="#_integrating_crud_functionality_update">Integrating CRUD Functionality: Update</a>
<ul class="sectlevel2">
<li><a href="#_show_selected_data_in_the_editor">Show Selected Data in the Editor</a></li>
<li><a href="#_enable_the_undoredo_actions_for_the_editor">Enable the Undo/Redo Actions for the Editor</a></li>
<li><a href="#_save_changes_in_the_editor">Save Changes in the Editor</a></li>
<li><a href="#_refresh_the_viewer">Refresh the Viewer</a></li>
</ul>
</li>
<li><a href="#_integrating_crud_functionality_create">Integrating CRUD Functionality: Create</a></li>
<li><a href="#_integrating_crud_functionality_delete">Integrating CRUD Functionality: Delete</a></li>
<li><a href="#_further_reading">Further Reading</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial shows you how to integrate a Java DB database into a NetBeans Platform application. We start by exploring a Java DB database, from which we create entity classes. Though the starting point of this tutorial is Java DB, be aware that these instructions are not applicable to Java DB only. Rather, they are relevant to any relational database supported by NetBeans IDE.</p>
</div>
<div class="paragraph">
<p>Though the database access part of this tutorial is fine for smaller applications, there are many other factors to be aware of in the context of larger real-life scenarios. It is important to be aware of these factors, aspects of which are described  <a href="http://blog.schauderhaft.de/2008/09/28/hibernate-sessions-in-two-tier-rich-client-applications/">here</a>.</p>
</div>
<div class="paragraph">
<p>Once we have code for accessing the database, we wrap the entity classes into a module, together with modules for the related JPA JARS. Once the data access module is part of our application, we create a new module that provides the user interface for our application. The new module gives the user a tree hierarchy showing data from the database. We then create another module that lets the user edit the data displayed by the first module. By separating the viewer from the editor in distinct modules, we will enable the user to install a different editor for the same viewer, since different editors could be created by external vendors, some commercially and some for free. It is this flexibility that the modular architecture of the NetBeans Platform makes possible.</p>
</div>
<div class="paragraph">
<p>Once we have an editor, we begin adding CRUD functionality. First, the "R", standing for "Read", is handled by the viewer described above. Next, the "U" for "Update" is handled, followed by the "C" for "Create", and the "D" for "Delete".</p>
</div>
<div class="paragraph">
<p>At the end of the tutorial, you will have learned about a range of NetBeans Platform features that help you in creating applications of this kind. For example, you will have learned about the  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/UndoRedo.Manager.html">UndoRedo.Manager</a></code>  and the  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-explorer/org/openide/explorer/ExplorerManager.html">ExplorerManager</a></code> , as well as NetBeans Platform Swing components, such as  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.html">TopComponent</a></code>  and  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-explorer/org/openide/explorer/view/BeanTreeView.html">BeanTreeView</a></code> .</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Integrating CRUD Functionality</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For troubleshooting purposes, you are welcome to download the  <a href="http://web.archive.org/web/20170409072842/http://java.net/projects/nb-api-samples/show/versions/8.0/tutorials/DBManager">completed tutorial source code</a>.</p>
</div>
<div class="paragraph">
<p>The application you create in this tutorial will look as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_70_dbmanager-99c.png" alt="crud 70 dbmanager 99c">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_application"><a class="anchor" href="#_setting_up_the_application"></a>Setting up the Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s start by creating a new NetBeans Platform application.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Choose File &gt; New Project (Ctrl+Shift+N). Under Categories, select NetBeans Modules. Under Projects, select NetBeans Platform Application:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_app-1.png" alt="crud 72 app 1">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="paragraph">
<p>1.
In the Name and Location panel, type  <code>DBManager</code>  in the Project Name field:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_app-2.png" alt="crud 72 app 2">
</div>
</div>
<div class="paragraph">
<p>Click Finish.</p>
</div>
<div class="paragraph">
<p>The IDE creates the  <code>DBManager</code>  project. The project is a container for all the other modules you will create:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_app-3.png" alt="crud 72 app 3">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_the_database"><a class="anchor" href="#_integrating_the_database"></a>Integrating the Database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to integrate the database, you will use tools in the IDE to leverage the  <a href="http://docs.oracle.com/javaee/5/tutorial/doc/bnbpz.html">Java Persistence API</a> for the creation of entity classes from your database. You will then integrate those entity classes, together with their related JARs, into modules as part of your NetBeans Platform application.</p>
</div>
<div class="sect2">
<h3 id="_creating_the_entity_classes"><a class="anchor" href="#_creating_the_entity_classes"></a>Creating the Entity Classes</h3>
<div class="paragraph">
<p>In this section, you generate entity classes from a selected database.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Let&#8217;s start by using the IDE to inspect the database that we will use in our application. Use the Services window (Ctrl-5) to connect to the sample database that is included with NetBeans IDE:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-1.png" alt="crud 72 db 1">
</div>
</div>
<div class="paragraph">
<p>Alternatively, use any database you like and adapt the steps that follow to your particular use case. For Oracle Database, see  <a href="../../kb/docs/ide/oracle-db/" class="xref page">Connecting to an Oracle Database</a>; for MySQL, see  <a href="../../kb/docs/ide/mysql/" class="xref page">Connecting to a MySQL Database</a> for help.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Now we will create a library that will contain entity classes for the tables that we&#8217;re interested in for our application. In the IDE, choose File | New Project, followed by Java | Java Class Library and create a new library project, anywhere on disk, named  <code>CustomerLibrary</code> :</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-2.png" alt="crud 72 db 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Projects window, right-click the <code>CustomerLibrary</code> project and choose File | New File, followed by Persistence | "Entity Classes from Database". In the wizard, select your database and the tables you need. Here we choose "CUSTOMER", and then "DISCOUNT_CODE" and "MICRO_MARKET" are added automatically, since there is a relationship between these tables:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-4.png" alt="crud 72 db 4">
</div>
</div>
<div class="paragraph">
<p>In some versions of the database, MICRO_MARKET does not have a relationship with CUSTOMER. If that is the case, it won&#8217;t be marked as being in a relationship and you do not need to include it.</p>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Type "demo" as the name of the package where the entity classes will be generated and leave everything else unchanged:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-5.png" alt="crud 72 db 5">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Click Finish. Once you have completed this step, look at the generated code and notice that, among other files, you now have a <code>persistence.xml</code> file in a folder called META-INF, as well as entity classes for each of your tables:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-6.png" alt="crud 72 db 6">
</div>
</div>
<div class="paragraph">
<p>Right-click the project, choose Properties, and specify in the Packaging tab that the libraries should be copied when the project is built:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-7.png" alt="crud 72 db 7">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Right-click and then build the <code>CustomerLibrary</code>. Switch to the Files window (Ctrl-2) and notice that you have a JAR file in the library project&#8217;s "dist" folder and that the "dist" folder also contains the three JARs that your project depends on:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-8.png" alt="crud 72 db 8">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wrapping_the_entity_class_jar_in_a_module"><a class="anchor" href="#_wrapping_the_entity_class_jar_in_a_module"></a>Wrapping the Entity Class JAR in a Module</h3>
<div class="paragraph">
<p>In this section, you add your first module to your application! The new NetBeans module will wrap the JAR file you created in the previous section.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the  <code>DBManager</code> 's "Modules" node in the Projects window and choose Add New Library:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-1.png" alt="crud 72 wrap 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the "New Library Wrapper Module Project" dialog, select the JAR you created in the previous subsection. No need to include a license; leave the License field empty:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-2.png" alt="crud 72 wrap 2">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-3.png" alt="crud 72 wrap 3">
</div>
</div>
<div class="paragraph">
<p>Name the project  <code>CustomerLibrary</code> , as shown above. Then click Next.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-4.png" alt="crud 72 wrap 4">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s assume the application is for analyzing customers at http://shop.org, in which case a unique identifier <code>org.shop.model</code> is appropriate for the code name base, since this module provides the model (also known as "domain") of the application.</p>
</div>
<div class="paragraph">
<p>You now have your first custom module in your new application, which wraps the JAR containing the entity classes and the  <code>persistence.xml</code>  file:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_db-9.png" alt="crud 72 db 9">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wrapping_supporting_jars_in_modules"><a class="anchor" href="#_wrapping_supporting_jars_in_modules"></a>Wrapping Supporting JARs in Modules</h3>
<div class="paragraph">
<p>In this section, you create two new modules, wrapping the EclipseLink JARs, as well as the database connector JAR.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Do the same as you did when creating the library wrapper for the entity class JAR, but this time for the EclipseLink JARs, which are in the "dist/lib" folder of the CustomerLibrary project that you created in the previous section.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the Library Wrapper Module wizard, you can use Ctrl-Click to select multiple JARs.</p>
</div>
<div class="paragraph">
<p>Name the project  <code>Eclipselink</code>  and use  <code>javax.persistence</code>  as the code name base of this library wrapper module. Now your application consists of two custom modules:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-5.png" alt="crud 72 wrap 5">
</div>
</div>
<div class="paragraph">
<p>So far, each of your modules exists to wrap one or more JARs into the application.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Next, create the third library wrapper module; this time for the Java DB client JAR, which is named  <code>derbyclient.jar</code> . The location of this JAR depends on your version of the JDK, as well as on your operating system. For example, on Windows and Linux systems, this JAR could be found within your JDK distribution at  <code>"db/lib/derbyclient.jar"</code> . On Windows systems, depending on your version of GlassFish, you could find this JAR here,  <code>C:\Program Files\glassfish-3.1.2-b22\javadb\lib\derbyclient.jar</code> . Use  <code>Derbyclient</code>  as the project name and use  <code>org.apache.derby</code>  as the code name base of this module.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To use an embedded Java DB database, instead of the external Java DB database used in this tutorial,  <a href="../../../../front/main/blogs/geertjan/embedded_database_for_netbeans_platform/" class="xref page">read this article</a>.</p>
</div>
<div class="paragraph">
<p>Your application structure should now be as shown below. You should see that you have an application that contains three modules. One module contains the customer library, while the other two contain the EclipeLink JARs and the Derby Client JAR:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_wrap-6.png" alt="crud 72 wrap 6">
</div>
</div>
<div class="paragraph">
<p>Now it is, finally, time to do some coding!</p>
</div>
</div>
<div class="sect2">
<h3 id="_designing_the_user_interface"><a class="anchor" href="#_designing_the_user_interface"></a>Designing the User Interface</h3>
<div class="paragraph">
<p>In this section, you create a simple prototype user interface, providing a window that uses a  <code>JTextArea</code>  to display data retrieved from the database.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the  <code>DBManager</code> 's Modules node in the Projects window and choose Add New. Create a new module named  <code>CustomerViewer</code> , with the code name base  <code>org.shop.viewer</code> . Click Finish. You now have a fourth module in your application.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the Projects window, right-click the new module and choose New | Window. Specify that it should be created in the  <code>explorer</code>  position and that it should open when the application starts. Set  <code>CustomerViewer</code>  as the window&#8217;s class name prefix. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
Use the Palette (Ctrl-Shift-8) to drag and drop a  <code>JTextArea</code>  on the new window:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_proto-1.png" alt="crud 72 proto 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click the "Source" tab and the source code of the  <code>TopComponent</code>  opens. Add this to the end of the TopComponent constructor:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntityManager entityManager = Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
Query query = entityManager.createNamedQuery("Customer.findAll");
List&lt;Customer&gt; resultList = query.getResultList();
for (Customer c : resultList) {
  jTextArea1.append(c.getName() + " (" + c.getCity() + ")" + "\n");
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Since you have not set dependencies on the modules that provide the Customer object and the persistence JARs, the statements above will be marked with red error underlines. These will be fixed in the section that follows.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Above, you can see references to a persistence unit named "CustomerLibraryPU", which is the name set in the  <code>persistence.xml</code>  file. In addition, there is a reference to one of the entity classes, called  <code>Customer</code> , which is in the entity classes module. Adapt these bits to your needs, if they are different to the above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_dependencies"><a class="anchor" href="#_setting_dependencies"></a>Setting Dependencies</h3>
<div class="paragraph">
<p>In this section, you enable some of the modules to use code from some of the other modules. You do this very explicitly by setting intentional contracts between related modules, i.e., as opposed to the accidental and chaotic reuse of code that tends to happen when you do not have a strict modular architecture such as that provided by the NetBeans Platform.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>The entity classes module (named "CustomerLibrary") needs to have dependencies on the Derby Client module as well as on the EclipseLink module. Right-click the  <code>CustomerLibrary</code>  module, choose Properties, and use the Libraries tab to set dependencies on the two modules that the  <code>CustomerLibrary</code>  module needs.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>The  <code>CustomerViewer</code>  module needs a dependency on the EclipseLink module as well as on the entity classes module. Right-click the  <code>CustomerViewer</code>  module, choose Properties, and use the Libraries tab to set dependencies on the two modules that the  <code>CustomerViewer</code>  module needs.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Open the  <code>CustomerViewerTopComponent</code>  in the Source view, right-click in the editor, and choose "Fix Imports". The IDE is now able to add the required import statements, because the modules that provide the required classes are now available to the  <code>CustomerViewerTopComponent</code> . Rather than  <code>javax.management.Persistence</code> , make sure to select  <code>javax.persistence.Persistence</code> . The import statememts you should now have are as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import demo.Customer;
import java.util.List;
import javax.persistence.EntityManager;
import javax.persistence.Persistence;
import javax.persistence.Query;
import org.netbeans.api.settings.ConvertAsProperties;
import org.openide.awt.ActionID;
import org.openide.awt.ActionReference;
import org.openide.util.NbBundle.Messages;
import org.openide.windows.TopComponent;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You now have set contracts between the modules in your application, giving you control over the dependencies between distinct pieces of code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_the_prototype"><a class="anchor" href="#_running_the_prototype"></a>Running the Prototype</h3>
<div class="paragraph">
<p>In this section, you run the application so that you can see that you&#8217;re correctly accessing your database.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Start your database server.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
Run the application. You should see this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_proto-2.png" alt="crud 72 proto 2">
</div>
</div>
<div class="paragraph">
<p>You now have a simple prototype, consisting of a NetBeans Platform application that displays data from your database, which you will extend in the next section.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_crud_functionality_read"><a class="anchor" href="#_integrating_crud_functionality_read"></a>Integrating CRUD Functionality: Read</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to create CRUD functionality that integrates smoothly with the NetBeans Platform, some very specific NetBeans Platform coding patterns need to be implemented. The sections that follow describe these patterns in detail.</p>
</div>
<div class="paragraph">
<p>In this section, you change the  <code>JTextArea</code> , introduced in the previous section, for a NetBeans Platform explorer view. NetBeans Platform explorer views are Swing components that integrate better with the NetBeans Platform than standard Swing components do. Among other things, they support the notion of a context, which enables them to be context sensitive.</p>
</div>
<div class="paragraph">
<p>Representing your data, you will have a generic hierarchical model provided by a NetBeans Platform  <code>Node</code>  class, which can be displayed by any of the NetBeans Platform explorer views. This section ends with an explanation of how to synchronize your explorer view with the NetBeans Platform Properties window.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In your  <code>TopComponent</code> , delete the  <code>JTextArea</code>  in the Design view and comment out its related code in the Source view:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntityManager entityManager =  Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
Query query = entityManager.createNamedQuery("Customer.findAll");
List&lt;Customer&gt; resultList = query.getResultList();
//for (Customer c : resultList) {
//    jTextArea1.append(c.getName() + " (" + c.getCity() + ")" + "\n");
//}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Right-click the  <code>CustomerViewer</code>  module, choose Properties, and use the Libraries tab to set dependencies on the Nodes API and the Explorer &amp; Property Sheet API.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Next, change the class signature to implement  <code>ExplorerManager.Provider</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">final class CustomerViewerTopComponent extends TopComponent implements ExplorerManager.Provider</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will need to override  <code>getExplorerManager()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public ExplorerManager getExplorerManager() {
    return em;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the top of the class, declare and initialize the  <code>ExplorerManager</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private static ExplorerManager em = new ExplorerManager();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Watch  <a href="../nbm-10-top-apis/" class="xref page">Top 10 NetBeans APIs</a> for details on the above code, especially the screencast dealing with the Nodes API and the Explorer &amp; Property Sheet API.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Switch to the  <code>TopComponent</code>  Design view, right-click in the Palette, choose Palette Manager | Add from JAR. Then browse to the  <code>org-openide-explorer.jar</code> , which is in  <code>platform/modules</code>  folder, within the NetBeans IDE installation directory. Choose the BeanTreeView and complete the wizard. You should now see  <code>BeanTreeView</code>  in the Palette. Drag it from the Palette and drop it on the window.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Create a factory class that will create a new  <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-modules-db/org/netbeans/api/db/explorer/node/BaseNode.html">BeanNode</a> for each customer in your database:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import demo.Customer;
import java.beans.IntrospectionException;
import java.util.List;
import org.openide.nodes.BeanNode;
import org.openide.nodes.ChildFactory;
import org.openide.nodes.Node;
import org.openide.util.Exceptions;

public class CustomerChildFactory extends ChildFactory&lt;Customer&gt; {

    private List&lt;Customer&gt; resultList;

    public CustomerChildFactory(List&lt;Customer&gt; resultList) {
        this.resultList = resultList;
    }

    @Override
    protected boolean createKeys(List&lt;Customer&gt; list) {
        for (Customer Customer : resultList) {
            list.add(Customer);
        }
        return true;
    }

    @Override
    protected Node createNodeForKey(Customer c) {
        try {
            return new BeanNode(c);
        } catch (IntrospectionException ex) {
            Exceptions.printStackTrace(ex);
            return null;
        }
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Back in the  <code>CustomerViewerTopComponent</code> , use the  <code>ExplorerManager</code>  to pass the result list from the JPA query in to the  <code>Node</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntityManager entityManager =  Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
Query query = entityManager.createNamedQuery("Customer.findAll");
List&lt;Customer&gt; resultList = query.getResultList();
<strong>em.setRootContext(new AbstractNode(Children.create(new CustomerChildFactory(resultList), true)));</strong>
//for (Customer c : resultList) {
//    jTextArea1.append(c.getName() + " (" + c.getCity() + ")" + "\n");
//}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Run the application. Once the application is running, open the Properties window. Notice that even though the data is available, displayed in a  <code>BeanTreeView</code> , the  <code>BeanTreeView</code>  is not synchronized with the Properties window, which is available via Window | Properties. In other words, nothing is displayed in the Properties window when you move up and down the tree hierarchy:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_result-2.png" alt="crud 72 result 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Synchronize the Properties window with the  <code>BeanTreeView</code>  by adding the following to the constructor in the  <code>TopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">associateLookup(ExplorerUtils.createLookup(em, getActionMap()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we add the  <code>TopComponent</code> 's  <code>ActionMap</code>  and  <code>ExplorerManager</code>  to the  <code>Lookup</code>  of the  <code>TopComponent</code> . A side effect of this is that the Properties window starts displaying the display name and tooltip text of the selected  <code>Node</code> . Run the application again and notice that the Properties window (available from the Window menu) is now synchronized with the explorer view:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_result-1.png" alt="crud 72 result 1">
</div>
</div>
<div class="paragraph">
<p>Now you are able to view your data in a tree hierarchy, as you would be able to do with a  <code>JTree</code> . However, you&#8217;re also able to swap in a different explorer view without needing to change the model at all because the  <code>ExplorerManager</code>  mediates between the model and the view. Finally, you are now also able to synchronize the view with the Properties window.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_crud_functionality_update"><a class="anchor" href="#_integrating_crud_functionality_update"></a>Integrating CRUD Functionality: Update</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you first create an editor. The editor will be provided by a new NetBeans module. So, you will first create a new module. Then, within that new module, you will create a new  <code>TopComponent</code> , containing two  <code>JTextFields</code> , for each of the columns you want to let the user edit. You will need to let the viewer module communicate with the editor module. Whenever a new  <code>Node</code>  is selected in the viewer module, you will add the current  <code>Customer</code>  object to the  <code>Lookup</code> . In the editor module, you will listen to the  <code>Lookup</code>  for the introduction of  <code>Customer</code>  objects. Whenever a new  <code>Customer</code>  object is introduced into the  <code>Lookup</code> , you will update the  <code>JTextFields</code>  in the editor.</p>
</div>
<div class="paragraph">
<p>Next, you will synchronize your  <code>JTextFields</code>  with the NetBeans Platform&#8217;s Undo, Redo, and Save functionality. In other words, when the user makes changes to a  <code>JTextField</code> , you want the NetBeans Platform&#8217;s existing functionality to become available so that, instead of needing to create new functionality, you&#8217;ll simply be able to hook into the NetBeans Platform&#8217;s support. To this end, you will need to use  <code>UndoRedoManager</code> , together with  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/spi/actions/AbstractSavable.html">AbstractSavable</a></code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Create a new module, named  <code>CustomerEditor</code> , with  <code>org.shop.editor</code>  as its code name base.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Right-click the  <code>CustomerEditor</code>  module and choose New | Window. Make sure to specify that the window should appear in the  <code>editor</code>  position and that it should open when the application starts. In the final panel of the wizard, set "CustomerEditor" as the class name prefix.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Use the Palette (Ctrl-Shift-8) to add two  <code>JLabels</code>  and two  <code>JTextFields</code>  to the new window. Set the texts of the labels to "Name" and "City" and set the variable names of the two  <code>JTextFields</code>  to  <code>nameField</code>  and  <code>cityField</code> . In the GUI Builder, the window should now look something like this:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_update-1.png" alt="crud 72 update 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the application and make sure that you see the following when the application starts up:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_update-2.png" alt="crud 72 update 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Now we can start adding some code. We need to do the following:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#show-customer">Show selected data in the editor</a></p>
</li>
<li>
<p><a href="#undo-customer">Enable the Undo/Redo actions for the editor</a></p>
</li>
<li>
<p><a href="#save-customer">Save changes in the editor</a></p>
</li>
<li>
<p><a href="#refresh-customer">Refresh the viewer</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_show_selected_data_in_the_editor"><a class="anchor" href="#_show_selected_data_in_the_editor"></a>Show Selected Data in the Editor</h3>
<div class="paragraph">
<p>In this section, you allow the user to show the currently selected Customer object in the editor.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Start by tweaking the  <code>CustomerViewer</code>  module so that the current  <code>Customer</code>  object is added to the viewer window&#8217;s  <code>Lookup</code>  whenever a new  <code>Node</code>  is selected. Do this by adding the current  <code>Customer</code>  object to the  <code>Lookup</code>  of the Node, as follows (note the parts in bold):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
protected Node createNodeForKey(Customer c) {
    try {
        return <strong>new CustomerBeanNode(c);</strong>
    } catch (IntrospectionException ex) {
        Exceptions.printStackTrace(ex);
        return null;
    }
}

<strong>private class CustomerBeanNode extends BeanNode {
    public CustomerBeanNode(Customer bean) throws IntrospectionException {
        super(bean, Children.LEAF, Lookups.singleton(bean));
    }
}</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, whenever a new  <code>Node</code>  is created, which happens when the user selects a new customer in the viewer, a new  <code>Customer</code>  object is added to the  <code>Lookup</code>  of the  <code>Node</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Let&#8217;s now change the editor module in such a way that its window will end up listening for  <code>Customer</code>  objects being added to the  <code>Lookup</code> . First, set a dependency in the editor module on the module that provides the entity class, as well as the module that provides the persistence JARs.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Next, change the  <code>CustomerEditorTopComponent</code>  class signature to implement  <code>LookupListener</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public final class CustomerEditorTopComponent extends TopComponent implements LookupListener</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Override the  <code>resultChanged</code>  so that the  <code>JTextFields</code>  are updated whenever a new  <code>Customer</code>  object is introduced into the  <code>Lookup</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void resultChanged(LookupEvent lookupEvent) {
    Lookup.Result r = (Lookup.Result) lookupEvent.getSource();
    Collection&lt;Customer&gt; coll = r.allInstances();
    if (!coll.isEmpty()) {
        for (Customer cust : coll) {
            nameField.setText(cust.getName());
            cityField.setText(cust.getCity());
        }
    } else {
        nameField.setText("[no name]");
        cityField.setText("[no city]");
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Now that the  <code>LookupListener</code>  is defined, we need to add it to something. Here, we add it to the  <code>Lookup.Result</code>  obtained from the global context. The global context proxies the context of the selected  <code>Node</code> . For example, if "Ford Motor Co" is selected in the tree hierarchy, the  <code>Customer</code>  object for "Ford Motor Co" is added to the  <code>Lookup</code>  of the  <code>Node</code>  which, because it is the currently selected  <code>Node</code> , means that the  <code>Customer</code>  object for "Ford Motor Co" is now available in the global context. That is what is then passed to the  <code>resultChanged</code> , causing the text fields to be populated.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>All of the above starts happening, i.e., the  <code>LookupListener</code>  becomes active, whenever the editor window is opened, as you can see below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void componentOpened() {
    result = Utilities.actionsGlobalContext().lookupResult(Customer.class);
    result.addLookupListener(this);
    resultChanged(new LookupEvent(result));
}

@Override
public void componentClosed() {
    result.removeLookupListener(this);
    result = null;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the editor window is opened when the application starts, the  <code>LookupListener</code>  is available at the time that the application starts up.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Finally, declare the result variable at the top of the class, like this:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private Lookup.Result result = null;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Run the application again and notice that the editor window is updated whenever you select a new  <code>Node</code> :</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_update-3.png" alt="crud 72 update 3">
</div>
</div>
<div class="paragraph">
<p>However, note what happens when you switch the focus to the editor window:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_update-4.png" alt="crud 72 update 4">
</div>
</div>
<div class="paragraph">
<p>Because the  <code>Node</code>  is no longer current, the  <code>Customer</code>  object is no longer in the global context. This is the case because, as pointed out above, the global context proxies the  <code>Lookup</code>  of the current  <code>Node</code> . Therefore, in this case, we cannot use the global context. Instead, we will use the local  <code>Lookup</code>  provided by the Customer window.</p>
</div>
<div class="paragraph">
<p>Rewrite this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">result = Utilities.actionsGlobalContext().lookupResult(Customer.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">result = WindowManager.getDefault().findTopComponent("CustomerViewerTopComponent").getLookup().lookupResult(Customer.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The string "CustomerViewerTopComponent" is the ID of the  <code>CustomerViewerTopComponent</code> , which is a string constant that you can find in the source code of the  <code>CustomerViewerTopComponent</code> .</p>
</div>
<div class="paragraph">
<p>One drawback of the approach above is that now our  <code>CustomerEditorTopComponent</code>  only works if it can find a  <code>TopComponent</code>  with the ID "CustomerViewerTopComponent". Either this needs to be explicitly documented, so that developers of alternative editors can know that they need to identify the viewer  <code>TopComponent</code>  this way, or you need to rewrite the selection model,  <a href="http://weblogs.java.net/blog/timboudreau/archive/2007/01/how_to_replace.html">as described here</a> by Tim Boudreau.</p>
</div>
</div>
<div class="sect2">
<h3 id="_enable_the_undoredo_actions_for_the_editor"><a class="anchor" href="#_enable_the_undoredo_actions_for_the_editor"></a>Enable the Undo/Redo Actions for the Editor</h3>
<div class="paragraph">
<p>What we&#8217;d like to have happen is that whenever the user makes a change to one of the  <code>JTextFields</code> , the "Undo" button and the "Redo" button, as well as the related menu items in the Edit menu, should become enabled. To that end, the NetBeans Platform makes the  <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/UndoRedo.Manager.html">UndoRedo.Manager</a> available, which is based on the Swing  <a href="http://docs.oracle.com/javase/6/docs/api/javax/swing/undo/UndoManager.html?is-external=true">javax.swing.undo.UndoManager</a> class.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Declare and instantiate a new  <code>UndoRedoManager</code>  at the top of the  <code>CustomerEditorTopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private UndoRedo.Manager manager = new UndoRedo.Manager();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Next, override the  <code>getUndoRedo()</code>  method in the  <code>CustomerEditorTopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public UndoRedo getUndoRedo() {
    return manager;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the constructor of the  <code>CustomerEditorTopComponent</code> , add a  <code>KeyListener</code>  to the  <code>JTextFields</code>  and, within the related methods that you need to implement, add the  <code>UndoRedoListeners</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">nameField.getDocument().addUndoableEditListener(manager);
cityField.getDocument().addUndoableEditListener(manager);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the application and try out the Undo and Redo features, the buttons as well as the menu items. The functionality works exactly as you would expect:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_72_update-5.png" alt="crud 72 update 5">
</div>
</div>
<div class="paragraph">
<p>You might want to change the  <code>KeyListener</code>  so that not ALL keys cause the undo/redo functionality to be enabled. For example, when Enter is pressed, you probably do not want the undo/redo functionality to become available. Therefore, tweak the code above to suit your business requirements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_save_changes_in_the_editor"><a class="anchor" href="#_save_changes_in_the_editor"></a>Save Changes in the Editor</h3>
<div class="paragraph">
<p>We need to integrate with the NetBeans Platform&#8217;s Save functionality:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Set dependencies on the Dialogs API, which provides standard dialogs, one of which we will use in this section.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the  <code>CustomerEditorTopComponent</code>  constructor, add a call to fire a method (which will be defined in the next step) whenever a key is released in either of the two text fields, since a key release event indicates that something has changed:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">nameField.addKeyListener(new KeyAdapter() {
    @Override
    public void keyReleased(KeyEvent e) {
        modify();
    }
});
cityField.addKeyListener(new KeyAdapter() {

    @Override
    public void keyReleased(KeyEvent e) {
        modify();
    }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You might also want to check whether the text in the text field has actually changed, prior to calling the modify() method.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Here is the method and inner class referred to above. First, the method that is fired whenever a change is detected. Then, a  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/spi/actions/AbstractSavable.html">AbstractSavable</a></code>  is dynamically added to the  <code>InstanceContent</code>  whenever a change is detected:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private void modify() {
    if (getLookup().lookup(MySavable.class) == null) {
        instanceContent.add(new MySavable());
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use the above code snippet, you need to set up a dynamic Lookup, as described in the  <a href="../nbm-quick-start/" class="xref page">NetBeans Platform Quick Start</a>. Since the NetBeans Platform Quick Start is a prerequisite for following this tutorial, no time will be spent explaining dynamic Lookups here. If you do not know how to use  <code>InstanceContent</code>  or if the term "dynamic Lookup" means nothing to you, please stop working on this tutorial and work through the NetBeans Platform Quick Start instead.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Finally, we need to create an  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/spi/actions/AbstractSavable.html">AbstractSavable</a></code> , which is the default implementation of the  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/api/actions/Savable.html">Savable</a></code>  interface.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>By publishing an  <code>AbstractSavable</code>  into the  <code>Lookup</code>  of a  <code>TopComponent</code> , the Save actions will become enabled when the  <code>TopComponent</code>  is selected.</p>
</div>
<div class="paragraph">
<p>In addition, and automatically, the  <code>AbstractSavable</code>  is registered into a second  <code>Lookup</code> , which is the global  <code>Lookup</code>  for  <code>Savable</code> s.</p>
</div>
<div class="paragraph">
<p>When the  <code>handleSave</code>  method is invoked, the  <code>Savable</code>  is unregistered from both these  <code>Lookup</code> s. If the application closes down and the  <code>Savable</code>  has not been unregistered from the global  <code>Lookup</code>  for  <code>Savable</code> s, a small Exit dialog will be shown, prompting the user to invoke the Save action. Below, the  <code>findDisplayName</code>  and icon-related methods define the content of the Exit dialog.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All the code below is an inner class within  <code>CustomerEditorTopComponent</code> .
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private static final Icon ICON = ImageUtilities.loadImageIcon("org/shop/editor/Icon.png", true);

private class MySavable extends  <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/spi/actions/AbstractSavable.html">AbstractSavable</a> implements Icon {

    MySavable() {
        register();
    }

    @Override
    protected String findDisplayName() {
        String name = nameField.getText();
        String city = cityField.getText();
        return name + " from " + city;
    }

    @Override
    protected void handleSave() throws IOException {
        Confirmation message = new NotifyDescriptor.Confirmation("Do you want to save \""
                + nameField.getText() + " (" + cityField.getText() + ")\"?",
                NotifyDescriptor.OK_CANCEL_OPTION,
                NotifyDescriptor.QUESTION_MESSAGE);
        Object result = DialogDisplayer.getDefault().notify(message);
        //When user clicks "Yes", indicating they really want to save,
        //we need to disable the Save action,
        //so that it will only be usable when the next change is made
        //to the JTextArea:
        if (NotifyDescriptor.YES_OPTION.equals(result)) {
            //Handle the save here...
            tc().instanceContent.remove(this);
            unregister();
        }
    }

    CustomerEditorTopComponent tc() {
        return CustomerEditorTopComponent.this;
    }

    @Override
    public boolean equals(Object obj) {
        if (obj instanceof MySavable) {
            MySavable m = (MySavable) obj;
            return tc() == m.tc();
        }
        return false;
    }

    @Override
    public int hashCode() {
        return tc().hashCode();
    }

    @Override
    public void paintIcon(Component c, Graphics g, int x, int y) {
        ICON.paintIcon(c, g, x, y);
    }

    @Override
    public int getIconWidth() {
        return ICON.getIconWidth();
    }

    @Override
    public int getIconHeight() {
        return ICON.getIconHeight();
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Run the application and notice the enablement/disablement of the Save buttons and menu items:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_70_dbmanager-99c.png" alt="crud 70 dbmanager 99c">
</div>
</div>
<div class="paragraph">
<p>Right now, nothing happens when you click OK in the "Question" dialog above. In the next step, we add some JPA code for handling persistence of our changes.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Next, we add JPA code for persisting our change. Do so by replacing the comment "//Implement your save functionality here." The comment should be replaced by all of the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntityManager entityManager = Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
entityManager.getTransaction().begin();
Customer c = entityManager.find(Customer.class, customer.getCustomerId());
c.setName(nameField.getText());
c.setCity(cityField.getText());
entityManager.getTransaction().commit();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The "customer" in  <code>customer.getCustomerId()()</code>  is currently undefined. Add the line in bold in the  <code>resultChanged</code>  below, after declaring  <code>Customer customer;</code>  at the top of the class, so that the current  <code>Customer</code>  object sets the  <code>customer</code> , which is then used in the persistence code above to obtain the ID of the current  <code>Customer</code>  object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void resultChanged(LookupEvent lookupEvent) {
    Lookup.Result r = (Lookup.Result) lookupEvent.getSource();
    Collection&lt;Customer&gt; c = r.allInstances();
    if (!c.isEmpty()) {
        for (Customer customer : c) {
            *customer = cust;*
            nameField.setText(customer.getName());
            cityField.setText(customer.getCity());
        }
    } else {
        nameField.setText("[no name]");
        cityField.setText("[no city]");
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Run the application and change some data. Currently, we have no "Refresh" functionality (that will be added in the next step) so, to see the changed data, restart the application.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_refresh_the_viewer"><a class="anchor" href="#_refresh_the_viewer"></a>Refresh the Viewer</h3>
<div class="paragraph">
<p>Next, we need to add functionality for refreshing the Customer viewer. You might want to add a  <code>Timer</code>  which periodically refreshes the viewer. However, in this example, we will add a "Refresh" menu item to the Root node so that the user will be able to manually refresh the viewer.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the main package of the  <code>CustomerViewer</code>  module, create a new  <code>Node</code> , which will replace the  <code>AbstractNode</code>  that we are currently using as the root of the children in the viewer. Note that we also bind all actions in the "Actions/Customer" folder to the context menu of our new root node.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.util.List;
import javax.swing.Action;
import org.openide.nodes.AbstractNode;
import org.openide.nodes.Children;
import org.openide.util.NbBundle.Messages;
import org.openide.util.Utilities;
import static org.shop.viewer.Bundle.*;

public class CustomerRootNode extends AbstractNode {

    @Messages("CTRL_RootName=Root")
    public CustomerRootNode(Children kids) {
        super(kids);
        setDisplayName(CTRL_RootName());
    }

    @Override
    public Action[] getActions(boolean context) {
        List&lt;? extends Action&gt; actionsForCustomer = Utilities.actionsForPath("Actions/Customer");
        return actionsForCustomer.toArray(new Action[actionsForCustomer.size()]);
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Then create a new Java class and register a refresh Action in the "Actions/Customer" folder, which means it will appear in the context menu of the root node that you created above:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import org.openide.awt.ActionID;
import org.openide.awt.ActionRegistration;
import org.openide.util.NbBundle.Messages;

@ActionID(id="org.shop.viewer.CustomerRootRefreshActionListener", category="Customer")
@ActionRegistration(displayName="#CTL_CustomerRootRefreshActionListener")
@Messages("CTL_CustomerRootRefreshActionListener=Refresh")
public class CustomerRootRefreshActionListener implements ActionListener {

    @Override
    public void actionPerformed(ActionEvent e) {
        CustomerViewerTopComponent.refreshNode();
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Add this method to the  <code>CustomerViewerTopComponent</code> , for refreshing the view:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static void refreshNode() {
    EntityManager entityManager = Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
    Query query = entityManager.createNamedQuery("Customer.findAll");
    List&lt;Customer&gt; resultList = query.getResultList();
    em.setRootContext(new *CustomerRootNode*(Children.create(new CustomerChildFactory(resultList), true)));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now replace the code above in the constructor of the  <code>CustomerViewerTopComponent</code>  with a call to the above. As you can see in the highlighted part above, we are now using our  <code>CustomerRootNode</code>  instead of the  <code>AbstractNode</code> . The  <code>CustomerRootNode</code>  includes the "Refresh" action, which calls the code above.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the application again and notice that you have a new root node, with a "Refresh" action:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_70_dbmanager-99d.png" alt="crud 70 dbmanager 99d">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Make a change to some data, save it, invoke the Refresh action, and notice that the viewer is updated.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>As an optional exercise, refresh the node hierarchy when the Save action is invoked. To do so, in your Save functionality, which is in the CustomerEditor module, add the call to the "refreshNode()" method so that, whenever data is saved, an automatic refresh takes place. You can take different approaches when implementing this extension to the save functionality. For example, you might want to create a new module that contains the refresh action, which would also need to contain the node hierarchy, since you need access to the ExplorerManager there. That module would then be shared between the viewer module and the editor module, providing functionality that is common to both.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/tutorials/crud_71_db-manager-96.png" alt="crud 71 db manager 96">
</div>
</div>
<div class="paragraph">
<p>You have now learned how to let the NetBeans Platform handle changes to the  <code>JTextFields</code> . Whenever the text changes, the NetBeans Platform Undo and Redo buttons are enabled or disabled. Also, the Save button is enabled and disabled correctly, letting the user save changed data back to the database.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_crud_functionality_create"><a class="anchor" href="#_integrating_crud_functionality_create"></a>Integrating CRUD Functionality: Create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you allow the user to create a new entry in the database.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the  <code>CustomerEditor</code>  module create a new Java class named "CustomerNewActionListener". Let the  <code>TopComponent</code>  be opened via this Action, together with emptied  <code>JTextFields</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import org.openide.awt.ActionID;
import org.openide.awt.ActionRegistration;
import org.openide.util.NbBundle.Messages;
import org.openide.windows.WindowManager;

@ActionID(id="org.shop.editor.CustomerNewActionListener", category="File")
@ActionRegistration(displayName="#CTL_CustomerNewActionListener")
@ActionReference(path="Menu/File", position=10)
@Messages("CTL_CustomerNewActionListener=New")
public final class CustomerNewActionListener implements ActionListener {

    @Override
    public void actionPerformed(ActionEvent e) {
        CustomerEditorTopComponent tc = (CustomerEditorTopComponent) WindowManager.getDefault().findTopComponent("CustomerViewerTopComponent");
        tc.resetFields();
        tc.open();
        tc.requestActive();
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the  <code>CustomerEditorTopComponent</code> , add the following method for resetting the  <code>JTextFields</code>  and creating a new  <code>Customer</code>  object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void resetFields() {
    customer = new Customer();
    nameField.setText("");
    cityField.setText("");
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-openide-awt/org/netbeans/spi/actions/AbstractSavable.html">AbstractSavable</a></code> , ensure that a return of  <code>null</code>  indicates that a new entry is saved, instead of an existing entry being updated:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void handleSave() throws IOException {

    Confirmation message = new NotifyDescriptor.Confirmation("Do you want to save \""
                    + nameField.getText() + " (" + cityField.getText() + ")\"?",
                    NotifyDescriptor.OK_CANCEL_OPTION,
                    NotifyDescriptor.QUESTION_MESSAGE);

    Object result = DialogDisplayer.getDefault().notify(msg);

    //When user clicks "Yes", indicating they really want to save,
    //we need to disable the Save button and Save menu item,
    //so that it will only be usable when the next change is made
    //to the text field:
    if (NotifyDescriptor.YES_OPTION.equals(result)) {
        tc().instanceContent.remove(this);
        unregister();
        EntityManager entityManager = Persistence.createEntityManagerFactory("CustomerLibraryPU").createEntityManager();
        entityManager.getTransaction().begin();
        <strong>if (customer.getCustomerId() != null)</strong> {
            Customer c = entityManager.find(Customer.class, customer.getCustomerId());
            c.setName(nameField.getText());
            c.setCity(cityField.getText());
            entityManager.getTransaction().commit();
        } else {
            <strong>Query query = entityManager.createNamedQuery("Customer.findAll");
            List&lt;Customer&gt; resultList = query.getResultList();
            customer.setCustomerId(resultList.size()+1);
            customer.setName(nameField.getText());
            customer.setCity(cityField.getText());
            //add more fields that will populate all the other columns in the table!
            entityManager.persist(customer);
            entityManager.getTransaction().commit();</strong>
        }
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Run the application again and add a new customer to the database.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_crud_functionality_delete"><a class="anchor" href="#_integrating_crud_functionality_delete"></a>Integrating CRUD Functionality: Delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, let the user delete a selected entry in the database. Using the concepts and code outlined above, implement the Delete action yourself.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Create a new action,  <code>DeleteAction</code> . Decide whether you want to bind it to a Customer node or whether you&#8217;d rather bind it to the toolbar, the menu bar, keyboard shortcut, or combinations of these. Depending on where you want to bind it, you will need to use a different approach in your code. Read the tutorial again for help, especially by looking at how the "New" action was created, while comparing it to the "Refresh" action on the root node.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Get the current  <code>Customer</code>  object, return an 'Are you sure?' dialog, and then delete the entry. For help on this point, read the tutorial again, focusing on the part where the "Save" functionality is implemented. Instead of saving, you now want to delete an entry from the database.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_reading"><a class="anchor" href="#_further_reading"></a>Further Reading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This concludes the NetBeans Platform CRUD Tutorial. This document has described how to create a new NetBeans Platform application with CRUD functionality for a given database.</p>
</div>
<div class="paragraph">
<p>A problem with the design of the application you created in this tutorial is that the data access code is embedded within the user interface. For example, the calls to the <code>EntityManager</code> for persisting changes are found within the <code>TopComponent</code>. To work towards an architecture that enables a clean separation between data access code and the user interface, see this series of articles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://netbeans.dzone.com/loosely-coupled-reloadable-capabilities">Loosely Coupled Reloadable Capabilities for CRUD Applications</a></p>
</li>
<li>
<p><a href="http://netbeans.dzone.com/loosely-coupled-saveable-capabilities">Loosely Coupled Saveable Capabilities for CRUD Applications</a></p>
</li>
<li>
<p><a href="http://netbeans.dzone.com/loosely-coupled-creatable-capabilities">Loosely Coupled Creatable Capabilities for CRUD Applications</a></p>
</li>
<li>
<p><a href="http://netbeans.dzone.com/loosely-coupled-deletable-capabilities">Loosely Coupled Deletable Capabilities for CRUD Applications</a></p>
</li>
<li>
<p><a href="http://netbeans.dzone.com/loosely-coupled-data-layers">Loosely Coupled Data Layers for CRUD Applications</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on embedding a database in a NetBeans Platform application, see <a href="../../../../front/main/blogs/geertjan/embedded_database_for_netbeans_platform/" class="xref page">Embedded Database for NetBeans Platform CRUD Tutorial </a>.</p>
</div>
<div class="paragraph">
<p>For more information about creating and developing applications, see the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../kb/docs/platform/" class="xref page">NetBeans Platform Learning Trail</a></p>
</li>
<li>
<p><a href="https://bits.netbeans.org/dev/javadoc/">NetBeans API Javadoc</a>
<a href="../../../../front/main/community/mailing-lists/" class="xref page">Send Us Your Feedback</a></p>
</li>
</ul>
</div>
</div>
</div>
        <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/tutorials/nbm-crud.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
    <script src="../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
