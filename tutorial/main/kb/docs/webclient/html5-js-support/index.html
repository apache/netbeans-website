<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Debugging and Testing JavaScript in an HTML5 Application</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Debugging and Testing JavaScript in an HTML5 Application - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Debugging and Testing JavaScript in an HTML5 Application">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../../index.html"><img src='../../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="../../../../../../front/main/download/nb19">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <article class="doc">
      <h1 class="sect0">Debugging and Testing JavaScript in an HTML5 Application</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/webclient/html5-js-support.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_to_complete_this_tutorial_you_will_need_the_following_resources">To complete this tutorial, you will need the following resources.</a></li>
<li><a href="#_creating_the_html5_sample_application">Creating the HTML5 Sample Application</a></li>
<li><a href="#_using_the_javascript_debugger">Using the JavaScript Debugger</a></li>
<li><a href="#_running_js_unit_tests">Running JS Unit Tests</a>
<ul class="sectlevel2">
<li><a href="#_how_to_run_tests_with_karma">How to Run Tests with Karma</a></li>
<li><a href="#_how_to_run_test_with_js_test_driver">How to Run Test with JS Test Driver</a></li>
</ul>
</li>
<li><a href="#_debugging_a_js_unit_test_with_js_test_driver">Debugging a JS Unit Test with JS Test Driver</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#seealso">See Also</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>HTML5 applications typically combine HTML, CSS and JavaScript to create applications that are run in a browser and that are displayed on a variety of devices, including smartphones, tablets and laptops. This document demonstrates how the IDE provides tools that can help you debug and test JavaScript files in the IDE.</p>
</div>
<div class="paragraph">
<p>When you want to debug the JavaScript files in your HTML5 application it is recommended that you install the NetBeans Connector extension for the Chrome browser. Debugging is enabled automatically when you run the application in the browser and the extension is installed.</p>
</div>
<div class="paragraph">
<p>The IDE also enables you to easily configure and run unit tests on JavaScript files using the Jasmine testing framework and the Karma or the JS Test Driver test runners. You can configure the test runner to run unit tests against a variety of browsers and you can quickly specify the JavaScript libraries, scripts and tests that you want the IDE to load when running the tests. When a test fails you can use the debugger to help you locate the problematic code.</p>
</div>
<div class="paragraph">
<p>For details on how to install the NetBeans Connector extension for the Chrome browser, see the tutorial <a href="../html5-gettingstarted/" class="xref page">Getting Started with HTML5 Applications</a>.</p>
</div>
<div class="paragraph">
<p>For more information on the JavaScript editing features in the IDE, see <a href="http://docs.oracle.com/cd/E50453_01/doc.80/e50452/dev_html_apps.htm#BACFIFIG">Creating JavaScript Files</a> in the <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG">Developing Applications with NetBeans IDE User's Guide</a>.</p>
</div>
<div class="paragraph">
<p>To watch a screencast of this tutorial, see <a href="../../web/html5-javascript-screencast/" class="xref page">Video of Testing and Debugging JavaScript in HTML5 Applications</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_to_complete_this_tutorial_you_will_need_the_following_resources"><a class="anchor" href="#_to_complete_this_tutorial_you_will_need_the_following_resources"></a>To complete this tutorial, you will need the following resources.</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software or Resource</th>
<th class="tableblock halign-left valign-top">Version Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../../../../../front/main/download/" class="xref page">NetBeans IDE, Java</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7 or 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.google.com/chrome">Chrome Browser</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8201;&#8212;&#8201;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://chrome.google.com/webstore/detail/netbeans-connector/hafdlehgocfcodbgjnpecfajgkeejnaa?utm_source=chrome-ntp-icon">NetBeans Connector Extension for Chrome</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://code.google.com/p/js-test-driver/">JS Test Driver JAR</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8201;&#8212;&#8201;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>This document uses JS Test Driver server to run the JavaScript unit tests. You might want to familiarize yourself with the properties of the server at the <a href="http://code.google.com/p/js-test-driver/">JS Test Driver project home</a>.</p>
</li>
<li>
<p>This document assumes you have some basic knowledge of, or programming experience with HTML, CSS, and JavaScript.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_html5_sample_application"><a class="anchor" href="#_creating_the_html5_sample_application"></a>Creating the HTML5 Sample Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Perform the following steps to create the HTML5 sample application from a site template.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose File &gt; New Project (Ctrl-Shift-N; âŒ˜-Shift-N on Mac) in the main menu to open the New Project wizard.</p>
</li>
<li>
<p>Expand the <strong>Samples</strong> node in the New Project wizard and select the <strong>HTML5</strong> category.</p>
</li>
<li>
<p>Select the <strong>AngularJS Phone Catalog Tutorial</strong> project. Click Next.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-newproject.png" alt="html5 js newproject">
</div>
<div class="title">Figure 1. AngularJS Phone Catalog Tutorial sample project in New File wizard</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Specify a location for the project. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note.</strong> Note that the URL of the template is github. The IDE needs to be able to access the network to retrieve the template archive. Check your proxy settings in the Options window if you encounter problems downloading the archive.</p>
</div>
<div class="paragraph">
<p>When you click Finish the IDE creates the project and opens the  <code>index.html</code>  file in the editor. In the Projects window you can see that the project contains  <code>index.html</code>  and various CSS style sheets and JavaScript files and libraries.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-projectswindow.png" alt="html5 js projectswindow">
</div>
<div class="title">Figure 2. AngularJS Phone Catalog Tutorial project nodes in Projects window</div>
</div>
<div class="paragraph">
<p>The project also includes several JavaScript unit test and configuration files that were generated by default.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Confirm that Chrome with NetBeans Connector is selected in the dropdown list in the toolbar.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-selectbrowser.png" alt="html5 js selectbrowser">
</div>
<div class="title">Figure 3. Browser selected in dropdown list in toolbar</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Click the Run button in the toolbar (F6) or right-click the project node in the Projects window and choose Run.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you Run the project the front page of the HTML5 application opens in the Chrome browser and you can see a list of mobile phones. When you click the name of a mobile phone the page displays the phone details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-runproject1.png" alt="html5 js runproject1">
</div>
<div class="title">Figure 4. AngularJS Phone Catalog Tutorial application in the browser window</div>
</div>
<div class="paragraph">
<p>You will notice that there is a yellow bar in the browser tab that notifies you that the NetBeans Connector is debugging the tab. The IDE and the browser are connected and are able to communicate with each other when the yellow bar is visible. When you launch an HTML5 application from the IDE the JavaScript debugger is automatically enabled. When you save changes to a file or make changes to a CSS style sheet you do not need to reload the page because the browser window is automatically updated to display the changes.</p>
</div>
<div class="paragraph">
<p>If you close the yellow bar or click Cancel you will break the connection between the IDE and the browser. If you break the connection you will need to run the HTML5 application from the IDE again to use JavaScript debugger.</p>
</div>
<div class="paragraph">
<p>You will also notice that the NetBeans icon is visible in the URL location field of the browser. You can click the icon to open a menu that provides various options for changing the display size of the browser and for enabling the Inspect in NetBeans mode.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_javascript_debugger"><a class="anchor" href="#_using_the_javascript_debugger"></a>Using the JavaScript Debugger</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this exercise you will place a breakpoint in a JavaScript file and run the application. You can use the tooltip in the editor to quickly see the values of variables.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expand the  <code>js</code>  node in the Projects window and double-click  <code>controllers.js</code>  to open the file in the editor.</p>
</li>
<li>
<p>Place a line breakpoint on line 16 in  <code>controllers.js</code>  by clicking in the left margin.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-breakpoint1.png" alt="html5 js breakpoint1">
</div>
<div class="title">Figure 5. Breakpoint set in editor</div>
</div>
<div class="paragraph">
<p>You can view the breakpoints that are set in the project by choosing Window &gt; Debugging &gt; Breakpoints to open the Breakpoints window.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-breakpoint2.png" alt="html5 js breakpoint2">
</div>
<div class="title">Figure 6. List of breakpoints in Breakpoints window</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click the Run button in the toolbar to run the project again.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you run the project you will see the same page because the breakpoint that you set was not hit.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>In the browser, click one of the entries in the page, for example, Motorola Atrix4G.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You will see that the page is partially loaded but that the data for the phone is missing because the data has not been passed to the JavaScript and rendered.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-break-details.png" alt="html5 js break details">
</div>
<div class="title">Figure 7. Details page of the application is partially loaded in the browser</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>In the editor in the IDE you can see that the breakpoint was hit and that the Program Counter is currently in line 16 of  <code>controllers.js</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Hover your cursor over the  <code>phone</code>  variable to view a tooltip with information about the variable.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-variables1.png" alt="html5 js variables1">
</div>
<div class="title">Figure 8. Variables tooltip in editor</div>
</div>
<div class="paragraph">
<p>In the tooltip you can see the following information:  <code>phone = (Resource) Resource</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Click the tooltip to expand the tooltip and view a list of the variables and values.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-variables.png" alt="html5 js variables">
</div>
<div class="title">Figure 9. Expanded variables tooltip in editor</div>
</div>
<div class="paragraph">
<p>For example, when you expand the  <code>android</code>  node you can see the values of the strings  <code>os</code>  and  <code>ui</code> .</p>
</div>
<div class="paragraph">
<p>You can also choose Window &gt; Debugging &gt; Variables to view the list in the Variables window.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Use the step buttons in the toolbar to step through the JavaScript functions in the  <code>angular.js</code>  library or click the Continue button (F5) to resume the application.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_js_unit_tests"><a class="anchor" href="#_running_js_unit_tests"></a>Running JS Unit Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can easily configure the IDE to use the Karma or JS Test Driver test runners to run your unit tests. Karma and JS Test Driver are test runners that provide a URL that is the target for running JavaScript unit tests.</p>
</div>
<div class="paragraph">
<p>In this tutorial you will use Karma to run the JavaScript unit tests that are included with the sample project. The sample project already includes a Karma configuration file. When you run your tests the test runner server starts and waits to run the tests. Your browser opens and displays a status message in the window that confirms that the server is running and waiting.</p>
</div>
<div class="sect2">
<h3 id="_how_to_run_tests_with_karma"><a class="anchor" href="#_how_to_run_tests_with_karma"></a>How to Run Tests with Karma</h3>
<div class="paragraph">
<p>To run tests with Karma you first need to download Karma to you local file system. After you install Karma you need to create a Karma configuration file and then specify the location of the installation and configuration file in the Project Properties window.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install Karma.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can choose how and where you want to install Karma. You will specify the installation later when you configure the project to use Karma. You can find information about the options for installing Karma on the <a href="http://karma-runner.github.io">Karma website</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Create a Karma configuration file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In this tutorial this step is optional because the sample application already includes a Karma configuration file. You can create a skeleton Karma configuration file by selecting Karma Configuration File in the Unit Tests category of the New File wizard.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-new-config.png" alt="karma new config">
</div>
<div class="title">Figure 10. New Karma Configuration File in the New File wizard</div>
</div>
<div class="paragraph">
<p>Alternatively, you can run the Karma  <code>init</code>  command on the command line. See the Karma documentation for more details on using the Karma  <code>init</code>  command.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Expand the Configuration Files node in the Projects window and double-click  <code>karma.conf.js</code>  to open the file in the editor. Note that the sample includes two Karma configuration files.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the Karma configuration file you can see the files that will be included and excluded when you run the tests. You can also see the Karma plugins that are required to run the tests with this configuration.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-plugins.png" alt="karma plugins">
</div>
<div class="title">Figure 11. Karma configuration file in the editor</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Right-click the project node in the Projects window and choose Properties in the popup menu.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Select JavaScript Testing category in the Categories pane of the Project Properties window.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Select Karma in the Testing Provider drop-down list. Click OK.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Open the Project Properties window again and select Karma under the JavaScript Testing category in the Categories pane.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Specify the location of your Karma installation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you installed Karma in your project directory you can click Search and the IDE will find the installation. You can also click Browse to manually locate your local Karma installation.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Specify the location of your Karma configuration file. Click OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In this tutorial you can click Search and the IDE will find the default Karma configuration file. You can also click Browse to manually locate a configuration file.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-properties-window.png" alt="karma properties window">
</div>
<div class="title">Figure 12. Karma category in Project Properties window</div>
</div>
<div class="paragraph">
<p>When you click OK you can see that a Karma node appears under the project node in the Projects window. You right-click the Karma node and start and stop the Karma server and set the configuration file in the popup menu.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Right-click the Karma node in the Projects window and choose Start in the popup menu.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you click Start the Karma server starts and a browser window opens that displays the status of the server.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-chrome.png" alt="karma chrome">
</div>
<div class="title">Figure 13. Karma server status in the Chrome browser window</div>
</div>
<div class="paragraph">
<p>In the Output window you can see the status of the server. You are also prompted to install any missing plugins.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-output1.png" alt="karma output1">
</div>
<div class="title">Figure 14. Configure jsTest Driver node in Services window</div>
</div>
<div class="paragraph">
<p><strong>Note.</strong> The browser window must be open and the Karma server must be running to run the unit tests.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Right-click the Karma node and choose Set Configuration &gt;  <code>karma.conf.js</code>  to confirm that the correct configuration file is selected. images:./karma-node.png[title="Configure jsTest Driver node in Services window"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>Disable any breakpoints that you set in the project.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can disable the breakpoints by deselecting the checkbox for the breakpoints in the Breakpoints window.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Right-click the project node in the Projects window and choose Test.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you choose Test the test runner runs the unit tests on the files. The IDE opens the Test Results window and displays the results of the test.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/karma-test-results.png" alt="karma test results">
</div>
<div class="title">Figure 15. Karma test results</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_run_test_with_js_test_driver"><a class="anchor" href="#_how_to_run_test_with_js_test_driver"></a>How to Run Test with JS Test Driver</h3>
<div class="paragraph">
<p>If you want to use JS Test Driver, the IDE provides a configuration dialog for JS Test Driver that you can open from the JS Test Driver node in the Services. The configuration dialog enables you to easily specify the location of the JS Test Driver server JAR and the browsers that you want to run tests against. The JS Test Driver node enables you to quickly see if the server is running and to start and stop the server.</p>
</div>
<div class="paragraph">
<p>For more details on configuring the JS Test Driver server, see the <a href="http://code.google.com/p/js-test-driver/wiki/GettingStarted">Getting Started with JsTestDriver</a> documentation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the <a href="http://code.google.com/p/js-test-driver/">JS Test Driver JAR</a> and save the JAR to your local system.</p>
</li>
<li>
<p>In the Services window, right-click the JS Test Driver node and choose Configure.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-serviceswindow.png" alt="html5 js testdriver serviceswindow">
</div>
<div class="title">Figure 16. Configure jsTest Driver node in Services window</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Configure dialog box, click Browse and locate the JS Test Driver JAR that you downloaded.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Select the Chrome with NetBeans Connector (in NetBeans IDE 7.3, select Chrome with NetBeans JS Debugger) for the browser. Click OK.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-configure.png" alt="html5 js testdriver configure">
</div>
<div class="title">Figure 17. Configure jsTest Driver dialog box</div>
</div>
<div class="paragraph">
<p><strong>Notes.</strong> You only need to specify the location of the JS Test Driver JAR the first time that you configure the JS Test Driver.</p>
</div>
<div class="paragraph">
<p>The list of browsers that can be captured and used for testing is based on the browsers that are installed on your system. You can select multiple browsers as slave browsers, but to run the tests a window that can be a slave for the server must be open for each browser. The selected browsers will be captured automatically when you start the server from the IDE.</p>
</div>
<div class="paragraph">
<p>When you select Chrome with NetBeans Connector you can debug your tests that are run with JS Test Driver.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Right-click the project node in the Projects window and choose New &gt; Other.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Select the <strong>jsTestDriver Configuration File</strong> in the Unit Tests category. Click Next.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Confirm that <strong>jsTestDriver</strong> is the File Name.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>In the Created File field, confirm that the location for the file is the  <code>config</code>  folder of the project ( <code>AngularJSPhoneCat/config/jsTestDriver.conf</code> ).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note.</strong> The  <code>jsTestDriver.conf</code>  configuration file must be in the  <code>config</code>  folder of the project. If the location for the created file is not the  <code>config</code>  folder, click Browse and select  <code>AngularJSPhoneCat - Configuration Files</code>  folder in the dialog box.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Confirm that the checkbox for downloading the Jasmine libraries is selected. Click Finish.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-configfile.png" alt="html5 js testdriver configfile">
</div>
<div class="title">Figure 18. New jsTestDriver Configuration File wizard</div>
</div>
<div class="paragraph">
<p>*Note.*You need to download the Jasmine libraries to run jsTestDriver. If you are notified that the IDE is unable to download the Jasmine libraries, check the proxy settings of the IDE in the Options window.</p>
</div>
<div class="paragraph">
<p>When you click Finish the IDE generates a skeleton  <code>jsTestDriver.conf</code>  configuration file and opens the file in the editor. In the Projects window you can see that the configuration file is created under the Configuration Files node. If you expand the  <code>lib</code>  folder under the Unit Tests node you can see that the Jasmine libraries were added to the project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-projectswindow.png" alt="html5 js testdriver projectswindow">
</div>
<div class="title">Figure 19. Unit Tests folder in the Projects window</div>
</div>
<div class="paragraph">
<p>In the editor you can see the following contents of the configuration file that are generated by default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">server: http://localhost:42442

load:
  - test/lib/jasmine/jasmine.js
  - test/lib/jasmine-jstd-adapter/JasmineAdapter.js
  - test/unit/*.js

exclude:</code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration file specifies the default location of the local server that is used to run the tests. The file also lists the files that must be loaded. By default the list includes the Jasmine libraries and any JavaScript files that are in the  <code>unit</code>  folder. Tests are usually located in the  <code>unit</code>  folder but you can modify the list to specify the locations of other files that need to be loaded to run the tests. To run the unit tests you also need to add the location of the JavaScript files that you want to test and the Angular JavaScript libraries to the list of files that are loaded.</p>
</div>
<div class="paragraph">
<p>For this tutorial, if you want to run the tests using JS Test Driver you will want to add the following files (in bold) to the list of files that are loaded.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">load:
    - test/lib/jasmine/jasmine.js
    - test/lib/jasmine-jstd-adapter/JasmineAdapter.js
*
    - app/lib/angular/angular.js
    - app/lib/angular/angular-mocks.js
    - app/lib/angular/angular-route.js
    - app/lib/angular/angular-animate.js
    - app/lib/angular/angular-resource.js
    - app/js/*.js
*
    - test/unit/*.js</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>After you update the configuration file you can right-click the project node in the Projects window and choose Test.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you click Test the IDE automatically opens the JS Test runner in the Chrome browser and two tabs in the Output window.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-browserwindow.png" alt="html5 js testdriver browserwindow">
</div>
<div class="title">Figure 20. jsTestDriver running in the browser window</div>
</div>
<div class="paragraph">
<p>The Chrome browser window displays a message when the jsTestDriver server is running. You can see that the server is running on  <code>localhost:42442</code> . In the js-test-driver Server tab in the Output window you can see the status of the server.</p>
</div>
<div class="paragraph">
<p>Note that the JsTestDriver is running in a browser tab and that the NetBeans Connector is debugging the tab. You can debug your unit tests if you run tests with JS Test Driver and select Chrome with NetBeans Connector as one of the target browsers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-outputstatus.png" alt="html5 js testdriver outputstatus">
</div>
<div class="title">Figure 21. js-test-driver Server tab in the Output window</div>
</div>
<div class="paragraph">
<p><strong>Note.</strong> The browser window must be open and the jsTestDriver server must be running to run the unit tests. You can start the server and open the window by right-clicking the JS Test Driver node in the Services window and choosing Start.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-outputwindow.png" alt="html5 js testdriver outputwindow">
</div>
<div class="title">Figure 22. Running JS unit tests tab in Output window</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Choose Window &gt; Output &gt; Test Results in the main menu to open the Test Results window and see the results of the tests.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-testresultswindow.png" alt="html5 js testdriver testresultswindow">
</div>
<div class="title">Figure 23. Test Results window</div>
</div>
<div class="paragraph">
<p>You can click the green check icon in the left margin of the window to view the the expanded list of the tests that passed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debugging_a_js_unit_test_with_js_test_driver"><a class="anchor" href="#_debugging_a_js_unit_test_with_js_test_driver"></a>Debugging a JS Unit Test with JS Test Driver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This exercise demonstrates how you can use the IDE and JS Test Driver to debug your unit tests.</p>
</div>
<div class="paragraph">
<p><strong>Note.</strong> NetBeans IDE 8.0 does not support debugging tests that are run with the Karma test runner.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expand the  <code>js</code>  folder in the Projects window and double-click  <code>controllers.js</code>  to open the file in the editor.</p>
</li>
<li>
<p>Modify line 7 in the file to make the following changes (in <strong>bold</strong>). Save your changes.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">function PhoneListCtrl($scope, Phone) {
  $scope.phones = Phone.query();
  $scope.orderProp = '*name*';
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you save your changes the page automatically reloads in the browser. You can see that the order of the phones in the list changed.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Confirm that the JS Test Driver server is running and that the status message is visible in the Chrome browser window.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Right-click the project node in the Projects window and choose Test.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-testresultswindow-fail.png" alt="html5 js testdriver testresultswindow fail">
</div>
<div class="title">Figure 24. Failed test in Test Results window</div>
</div>
<div class="paragraph">
<p>When you run the test you can see that one of the tests failed with the message that the value "name" was encountered instead of the expected value "age".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Open the Running JS unit tests tab in the Output window.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-outputwindow-fail.png" alt="html5 js testdriver outputwindow fail">
</div>
<div class="title">Figure 25. Failed test in Running JS unit tests tab in Output window</div>
</div>
<div class="paragraph">
<p>You can see in the message that the  <code>orderProp</code>  is expected to be  <code>age</code>  on line 41.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Click the link in the Running JS unit tests tab to navigate to the line in the test that failed. The test file  <code>controllersSpec.js</code>  opens in the editor at line 41 (in <strong>bold</strong>)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">it('should set the default value of orderProp model', function() {
      *expect(scope.orderProp).toBe('age');*
    });</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the test expected "age" as the value of  <code>scopeOrder.prop</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Set a breakpoint at the line where the test failed (line 41).</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Right-click the project node in the Projects window and choose Test.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you run the test again the program counter hits the breakpoint. If you hover your cursor over  <code>scopeOrder.prop</code>  you can see in the tooltip that the value of the variable is "name" when the breakpoint is hit.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/webclient/html5-js-testdriver-evaluate.png" alt="html5 js testdriver evaluate">
</div>
<div class="title">Figure 26. IDE showing editor, Evaluate Code window and Variables window</div>
</div>
<div class="paragraph">
<p>Alternatively, you can choose Debug &gt; Evaluate Expression in the main menu to open the Evaluate Code window. If you type the expression  <code>scopeOrder.prop</code>  in the window and click the Evaluate Code Fragment button (images:./evaluate-button.png[title="Evaluate Expression button"])(Ctrl-Enter) the debugger displays the value of the expression in the Variables window.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Click Continue in the toolbar to finish running the test.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary"><a class="anchor" href="#summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this tutorial you learned how the IDE provides tools that can help you debug and run unit tests on JavaScript files. Debugging is automatically enabled for HTML5 applications when you run the application in the Chrome browser and the NetBeans Connector extension is enabled. The IDE also enables you to easily configure and run unit tests on JavaScript files using the Jasmine testing framework and the JS Test Driver server.</p>
</div>
<div class="paragraph">
<p><a href="../../../../../../front/main/community/mailing-lists/" class="xref page">Send Feedback on This Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso"><a class="anchor" href="#seealso"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about support for HTML5 applications in the IDE on <a href="../../../" class="xref page">netbeans.org</a>, see the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../html5-gettingstarted/" class="xref page">Getting Started with HTML5 Applications</a>. A document that demonstrates how to install the NetBeans Connector extension for Chrome and creating and running a simple HTML5 application.</p>
</li>
<li>
<p><a href="../html5-editing-css/" class="xref page">Working with CSS Style Sheets in HTML5 Applications</a>. A document that demonstrates how to use some of the CSS wizards and windows in the IDE and how to use the Inspect mode in the Chrome browser to visually locate elements in your project sources.</p>
</li>
<li>
<p><a href="http://docs.oracle.com/cd/E50453_01/doc.80/e50452/dev_html_apps.htm">Developing HTML5 Applications</a> chapter in the <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG">Developing Applications with NetBeans IDE User's Guide</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about running unit tests using JS Test Driver, refer to the following documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JS Test Driver Project Page: <a href="http://code.google.com/p/js-test-driver/">http://code.google.com/p/js-test-driver/</a></p>
</li>
<li>
<p>Jasmine Home Page: <a href="http://pivotal.github.com/jasmine/">http://pivotal.github.com/jasmine/</a></p>
</li>
<li>
<p><a href="http://transitioning.to/2012/07/magnum-ci-the-jenkins-chronicles-1-intro-to-jstestdriver/">Intro to JsTestDriver</a>. An introduction to using JsTestDriver with a continuous integration server.</p>
</li>
</ul>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/webclient/html5-js-support.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../../.." data-snippet-length="100" data-stylesheet="../../../../../../_/css/search.css"></script>
<script async src="../../../../../../search-index.js"></script>
    <script src="../../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
