<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>The NetBeans E-commerce Tutorial - Designing the Application</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The NetBeans E-commerce Tutorial - Designing the Application - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, The NetBeans E-commerce Tutorial - Designing the Application">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../../../index.html"><img src='../../../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="../../../../../../../front/main/download/nb19">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <article class="doc">
      <h1 class="sect0">The NetBeans E-commerce Tutorial - Designing the Application</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/javaee/ecommerce/design.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#scenario">The Scenario</a>
<ul class="sectlevel2">
<li><a href="#_the_scenario">The Scenario</a></li>
</ul>
</li>
<li><a href="#requirements">Gathering Customer Requirements</a></li>
<li><a href="#mockups">Preparing Mockups</a>
<ul class="sectlevel2">
<li><a href="#useCase">Use-Case</a></li>
<li><a href="#business">The Business Process Flow</a></li>
</ul>
</li>
<li><a href="#architecture">Determining the Architecture</a></li>
<li><a href="#planning">Planning the Project</a></li>
<li><a href="#seeAlso">See Also</a>
<ul class="sectlevel2">
<li><a href="#_online_resources">Online Resources</a></li>
<li><a href="#_technical_articles">Technical Articles</a></li>
<li><a href="#_books">Books</a></li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The application that you design in this tutorial is based on a real-world scenario. After being introduced to the tutorial scenario, you consolidate a high-level list of customer requirements. You then prepare a diagram of the application&#8217;s business process flow, and a series of <em>mockups</em> which help both you and your customer get a clearer picture of how the final application will look to an end-user. Finally, you break down the customer requirements into a set of implementation tasks, and structure your application so that the responsibilities and interactions among functional components are clearly defined.</p>
</div>
<div class="paragraph">
<p>This tutorial unit discusses the MVC (Model-View-Controller) design pattern. After investigating the benefits that this pattern offers, you set about mapping JSP, Servlet, and other technologies to the MVC architecture, and draft a diagram that illustrates the components of the application in terms of MVC.</p>
</div>
<div class="paragraph">
<p>This unit makes various references to the book <em>Designing Enterprise Applications with the J2EE Platform, Second Edition</em>. This book contains guidelines promoted by <a href="http://www.oracle.com/technetwork/java/blueprints-141945.html">Java BluePrints</a>.</p>
</div>
<div class="paragraph">
<p>Although this tutorial unit does not require use of the NetBeans IDE, it is essential because it lays the groundwork for tasks that will be covered in the following units.</p>
</div>
<div class="paragraph">
<p>You can view a live demo of the application that you build in this tutorial: <a href="http://services.netbeans.org/AffableBean/">NetBeans E-commerce Tutorial Demo Application</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scenario"><a class="anchor" href="#scenario"></a>The Scenario</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial is based on the following scenario. Although this is a fictitious scenario, it demonstrates how the software you are about to develop can be applied to real-world business needs. It also serves as a platform from which you can derive customer requirements. Customer requirements should be established as clearly as possible before any design or implementation begins.</p>
</div>
<div class="sect2">
<h3 id="_the_scenario"><a class="anchor" href="#_the_scenario"></a>The Scenario</h3>
<div class="paragraph">
<p>A small grocery store, the Affable Bean, collaborates with several local farms to supply a community with organic produce and foods. Due to a long-standing customer base and increasing affluence to the area, the store has decided to investigate the possibility of providing an online delivery service to customers. A recent survey has indicated that 90% of its regular clientele has continuous Internet access, and 65% percent would be interested in using this service.</p>
</div>
<div class="paragraph">
<p>The grocery store staff have asked you, the Java web developer, to create a website that will enable their customers to shop online. They have also asked that you create an administration console alongside the website, which will allow staff members to keep track of orders.</p>
</div>
<div class="paragraph">
<p>The store&#8217;s location is in Prague, in the Czech Republic. Because regular clientele are both English and Czech-speaking, staff have requested that the website support both languages.</p>
</div>
<div class="paragraph">
<p>The grocery store has already purchased a domain and web hosting plan that provides a Java EE 6-compliant server and MySQL database server. Staff have indicated that one technically-oriented member is able to deploy the application to the production server once it is ready.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requirements"><a class="anchor" href="#requirements"></a>Gathering Customer Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The initial phase of any project involves gathering information before making any design or implementation decisions. In its most common form, this involves direct and frequent communication with a customer. Based on the provided scenario, the Affable Bean staff have communicated to you that the application you are to create should fulfill the following requirements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An online representation of the products that are sold in the physical store. There are four categories (dairy, meats, bakery, fruit &amp; veg), and four products for each category, which online shoppers can browse. Details are provided for each product (i.e., name, image, description, price).</p>
</li>
<li>
<p>Shopping cart functionality, which includes the ability to:</p>
<div class="ulist">
<ul>
<li>
<p>add items to a virtual shopping cart.</p>
</li>
<li>
<p>remove items from the shopping cart.</p>
</li>
<li>
<p>update item quantities in the shopping cart.</p>
</li>
<li>
<p>view a summary of all items and quantities in the shopping cart.</p>
</li>
<li>
<p>place an order and make payment through a secure checkout process.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>An administration console, enabling staff to view customer orders.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Security, in the form of protecting sensitive customer data while it is transferred over the Internet, and preventing unauthorized access to the administration console.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Language support for both English and Czech. (Website only)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The company staff are able to provide you with product and category images, descriptions and price details, as well as any website graphics that are to be used. The staff are also able to provide all text and language translations for the website.</p>
</div>
<div class="paragraph">
<p>There are many practices and methods devoted to software development management. <a href="https://en.wikipedia.org/wiki/Agile_software_development">Agile software development</a> is one methodology that encourages frequent customer inspection, and places importance on adaptation during the development cycle. Although this is outside the scope of this tutorial, each tutorial unit concludes with a functional piece of software that could be presented to a customer for further communication and feedback.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mockups"><a class="anchor" href="#mockups"></a>Preparing Mockups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After gathering customer requirements, you work with the Affable Bean staff to gain a clearer picture of how they expect the website to look and behave. You create a use-case that describes how the application will be used and encapsulates its behavior:</p>
</div>
<div class="sect2">
<h3 id="useCase"><a class="anchor" href="#useCase"></a>Use-Case</h3>
<div class="paragraph">
<p>Customer visits the welcome page and selects a product category. Customer browses products within the selected category page, then adds a product to his or her shopping cart. Customer continues shopping and selects a different category. Customer adds several products from this category to shopping cart. Customer selects 'view cart' option and updates quantities for cart products in the cart page. Customer verifies shopping cart contents and proceeds to checkout. In the checkout page, customer views the cost of the order and other information, fills in personal data, then submits his or her details. The order is processed and customer is taken to a confirmation page. The confirmation page provides a unique reference number for tracking the customer order, as well as a summary of the order.</p>
</div>
<div class="paragraph">
<p>You also begin creating mockups. There are numerous ways to go about this task. For example, you could use storyboard software, or create a set of wireframes to relay the relationships between pages. Another common method is known as <a href="https://en.wikipedia.org/wiki/Paper_prototyping">paper prototyping</a>, where you collaborate with the customer by sketching ideas on paper.</p>
</div>
<div class="paragraph">
<p>In this scenario, we&#8217;ve produced <em>mockups</em> of the primary pages the user expects see when navigating through the website. When we later discuss the MVC design pattern, you&#8217;ll note that these pages map to the <em>views</em> used by the application.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="openblock feature">
<div class="content">
<div class="paragraph">
<p><span class="image xref-image left"><a class="image" href="../../../../../_images/kb/docs/javaee/ecommerce/mockup-index.png"><img src="../../../../../_images/kb/docs/javaee/ecommerce/mockup-index-small.png" alt="mockup index small"></a></span></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect3">
<h4 id="_welcome_page"><a class="anchor" href="#_welcome_page"></a>welcome page</h4>
<div class="paragraph">
<p>The welcome page is the website&#8217;s home page, and entry point for the application. It introduces the business and service to the user, and enables the user to navigate to any of the four product categories.</p>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="openblock feature">
<div class="content">
<div class="paragraph">
<p><span class="image xref-image left"><a class="image" href="../../../../../_images/kb/docs/javaee/ecommerce/mockup-category.png"><img src="../../../../../_images/kb/docs/javaee/ecommerce/mockup-category-small.png" alt="mockup category small"></a></span></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect3">
<h4 id="_category_page"><a class="anchor" href="#_category_page"></a>category page</h4>
<div class="paragraph">
<p>The category page provides a listing of all products within the selected category. From this page, a user is able to view all product information, and add any of the listed products to his or her shopping cart. A user can also navigate to any of the provided categories.</p>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="openblock feature">
<div class="content">
<div class="paragraph">
<p><span class="image xref-image left"><a class="image" href="../../../../../_images/kb/docs/javaee/ecommerce/mockup-cart.png"><img src="../../../../../_images/kb/docs/javaee/ecommerce/mockup-cart-small.png" alt="mockup cart small"></a></span></p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect3">
<h4 id="_cart_page"><a class="anchor" href="#_cart_page"></a>cart page</h4>
<div class="paragraph">
<p>The cart page lists all items held in the user&#8217;s shopping cart. It displays product details for each item, and tallies the subtotal for the items in the cart. From this page, a user can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clear all items in his or her cart
(Clicking 'clear cart' causes the 'proceed to checkout' buttons and shopping cart table to disappear.)</p>
</li>
<li>
<p>Update the quantity for any listed item
(The price and quantity are updated; the subtotal is recalculated. If user sets quantity to '0', the product table row is removed.)</p>
</li>
<li>
<p>Return to the previous category by clicking 'continue shopping'</p>
</li>
<li>
<p>Proceed to checkout</p>
</li>
</ul>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="openblock feature">
<div class="content">
<div class="imageblock xref-image left">
<div class="content">
<a class="image" href="../../../../../_images/kb/docs/javaee/ecommerce/mockup-checkout.png"><img src="../../../../../_images/kb/docs/javaee/ecommerce/mockup-checkout-small.png" alt="mockup checkout small"></a>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect3">
<h4 id="_checkout_page"><a class="anchor" href="#_checkout_page"></a>checkout page</h4>
<div class="paragraph">
<p>The checkout page collects information from the customer using a form. This page also displays purchase conditions, and summarizes the order by providing calculations for the total cost.</p>
</div>
<div class="paragraph">
<p>The user is able to send personal details over a secure channel.</p>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="openblock feature">
<div class="content">
<div class="imageblock xref-image left">
<div class="content">
<a class="image" href="../../../../../_images/kb/docs/javaee/ecommerce/mockup-confirmation.png"><img src="../../../../../_images/kb/docs/javaee/ecommerce/mockup-confirmation-small.png" alt="mockup confirmation small"></a>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect3">
<h4 id="_confirmation_page"><a class="anchor" href="#_confirmation_page"></a>confirmation page</h4>
<div class="paragraph">
<p>The confirmation page returns a message to the customer confirming that the order was successfully recorded. An order reference number is provided to the customer, as well as a summary listing order details.</p>
</div>
<div class="paragraph">
<p>Order summary and customer personal details are returned over a secure channel.</p>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also, you agree with staff on the following rules, which apply to multiple pages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The user is able to proceed to checkout from any page, provided that:</p>
</li>
<li>
<p>The shopping cart is not empty</p>
</li>
<li>
<p>The user is not already on the checkout page</p>
</li>
<li>
<p>The user has not already checked out (i.e., is on the confirmation page)</p>
</li>
<li>
<p>From all pages, the user is able to:</p>
</li>
<li>
<p>View the status of his or her shopping cart (if it is not empty)</p>
</li>
<li>
<p>Return to the welcome page by clicking the logo image</p>
</li>
<li>
<p>The user is able to select the language (English or Czech) to view the page in for all pages except the confirmation page.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Although not presented here, you would equally need to work with the client to produce use-cases and mockups, and establish rules for the administration console. The NetBeans E-commerce Tutorial focuses on developing the store front (i.e., the website). However, Unit 11, <a href="../security/" class="xref page">Securing the Application</a> demonstrates how to create a login mechanism to access the administration console. Also, you can examine the provided implementation of the administration console by <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_complete.zip">downloading the completed application</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="business"><a class="anchor" href="#business"></a>The Business Process Flow</h3>
<div class="paragraph">
<p>To help consolidate the relationships between the proposed mockups and better illustrate the functionality that each page should provide, you prepare a diagram that demonstrates the process flow of the application.</p>
</div>
<div class="paragraph">
<p>The diagram displays the visual and functional components of each page, and highlights the primary actions available to the user in order to navigate through the site to complete a purchase.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../../_images/kb/docs/javaee/ecommerce/process-flow.png" alt="process flow">
</div>
<div class="title">Figure 1. The process flow of the AffableBean application</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Determining the Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you start coding, let&#8217;s examine the ways in which you can architect the project. Specifically, you need to outline the responsibilities among functional components, and determine how they will interact with each other.</p>
</div>
<div class="paragraph">
<p>When you work with JSP technologies, you can code all of your business logic into JSP pages using scriptlets. Scriptlets are snippets of Java code enclosed in <code>&lt;% %&gt;</code> tags. As you may already be aware, JSP pages are compiled into servlets before they are run, so Java code is perfectly valid in JSP pages. However, there are several reasons why this practice should be avoided, especially when working in large projects. Some reasons are outlined in <a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/">Designing Enterprise Applications with the J2EE Platform, Second Edition</a> as follows:<sup><a href="#footnote1">[1]</a></sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p>*Scriptlet code is not reusable: *Scriptlet code appears in exactly one place: the JSP page that defines it. If the same logic is needed elsewhere, it must be either included (decreasing readability) or copied and pasted into the new context.</p>
</li>
<li>
<p>*Scriptlets mix logic with presentation: *Scriptlets are islands of program code in a sea of presentation code. Changing either requires some understanding of what the other is doing to avoid breaking the relationship between the two. Scriptlets can easily confuse the intent of a JSP page by expressing program logic within the presentation.</p>
</li>
<li>
<p><strong>Scriptlets break developer role separation:</strong> Because scriptlets mingle programming and Web content, Web page designers need to know either how to program or which parts of their pages to avoid modifying.</p>
</li>
<li>
<p>*Scriptlets make JSP pages difficult to read and to maintain: * JSP pages with scriptlets mix structured tags with JSP page delimiters and Java language code.</p>
</li>
<li>
<p>*Scriptlet code is difficult to test: *Unit testing of scriptlet code is virtually impossible. Because scriptlets are embedded in JSP pages, the only way to execute them is to execute the page and test the results.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are various design patterns already in existence which provide considerable benefits when applied. One such pattern is the MVC (Model-View-Controller) paradigm, which divides your application into three interoperable components:<sup><a href="#footnote2">[2]</a></sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Model:</strong> Represents the business data and any business logic that govern access to and modification of the data. The model notifies views when it changes and lets the view query the model about its state. It also lets the controller access application functionality encapsulated by the model.</p>
</li>
<li>
<p><strong>View:</strong> The view renders the contents of a model. It gets data from the model and specifies how that data should be presented. It updates data presentation when the model changes. A view also forwards user input to a controller.</p>
</li>
<li>
<p><strong>Controller:</strong> The controller defines application behavior. It dispatches user requests and selects views for presentation. It interprets user inputs and maps them into actions to be performed by the model. In a web application, user inputs are HTTP GET and POST requests. A controller selects the next view to display based on the user interactions and the outcome of the model operations.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../../_images/kb/docs/javaee/ecommerce/mvc-model.png" alt="mvc model">
</div>
<div class="title">Figure 2. The Model View Controller pattern</div>
</div>
<div class="paragraph">
<p>Adhering to the MVC design pattern provides you with numerous benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Separation of design concerns:</strong> Because of the decoupling of presentation, control, and data persistence and behavior, the application becomes more flexible; modifications to one component have minimal impact on other components. You can, for example, create new views without needing to rewrite the model.</p>
</li>
<li>
<p><strong>More easily maintainable and extensible:</strong> Good structure can reduce code complexity. As such, code duplication is minimized.</p>
</li>
<li>
<p><strong>Promotes division of labor:</strong> Developers with different skill sets are able to focus on their core skills and collaborate through clearly defined interfaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> When JSP technology was first introduced in 1999, the early specifications included a description of two model architectures: Model 1 and Model 2. Model 1 involves implementing business logic directly within JSP pages, whereas Model 2 applies the MVC pattern. For more information on Model 1 and Model 2 architectures, see <a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/web-tier/web-tier5.html#1078527">Designing Enterprise Applications with the J2EE Platform, section 4.4.1: Structuring the Web Tier</a>.</p>
</div>
<div class="paragraph">
<p>You can apply the MVC pattern to the application that you develop for the Affable Bean company. You can use a servlet as a <em>controller</em> to handle incoming requests. The pages from the <a href="#processFlowDiagram">business process flow diagram</a> can be mapped to <em>views</em>. Finally, the business data, which will be maintained in a database, can be accessed and modified in the application using <a href="http://java.sun.com/products/ejb/">EJB</a> session beans with <a href="http://java.sun.com/javaee/technologies/persistence.jsp">JPA</a> entity classes. These components represent the <em>model</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../../_images/kb/docs/javaee/ecommerce/mvc-diagram.png" alt="mvc diagram">
</div>
<div class="title">Figure 3. MVC diagram of the AffableBean application</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="planning"><a class="anchor" href="#planning"></a>Planning the Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to plan the project, you need to extrapolate functional tasks from the customer requirements. The tasks that we produce will structure the implementation plan for the project, and form the outline for tutorial units that follow. In practice, the more capable you are of identifying tasks and the work they entail, the better you&#8217;ll be able to stick to the schedule that you and your customer agree upon. Therefore, begin with a high-level task list, then try to drill down from these tasks dividing each task into multiple sub-tasks, and possibly dividing sub-tasks further until each list item represents a single unit of work.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set up the development environment</p>
</li>
<li>
<p>Register the development server in the IDE</p>
</li>
<li>
<p>Create a web project in the IDE</p>
</li>
<li>
<p>Run the web project from the IDE (test compilation, deployment, run capabilities, and ensure interoperability between IDE, server and browser)</p>
</li>
<li>
<p>Register the database server in the IDE</p>
</li>
<li>
<p>Establish a connection to the database server from the IDE</p>
</li>
<li>
<p>Create a database instance on the database server</p>
</li>
<li>
<p>Prepare the data model for the application</p>
</li>
<li>
<p>Create an entity-relationship diagram (use a visual database design tool)</p>
</li>
<li>
<p>Identify objects</p>
</li>
<li>
<p>Create a schema</p>
</li>
<li>
<p>Create entities</p>
</li>
<li>
<p>Add entity properties</p>
</li>
<li>
<p>Identify relationships between entities</p>
</li>
<li>
<p>One-to-Many relationships</p>
</li>
<li>
<p>Many-to-Many relationships</p>
</li>
<li>
<p>Forward-engineer the entity-relationship diagram into an SQL script</p>
</li>
<li>
<p>Run the script on the database server to generate the schema</p>
</li>
<li>
<p>Create front-end project files</p>
</li>
<li>
<p>Stylesheet</p>
</li>
<li>
<p>Placeholders for JSP pages (requires implementing HTML and CSS content to get pages to display like mockups)</p>
</li>
<li>
<p>welcome page</p>
</li>
<li>
<p>category page</p>
</li>
<li>
<p>cart page</p>
</li>
<li>
<p>checkout page</p>
</li>
<li>
<p>confirmation page</p>
</li>
<li>
<p>Organize the application front-end</p>
</li>
<li>
<p>Place JSP pages in the application&#8217;s <code>WEB-INF</code> directory</p>
</li>
<li>
<p>Create page header and footer</p>
</li>
<li>
<p>Remove instances of code duplication (header and footer code from JSP pages)</p>
</li>
<li>
<p>Register header and footer includes with the web deployment descriptor</p>
</li>
<li>
<p>Create a controller servlet</p>
</li>
<li>
<p>Create mappings for views in deployment descriptor</p>
</li>
<li>
<p>Create skeleton code in servlet to handle client requests</p>
</li>
<li>
<p>Connect the application to the database</p>
</li>
<li>
<p>Add sample data to the database</p>
</li>
<li>
<p>Create data source and connection pool on server</p>
</li>
<li>
<p>Test data source (ping connection pool)</p>
</li>
<li>
<p>Ensure that views can access data from the database</p>
</li>
<li>
<p>Add database driver JAR to server</p>
</li>
<li>
<p>Create a resource reference to the data source in the application</p>
</li>
<li>
<p>Query the database from a JSP page</p>
</li>
<li>
<p>Set any necessary application-wide parameters</p>
</li>
<li>
<p>Code database-access and conditional logic in views that do not require user session (welcome, category)</p>
</li>
<li>
<p>Develop the business logic</p>
</li>
<li>
<p>Set up the model</p>
</li>
<li>
<p>Create JPA entity classes from database tables</p>
</li>
<li>
<p>Create and configure persistence unit</p>
</li>
<li>
<p>Create EJB stateless bean facades for entity classes</p>
</li>
<li>
<p>Integrate EJB model with views</p>
</li>
<li>
<p>Integrate EJB facades in controller servlet</p>
</li>
<li>
<p>Modify views to use data from scoped variables (instead of any JSTL <code>&lt;sql&gt;</code> queries)</p>
</li>
<li>
<p>Create shopping cart functionality</p>
</li>
<li>
<p>Create Java classes to hold temporary data (<code>ShoppingCart</code>, <code>ShoppingCartItem</code>)</p>
</li>
<li>
<p>Integrate code for <code>HttpSession</code> object into controller servlet</p>
</li>
<li>
<p>Add session-related actions to controller servlet</p>
</li>
<li>
<p>Create shopping cart widget in page header</p>
</li>
<li>
<p>Integrate session-related data into views (cart, checkout)</p>
</li>
<li>
<p>Apply JSTL <code>&lt;c:url&gt;</code> tags to enable url-rewriting in the event that user has disabled cookies</p>
</li>
<li>
<p>Configure session time-out in web deployment descriptor</p>
</li>
<li>
<p>Add logic to controller servlet handle requests in the event of session time-out</p>
</li>
<li>
<p>Integrate transactional logic</p>
</li>
<li>
<p>Create code to extract and validate user data from checkout form</p>
</li>
<li>
<p>Create an EJB stateless session bean to handle inserting orders and customers into database</p>
</li>
<li>
<p>Implement logic to query the database on newly-created orders</p>
</li>
<li>
<p>Implement order and customer details display in confirmation page</p>
</li>
<li>
<p>Add language support</p>
</li>
<li>
<p>Create a properties file containing messages for all text in the application</p>
</li>
<li>
<p>default language (English)</p>
</li>
<li>
<p>English</p>
</li>
<li>
<p>Czech</p>
</li>
<li>
<p>Register a localization context parameter in deployment descriptor</p>
</li>
<li>
<p>Add logic to view that sets page language based on language value saved in user&#8217;s session</p>
</li>
<li>
<p>Apply <code>&lt;fmt:message&gt;</code> tags to all text contained in view</p>
</li>
<li>
<p>Factor out English description from database (<em>optional</em>), use resource bundles instead</p>
</li>
<li>
<p>Create administration console</p>
</li>
<li>
<p>Create new artifacts</p>
</li>
<li>
<p>Views</p>
</li>
<li>
<p>login</p>
</li>
<li>
<p>welcome</p>
</li>
<li>
<p>error</p>
</li>
<li>
<p>Controller servlet</p>
</li>
<li>
<p>Create login functionality</p>
</li>
<li>
<p>Create interface</p>
</li>
<li>
<p>Add actions to controller servlet</p>
</li>
<li>
<p>Configure login functionality in deployment descriptor</p>
</li>
<li>
<p>Implement admin functionality (in welcome page)</p>
</li>
<li>
<p>For viewing order details</p>
</li>
<li>
<p>For viewing customer details</p>
</li>
<li>
<p>Secure the application</p>
</li>
<li>
<p>Configure SSL connection for checkout, confirmation views, and administration console</p>
</li>
<li>
<p>Enable SSL on server</p>
</li>
<li>
<p>Register security settings in deployment descriptor</p>
</li>
<li>
<p>Create user roles and permissions for administration console</p>
</li>
<li>
<p>Create security roles on server</p>
</li>
<li>
<p>Declare security roles, constraints in deployment descriptor</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="../../../../../../../front/main/community/mailing-lists/" class="xref page">Send Feedback on This Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seeAlso"><a class="anchor" href="#seeAlso"></a>See Also</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_online_resources"><a class="anchor" href="#_online_resources"></a>Online Resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/blueprints-141945.html">Java BluePrints</a></p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/java/catalog-137601.html">J2EE Patterns Catalog</a></p>
</li>
<li>
<p><a href="http://java.net/projects/bpcatalog/">Java BluePrints Solutions Catalog</a></p>
</li>
<li>
<p><a href="http://java.sun.com/blueprints/patterns/MVC-detailed.html">Java BluePrints: Model-View-Controller</a></p>
</li>
<li>
<p><a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/web-tier/web-tier5.html">Web-Tier Application Framework Design</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/docs/cd/E17477_01/javaee/5/tutorial/doc/bnadr.html">The Java EE 5 Tutorial - Chapter 3: Getting Started with Web Applications</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_technical_articles"><a class="anchor" href="#_technical_articles"></a>Technical Articles</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://java.sun.com/developer/technicalArticles/javaserverpages/servlets_jsp/">Servlets and JSP Pages Best Practices</a></p>
</li>
<li>
<p><a href="http://java.sun.com/developer/technicalArticles/J2EE/despat/">Design Patterns for Building Flexible and Maintainable J2EE Applications</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_books"><a class="anchor" href="#_books"></a>Books</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://volume1.coreservlets.com/">Core Servlets and JavaServer Pages, Volume 1: Core Technologies, 2nd Edition</a></p>
</li>
<li>
<p><a href="http://volume2.coreservlets.com/">Core Servlets and JavaServer Pages, Volume 2: Advanced Technologies, 2nd Edition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#1">^</a> For a more extensive list, see <a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/web-tier/web-tier3.html#1097966">Designing Enterprise Applications with the J2EE Platform, section 4.2.6.8: Using Custom Tags to Avoid Scriptlets</a>.</p>
</li>
<li>
<p><a href="#2">^</a> For more information on the MVC pattern, see <a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications_2e/app-arch/app-arch2.html#1105854">Designing Enterprise Applications with the J2EE Platform, section 11.1.1: Model-View-Controller Architecture</a>.</p>
</li>
</ol>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/javaee/ecommerce/design.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../../../.." data-snippet-length="100" data-stylesheet="../../../../../../../_/css/search.css"></script>
<script async src="../../../../../../../search-index.js"></script>
    <script src="../../../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
