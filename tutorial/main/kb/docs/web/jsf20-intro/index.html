<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Introduction to JavaServer Faces 2.x</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Introduction to JavaServer Faces 2.x - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Introduction to JavaServer Faces 2.x">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../../index.html"><img src='../../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 21</h1>
            <p><a class="button success" href="../../../../../../front/main/download/nb21">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <article class="doc">
      <h1 class="sect0">Introduction to JavaServer Faces 2.x</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/web/jsf20-intro.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#support">Adding JSF 2.x Support to a Web Application</a></li>
<li><a href="#managedBean">Creating a Managed Bean</a>
<ul class="sectlevel2">
<li><a href="#usingManagedBean">Using the Managed Bean Wizard</a></li>
<li><a href="#creatingConstructor">Creating a Constructor</a></li>
<li><a href="#addingProperties">Adding Properties</a></li>
</ul>
</li>
<li><a href="#wire">Wiring Managed Beans to Pages</a>
<ul class="sectlevel2">
<li><a href="#index">index.xhtml</a></li>
<li><a href="#response">response.xhtml</a></li>
</ul>
</li>
<li><a href="#template">Applying a Facelets Template</a>
<ul class="sectlevel2">
<li><a href="#templateFile">Creating the Facelets Template File</a></li>
<li><a href="#templateClient">Creating Template Client Files</a></li>
</ul>
</li>
<li><a href="#seealso">See Also</a>
<ul class="sectlevel2">
<li><a href="#_netbeans_articles_and_tutorials">NetBeans Articles and Tutorials</a></li>
<li><a href="#_external_resources">External Resources</a></li>
<li><a href="#_blogs">Blogs</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>JavaServer Faces (JSF) is a user interface (UI) framework for Java web applications. It is designed to significantly ease the burden of writing and maintaining applications that run on a Java application server and render their UIs back to a target client. JSF provides ease-of-use in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Makes it easy to construct a UI from a set of reusable UI components</p>
</li>
<li>
<p>Simplifies migration of application data to and from the UI</p>
</li>
<li>
<p>Helps manage UI state across server requests</p>
</li>
<li>
<p>Provides a simple model for wiring client-generated events to server-side application code</p>
</li>
<li>
<p>Allows custom UI components to be easily built and re-used</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For an in-depth description of the JSF framework, see the <a href="http://docs.oracle.com/javaee/7/tutorial/doc/jsf-develop.htm">Java EE 7 Tutorial, Chapter 12 Developing with JavaServer Faces Technology</a>.</p>
</div>
<div class="paragraph">
<p>This tutorial demonstrates how you can apply JSF 2.x support to a web application using the NetBeans IDE. You begin by adding JSF 2.x framework support to a basic web application, and then proceed to perform the following tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a JSF managed bean to handle request data,</p>
</li>
<li>
<p>wire the managed bean to the application&#8217;s web pages, and</p>
</li>
<li>
<p>convert the web pages into Facelets template files.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The NetBeans IDE has provided long-standing support for JavaServer Faces. Starting with the release of JSF 2.0 and Java EE 6, NetBeans IDE has provided support for JSF 2.0 and JSF 2.1. For more information, see <a href="../jsf20-support/" class="xref page">JSF 2.x Support in NetBeans IDE</a>.</p>
</div>
<div class="paragraph">
<p>To complete this tutorial, you need the following software and resources.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software or Resource</th>
<th class="tableblock halign-left valign-top">Version Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../../../../../front/main/download/" class="xref page">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0, Java EE bundle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7 or 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://glassfish.dev.java.net/">GlassFish server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source Edition 3.x or 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FjsfDemo.zip">`jsfDemo` web application project</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The NetBeans IDE Java Bundle also includes the GlassFish server, a Java EE-compliant server, which you require for this tutorial.</p>
</li>
<li>
<p>To compare your project with a working solution, download the <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FjsfDemoCompleted.zip">completed sample project</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="support"><a class="anchor" href="#support"></a>Adding JSF 2.x Support to a Web Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Begin by opening the <a href="#requiredSoftware"><code>jsfDemo</code> web application project</a> in the IDE. Once you have the project opened in the IDE, you can add framework support to it using the project&#8217;s Properties window.</p>
</div>
<div class="paragraph">
<p>The IDE also allows you to create new projects with JSF 2.x support. For more information, see <a href="../jsf20-support/#creatingSupport" class="xref page">Creating a New Project with JSF 2.x Support</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Open Project ( images:./open-project-btn.png[] ) button in the IDE&#8217;s main toolbar, or press Ctrl-Shift-O (⌘-Shift-O on Mac).</p>
</li>
<li>
<p>In the Open Project dialog, navigate to the location on your computer where you stored the unzipped tutorial project. Select it, then click Open Project to open it in the IDE.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note.</strong> You might be prompted to resolve the reference to the JUnit libraries when you open the NetBeans project if you did not install the JUnit plugin when you installed the IDE.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project to see what it looks like in a browser. Either right-click the <code>jsfDemo</code> project node in the Projects window and choose Run, or click the Run Project ( images:./run-project-btn.png[] ) button in the main toolbar. The project is packaged and deployed to the GlassFish server, and your browser opens to display the welcome page (<code>index.xhtml</code>).</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/run-project.png" alt="run project">
</div>
<div class="title">Figure 1. Run the project to view it in a browser</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Submit button. The response page (<code>response.xhtml</code>) displays as follows:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response.png" alt="response">
</div>
<div class="title">Figure 2. The welcome and response pages are currently static pages</div>
</div>
<div class="paragraph">
<p>Currently the welcome and response pages are static and, together with the <code>stylesheet.css</code> file and <code>duke.png</code> image, are the only application files accessible from a browser.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window (Ctrl-1; ⌘-1 on Mac), right-click your project node and choose Properties to open the Project Properties window.</p>
</li>
<li>
<p>Select the Frameworks category and then click the Add button.</p>
</li>
<li>
<p>Select JavaServer Faces in the Add a Framework dialog box. Click OK.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/add-framework.png" alt="add framework">
</div>
<div class="title">Figure 3. Add JSF support to an existing project</div>
</div>
<div class="paragraph">
<p>After selecting JavaServer Faces, various configuration options become available. Under the Libraries tab, you can specify how the project accesses JSF 2.x libraries. The JSF version that is available will depend upon the version of the IDE and the GlassFish server. The default option is to use the libraries included with the server (the GlassFish server). However, the IDE also bundles the JSF 2.x libraries. (You can select the Registered Libraries option if you want your project to use these.)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/libraries-tab.png" alt="libraries tab">
</div>
<div class="title">Figure 4. Specify access to JSF 2.x libraries</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Configuration tab. You can specify how the Faces servlet is registered in the project&#8217;s deployment descriptor. You can also indicate whether you want Facelets or JSP pages to be the used with the project.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/jsf-configuration.png" alt="jsf configuration">
</div>
<div class="title">Figure 5. Specify Faces servlet options and preferred language</div>
</div>
<div class="paragraph">
<p>You can also easily configure your project to use various JSF component suites in the Components tab. To use a component suite you will need to download the required libraries and use the Ant Library manager to create a new library with the component suite libraries.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/jsf-components.png" alt="jsf components">
</div>
<div class="title">Figure 6. Specify Faces servlet options and preferred language</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click OK to finalize changes and exit the Project Properties window.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After adding JSF support to your project, the project&#8217;s <code>web.xml</code> deployment descriptor is modified to look as follows. (Changes in <strong>bold</strong>.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"&gt;
    *&lt;context-param&gt;
        &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;
        &lt;param-value&gt;Development&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;*
    &lt;welcome-file-list&gt;
        &lt;welcome-file&gt;*faces/*index.xhtml&lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;
&lt;/web-app&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Important:</strong> Confirm that the <code>web.xml</code> contains only one <code>&lt;welcome-file&gt;</code> entry and that the entry contains &#8216;faces/&#8217; as shown in the example. This ensures that the project&#8217;s welcome page (<code>index.xhtml</code>) passes through the Faces servlet before being displayed in a browser. This is necessary in order to render the Facelets tag library components properly.</p>
</div>
<div class="paragraph">
<p>The Faces servlet is registered with the project, and the <code>index.xhtml</code> welcome page is now passed through the Faces servlet when it is requested. Also, note that an entry for the <code>PROJECT_STAGE</code> context parameter has been added. Setting this parameter to &#8216;Development&#8217; provides you with useful information when debugging your application. See  <a href="http://blogs.oracle.com/rlubke/entry/jsf_2_0_new_feature2">http://blogs.oracle.com/rlubke/entry/jsf_2_0_new_feature2</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can locate the JSF libraries by expanding the project&#8217;s Libraries node in the Projects window. If you are using the default libraries included with GlassFish Server 3.1.2 or GlassFish Server 4 this is the <code>javax.faces.jar</code> that is visible under the GlassFish Server node. (If you are using an older version of GlassFish you will see the <code>jsf-api.jar</code> and <code>jsf-impl.jar</code> libraries instead of <code>javax.faces.jar</code>.)</p>
</div>
<div class="paragraph">
<p>The IDE&#8217;s JSF 2.x support primarily includes numerous JSF-specific wizards, and special functionality provided by the Facelets editor. You explore these functional capabilities in the following steps. For more information, see <a href="../jsf20-support/" class="xref page">JSF 2.x Support in NetBeans IDE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managedBean"><a class="anchor" href="#managedBean"></a>Creating a Managed Bean</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use JSF&#8217;s managed beans to process user data and retain it between requests. A managed bean is a <a href="https://en.wikipedia.org/wiki/Plain_Old_Java_Object">POJO</a> (Plain Old Java Object) that can be used to store data, and is managed by the container (e.g., the GlassFish server) using the JSF framework.</p>
</div>
<div class="paragraph">
<p>A POJO is essentially a Java class that contains a public, no argument constructor and conforms to the <a href="http://download.oracle.com/javase/tutorial/javabeans/">JavaBeans</a> naming conventions for its properties.</p>
</div>
<div class="paragraph">
<p>Looking at the <a href="#staticPage">static page</a> produced from running the project, you need a mechanism that determines whether a user-entered number matches the one currently selected, and returns a view that is appropriate for this outcome. Use the IDE&#8217;s <a href="../jsf20-support/#managedBean" class="xref page">Managed Bean wizard</a> to create a managed bean for this purpose. The Facelets pages that you create in the next section will need to access the number that the user types in, and the generated response. To enable this, add <code>userNumber</code> and <code>response</code> properties to the managed bean.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#usingManagedBean">Using the Managed Bean Wizard</a></p>
</li>
<li>
<p><a href="#creatingConstructor">Creating a Constructor</a></p>
</li>
<li>
<p><a href="#addingProperties">Adding Properties</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="usingManagedBean"><a class="anchor" href="#usingManagedBean"></a>Using the Managed Bean Wizard</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, right-click the <code>jsfDemo</code> project node and choose New &gt; JSF Managed Bean. (If Managed Bean is not listed, choose Other. Then select the JSF Managed Bean option from the JavaServer Faces category. Click Next.)</p>
</li>
<li>
<p>In the wizard, enter the following:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Class Name:</strong> UserNumberBean</p>
</li>
<li>
<p><strong>Package:</strong> guessNumber</p>
</li>
<li>
<p><strong>Name:</strong> UserNumberBean</p>
</li>
<li>
<p><strong>Scope:</strong> Session</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/managed-bean.png" alt="managed bean">
</div>
<div class="title">Figure 7. Use the JSF Managed Bean wizard to create a new managed bean</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click Finish. The <code>UserNumberBean</code> class is generated and opens in the editor. Note the following annotations (shown in <strong>bold</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package guessNumber;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

/**
 *
 * @author nbuser
 */
*@ManagedBean(name="UserNumberBean")
@SessionScoped*
public class UserNumberBean {

    /** Creates a new instance of UserNumberBean */
    public UserNumberBean() {
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because you are using JSF 2.x, you can declare all JSF-specific components using annotations. In previous versions, you would need to declare them in the Faces configuration file (<code>faces-config.xml</code>).</p>
</div>
<div class="paragraph">
<p><span class="tips">To view the Javadoc for all JSF 2.1 annotations, see the <a href="http://javaserverfaces.java.net/nonav/docs/2.1/managed-bean-javadocs/index.html">Faces Managed Bean Annotation Specification</a>.</span></p>
</div>
</div>
<div class="sect2">
<h3 id="creatingConstructor"><a class="anchor" href="#creatingConstructor"></a>Creating a Constructor</h3>
<div class="paragraph">
<p>The <code>UserNumberBean</code> constructor must generate a random number between 0 and 10 and store it in an instance variable. This partially forms the business logic for the application.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Define a constructor for the <code>UserNumberBean</code> class. Enter the following code (changes displayed in <strong>bold</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class UserNumberBean {

    *Integer randomInt;*

    /** Creates a new instance of UserNumberBean */
    public UserNumberBean() {
        *link:http://docs.oracle.com/javase/7/docs/api/java/util/Random.html[+Random+] randomGR = new Random();
        randomInt = new Integer(randomGR.link:http://docs.oracle.com/javase/7/docs/api/java/util/Random.html#nextInt%28int%29[+nextInt+](10));
        System.out.println("Duke's number: " + randomInt);*
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code generates a random number between 0 and 10, and outputs the number in the server log.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fix imports. To do so, click the hint badge ( images:./hint-icon.png[] ) that displays in the editor&#8217;s left margin, then choose the option to import <code>java.util.Random</code> into the class.</p>
</li>
<li>
<p>Run the project again (click the Run Project ( images:./run-project-btn.png[] ) button, or press F6; fn-F6 on Mac). When you run your project, the server&#8217;s log file automatically opens in the Output window.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/output1.png" alt="output1">
</div>
<div class="title">Figure 8. The server&#8217;s log file is automatically opens in the Output window</div>
</div>
<div class="paragraph">
<p>Notice that you do not see "`Duke&#8217;s number: <code>" listed in the output (as would be indicated from the constructor). A `UserNumberBean</code> object was not created because JSF uses <em>lazy instantiation</em> by default. That is, beans in particular scopes are only created and initialized when they are needed by the application.</p>
</div>
<div class="paragraph">
<p>The <a href="http://javaserverfaces.java.net/nonav/docs/2.1/managed-bean-javadocs/index.html">Javadoc for the `@ManagedBean` annotation</a> states:</p>
</div>
<div class="paragraph">
<p><em>If the value of the <code>eager()</code> attribute is <code>true</code>, and the <code>managed-bean-scope</code> value is "application", the runtime must instantiate this class when the application starts. This instantiation and storing of the instance must happen before any requests are serviced. If _eager</em> is unspecified or <code>false</code>, or the <code>managed-bean-scope</code> is something other than "application", the default "lazy" instantiation and scoped storage of the managed bean happens._</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Because <code>UserNumberBean</code> is session-scoped, have it implement the <code>Serializable</code> interface.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ManagedBean(name="UserNumberBean")
@SessionScoped
public class UserNumberBean *implements Serializable* {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the hint badge ( images:./hint-icon.png[] ) to import <code>java.io.Serializable</code> into the class.</p>
</div>
</div>
<div class="sect2">
<h3 id="addingProperties"><a class="anchor" href="#addingProperties"></a>Adding Properties</h3>
<div class="paragraph">
<p>The Facelets pages that you create in the next section will need to access the number that the user types in, and the generated response. To facilitate this, add <code>userNumber</code> and <code>response</code> properties to the class.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start by declaring an <code>Integer</code> named <code>userNumber</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ManagedBean(name="UserNumberBean")
@SessionScoped
public class UserNumberBean implements Serializable {

    Integer randomInt;
    *Integer userNumber;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click in the editor and choose Insert Code (Alt-Insert; Ctrl-I on Mac). Choose Getter and Setter.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/getter-setter.png" alt="getter setter">
</div>
<div class="title">Figure 9. Use the IDE to generate accessor methods for properties</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select the <code>userNumber</code> : <code>Integer</code> option. Click Generate.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/generate-getters-setters.png" alt="generate getters setters">
</div>
<div class="title">Figure 10. Use the IDE to generate accessor methods for properties</div>
</div>
<div class="paragraph">
<p>Note that the <code>getUserNumber()</code> and <code>setUserNumber(Integer userNumber)</code> methods are added to the class.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a <code>response</code> property. Declare a <code>String</code> named <code>response</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ManagedBean(name="UserNumberBean")
@SessionScoped
public class UserNumberBean implements Serializable {

    Integer randomInt;
    Integer userNumber;
    *String response;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a getter method for <code>response</code>. (This application will not require a setter.) You could use the IDE&#8217;s Generate Code pop-up shown in step 2 above to generate template code. For purposes of this tutorial however, just paste the below method into the class.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">public String getResponse() {
    if ((userNumber != null) &amp;amp;&amp;amp; (userNumber.link:http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html#compareTo(java.lang.Integer)[+compareTo+](randomInt) == 0)) {

        //invalidate user session
        FacesContext context = FacesContext.getCurrentInstance();
        HttpSession session = (HttpSession) context.getExternalContext().getSession(false);
        session.invalidate();

        return "Yay! You got it!";
    } else {

        return "&lt;p&gt;Sorry, " + userNumber + " isn't it.&lt;/p&gt;"
                + "&lt;p&gt;Guess again...&lt;/p&gt;";
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above method performs two functions:
1. It tests whether the user-entered number (<code>userNumber</code>) equals the random number generated for the session (<code>randomInt</code>) and returns a <code>String</code> response accordingly.
2. It invalidates the user session if the user guesses the right number (i.e., if <code>userNumber</code> equals <code>randomInt</code>). This is necessary so that a new number is generated should the user want to play again.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click in the editor and choose Fix Imports (Alt-Shift-I; ⌘-Shift-I on Mac). Import statements are automatically created for:</p>
<div class="ulist">
<ul>
<li>
<p><code>javax.servlet.http.HttpSession</code></p>
</li>
<li>
<p><code>javax.faces.context.FacesContext</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can press Ctrl-Space on items in the editor to invoke code-completion suggestions and documentation support. Press Ctrl-Space on <code>FacesContext</code> to view the class description from the Javadoc.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/documentation-support.png" alt="documentation support">
</div>
<div class="title">Figure 11. Press Ctrl-Space to invoke code-completion and documentation support</div>
</div>
<div class="paragraph">
<p>Click the web browser ( images:./web-browser-icon.png[] ) icon in the documentation window to open the Javadoc in an external web browser.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wire"><a class="anchor" href="#wire"></a>Wiring Managed Beans to Pages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the primary purposes of JSF is to remove the need to write boilerplate code to manage <a href="#pojo">POJO</a>s and their interaction with the application&#8217;s views. You saw an example of this in the previous section, where JSF instantiated a <code>UserNumberBean</code> object when you ran the application. This notion is referred to as <a href="http://martinfowler.com/articles/injection.html">Inversion of Control</a> (IoC), which enables the container to take responsibility for managing portions of the application that would otherwise require the developer to write repetitious code.</p>
</div>
<div class="paragraph">
<p>In the previous section you created a managed bean that generates a random number between 0 and 10. You also created two properties, <code>userNumber</code>, and <code>response</code>, which represent the number input by the user, and the response to a user guess, respectively.</p>
</div>
<div class="paragraph">
<p>In this section, you explore how you can use the <code>UserNumberBean</code> and its properties in web pages. JSF enables you to do this using its expression language (EL). You use the expression language to bind property values to JSF&#8217;s UI components contained in your application&#8217;s web pages. This section also demonstrates how you can take advantage of JSF 2.x&#8217;s implicit navigation feature to navigate between the index and response pages.</p>
</div>
<div class="paragraph">
<p>The IDE provides support for this work through its code completion and documentation facilities, which you can invoke by pressing Ctrl-Space on items in the editor.</p>
</div>
<div class="paragraph">
<p>Start by making changes to <code>index.xhtml</code>, then make changes to <code>response.xhtml</code>. In both pages, replace HTML form elements with their JSF counterparts, as they are defined in the <a href="http://javaserverfaces.java.net/nonav/docs/2.1/vdldocs/facelets/index.html">JSF HTML tag library</a>. Then, use the JSF expression language to bind property values with selected UI components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#index">index.xhtml</a></p>
</li>
<li>
<p><a href="#response">response.xhtml</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="index"><a class="anchor" href="#index"></a>index.xhtml</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the <code>index.xhtml</code> page in the editor. Either double-click the <code>index.xhtml</code> node from the Projects window, or press Alt-Shift-O to use the Go to File dialog.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both index and response pages already contain the JSF UI components you require for this exercise. Simply uncomment them and comment out the HTML elements currently being used.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Comment out the HTML form element. To do so, highlight the HTML form element as in the image below, then press Ctrl-/ (⌘-/ on Mac).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Note: *To highlight, either click and drag in the editor with your mouse, or, using the keyboard, hold Shift and press the arrow keys.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/comment-out.png" alt="comment out">
</div>
<div class="title">Figure 12. Highlight code, then press Ctrl-/ to comment out code</div>
</div>
<div class="paragraph">
<p>Use Ctrl-/ (⌘-/ on Mac) to toggle comments in the editor. You can also apply this keyboard shortcut to other file types, such as Java and CSS.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Uncomment the JSF HTML form component. Highlight the component as in the image below, then press Ctrl-/ (⌘-/ on Mac).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note.</strong> You might need to press Ctrl-/ twice to uncomment the code.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/comment.png" alt="comment">
</div>
<div class="title">Figure 13. Highlight commented-out code, then press Ctrl-/ to uncomment it</div>
</div>
<div class="paragraph">
<p>After uncommenting the JSF HTML form component, the editor indicates that the <code>&lt;h:form&gt;</code>, <code>&lt;h:inputText&gt;</code>, and <code>&lt;h:commandButton&gt;</code> tags haven&#8217;t been declared.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/undeclared-component.png" alt="undeclared component">
</div>
<div class="title">Figure 14. The editor provides error messages for undeclared components</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To declare these components, use the IDE&#8217;s code completion to add the tag library namespace to the page&#8217;s <code>&lt;html&gt;</code> tag. Place your cursor on any of the undeclared tags and press Alt-Enter and click Enter to add the suggested tag library. (If there are multiple options, make sure to select the tag that is displayed in the editor before clicking Enter.) The JSF HTML tag library namespace is added to the <code>&lt;html&gt;</code> tag (shown in <strong>bold</strong> below), and the error indicators disappear.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note.</strong> If the IDE does not provide the option to add the tag library you will need to manually modify the  <code>&lt;html&gt;</code>  element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      *xmlns:h="http://xmlns.jcp.org/jsf/html"*&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the JSF expression language to bind <code>UserNumberBean&#8217;s `userNumber</code> property to the <code>inputText</code> component. The <code>value</code> attribute can be used to specify the current value of the rendered component. Type in the code displayed in <strong>bold</strong> below.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;h:form&gt;
    &lt;h:inputText id="userNumber" size="2" maxlength="2" *value="#{UserNumberBean.userNumber}"* /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSF expression language uses the <code>#{}</code> syntax. Within these delimiters, you specify the name of the managed bean and the bean property you want to apply, separated by a dot (<code>.</code>). Now, when the form data is sent to the server, the value is automatically saved in the <code>userNumber</code> property using the property&#8217;s setter (<code>setUserNumber()</code>). Also, when the page is requested and a value for <code>userNumber</code> has already been set, the value will automatically display in the rendered <code>inputText</code> component. For more information, see the <a href="http://docs.oracle.com/javaee/7/tutorial/doc/jsf-develop001.htm#BNAQP">Java EE 7 Tutorial: 12.1.2 Using the EL to Reference Managed Beans</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify the destination for the request that is invoked when clicking the form button. In the HTML version of the form, you were able to do this using the <code>&lt;form&gt;</code> tag&#8217;s <code>action</code> attribute. With JSF, you can use the <code>commandButton&#8217;s `action</code> attribute. Furthermore, due to JSF 2.x&#8217;s implicit navigation feature, you only need to specify the name of the destination file, without the file extension.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Type in the code displayed in <strong>bold</strong> below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:form&gt;
    &lt;h:inputText id="userNumber" size="2" maxlength="2" value="#{UserNumberBean.userNumber}" /&gt;
    &lt;h:commandButton id="submit" value="submit" *action="response"* /&gt;
&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The JSF runtime searches for a file named <code>response</code>. It assumes the file extension is the same as the extension used by file from which the request originated (<code>index*.xhtml*</code>) and looks for for the <code>response.xhtml</code> file in the same directory as the originating file (i.e., the webroot).</p>
</div>
<div class="paragraph">
<p>*Note: *JSF 2.x aims to make developers' tasks much easier. If you were using JSF 1.2 for this project, you would need to declare a navigation rule in a Faces configuration file that would look similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;navigation-rule&gt;
    &lt;from-view-id&gt;/index.xhtml&lt;/from-view-id&gt;

    &lt;navigation-case&gt;
        &lt;from-outcome&gt;response&lt;/from-outcome&gt;
        &lt;to-view-id&gt;/response.xhtml&lt;/to-view-id&gt;
    &lt;/navigation-case&gt;
&lt;/navigation-rule&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Steps 7 through 12 below are optional. If you&#8217;d like to quickly build the project, skip ahead to <a href="#response"><code>response.xhtml</code></a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Test whether the above EL expression does in fact call the <code>setUserNumber()</code> method when the request is processed. To do so, use the IDE&#8217;s Java debugger.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Switch to the <code>UserNumberBean</code> class (Press Ctrl-Tab and choose the file from the list.) Set a breakpoint on the <code>setUserNumber()</code> method signature. You can do this by clicking in the left margin. A red badge displays, indicating a method breakpoint has been set.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/set-breakpoint.png" alt="set breakpoint">
</div>
<div class="title">Figure 15. Click in the editor&#8217;s left margin to set breakpoints</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Debug Project ( images:./breakpoint-btn.png[] ) button in the IDE&#8217;s main toolbar. A debug session starts, and the project welcome page opens in the browser.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Notes.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>You might be prompted to confirm the server port for debugging the application.</p>
</li>
<li>
<p>If a Debug Project dialog displays, select the default 'Server side Java' option and click Debug.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the browser, enter a number into the form and click the 'submit' button.</p>
</li>
<li>
<p>Switch back to the IDE and inspect the <code>UserNumberBean</code> class. The debugger is suspended within the <code>setUserNumber()</code> method.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/debugger-suspended.png" alt="debugger suspended">
</div>
<div class="title">Figure 16. Debugger suspends according to breakpoints</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the Debugger&#8217;s Variables window (Choose Window &gt; Debugging &gt; Variables, or press Ctrl-Shift-1). You see the variable values for the point at which the debugger is suspended.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/variables-window.png" alt="variables window">
</div>
<div class="title">Figure 17. Monitor variable values using the Debugger&#8217;s Variables window</div>
</div>
<div class="paragraph">
<p>In the image above, a value of &#8216;4&#8217; is provided for the <code>userNumber</code> variable in the <code>setUserNumber()</code> signature. (The number 4 was entered into the form.) &#8216;this&#8217; refers to the <code>UserNumberBean</code> object that was created for the user session. Beneath it, you see that the value for the <code>userNumber</code> property is currently <code>null</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Debugger toolbar, click the Step Into ( images:./step-into-btn.png[] ) button. The debugger executes the line on which it is currently suspended. The Variables window refreshes, indicating changes from the execution.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/variables-window2.png" alt="variables window2">
</div>
<div class="title">Figure 18. Variables window refreshes when stepping through code</div>
</div>
<div class="paragraph">
<p>The <code>userNumber</code> property is now set to the value entered in the form.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose Debug &gt; Finish Debugger Session (Shift-F5; Shift-Fn-F5 on Mac) from the main menu to stop the debugger.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="response"><a class="anchor" href="#response"></a>response.xhtml</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the <code>response.xhtml</code> page in the editor. Either double-click the <code>response.xhtml</code> node from the Projects window, or press Alt-Shift-O to use the Go to File dialog.</p>
</li>
<li>
<p>Comment out the HTML form element. Highlight the opening and closing HTML <code>&lt;form&gt;</code> tags and the code between them, then press Ctrl-/ (⌘-/ on Mac).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Note: *To highlight, either click and drag in the editor with your mouse, or, using the keyboard, hold Shift and press the arrow keys.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Uncomment the JSF HTML form component. Highlight the opening and closing <code>&lt;h:form&gt;</code> tags and the code between them, then press Ctrl-/ (⌘-/ on Mac).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this stage, your code between the <code>&lt;body&gt;</code> tags looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;body&gt;
    &lt;div id="mainContainer"&gt;

        &lt;div id="left" class="subContainer greyBox"&gt;

            &lt;h4&gt;[ response here ]&lt;/h4&gt;

            &lt;!--&lt;form action="index.xhtml"&gt;

                &lt;input type="submit" id="backButton" value="Back"/&gt;

            &lt;/form&gt;--&gt;

            &lt;h:form&gt;

                &lt;h:commandButton id="backButton" value="Back" /&gt;

            &lt;/h:form&gt;

        &lt;/div&gt;

        &lt;div id="right" class="subContainer"&gt;

            &lt;img src="duke.png" alt="Duke waving" /&gt;
             &lt;!--&lt;h:graphicImage url="/duke.png" alt="Duke waving" /&gt;--&gt;

        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After uncommenting the JSF HTML form component, the editor indicates that the <code>&lt;h:form&gt;</code> and <code>&lt;h:commandButton&gt;</code> tags haven&#8217;t been declared.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To declare these components, use the IDE&#8217;s code completion to add the tag library namespace to the page&#8217;s <code>&lt;html&gt;</code> tag.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use the editor&#8217;s code completion support to add required JSF namespaces to the file. When selecting a JSF or Facelets tag through code completion, the required namespace is automatically added to the document&#8217;s root element. For more information, see <a href="../jsf20-support/#facelets" class="xref page">JSF 2.x Support in NetBeans IDE</a>.</p>
</div>
<div class="paragraph">
<p>Place your cursor on any of the undeclared tags and press Ctrl-Space. Code completion suggestions and documentation support displays.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/code-completion2.png" alt="code completion2">
</div>
<div class="title">Figure 19. Press Ctrl-Space to invoke code completion suggestions and a documentation pop-up window</div>
</div>
<div class="paragraph">
<p>Click Enter. (If there are multiple options, make sure to select the tag that is displayed in the editor before clicking Enter.) The JSF HTML tag library namespace is added to the <code>&lt;html&gt;</code> tag (shown in <strong>bold</strong> below), and the error indicators disappear.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      *xmlns:h="http://xmlns.jcp.org/jsf/html"*&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify the destination for the request that is invoked when the user clicks the form button. You want to set the button so that when a user clicks it, he or she is returned to the index page. To accomplish this, use the <code>commandButton&#8217;s `action</code> attribute. Type in the code displayed in <strong>bold</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:form&gt;

    &lt;h:commandButton id="backButton" value="Back" *action="index"* /&gt;

&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note: *By typing <code>action="index"</code>, you are relying on JSF&#8217;s implicit navigation feature. When a user clicks the form button, the JSF runtime searches for a file named <code>index</code>. It assumes the file extension is the same as the extension used by file from which the request originated (<code>response</strong>.xhtml*</code>) and looks for for the <code>index.xhtml</code> file in the same directory as the originating file (i.e., the webroot).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace the static "[ response here ]" text with the value of the <code>UserNumberBean&#8217;s `response</code> property. To do this, use the JSF expression language. Enter the following (in <strong>bold</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;div id="left" class="subContainer greyBox"&gt;

    &lt;h4&gt;*&lt;h:outputText value="#{UserNumberBean.response}"/&gt;*&lt;/h4&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project (click the Run Project ( images:./run-project-btn.png[] ) button, or press F6; fn-F6 on Mac). When the welcome page displays in the browser, enter a number and click <code>submit</code>. You see the response page display similar to the following (provided you did not guess the correct number).</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response2.png" alt="response2">
</div>
<div class="title">Figure 20. View the current status of the project in a browser</div>
</div>
<div class="paragraph">
<p>Two things are wrong with the current status of the response page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The html <code>&lt;p&gt;</code> tags are displaying in the response message.</p>
</li>
<li>
<p>The Back button is not displaying in the correct location. (Compare it to the <a href="#originalVersion">original version</a>.)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following two steps correct these points, respectively.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the <code>&lt;h:outputText&gt;</code> tag&#8217;s <code>escape</code> attribute to <code>false</code>. Place your cursor between <code>outputText</code> and <code>value</code>, insert a space, then press Ctrl-Space to invoke code-completion. Scroll down to choose the <code>escape</code> attribute and inspect the documentation.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/escape-false.png" alt="escape false">
</div>
<div class="title">Figure 21. Press Ctrl-Space to view possible attribute values and documentation</div>
</div>
<div class="paragraph">
<p>As indicated by the documentation, the <code>escape</code> value is set to <code>true</code> by default. This means that any characters that would normally be parsed as html are included in the string, as shown above. Setting the value to <code>false</code> enables any characters that can be parsed as html to be rendered as such.</p>
</div>
<div class="paragraph">
<p>Click Enter, then type <code>false</code> as the value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h4&gt;&lt;h:outputText *escape="false"* value="#{UserNumberBean.response}"/&gt;&lt;/h4&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the <code>&lt;h:form&gt;</code> tag&#8217;s <code>prependId</code> attribute to <code>false</code>. Place your cursor just after &#8216;m&#8217; in <code>&lt;h:form&gt;</code> and insert a space, then press Ctrl-Space to invoke code-completion. Scroll down to choose the <code>prependId</code> attribute and inspect the documentation. Then click Enter, and type <code>false</code> as the value.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;h:form *prependId="false"*&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSF applies internal id&#8217;s to keep track of UI components. In the current example, if you inspect the source code of the rendered page, you will see something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;form id="j_idt5" name="j_idt5" method="post" action="/jsfDemo/faces/response.xhtml" enctype="application/x-www-form-urlencoded"&gt;
&lt;input type="hidden" name="j_idt5" value="j_idt5" /&gt;
    &lt;input *id="j_idt5:backButton"* type="submit" name="j_idt5:backButton" value="Back" /&gt;
    &lt;input type="hidden" name="javax.faces.ViewState" id="javax.faces.ViewState" value="7464469350430442643:-8628336969383888926" autocomplete="off" /&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The id for the form element is <code>j_idt5</code>, and this id is <em>prepended</em> to the id for the Back button included in the form (shown in <strong>bold</strong> above). Because the Back button relies on the <code>#backButton</code> style rule (defined in <code>stylesheet.css</code>), this rule becomes obstructed when the JSF id is prepended. This can be avoided by setting <code>prependId</code> to <code>false</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project again (click the Run Project ( images:./run-project-btn.png[] ) button, or press F6; fn-F6 on Mac). Enter a number in the welcome page, then click Submit. The response page now displays the response message without the <code>&lt;p&gt;</code> tags, and the Back button is positioned correctly.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response3.png" alt="response3">
</div>
<div class="title">Figure 22. View the current status of the project in a browser</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Back button. Because the current value of <code>UserNumberBean&#8217;s `userNumber</code> property is bound to the JSF <code>inputText</code> component, the number you previously entered is now displayed in the text field.</p>
</li>
<li>
<p>Inspect the server log in the IDE&#8217;s Output window (Ctrl-4; ⌘-4 on Mac) to determine what the correct guess number is.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you can&#8217;t see the server log for any reason, you can open it by switching to the Services window (Ctrl-5; ⌘-5 on Mac) and expanding the Servers node. Then right-click the GlassFish server on which the project is deployed and choose View Server Log. If you cannot see the number in the server log, try rebuilding the application by right-clicking the project node and choosing Clean and Build.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type in the correct number and click Submit. The application compares your input with the currently saved number and displays the appropriate message.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/yay.png" alt="yay">
</div>
<div class="title">Figure 23. Correct response is displayed when entering the matching number</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the Back button again. Notice that the previously entered number is no longer displayed in the text field. Recall that <code>UserNumberBean&#8217;s `getResponse()</code> method <a href="#getResponse">invalidates the current user session</a> upon guessing the correct number.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="template"><a class="anchor" href="#template"></a>Applying a Facelets Template</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Facelets has become the standard display technology for JSF 2.x. Facelets is a light-weight templating framework that supports all of the JSF UI components and is used to build and render the JSF component tree for application views. It also provides development support when EL errors occur by enabling you to inspect the stack trace, component tree, and scoped variables.</p>
</div>
<div class="paragraph">
<p>Although you may not have realized it, the <code>index.xhtml</code> and <code>response.xhtml</code> files you have been working with so far in the tutorial are Facelets pages. Facelets pages use the <code>.xhtml</code> extension and since you are working in a JSF 2.x project (The JSF 2.x libraries include the Facelets JAR files.), the views were able to appropriately render the JSF component tree.</p>
</div>
<div class="paragraph">
<p>The purpose of this section is to familiarize you with Facelets templating. For projects containing many views, it is often advantageous to apply a template file that defines the structure and appearance for multiple views. When servicing requests, the application inserts dynamically prepared content into the template file and sends the result back to the client. Although this project only contains two views (the welcome page and the response page), it is easy to see that they contain a lot of duplicated content. You can factor out this duplicated content into a Facelets template, and create template client files to handle content that is specific to the welcome and response pages.</p>
</div>
<div class="paragraph">
<p>The IDE provides a <a href="../jsf20-support/#faceletsTemplate" class="xref page">Facelets Template wizard</a> for creating Facelets templates, and a Facelets Template Client wizard for creating files that rely on a template. This section makes use of these wizards.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The IDE also provides a JSF Page wizard that enables you to create individual Facelets pages for your project. For more information, see <a href="../jsf20-support/#jsfPage" class="xref page">JSF 2.x Support in NetBeans IDE</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#templateFile">Creating the Facelets Template File</a></p>
</li>
<li>
<p><a href="#templateClient">Creating Template Client Files</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="templateFile"><a class="anchor" href="#templateFile"></a>Creating the Facelets Template File</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a Facelets template file. Press Ctrl-N (⌘-N on Mac) to open the File wizard. Select the JavaServer Faces category, then Facelets Template. Click Next.</p>
</li>
<li>
<p>Type in <code>template</code> for the file name.</p>
</li>
<li>
<p>Choose from any of the eight layout styles and click Finish. (You will be using the existing stylesheet, so it does not matter which layout style you choose.)</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/layout-style.png" alt="layout style">
</div>
<div class="title">Figure 24. Facelets Template wizard lets you select from common layout styles</div>
</div>
<div class="paragraph">
<p>The wizard generates the <code>template.xhtml</code> file and accompanying stylesheets based on your selection, and places these in a <code>resources</code> &gt; <code>css</code> folder within the project&#8217;s webroot.</p>
</div>
<div class="paragraph">
<p>After completing the wizard, the template file opens in the editor. To view the template in a browser, right-click in the editor and choose View.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Examine the template file markup. Note the following points:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>facelets</code> tag library is declared in the page&#8217;s <code>&lt;html&gt;</code> tag. The tag library has the <code>ui</code> prefix.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      *xmlns:ui="http://xmlns.jcp.org/jsf/facelets"*
      xmlns:h="http://xmlns.jcp.org/jsf/html"&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The Facelets page uses the <code>&lt;h:head&gt;</code> and <code>&lt;h:body&gt;</code> tags instead of the html <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tags. By using these tags, Facelets is able to construct a component tree that encompasses the entire page.</p>
</li>
<li>
<p>The page references the stylesheets that were also created when you completed the wizard.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
    *&lt;link href="./resources/css/default.css" rel="stylesheet" type="text/css" /&gt;*
    *&lt;link href="./resources/css/cssLayout.css" rel="stylesheet" type="text/css" /&gt;*
    &lt;title&gt;Facelets Template&lt;/title&gt;
&lt;/h:head&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;ui:insert&gt;</code> tags are used in the page&#8217;s body for every compartment associated with the layout style you chose. Each <code>&lt;ui:insert&gt;</code> tag has a <code>name</code> attribute that identifies the compartment. For example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;div id="top"&gt;
    *&lt;ui:insert name="top"&gt;Top&lt;/ui:insert&gt;*
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reexamine the <a href="#staticPage">welcome</a> and <a href="#responsePage">response</a> pages. The only content that changes between the two pages is the title and the text contained in the grey square. The template, therefore, can provide all remaining content.</p>
</li>
<li>
<p>Replace the entire content of your template file with the content below.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"&gt;

    &lt;h:head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
        &lt;link href="css/stylesheet.css" rel="stylesheet" type="text/css" /&gt;

        &lt;title&gt;&lt;ui:insert name="title"&gt;Facelets Template&lt;/ui:insert&gt;&lt;/title&gt;
    &lt;/h:head&gt;

    &lt;h:body&gt;

        &lt;div id="left"&gt;
            &lt;ui:insert name="box"&gt;Box Content Here&lt;/ui:insert&gt;
        &lt;/div&gt;

    &lt;/h:body&gt;

&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code implements the following changes:
* The project&#8217;s <code>stylesheet.css</code> file replaces the template stylesheet references created by the wizard.
* All <code>&lt;ui:insert&gt;</code> tags (and their containing <code>&lt;div&gt;</code> tags) have been removed, except for one named <code>box</code>.
* An <code>&lt;ui:insert&gt;</code> tag pair has been placed around the page title, and named <code>title</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy relevant code from either the <code>index.xhtml</code> or <code>response.xhtml</code> file into the template. Add the content shown in <strong>bold</strong> below to the template file&#8217;s <code>&lt;h:body&gt;</code> tags.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;h:body&gt;
    *&lt;div id="mainContainer"&gt;*
        &lt;div id="left" *class="subContainer greyBox"*&gt;
            &lt;ui:insert name="box"&gt;Box Content Here&lt;/ui:insert&gt;
        &lt;/div&gt;
        *&lt;div id="right" class="subContainer"&gt;
            &lt;img src="duke.png" alt="Duke waving" /&gt;
        &lt;/div&gt;
    &lt;/div&gt;*
&lt;/h:body&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project. When the welcome page opens in the browser, modify the URL to the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">http://localhost:8080/jsfDemo/faces/template.xhtml</code></pre>
</div>
</div>
<div class="paragraph">
<p>The template file displays as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/facelets-template.png" alt="facelets template">
</div>
<div class="title">Figure 25. View the Facelets template in a browser</div>
</div>
<div class="paragraph">
<p>The project now contains a template file that provides the appearance and structure for all views. You can now create client files that invoke the template.</p>
</div>
</div>
<div class="sect2">
<h3 id="templateClient"><a class="anchor" href="#templateClient"></a>Creating Template Client Files</h3>
<div class="paragraph">
<p>Create template client files for the welcome and response pages. Name the template client file for the welcome page <code>greeting.xhtml</code>. For the response page, the file will be <code>response.xhtml</code>.</p>
</div>
<div class="sect3">
<h4 id="_greeting_xhtml"><a class="anchor" href="#_greeting_xhtml"></a>greeting.xhtml</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press Ctrl-N (⌘-N on Mac) to open the New File wizard. Select the JavaServer Faces category, then select Facelets Template Client. Click Next.</p>
</li>
<li>
<p>Type in <code>greeting</code> for the file name.</p>
</li>
<li>
<p>Click the Browse button next to the Template field, then use the dialog that displays to navigate to the <code>template.xhtml</code> file you created in the previous section.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/template-client.png" alt="template client">
</div>
<div class="title">Figure 26. The Facelets Template Client wizard</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click Finish. The new <code>greeting.xhtml</code> template client file is generated and displays in the editor.</p>
</li>
<li>
<p>Examine the markup. Note the content hightlighted in <strong>bold</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"&gt;

    &lt;body&gt;

        &lt;ui:composition *template="./template.xhtml"*&gt;

            &lt;ui:define *name="title"*&gt;
                title
            &lt;/ui:define&gt;

            &lt;ui:define *name="box"*&gt;
                box
            &lt;/ui:define&gt;

        &lt;/ui:composition&gt;

    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The template client file references a template using the <code>&lt;ui:composition&gt;</code> tag&#8217;s <code>template</code> attribute. Because the template contains <code>&lt;ui:insert&gt;</code> tags for <code>title</code> and <code>box</code>, this template client contains <code>&lt;ui:define&gt;</code> tags for these two names. The content that you specify between the <code>&lt;ui:define&gt;</code> tags is what will be inserted into the template between the <code>&lt;ui:insert&gt;</code> tags of the corresponding name.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify <code>greeting</code> as the title for the file. Make the following change in <strong>bold</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="title"&gt;
    *Greeting*
&lt;/ui:define&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Switch to the <code>index.xhtml</code> file (press Ctrl-Tab) and copy the content that would normally appear in the grey square that displays in the rendered page. Then switch back to <code>greeting.xhtml</code> and paste it into the template client file. (Changes in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="box"&gt;
    *&lt;h4&gt;Hi, my name is Duke!&lt;/h4&gt;

    &lt;h5&gt;I'm thinking of a number

        &lt;br/&gt;
        between
        &lt;span class="highlight"&gt;0&lt;/span&gt; and
        &lt;span class="highlight"&gt;10&lt;/span&gt;.&lt;/h5&gt;

    &lt;h5&gt;Can you guess it?&lt;/h5&gt;

    &lt;h:form&gt;
        &lt;h:inputText size="2" maxlength="2" value="#{UserNumberBean.userNumber}" /&gt;
        &lt;h:commandButton id="submit" value="submit" action="response" /&gt;
    &lt;/h:form&gt;*
&lt;/ui:define&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Declare the JSF HTML tag library for the file. Place your cursor on any of the tags that are flagged with an error (any tag using the &#8216;h&#8217; prefix), and press Ctrl-Space. Then select the tag from the list of code completion suggestions. The tag library namespace is added to the file&#8217;s <code>&lt;html&gt;</code> tag (shown in <strong>bold</strong> below), and the error indicators disappear.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      *xmlns:h="http://xmlns.jcp.org/jsf/html"*&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you place your cursor after the &#8216;m&#8217; in <code>&lt;h:form&gt;</code> and press Ctrl-Space, the namespace is automatically added to the file. If only one logical option is available when pressing Ctrl-Space, it is immediately applied to the file. JSF tag libraries are automatically declared when invoking code completion on tags.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_xhtml"><a class="anchor" href="#_response_xhtml"></a>response.xhtml</h4>
<div class="paragraph">
<p>Because the project already contains a file named <code>response.xhtml</code>, and since you know what the template client file should look like now, modify the existing <code>response.xhtml</code> to become the template client file. (For purposes of this tutorial, just copy and paste the provided code.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <code>response.xhtml</code> in the editor. (If it is already opened, press Ctrl-Tab and choose it.) Replace the contents of the entire file with the code below.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"&gt;

    &lt;body&gt;

        &lt;ui:composition template="./template.xhtml"&gt;

            &lt;ui:define name="title"&gt;
                Response
            &lt;/ui:define&gt;

            &lt;ui:define name="box"&gt;
                &lt;h4&gt;&lt;h:outputText escape="false" value="#{UserNumberBean.response}"/&gt;&lt;/h4&gt;

                &lt;h:form prependId="false"&gt;

                    &lt;h:commandButton id="backButton" value="Back" action="greeting" /&gt;

                &lt;/h:form&gt;
            &lt;/ui:define&gt;

        &lt;/ui:composition&gt;

    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the file is identical to <code>greeting.xhtml</code>, except for the content specified between the <code>&lt;ui:define&gt;</code> tags for <code>title</code> and <code>box</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the project&#8217;s <code>web.xml</code> deployment descriptor, modify the welcome file entry so that <code>greeting.xhtml</code> is the page that opens when the application is run.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the Projects window, double-click Configuration Files &gt; <code>web.xml</code> to open it in the editor. Under the Pages tab, change the Welcome Files field to <code>faces/greeting.xhtml</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/welcome-files.png" alt="welcome files">
</div>
<div class="title">Figure 27. Change the Welcome Files entry in the deployment descriptor</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project to see what it looks like in a browser. Press F6 (fn-F6 on Mac), or click the Run Project ( images:./run-project-btn.png[] ) button in the main toolbar. The project is deployed to the GlassFish server, and opens in a browser.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Using the Facelets template and template client files, the application behaves in exactly the same way as it did previously. By factoring out duplicated code in the application&#8217;s welcome and response pages, you succeeded in reducing the size of the application and eliminated the possibility of writing more duplicate code, should more pages be added at a later point. This can make development more efficient and easier to maintain when working in large projects.</p>
</div>
<div class="paragraph">
<p><a href="../../../../../../front/main/community/mailing-lists/" class="xref page">Send Feedback on This Tutorial</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso"><a class="anchor" href="#seealso"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about JSF 2.x, see the following resources.</p>
</div>
<div class="sect2">
<h3 id="_netbeans_articles_and_tutorials"><a class="anchor" href="#_netbeans_articles_and_tutorials"></a>NetBeans Articles and Tutorials</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../jsf20-support/" class="xref page">JSF 2.x Support in NetBeans IDE</a></p>
</li>
<li>
<p><a href="../jsf20-crud/" class="xref page">Generating a JavaServer Faces 2.x CRUD Application from a Database</a></p>
</li>
<li>
<p><a href="../../../../samples/scrum-toys/" class="xref page">Scrum Toys - The JSF 2.0 Complete Sample Application</a></p>
</li>
<li>
<p><a href="../../javaee/javaee-gettingstarted/" class="xref page">Getting Started with Java EE Applications</a></p>
</li>
<li>
<p><a href="../../java-ee/" class="xref page">Java EE &amp;amp; Java Web Learning Trail</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_external_resources"><a class="anchor" href="#_external_resources"></a>External Resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javaee/javaserverfaces-139869.html">JavaServer Faces Technology</a> (Official homepage)</p>
</li>
<li>
<p><a href="http://jcp.org/aboutJava/communityprocess/final/jsr314/index.html">JSR 314 Specification for JavaServer Faces 2.0</a></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javaee/7/tutorial/doc/jsf-develop.htm">The Java EE 7 Tutorial, Chapter 12: Developing with JavaServer Faces Technology</a></p>
</li>
<li>
<p><a href="http://javaserverfaces.dev.java.net/">GlassFish Project Mojarra</a> (Official reference implementation for JSF 2.x)</p>
</li>
<li>
<p><a href="http://forums.oracle.com/forums/forum.jspa?forumID=982">OTN Discussion Forums : JavaServer Faces</a></p>
</li>
<li>
<p><a href="http://www.jsfcentral.com/">JSF Central</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_blogs"><a class="anchor" href="#_blogs"></a>Blogs</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.java.net/blogs/edburns/">Ed Burns</a></p>
</li>
<li>
<p><a href="http://www.java.net/blogs/driscoll/">Jim Driscoll</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/web/jsf20-intro.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2024 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../../.." data-snippet-length="100" data-stylesheet="../../../../../../_/css/search.css"></script>
<script async src="../../../../../../search-index.js"></script>
    <script src="../../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
