<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Creating a Simple Web Application Using a MySQL Database</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creating a Simple Web Application Using a MySQL Database - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Creating a Simple Web Application Using a MySQL Database">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../../index.html"><img src='../../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="../../../../../../front/main/download/nb19">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <article class="doc">
      <h1 class="sect0">Creating a Simple Web Application Using a MySQL Database</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/web/mysql-webapp.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#planStructure">Planning the Structure</a>
<ul class="sectlevel2">
<li><a href="#_index_jsp">index.jsp</a></li>
<li><a href="#_response_jsp">response.jsp</a></li>
</ul>
</li>
<li><a href="#createProject">Creating a New Project</a></li>
<li><a href="#prepareInterface">Preparing the Web Interface</a>
<ul class="sectlevel2">
<li><a href="#welcomePage">Setting up the welcome page</a></li>
<li><a href="#responsePage">Creating the response page</a></li>
<li><a href="#stylesheet">Creating a stylesheet</a></li>
</ul>
</li>
<li><a href="#prepareCommunication">Preparing Communication between the Application and Database</a>
<ul class="sectlevel2">
<li><a href="#setUpJDBC">Setting up a JDBC data source and connection pool</a></li>
<li><a href="#referenceDataSource">Referencing the data source from the application</a></li>
<li><a href="#addJar">Adding the database driver&#8217;s JAR file to the server</a></li>
</ul>
</li>
<li><a href="#addLogic">Adding Dynamic Logic</a>
<ul class="sectlevel2">
<li><a href="#addJSTL">Adding the JSTL library to the project&#8217;s classpath</a></li>
<li><a href="#implementCode">Implementing JSTL code</a></li>
</ul>
</li>
<li><a href="#run">Running the Completed Application</a></li>
<li><a href="#troubleshoot">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#access">Do database resources exist?</a></li>
<li><a href="#datasource">Do the connection pool and data source exist on the server?</a></li>
<li><a href="#driver">Is the MySQL Connector/J driver accessible to the GlassFish server?</a></li>
<li><a href="#password">Is the database password-protected?</a></li>
<li><a href="#ping">Are the connection pool properties correctly set?</a></li>
</ul>
</li>
<li><a href="#seealso">See Also</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Written by Troy Giunipero</p>
</div>
<div class="paragraph">
<p>This document describes how to create a simple web application that connects to a MySQL database server. It also covers some basic ideas and technologies in web development, such as <a href="http://www.oracle.com/technetwork/java/overview-138580.html">JavaServer Pages</a> (JSP), <a href="http://www.oracle.com/technetwork/java/index-jsp-135995.html">JavaServer Pages Standard Tag Library</a> (JSTL), the <a href="http://docs.oracle.com/javase/tutorial/jdbc/overview/index.html">Java Database Connectivity</a> (JDBC) API, and two-tier, client-server architecture. This tutorial is designed for beginners who have a basic understanding of web development and are looking to apply their knowledge using a MySQL database.</p>
</div>
<div class="paragraph">
<p><a href="http://www.mysql.com">MySQL</a> is a popular open source database management system commonly used in web applications due to its speed, flexibility and reliability. MySQL employs SQL, or <em>Structured Query Language</em>, for accessing and processing data contained in databases.</p>
</div>
<div class="paragraph">
<p>This tutorial is a continuation from the <a href="../../ide/mysql/" class="xref page">Connecting to a MySQL Database</a> tutorial and assumes that you have already created a MySQL database named <code>MyNewDatabase</code>, which you have registered a connection for in the NetBeans IDE. The table data used in that tutorial is contained in <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%2520Web%252Fifpwafcad.sql">ifpwafcad.sql</a> and is also required for this tutorial. This SQL file creates two tables, <code>Subject</code> and <code>Counselor</code>, then populates them with sample data. If needed, save this file to your computer, then open it in the NetBeans IDE and run it on the MySQL database named <code>MyNewDatabase</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. Content on this page applies to the NetBeans IDE 7.2, 7.3, 7.4 and 8.0</div>
</div>
<div class="paragraph">
<p><strong>To follow this tutorial, you need the following software and resources.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software or Resource</th>
<th class="tableblock halign-left valign-top">Version Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../../../../../front/main/download/" class="xref page">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0, Java EE bundle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 7 or 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.mysql.com/downloads/mysql/">MySQL database server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL Connector/J JDBC Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 5.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server Open Source Edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.x or 4.x</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Java download bundle of the NetBeans IDE enables you to install the GlassFish server. You require the GlassFish server to work through this tutorial.</p>
</li>
<li>
<p>The <a href="http://dev.mysql.com/downloads/connector/j/">MySQL Connector/J JDBC Driver</a>, necessary for communication between Java platforms and the MySQL database protocol, is included in the NetBeans IDE.</p>
</li>
<li>
<p>If you need to compare your project with a working solution, you can <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%2520Web%252FIFPWAFCAD.zip">download the sample application</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="planStructure"><a class="anchor" href="#planStructure"></a>Planning the Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Simple web applications can be designed using a <em>two-tier architecture</em>, in which a client communicates directly with a server. In this tutorial, a Java web application communicates directly with a MySQL database using the Java Database Connectivity API. Essentially, it is the <a href="http://dev.mysql.com/downloads/connector/j/">MySQL Connector/J JDBC Driver</a> that enables communication between the Java code understood by the application server (the GlassFish server), and any content in SQL, the language understood by the database server (MySQL).</p>
</div>
<div class="paragraph">
<p>The application you build in this tutorial involves the creation of two JSP pages. In each of these pages you use HTML and CSS to implement a simple interface, and apply JSTL technology to perform the logic that directly queries the database and inserts the retrieved data into the two pages. The two database tables, <code>Subject</code> and <code>Counselor</code>, are contained in the MySQL database, <code>MyNewDatabase</code>, which you create by completing the <a href="../../ide/mysql/" class="xref page">Connecting to a MySQL Database</a> tutorial. Consider the following two-tier scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/ifpwafcad-structure.png" alt="ifpwafcad structure">
</div>
<div class="title">Figure 2. Sample structure of a two-tier web application</div>
</div>
<div class="paragraph">
<p>The welcome page (<code>index.jsp</code>) presents the user with a simple HTML form. When a browser requests <code>index.jsp</code>, the JSTL code within the page initiates a query on <code>MyNewDatabase</code>. It retrieves data from the <code>Subject</code> database table, and inserts it into to the page before it is sent to the browser. When the user submits his or her selection in the welcome page&#8217;s HTML form, the submit initiates a request for the response page (<code>response.jsp</code>). Again, the JSTL code within the page initiates a query on <code>MyNewDatabase</code>. This time, it retrieves data from both the <code>Subject</code> and <code>Counselor</code> tables and inserts it into to the page, allowing the user to view data based upon his or her selection when the page is returned to the browser.</p>
</div>
<div class="paragraph">
<p>In order to implement the scenario described above, you develop a simple application for a fictitious organization named IFPWAFCAD, The International Former Professional Wrestlers' Association for Counseling and Development.</p>
</div>
<div class="sect2">
<h3 id="_index_jsp"><a class="anchor" href="#_index_jsp"></a>index.jsp</h3>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/index-page.png" alt="index page">
</div>
<div class="title">Figure 3. index.jsp displayed in a browser</div>
</div>
</div>
<div class="sect2">
<h3 id="_response_jsp"><a class="anchor" href="#_response_jsp"></a>response.jsp</h3>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response-page.png" alt="response page">
</div>
<div class="title">Figure 4. response.jsp displayed in a browser</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="createProject"><a class="anchor" href="#createProject"></a>Creating a New Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Begin by creating a new Java web project in the IDE:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose File &gt; New Project (Ctrl-Shift-N; ⌘-Shift-N on Mac) from the main menu. Select the Java Web category, then select Web Application. Click Next.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/new-project.png" alt="new project">
</div>
<div class="title">Figure 5. Use the IDE&#8217;s New Project wizard to create a new project</div>
</div>
<div class="paragraph">
<p>The New Project wizard allows you to create an empty web application in a standard IDE project. The standard project uses an IDE-generated Ant build script to compile, deploy, and run the application.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Project Name, enter <strong>IFPWAFCAD</strong>. Also, specify the location for the project on your computer. (By default, the IDE places projects in a <code>NetBeansProjects</code> folder located in your home directory.) Click Next.</p>
</li>
<li>
<p>In the Server and Settings panel, specify the GlassFish server as server which will be used to run the application.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Note. *The GlassFish server displays in the Server drop-down field if you installed the Java version of the <a href="../../../../../../front/main/download/" class="xref page">NetBeans IDE</a>. Because the GlassFish server is included in the download, it is automatically registered with the IDE. If you want to use a different server for this project, click the Add button located next to the Server drop-down field, and register a different server with the IDE. However, working with servers other than the GlassFish server is beyond the scope of this tutorial.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Java EE Version field, select <strong>Java EE 5</strong>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/server-settings.png" alt="server settings">
</div>
<div class="title">Figure 6. Specify server settings in the New Web Application wizard</div>
</div>
<div class="paragraph">
<p>Java EE 6 and Java EE 7 web projects do not require the use of the <code>web.xml</code> deployment descriptor, and the NetBeans project template does not include the <code>web.xml</code> file in Java EE 6 and Java EE 7 projects. However, this tutorial demonstrates how to declare a data source in the deployment descriptor, and it does not rely on any features specific to Java EE 6 or Java EE 7, so you can set the project version to Java EE 5.</p>
</div>
<div class="paragraph">
<p><strong>Note.</strong> You could equally set the project version to Java EE 6 or Java EE 7 and then create a <code>web.xml</code> deployment descriptor. (From the New File wizard, select the Web category, then Standard Deployment Descriptor.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click Finish. The IDE creates a project template for the entire application, and opens an empty JSP page (<code>index.jsp</code>) in the editor. The <code>index.jsp</code> file serves as the welcome page for the application.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prepareInterface"><a class="anchor" href="#prepareInterface"></a>Preparing the Web Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Begin by preparing the welcome (<code>index.jsp</code>) and response (<code>response.jsp</code>) pages. The welcome page implements an HTML form that is used to capture user data. Both pages implement an HTML table to display data in a structured fashion. In this section, you also create a stylesheet that enhances the appearance of both pages.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#welcomePage">Setting up the welcome page</a></p>
</li>
<li>
<p><a href="#responsePage">Creating the response page</a></p>
</li>
<li>
<p><a href="#stylesheet">Creating a stylesheet</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="welcomePage"><a class="anchor" href="#welcomePage"></a>Setting up the welcome page</h3>
<div class="paragraph">
<p>Confirm that <code>index.jsp</code> is open in the editor. If the file is not already open, double-click <code>index.jsp</code> under the Web Pages node in the IFPWAFCAD project in the Projects window.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the editor, change the text between the <code>&lt;title&gt;</code> tags to: <code>IFPWAFCAD Homepage</code>.</p>
</li>
<li>
<p>Change the text between the <code>&lt;h1&gt;</code> tags to: <code>Welcome to IFPWAFCAD, the International Former Professional Wrestlers' Association for Counseling and Development!</code>.</p>
</li>
<li>
<p>Open the IDE&#8217;s Palette by choosing Window &gt; Palette (Ctrl-Shift-8; ⌘-Shift-8 on Mac) from the main menu. Hover your pointer over the Table icon from the HTML category and note that the default code snippet for the item displays.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/palette.png" alt="palette">
</div>
<div class="title">Figure 7. Palette displays code snippet when hovering over an item</div>
</div>
<div class="paragraph">
<p><span class="tips">You can configure the Palette to your liking - right-click in the Palette and choose Show Big Icons and Hide Item Names to have it display as in the image above.</span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place your cursor at a point just after the <code>&lt;h1&gt;</code> tags. (This is where you want to implement the new HTML table.) Then, in the Palette, double-click the Table icon.</p>
</li>
<li>
<p>In the Insert Table dialog that displays, specify the following values then click OK:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Rows</strong>: 2</p>
</li>
<li>
<p><strong>Columns</strong>: 1</p>
</li>
<li>
<p><strong>Border Size</strong>: 0
The HTML table code is generated and added to your page.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Add the following content to the table heading and the cell of the first table row (new content shown in <strong>bold</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;table border="0"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;*IFPWAFCAD offers expert counseling in a wide range of fields.*&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr&gt;
            &lt;td&gt;*To view the contact details of an IFPWAFCAD certified former
                professional wrestler in your area, select a subject below:*&lt;/td&gt;
        &lt;/tr&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For the bottom row of the table, insert an HTML form. To do so, place your cursor between the second pair of <code>&lt;td&gt;</code> tags, then double-click the HTML form ( images:./html-form-icon.png[] ) icon in the Palette. In the Insert Form dialog, type in <code>response.jsp</code> in the Action text field, then click OK.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/insert-form.png" alt="insert form">
</div>
<div class="title">Figure 8. Specify form settings in the Insert Form dialog</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type in the following content between the <code>&lt;form&gt;</code> tags (new content shown in <strong>bold</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;tr&gt;
    &lt;td&gt;
        &lt;form action="response.jsp"&gt;
            *&lt;strong&gt;Select a subject:&lt;/strong&gt;*
        &lt;/form&gt;
    &lt;/td&gt;
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press Enter to add an empty line after the content you just added and then double-click Drop-down List in the Palette to open the Insert Drop-down dialog box.</p>
</li>
<li>
<p>Type <code>subject_id</code> for the Name text field in the Insert Drop-down dialog and click OK. Note that the code snippet for the drop-down list is added to the form.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The number of options for the drop-down is currently not important. Later in the tutorial you will add JSTL tags that dynamically generate options based on the data gathered from the Subject database table.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a submit button item ( images:./submit-button.png[] ) to a point just after the drop-down list you just added. You can either use the Palette to do this, or invoke the editor&#8217;s code completion as illustrated in the previous step. In the Insert Button dialog, enter <code>submit</code> for both the Label and Name text fields, then click OK.</p>
</li>
<li>
<p>To format your code, right-click in the editor and choose Format (Alt-Shift-F; Ctrl-Shift-F on Mac). Your code is automatically formatted, and should now look similar to the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;body&gt;
    &lt;h2&gt;Welcome to &lt;strong&gt;IFPWAFCAD&lt;/strong&gt;, the International Former
        Professional Wrestlers' Association for Counseling and Development!
    &lt;/h2&gt;

    &lt;table border="0"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;IFPWAFCAD offers expert counseling in a wide range of fields.&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td&gt;To view the contact details of an IFPWAFCAD certified former
                    professional wrestler in your area, select a subject below:&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;
                    &lt;form action="response.jsp"&gt;
                        &lt;strong&gt;Select a subject:&lt;/strong&gt;
                        &lt;select name="subject_id"&gt;
                            &lt;option&gt;&lt;/option&gt;
                        &lt;/select&gt;
                        &lt;input type="submit" value="submit" name="submit" /&gt;
                    &lt;/form&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view this page in a browser, right-click in the editor and choose Run File (Shift-F6; Fn-Shift-F6 on Mac). When you do this, the JSP page is automatically compiled and deployed to your server. The IDE opens your default browser to display the page from its deployed location.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/browser-output.png" alt="browser output">
</div>
<div class="title">Figure 9. index.jsp displays in a browser</div>
</div>
</div>
<div class="sect2">
<h3 id="responsePage"><a class="anchor" href="#responsePage"></a>Creating the response page</h3>
<div class="paragraph">
<p>In order to prepare the interface for <code>response.jsp</code> you must first create the file in your project. Note that most of the content that displays in this page is generated dynamically using JSP technology. Therefore, in the following steps you add <em>placeholders</em> which you will later substitute for the JSP code.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click the IFPWAFCAD project node in the Projects window and choose New &gt; JSP. The New JSP File dialog opens.</p>
</li>
<li>
<p>In the JSP File Name field, enter <code>response</code>. Note that Web Pages is currently selected for the Location field, meaning that the file will be created in the project&#8217;s <code>web</code> directory. This is the same location as where the <code>index.jsp</code> welcome page resides.</p>
</li>
<li>
<p>Accept any other default settings and click Finish. A template for the new <code>response.jsp</code> page is generated and opens in the editor. A new JSP node also displays under Web Pages in the Projects window.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response-jsp-node.png" alt="response jsp node">
</div>
<div class="title">Figure 10. response.jsp node appears in the Projects window</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the editor, change the title to: <code>IFPWAFCAD - {placeholder}</code>.</p>
</li>
<li>
<p>Remove the <code>&lt;h1&gt;Hello World!&lt;/h1&gt;</code> line between the <code>&lt;body&gt;</code> tags, then copy and paste the following HTML table into the body of the page:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;table border="0"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th colspan="2"&gt;{placeholder}&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;strong&gt;Description: &lt;/strong&gt;&lt;/td&gt;
            &lt;td&gt;&lt;span style="font-size:smaller; font-style:italic;"&gt;{placeholder}&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;strong&gt;Counselor: &lt;/strong&gt;&lt;/td&gt;
            &lt;td&gt;{placeholder}
                &lt;br&gt;
                &lt;span style="font-size:smaller; font-style:italic;"&gt;
                member since: {placeholder}&lt;/span&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;strong&gt;Contact Details: &lt;/strong&gt;&lt;/td&gt;
            &lt;td&gt;&lt;strong&gt;email: &lt;/strong&gt;
                &lt;a href="mailto:{placeholder}"&gt;{placeholder}&lt;/a&gt;
                &lt;br&gt;&lt;strong&gt;phone: &lt;/strong&gt;{placeholder}
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view this page in a browser, right-click in the editor and choose Run File (Shift-F6; Fn-Shift-F6 on Mac). The page compiles, is deployed to the GlassFish server, and opens in your default browser.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/browser-response.png" alt="browser response">
</div>
<div class="title">Figure 11. response.jsp displays in a browser</div>
</div>
</div>
<div class="sect2">
<h3 id="stylesheet"><a class="anchor" href="#stylesheet"></a>Creating a stylesheet</h3>
<div class="paragraph">
<p>Create a simple stylesheet that enhances the display of the web interface. This tutorial assumes that you understand how style rules function, and how they affect corresponding HTML elements found in <code>index.jsp</code> and <code>response.jsp</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the New File wizard by pressing the New File ( images:./new-file-btn.png[] ) button in the IDE&#8217;s main toolbar. Select the Web category, then select Cascading Style Sheet and click Next.</p>
</li>
<li>
<p>Type <code>style</code> for CSS File Name and click Finish. The IDE creates an empty CSS file and places it in the same project location as <code>index.jsp</code> and <code>response.jsp</code>. Note that a node for <code>style.css</code> now displays within the project in the Projects window, and the file opens in the editor.</p>
</li>
<li>
<p>In the editor, add the following content to the <code>style.css</code> file:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">body {
    font-family: Verdana, Arial, sans-serif;
    font-size: smaller;
    padding: 50px;
    color: #555;
}

h1 {
    text-align: left;
    letter-spacing: 6px;
    font-size: 1.4em;
    color: #be7429;
    font-weight: normal;
    width: 450px;
}

table {
    width: 580px;
    padding: 10px;
    background-color: #c5e7e0;
}

th {
    text-align: left;
    border-bottom: 1px solid;
}

td {
    padding: 10px;
}

a:link {
   color: #be7429;
   font-weight: normal;
   text-decoration: none;
}

a:link:hover {
   color: #be7429;
   font-weight: normal;
   text-decoration: underline;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Link the stylesheet to <code>index.jsp</code> and <code>response.jsp</code>. In both pages, add the following line between the <code>&lt;head&gt;</code> tags:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;link rel="stylesheet" type="text/css" href="style.css"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="tips">To quickly navigate between files that are open in the editor, press Ctrl-Tab, then select the file you are wanting.</span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prepareCommunication"><a class="anchor" href="#prepareCommunication"></a>Preparing Communication between the Application and Database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The most efficient way to implement communication between the server and database is to set up a database <em>connection pool</em>. Creating a new connection for each client request can be very time-consuming, especially for applications that continuously receive a large number of requests. To remedy this, numerous connections are created and maintained in a connection pool. Any incoming requests that require access to the application&#8217;s data layer use an already-created connection from the pool. Likewise, when a request is completed, the connection is not closed down, but returned to the pool.</p>
</div>
<div class="paragraph">
<p>After preparing the data source and connection pool for the server, you then need to instruct the application to use the data source. This is typically done by creating an entry in the application&#8217;s <code>web.xml</code> deployment descriptor. Finally, you need to ensure that the database driver (MySQL Connector/J JDBC Driver) is accessible to the server.</p>
</div>
<div class="paragraph">
<p>*Important: * From this point forward, you need you ensure that you have a MySQL database instance named <code>MyNewDatabase</code> set up that contains sample data provided in <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%2520Web%252Fifpwafcad.sql">ifpwafcad.sql</a>. This SQL file creates two tables, <code>Subject</code> and <code>Counselor</code>, then populates them with sample data. If you have not already done this, or if you need help with this task, see <a href="../../ide/mysql/" class="xref page">Connecting to a MySQL Database</a> before proceeding further.</p>
</div>
<div class="paragraph">
<p>Also, your database needs to be password-protected to create a data source and work with the GlassFish server in this tutorial. If you are using the default MySQL <code>root</code> account with an empty password, you can set the password from a command-line prompt.</p>
</div>
<div class="paragraph">
<p>This tutorial uses <code>nbuser</code> as an example password. To set your password to <code><em>nbuser</em></code>, navigate to your MySQL installation&#8217;s <code>bin</code> directory in the command-line prompt and enter the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">shell&gt; mysql -u root
mysql&gt; UPDATE mysql.user SET Password = PASSWORD('_nbuser_')
    -&gt;     WHERE User = 'root';
mysql&gt; FLUSH PRIVILEGES;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, see the official MySQL Reference Manual: <a href="http://dev.mysql.com/doc/refman/5.1/en/default-privileges.html">Securing the Initial MySQL Accounts</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#setUpJDBC">Setting up a JDBC data source and connection pool</a></p>
</li>
<li>
<p><a href="#referenceDataSource">Referencing the data source from the application</a></p>
</li>
<li>
<p><a href="#addJar">Adding the database driver&#8217;s JAR file to the server</a></p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="setUpJDBC"><a class="anchor" href="#setUpJDBC"></a>Setting up a JDBC data source and connection pool</h3>
<div class="paragraph">
<p>The GlassFish Server Open Source Edition contains Database Connection Pooling (DBCP) libraries that provide connection pooling functionality in a way that is transparent to you as a developer. To take advantage of this, you need to configure a <a href="http://docs.oracle.com/javase/tutorial/jdbc/overview/index.html">JDBC</a> (Java Database Connectivity) <em>data source</em> for the server which your application can use for connection pooling.</p>
</div>
<div class="paragraph">
<p>For more information on JDBC technology, see <a href="http://docs.oracle.com/javase/tutorial/jdbc/basics/index.html">The Java Tutorials: JDBC Basics</a>.</p>
</div>
<div class="paragraph">
<p>You could configure the data source directly within the GlassFish server Admin Console, or, as described below, you can declare the resources that your application needs in a <code>glassfish-resources.xml</code> file. When the application is deployed, the server reads in the resource declarations, and creates the necessary resources.</p>
</div>
<div class="paragraph">
<p>The following steps demonstrate how to declare a connection pool, and a data source that relies on the connection pool. The NetBeans JDBC Resource wizard allows you to perform both actions.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the New File wizard by pressing the New File ( images:./new-file-btn.png[] ) button in the IDE&#8217;s main toolbar. Select the GlassFish server category, then select JDBC Resource and click Next.</p>
</li>
<li>
<p>In step 2, General Attributes, choose the Create New JDBC Connection Pool option, then in the JNDI Name text field, type in <strong>jdbc/IFPWAFCAD</strong>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/jdbc-resource-wizard.png" alt="jdbc resource wizard">
</div>
<div class="title">Figure 12. Specify data source settings in the JDBC Resource wizard</div>
</div>
<div class="paragraph">
<p><span class="tips">The JDBC data source relies on <a href="http://www.oracle.com/technetwork/java/jndi/index.html">JNDI</a>, the Java Naming and Directory Interface. The JNDI API provides a uniform way for applications to find and access data sources. For more information, see <a href="http://docs.oracle.com/javase/jndi/tutorial/">The JNDI Tutorial</a>.</span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Optionally, add a description for the data source. For example, type in: <code>Accesses the database that provides data for the IFPWAFCAD application</code>.</p>
</li>
<li>
<p>Click Next, then click Next again to skip step 3, Additional Properties.</p>
</li>
<li>
<p>In Step 4, type in <strong>IfpwafcadPool</strong> for JDBC Connection Pool Name. Make sure the Extract from Existing Connection option is selected, and choose <code>jdbc:mysql://localhost:3306/MyNewDatabase</code> from the drop-down list. Click Next.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/jdbc-resource-wizard2.png" alt="jdbc resource wizard2">
</div>
<div class="title">Figure 13. Specify connection pool settings in the JDBC Resource wizard</div>
</div>
<div class="paragraph">
<p>*Note: *The wizard detects any database connections that have been set up in the IDE. Therefore, you need to have already created a connection to the <code>MyNewDatabase</code> database at this point. You can verify what connections have been created by opening the Services window (Ctrl-5; ⌘-5 on Mac) and looking for connection nodes ( images:./connection-node-icon.png[] ) under the Databases category.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Step 5, select <code>javax.sql.ConnectionPoolDataSource</code> in the Resource Type drop-down list.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that the IDE extracts information from the database connection you specified in the previous step, and sets name-value properties for the new connection pool.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/jdbc-resource-wizard3.png" alt="jdbc resource wizard3">
</div>
<div class="title">Figure 14. Default values are based on information extracted from the selected database connection</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click Finish. The wizard generates a <code>glassfish-resources.xml</code> file that contains entries for the data source and connection pool you specified.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the Projects window, you can open the <code>glassfish-resources.xml</code> file that was created under the Server Resources node and note that, within the <code>&lt;resources&gt;</code> tags, a data source and connection pool have been declared containing the values you previously specified.</p>
</div>
<div class="paragraph">
<p>To confirm that a new data source and connection pool are indeed registered with the GlassFish server, you can deploy the project to the server, then locate the resources in the IDE&#8217;s Services window:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, right-click the IFPWAFCAD project node and choose Deploy. The server starts up if not already running, and the project is compiled and deployed to it.</p>
</li>
<li>
<p>Open the Services window (Ctrl-5; ⌘-5 on Mac) and expand the Servers &gt; GlassFish &gt; Resources &gt; JDBC &gt; JDBC Resources and Connection Pools nodes. Note that the new data source and connection pool are now displayed:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/services-window-glassfish.png" alt="services window glassfish">
</div>
<div class="title">Figure 15. New data source and connection pool displayed in Services window</div>
</div>
</div>
<div class="sect2">
<h3 id="referenceDataSource"><a class="anchor" href="#referenceDataSource"></a>Referencing the data source from the application</h3>
<div class="paragraph">
<p>You need to reference the JDBC resource you just configured from the web application. To do so, you can create an entry in the application&#8217;s <code>web.xml</code> deployment descriptor.</p>
</div>
<div class="paragraph">
<p>Deployment descriptors are XML-based text files that contain information describing how an application is to be deployed to a specific environment. For example, they are normally used to specify application context parameters and behavioral patterns, security settings, as well as mappings for servlets, filters and listeners.</p>
</div>
<div class="paragraph">
<p><strong>Note.</strong> If you specified Java EE 6 or Java EE 7 as the Java version when you created the project, you need to create the deployment descriptor file by choosing Web &gt; Standard Deployment Descriptor in the New File wizard.</p>
</div>
<div class="paragraph">
<p>Perform the following steps to reference the data source in the application&#8217;s deployment descriptor.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, expand the Configuration Files folder and double-click <code>web.xml</code> to open the file in the editor.</p>
</li>
<li>
<p>Click the References tab located along the top of the editor.</p>
</li>
<li>
<p>Expand the Resource References heading and click Add to open the Add Resource Reference dialog.</p>
</li>
<li>
<p>For Resource Name, enter the resource name that you gave when configuring the data source for the server above (<code>jdbc/IFPWAFCAD</code>).</p>
</li>
<li>
<p>Type <strong><code>javax.sql.ConnectionPoolDataSource</code></strong> in the Resource Type field. Click OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Description field is optional, but you can enter a human-readable description of the resource, e.g., <code>Database for IFPWAFCAD application</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/add-resource-reference.png" alt="add resource reference">
</div>
<div class="title">Figure 16. Specify resource properties in the Add Resource Reference dialog</div>
</div>
<div class="paragraph">
<p>The new resource is now listed under the Resource References heading.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To verify that the resource is now added to the <code>web.xml</code> file, click the Source tab located along the top of the editor. Notice that the following &lt;`resource-ref`&gt; tags are now included.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;resource-ref&gt;
    &lt;description&gt;Database for IFPWAFCAD application&lt;/description&gt;
    &lt;res-ref-name&gt;jdbc/IFPWAFCAD&lt;/res-ref-name&gt;
    &lt;res-type&gt;javax.sql.ConnectionPoolDataSource&lt;/res-type&gt;
    &lt;res-auth&gt;Container&lt;/res-auth&gt;
    &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
&lt;/resource-ref&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="addJar"><a class="anchor" href="#addJar"></a>Adding the database driver&#8217;s JAR file to the server</h3>
<div class="paragraph">
<p>Adding the database driver&#8217;s JAR file is another step that is vital to enabling the server to communicate with your database. Ordinarily, you would need to locate your database driver&#8217;s installation directory and copy the <code>mysql-connector-java-5.1.6-bin.jar</code> file from the driver&#8217;s root directory into the library folder of the server you are using. Fortunately, the IDE&#8217;s server management is able to detect at deployment whether the JAR file has been added - and if not, it does so automatically.</p>
</div>
<div class="paragraph">
<p>In order to demonstrate this, open the Servers manager (Choose Tools &gt; Servers). The IDE provides a JDBC driver deployment option. If the option is enabled, it initiates a check to determine whether any drivers are required for the server&#8217;s deployed applications. In the case of MySQL, if the driver is required and it is missing, the IDE&#8217;s bundled driver is deployed to the appropriate location on the server.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose Tools &gt; Servers to open the Servers manager. Select the GlassFish server in the left pane.</p>
</li>
<li>
<p>In the main pane, select the Enable JDBC Driver Deployment option.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/servers-window.png" alt="servers window">
</div>
<div class="title">Figure 17. JDBC Driver Deployment option enables automatic driver deployment</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Before you close the Servers manager, make a note of the path indicated in the Domains folder text field. When you connect to the GlassFish server in the IDE, you are actually connecting to an <em>instance</em> of the application server. Each instance runs applications in a unique domain, and the Domain Name field indicates the name of the domain your server is using. As shown in the image above, the driver JAR file should be located within <code>domain1</code>, which is the default domain created upon installing the GlassFish server.</p>
</li>
<li>
<p>Click Close to exit the Servers manager.</p>
</li>
<li>
<p>On your computer, navigate to the GlassFish server installation directory and drill into the <code>domains</code> &gt; <code>domain1</code> &gt; <code>lib</code> subfolder. Because you should have already deployed the IFPWAFCAD project to the server, you should see the <code>mysql-connector-java-5.1.6-bin.jar</code> file. If you do not see the driver JAR file, perform the following step.</p>
</li>
<li>
<p>Deploy your project to the server. In the IDE&#8217;s Projects window, choose Deploy from the right-click menu of the project node. You can view progress in the IDE&#8217;s Output window (Ctrl-4; ⌘-4 on Mac). The output indicates that the MySQL driver is deployed to a location in the GlassFish server.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/output-window.png" alt="output window">
</div>
<div class="title">Figure 18. Output window indicates that the MySQL driver has been deployed</div>
</div>
<div class="paragraph">
<p>Now, if you return to the <code>domain1/lib</code> subfolder on your computer, you can see that the <code>mysql-connector-java-5.1.6-bin.jar</code> file has been automatically added.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="addLogic"><a class="anchor" href="#addLogic"></a>Adding Dynamic Logic</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Returning to the <code>index.jsp</code> and <code>response.jsp</code> placeholders that you created earlier in the tutorial, you can now implement the JSTL code that enables pages to generate content <em>dynamically</em>, i.e., based on user input. To do so, perform the following three tasks.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#addJSTL">Add the JSTL library to the project&#8217;s classpath</a></p>
</li>
<li>
<p><a href="#implementCode">Implement JSTL code</a></p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="addJSTL"><a class="anchor" href="#addJSTL"></a>Adding the JSTL library to the project&#8217;s classpath</h3>
<div class="paragraph">
<p>You can apply the <a href="http://www.oracle.com/technetwork/java/index-jsp-135995.html">JavaServer Pages Standard Tag Library</a> (JSTL) to access and display data taken from the database. The GlassFish server includes the JSTL library by default. You can verify this by expanding the GlassFish Server node under the Libraries node in the Projects window, and searching for the <code>javax.servlet.jsp.jstl.jar</code> library. (Older versions of the GlassFish server use the <code>jstl-impl.jar</code> library.) Because the GlassFish server libraries are by default added to your project&#8217;s classpath, you do not have to perform any steps for this task.</p>
</div>
<div class="paragraph">
<p>JSTL provides the following four basic areas of functionality.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>core</code>: common, structural tasks such as iterators and conditionals for handling flow control</p>
</li>
<li>
<p><code>fmt</code>: internationalization and localization message formatting</p>
</li>
<li>
<p><code>sql</code>: simple database access</p>
</li>
<li>
<p><code>xml</code>: handling of XML content</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This tutorial focuses on usage of the <code>core</code> and <code>sql</code> tag libraries.</p>
</div>
</div>
<div class="sect2">
<h3 id="implementCode"><a class="anchor" href="#implementCode"></a>Implementing JSTL code</h3>
<div class="paragraph">
<p>Now you can implement the code that dynamically retrieves and displays data for each page. Both pages require that you implement an SQL query that utilizes the data source created earlier in the tutorial.</p>
</div>
<div class="paragraph">
<p>The IDE provides several database-specific JSTL snippets which you can select from the Palette (Ctrl-Shift-8; ⌘-Shift-8 on Mac).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/palette-db.png" alt="palette db">
</div>
<div class="title">Figure 19. Choose database-specific JSTL snippets from the Palette</div>
</div>
<div class="sect3">
<h4 id="_index_jsp_2"><a class="anchor" href="#_index_jsp_2"></a>index.jsp</h4>
<div class="paragraph">
<p>In order to dynamically display the contents of the form in <code>index.jsp</code>, you need to access all <code>name`s from the `Subject</code> database table.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Hover your mouse over the DB Report item in the Palette.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/db-report.png" alt="db report">
</div>
<div class="title">Figure 20. Type 'db' and press Ctrl-Space to access database-specific JSTL snippets</div>
</div>
<div class="paragraph">
<p>The DB Report item uses the <code>&lt;sql:query&gt;</code> tag to create an SQL query, then it uses the <code>&lt;c:forEach&gt;</code> tag to loop through the query&#8217;s <code>resultset</code> and output the retrieved data.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place your cursor above the <code>&lt;%@page &#8230;&#8203; %&gt;</code> declaration (line 7), then double-click the DB Report item in the Palette. In the dialog that displays, enter the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Variable Name:</strong> <code>subjects</code></p>
</li>
<li>
<p><strong>Scope:</strong> <code>page</code></p>
</li>
<li>
<p><strong>Data Source:</strong> <code>jdbc/IFPWAFCAD</code></p>
</li>
<li>
<p><strong>Query Statement:</strong> <code>SELECT subject_id, name FROM Subject</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/insert-db-report.png" alt="insert db report">
</div>
<div class="title">Figure 21. Use the Insert DB Report dialog to specify query-specific details</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click OK. The following content is generated in the <code>index.jsp</code> file. (New content shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">*&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;*
&lt;%--
    Document   : index
    Author     : nbuser
--%&gt;

*&lt;sql:query var="subjects" dataSource="jdbc/IFPWAFCAD"&gt;
    SELECT subject_id, name FROM Subject
&lt;/sql:query&gt;

&lt;table border="1"&gt;
    &lt;!-- column headers --&gt;
    &lt;tr&gt;
    &lt;c:forEach var="columnName" items="${subjects.columnNames}"&gt;
        &lt;th&gt;&lt;c:out value="${columnName}"/&gt;&lt;/th&gt;
    &lt;/c:forEach&gt;
&lt;/tr&gt;
&lt;!-- column data --&gt;
&lt;c:forEach var="row" items="${subjects.rowsByIndex}"&gt;
    &lt;tr&gt;
    &lt;c:forEach var="column" items="${row}"&gt;
        &lt;td&gt;&lt;c:out value="${column}"/&gt;&lt;/td&gt;
    &lt;/c:forEach&gt;
    &lt;/tr&gt;
&lt;/c:forEach&gt;
&lt;/table&gt;*

&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the IDE automatically added <code>taglib</code> directives needed for the JSTL tags used in the generated content (<code>&lt;sql:query&gt;</code> and <code>&lt;c:forEach&gt;</code>). A <code>taglib</code> directive declares that the JSP page uses custom (i.e., JSTL) tags, names the tag library that defines them, and specifies their tag prefix.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the project to see how it displays in a browser. Right-click the project node in the Projects window and choose Run.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you choose Run, the IDE deploys the project to the GlassFish server, the index page is compiled into a servlet, and the welcome page opens in your default browser. The code generated from the DB Report item creates the following table in the welcome page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/db-report-table.png" alt="db report table">
</div>
<div class="title">Figure 22. Use DB Report for quick prototyping of database table data</div>
</div>
<div class="paragraph">
<p>As you can see, the DB Report item enables you to quickly test your database connection, and enables you to view table data from the database in your browser. This can be particularly useful when prototyping.</p>
</div>
<div class="paragraph">
<p>The following steps demonstrate how to integrate the generated code into the HTML drop-down list you created earlier in the tutorial.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Examine the column data in the generated code. Two <code>&lt;c:forEach&gt;</code> tags are used; one is nested inside the other. This causes the JSP container (i.e., the GlassFish server) to perform a loop on all table rows, and for each row, it loops through all columns. In this manner, data for the entire table is displayed.</p>
</li>
<li>
<p>Integrate the <code>&lt;c:forEach&gt;</code> tags into the HTML form as follows. The value of each item becomes the <code>subject_id</code>, and the output text becomes the <code>name</code>, as recorded in the database. (Changes are displayed in <strong>bold</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;form action="response.jsp"&gt;
    &lt;strong&gt;Select a subject:&lt;/strong&gt;
    &lt;select name="subject_id"&gt;
        *&lt;c:forEach var="row" items="${subjects.rowsByIndex}"&gt;
            &lt;c:forEach var="column" items="${row}"&gt;*
                &lt;option *value="&lt;c:out value="${column}"/&gt;"*&gt;*&lt;c:out value="${column}"/&gt;*&lt;/option&gt;
            *&lt;/c:forEach&gt;
        &lt;/c:forEach&gt;*
    &lt;/select&gt;
    &lt;input type="submit" value="submit" name="submit" /&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="tips">An alternative, simpler way to integrate the <code>&lt;c:forEach&gt;</code> tags into the HTML form would be as follows.</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;form action="response.jsp"&gt;
    &lt;strong&gt;Select a subject:&lt;/strong&gt;
    &lt;select name="subject_id"&gt;
        *&lt;c:forEach var="row" items="${subjects.rows}"&gt;*
            &lt;option *value="${row.subject_id}"*&gt;*${row.name}*&lt;/option&gt;
        *&lt;/c:forEach&gt;*
    &lt;/select&gt;
    &lt;input type="submit" value="submit" name="submit" /&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In either case, the <code>&lt;c:forEach&gt;</code> tags loop through all <code>subject_id</code> and <code>name</code> values from the SQL query, and insert each pair into the HTML <code>&lt;option&gt;</code> tags. In this manner, the form&#8217;s drop-down list is populated with data.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Delete the table that was generated from the DB Report item. (Deletion shown below as <strong><span class="line-through">strike-through text</span></strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;
&lt;%--
    Document   : index
    Created on : Dec 22, 2009, 7:39:49 PM
    Author     : nbuser
--%&gt;

&lt;sql:query var="subjects" dataSource="jdbc/IFPWAFCAD"&gt;
    SELECT subject_id, name FROM Subject
&lt;/sql:query&gt;

*[.line-through]#&lt;table border="1"&gt;
    &lt;!-- column headers --&gt;
    &lt;tr&gt;
    &lt;c:forEach var="columnName" items="${subjects.columnNames}"&gt;
        &lt;th&gt;&lt;c:out value="${columnName}"/&gt;&lt;/th&gt;
    &lt;/c:forEach&gt;
&lt;/tr&gt;
&lt;!-- column data --&gt;
&lt;c:forEach var="row" items="${subjects.rowsByIndex}"&gt;
    &lt;tr&gt;
    &lt;c:forEach var="column" items="${row}"&gt;
        &lt;td&gt;&lt;c:out value="${column}"/&gt;&lt;/td&gt;
    &lt;/c:forEach&gt;
    &lt;/tr&gt;
&lt;/c:forEach&gt;
&lt;/table&gt;#*

&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Save your changes (Ctrl-S; ⌘-S on Mac).</p>
</li>
<li>
<p>Refresh the welcome page of the project in your browser.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that the drop-down list in the browser now contains subject names that were retrieved from the database.</p>
</div>
<div class="paragraph">
<p>You do not need to redeploy your project because compile-on-save is enabled for your project by default. This means that when you modify and save a file, the file is automatically compiled and deployed and you do not need to recompile the entire project. You can enable and disable compile-on-save for your project in the Compiling category of the Properties window of the project.</p>
</div>
</div>
<div class="sect3">
<h4 id="_response_jsp_2"><a class="anchor" href="#_response_jsp_2"></a>response.jsp</h4>
<div class="paragraph">
<p>The response page provides details for the counselor who corresponds to the subject chosen in the welcome page. The query you create must select the counselor record whose <code>counselor_id</code> matches the <code>counselor_idfk</code> from the selected subject record.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place your cursor above the <code>&lt;%@page &#8230;&#8203; %&gt;</code> declaration (line 7), and double-click DB Query in the Palette to open the Insert DB Query dialog box.</p>
</li>
<li>
<p>Enter the following details in the Insert DB Query dialog box.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Variable Name:</strong> <code>counselorQuery</code></p>
</li>
<li>
<p><strong>Scope:</strong> <code>page</code></p>
</li>
<li>
<p><strong>Data Source:</strong> <code>jdbc/IFPWAFCAD</code></p>
</li>
<li>
<p><strong>Query Statement:</strong> <code>SELECT * FROM Subject, Counselor WHERE Counselor.counselor_id = Subject.counselor_idfk AND Subject.subject_id = ? &lt;sql:param value="${param.subject_id}"/&gt;</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/insert-db-query2.png" alt="insert db query2">
</div>
<div class="title">Figure 23. Use the Insert DB Query dialog to specify query-specific details</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click OK. The following content is generated in the <code>response.jsp</code> file. (New content shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">*&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;*
&lt;%--
    Document   : response
    Created on : Dec 22, 2009, 8:52:57 PM
    Author     : nbuser
--%&gt;

*&lt;sql:query var="counselorQuery" dataSource="jdbc/IFPWAFCAD"&gt;
    SELECT * FROM Subject, Counselor
    WHERE Counselor.counselor_id = Subject.counselor_idfk
    AND Subject.subject_id = ? &lt;sql:param value="${param.subject_id}"/&gt;
&lt;/sql:query&gt;*

&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the IDE automatically added the <code>taglib</code> directive needed for the <code>&lt;sql:query&gt;</code> tag. Also, note that you used an <code>&lt;sql:param&gt;</code> tag directly within the query. Because this query relies on the <code>subject_id</code> value that was submitted from <code>index.jsp</code>, you can extract the value using an EL (Expression Language) statement in the form of <code>${param.subject_id}</code>, and then pass it to the <code>&lt;sql:param&gt;</code> tag so that it can be used in place of the SQL question mark (<code>?</code>) during runtime.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use a <code>&lt;c:set&gt;</code> tag to set a variable that corresponds to the first record (i.e., row) of the <code>resultset</code> returned from the query. (New content shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;sql:query var="counselorQuery" dataSource="jdbc/IFPWAFCAD"&gt;
    SELECT * FROM Subject, Counselor
    WHERE Counselor.counselor_id = Subject.counselor_idfk
    AND Subject.subject_id = ? &lt;sql:param value="${param.subject_id}"/&gt;
&lt;/sql:query&gt;

*&lt;c:set var="counselorDetails" value="${counselorQuery.rows[0]}"/&gt;*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although the <code>resultset</code> returned from the query should only contain a single record, this is a necessary step because the page needs to access values from the record using EL (Expression Language) statements. Recall that in <code>index.jsp</code>, you were able to access values from the <code>resultset</code> simply by using a <code>&lt;c:forEach&gt;</code> tag. However, the <code>&lt;c:forEach&gt;</code> tag operates by setting a variable for the rows contained in the query, thus enabling you to extract values by including the row variable in EL statements.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the <code>taglib</code> directive for the JSTL <code>core</code> library to the top of the file, so that the <code>&lt;c:set&gt;</code> tag is understood. (New content shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">*&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;*
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the HTML markup, replace all placeholders with EL statements code that display the data held in the <code>counselorDetails</code> variable. (Changes below shown in <strong>bold</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/&gt;
        &lt;link rel="stylesheet" type="text/css" href="style.css"&gt;
        &lt;title&gt;*${counselorDetails.name}*&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;table&gt;
            &lt;tr&gt;
                &lt;th colspan="2"&gt;*${counselorDetails.name}*&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;strong&gt;Description: &lt;/strong&gt;&lt;/td&gt;
                &lt;td&gt;&lt;span style="font-size:smaller; font-style:italic;"&gt;*${counselorDetails.description}*&lt;/span&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;strong&gt;Counselor: &lt;/strong&gt;&lt;/td&gt;
                &lt;td&gt;&lt;strong&gt;*${counselorDetails.first_name} ${counselorDetails.nick_name} ${counselorDetails.last_name}*&lt;/strong&gt;
                    &lt;br&gt;&lt;span style="font-size:smaller; font-style:italic;"&gt;
                    &lt;em&gt;member since: *${counselorDetails.member_since}*&lt;/em&gt;&lt;/span&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;strong&gt;Contact Details: &lt;/strong&gt;&lt;/td&gt;
                &lt;td&gt;&lt;strong&gt;email: &lt;/strong&gt;
                    &lt;a href="mailto:*${counselorDetails.email}*"&gt;*${counselorDetails.email}*&lt;/a&gt;
                    &lt;br&gt;&lt;strong&gt;phone: &lt;/strong&gt;*${counselorDetails.telephone}*&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run"><a class="anchor" href="#run"></a>Running the Completed Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ve now completed the application. Try running it again to see how it displays in a browser. Note that because of NetBeans' Compile on Save feature, you do not need to worry about compiling or redeploying the application. When you run a project, you can be sure the deployment contains your latest changes.</p>
</div>
<div class="paragraph">
<p>Click the Run Project ( images:./run-project-btn.png[] ) button in the main toolbar. The <code>index.jsp</code> page opens in the IDE&#8217;s default browser.</p>
</div>
<div class="paragraph">
<p>When <code>index.jsp</code> displays in the browser, select a subject from the drop-down list and click <code>submit</code>. You should now be forwarded to the <code>response.jsp</code> page, showing details corresponding to your selection.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/response-display.png" alt="response display">
</div>
<div class="title">Figure 24. response.jsp displayed in a browser, showing data retrieved from database</div>
</div>
<div class="paragraph">
<p>This concludes the Creating a Simple Web Application Using a MySQL Database tutorial. This document demonstrated how to create a simple web application that connects to a MySQL database. It also demonstrated how to construct an application using a basic two-tier architecture, and utilized numerous technologies including JSP, JSTL, JDBC, and JNDI as a means of accessing and displaying data dynamically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshoot"><a class="anchor" href="#troubleshoot"></a>Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most of the problems that occur with the tutorial application are due to communication difficulties between the GlassFish Server Open Source Edition and the MySQL database server. If your application does not display correctly, or if you are receiving a server error, the following examinations may be useful.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#access?">Do database resources exist?</a></p>
</li>
<li>
<p><a href="#datasource?">Do the connection pool and data source exist on the server?</a></p>
</li>
<li>
<p><a href="#driver?">Is the MySQL Connector/J driver accessible to the GlassFish server?</a></p>
</li>
<li>
<p><a href="#password?">Is the database password-protected?</a></p>
</li>
<li>
<p><a href="#ping?">Are the connection pool properties correctly set?</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="access"><a class="anchor" href="#access"></a>Do database resources exist?</h3>
<div class="paragraph">
<p>Use the IDE&#8217;s Services window (Ctrl-5; ⌘-5 on Mac) to ensure that the MySQL server is running, and that <code>MyNewDatabase</code> is accessible and contains appropriate table data.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To connect to the MySQL database server, right-click the MySQL Server node and choose Connect.</p>
</li>
<li>
<p>If a connection node ( images:./db-connection-node.png[] ) for <code>MyNewDatabase</code> does not display in the Services window, you can create a connection by right-clicking the MySQL driver node ( images:./driver-node.png[] ) and choosing Connect Using. Enter the required details in the dialog that displays.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/new-db-connection-dialog.png" alt="new db connection dialog">
</div>
<div class="title">Figure 25. Establish a database connection in the IDE using the New Database Connection dialog</div>
</div>
<div class="paragraph">
<p><span class="tips">The fields provided in the New Database Connection dialog mirror the URL string entered in the Show JDBC URL option. Therefore, if you know the URL (e.g., <code>jdbc:mysql://localhost:3306/MyNewDatabase</code>) you can paste it into the Show JDBC URL field, and the remaining dialog fields become automatically populated.</span>
* To ensure that the <code>Subject</code> and <code>Counselor</code> tables exist and that they contain sample data, expand the <code>MyNewDatabase</code> connection node ( images:./db-connection-node.png[] ) and locate the <code>MyNewDatabase</code> catalog node ( images:./db-catalog-node.png[] ). Expand the catalog node to view existing tables. You can view table data by right-clicking a table node and choosing View Data.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/services-window-view-data.png" alt="services window view data">
</div>
<div class="title">Figure 26. View table data by choosing View Data from the right-click menu of a database table node</div>
</div>
</div>
<div class="sect2">
<h3 id="datasource"><a class="anchor" href="#datasource"></a>Do the connection pool and data source exist on the server?</h3>
<div class="paragraph">
<p>After deploying the application to the GlassFish server, the <code>glassfish-resources.xml</code> contained in the project should instruct the server to create a JDBC resource and connection pool. You can determine whether these exist from the Servers node in the Services window.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Expand the Servers &gt; the GlassFish Server &gt; Resources node. Expand JDBC Resources to view the <code>jdbc/IFPWAFCAD</code> data source that was created from <code>glassfish-resources.xml</code>. Expand the Connection Pools node to view the <code>IfpwafcadPool</code> connection pool that was created from <code>glassfish-resources.xml</code>. (This is <a href="#view-connection-pool">demonstrated above</a>.)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="driver"><a class="anchor" href="#driver"></a>Is the MySQL Connector/J driver accessible to the GlassFish server?</h3>
<div class="paragraph">
<p>Make sure that the MySQL Connector/J driver has been deployed to the GlassFish server. (This is discussed in <a href="#addJar">Adding the database driver&#8217;s JAR file to the server</a>.)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Locate the GlassFish server installation folder on your computer and drill down into the <code>GlassFish domains/domain1/lib</code> subfolder. Here you should find the <code>mysql-connector-java-5.1.6-bin.jar</code> file.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="password"><a class="anchor" href="#password"></a>Is the database password-protected?</h3>
<div class="paragraph">
<p>The database needs to be password-protected to enable the GlassFish server data source to work properly in this tutorial. If you are using the default MySQL <code>root</code> account with an empty password, you can set the password from a command-line prompt.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To set your password to <code><em>nbuser</em></code>, navigate to your MySQL installation&#8217;s <code>bin</code> directory in the command-line prompt and enter the following:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">shell&gt; mysql -u root
mysql&gt; UPDATE mysql.user SET Password = PASSWORD('_nbuser_')
    -&gt;     WHERE User = 'root';
mysql&gt; FLUSH PRIVILEGES;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, see the official MySQL Reference Manual: <a href="http://dev.mysql.com/doc/refman/5.1/en/default-privileges.html">Securing the Initial MySQL Accounts</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="ping"><a class="anchor" href="#ping"></a>Are the connection pool properties correctly set?</h3>
<div class="paragraph">
<p>Ensure that the connection pool is working correctly for the server.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the Services window (Ctrl-5; ⌘-5 on Mac) and expand the Servers node.</p>
</li>
<li>
<p>Right-click the GlassFish server node and choose View Admin Console.</p>
</li>
<li>
<p>Enter the username and password if you are prompted. You can view the username and password in the Servers manager.</p>
</li>
<li>
<p>In the tree on the left side of the console, expand the Resources &gt; JDBC &gt; JDBC Connection Pools &gt; <code>IfpwafcadPool</code> node. Details for the <code>IfpwafcadPool</code> connection pool display in the main window.</p>
</li>
<li>
<p>Click the Ping button. If the connection pool is set up correctly, you will see a &#8216;Ping Succeeded&#8217; message.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/web/ping-succeeded.png" alt="ping succeeded">
</div>
<div class="title">Figure 27. Test your connection pool by clicking Ping in the GlassFish server Admin Console</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the ping fails, click the Additional Properties tab and ensure that the listed property values are correctly set.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="../../../../../../front/main/community/mailing-lists/" class="xref page">Send Feedback on This Tutorial</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso"><a class="anchor" href="#seealso"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about Java web development, see the following resources.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>NetBeans Articles and Tutorials</strong></p>
</li>
<li>
<p><a href="../../ide/mysql/" class="xref page">Connecting to a MySQL Database in NetBeans IDE</a>. Covers the basics of working with a MySQL database in the IDE.</p>
</li>
<li>
<p><a href="../jsf20-intro/" class="xref page">Introduction to JavaServer Faces 2.x</a>. An introductory tutorial describing how to use the JSF framework in a Java web project.</p>
</li>
<li>
<p><a href="../quickstart-webapps-spring/" class="xref page">Introduction to the Spring Framework</a>. An introductory tutorial describing how to create an MVC web application using the Spring Framework.</p>
</li>
<li>
<p><strong>Java Database Connectivity (JDBC)</strong></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javase/tutorial/jdbc/overview/index.html">JDBC Overview</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/javase/6/docs/technotes/guides/jdbc/getstart/GettingStartedTOC.fm.html">Getting Started with the JDBC API</a></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javase/tutorial/jdbc/basics/index.html">The Java Tutorials: JDBC Basics</a></p>
</li>
<li>
<p><strong>JavaServer Pages Standard Tag Library (JSTL)</strong></p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/java/index-jsp-135995.html">JavaServer Pages Standard Tag Library</a> (official product page)</p>
</li>
<li>
<p><strong>Java Naming and Directory Interface (JNDI)</strong></p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/java/jndi-136720.html">Java SE Core Technologies - Java Naming and Directory Interface</a></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javase/jndi/tutorial/">The JNDI Tutorial</a></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javase/tutorial/jndi/index.html">The Java Tutorials: Java Naming and Directory Interface</a></p>
</li>
</ul>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/web/mysql-webapp.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../../.." data-snippet-length="100" data-stylesheet="../../../../../../_/css/search.css"></script>
<script async src="../../../../../../search-index.js"></script>
    <script src="../../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
