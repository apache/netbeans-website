<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Web Service Passing Binary Data, pt 5: Creating the Swing Client</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web Service Passing Binary Data, pt 5: Creating the Swing Client - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Web Service Passing Binary Data, pt 5: Creating the Swing Client">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../../index.html"><img src='../../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="../../../../../../front/main/download/nb19">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content tutorial'>
      <article class="doc">
      <h1 class="sect0">Web Service Passing Binary Data, pt 5: Creating the Swing Client</h1>
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/websvc/flower_swing.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="../../../../../../tutorial/main/kb/docs/contributing">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_creating_the_client_application">Creating the Client Application</a></li>
<li><a href="#design-jframe">Designing the JFrame Form</a></li>
<li><a href="#_binding_the_jframe_components">Binding the JFrame Components</a>
<ul class="sectlevel2">
<li><a href="#_initializing_the_components">[[Initializing the Components]]</a></li>
<li><a href="#_showing_the_flowers">[[Showing the Flowers]]</a></li>
</ul>
</li>
<li><a href="#_coding_the_main_class">[[Coding the Main Class]]</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The goal of this exercise is to create a client for the web service you previously created and deployed, and then add a GUI interface to that client. The interface displays the images that the web service passes as binary data.</p>
</div>
<div class="paragraph">
<p>You can download a complete version of the client from the <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FWeb%2520Services%252FWeb%2520Service%2520Passing%2520Binary%2520Data%2520--%2520EE6%252FFlowerClient.zip">NetBeans Samples Catalog</a>.</p>
</div>
<div class="paragraph">
<p><strong>Lessons In This Tutorial</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/netbeans-stamp-74-73-72.png" alt="netbeans stamp 74 73 72">
</div>
<div class="title">Figure 1. Content on this page applies to the NetBeans IDE 7.2, 7.3 and 7.4</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../flower_overview/" class="xref page">Overview</a></p>
</li>
<li>
<p><a href="../flower_ws/" class="xref page">Creating the Web Service</a></p>
</li>
<li>
<p><a href="../flower-code-ws/" class="xref page">Coding and Testing the Web Service</a></p>
</li>
<li>
<p><a href="../flower_wsdl_schema/" class="xref page">Modifying the Schema and WSDL Files to Pass Binary Data</a></p>
</li>
<li>
<p>&#8658; Creating the Swing Client</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><a href="#create-client-app">Creating the Client Application</a></p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><a href="#design-jframe">Designing the JFrame</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>.
<a href="#bind-jframe">Binding the JFrame Components</a></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><a href="#code-main-class">Coding the Main Class</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_client_application"><a class="anchor" href="#_creating_the_client_application"></a>Creating the Client Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you create a web application. Within this application, you create a client that consumes the web service you created and modified in previous tutorials.</p>
</div>
<div class="paragraph">
<p>*To create the client application: *</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose File &gt; New Project (Ctrl-Shift-N on Linux/Windows, âŒ˜-Shift-N on MacOS). The New Project wizard appears.</p>
</li>
<li>
<p>Select Java Application from the Java category. Click Next. The New Java Application wizard appears. Type  <code>FlowerClient</code>  in Project Name. Select a location for the project and click Finish. The IDE creates a new Java application project.</p>
</li>
<li>
<p>Right-click the  <code>FlowerClient</code>  project node and choose New &gt; Web Service Client from the context menu. The New Web Service Client wizard opens.</p>
</li>
<li>
<p>Select the WSDL URL radio button and paste the URL of the WSDL file into that field. (By default, the URL is  <code><a href="http://localhost:8080/FlowerAlbumService/FlowerServiceService?wsdl" class="bare">http://localhost:8080/FlowerAlbumService/FlowerServiceService?wsdl</a></code> . Find the URL in the browser by testing the web service and replacing  <code>?Tester</code>  with  <code>?wsdl</code>  at the end of the URL.) Accept all other default values, including a blank package name.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/ws-client-wiz.png" alt="ws client wiz">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Click Finish. The IDE downloads the WSDL file, adds client stubs for interacting with the web service, and adds nodes to the Projects window in the Java application project.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/client-generated-sources.png" alt="client generated sources">
</div>
<div class="title">Figure 2. Projects view showing new web service client</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design-jframe"><a class="anchor" href="#design-jframe"></a>Designing the JFrame Form</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you add a  <code>JFrame</code>  to the web application and design a GUI interface within it, using Swing components. Finally, you bind the Swing components to the web service client code.</p>
</div>
<div class="paragraph">
<p>If you do not want to design the JFrame form yourself, you can download a predesigned JFrame Java file <a href="https://netbeans.org/projects/www/downloads/download/webservices%252FFlowerFrame.java">here</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click the  <code>FlowerClient</code>  node and select New &gt; JFrame Form. Name the frame  <code>FlowerFrame</code> . Place it in the  <code>flowerclient</code>  package.</p>
</li>
<li>
<p>The  <code>FlowerFrame</code>  opens in the editor. Open the Palette if it is not open. Extend the bottom boundary of the frame by around one-third.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/opened-flowerform.png" alt="opened flowerform">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Drag a JPanel from the Swing Containers section of the Palette to the  <code>FlowerFrame</code> . Expand it to fill the entire  <code>FlowerFrame</code> .</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/add-panel.png" alt="add panel">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Right-click the Panel in the Design View. Select Change Variable Name&#8230;&#8203; from the context menu. Name the panel  <code>gardenFlowersPanel</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Drag a JLabel from the Palette to the top of the <code> gardenFlowersPanel</code> . Right-click the label, and change the label&#8217;s variable name to  <code>titleLabel</code> . Right-click the  <code>titleLabel</code>  again and select Edit Text. Change the text to Garden Flowers. You may want to explore the  <code>titleLabel</code> 's properties and give it a prominent font.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Drag a Button Group into the design view. Accept the button group&#8217;s default variable name of  <code>buttonGroup1</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Drag four Radio Buttons into a horizontal row beneath the  <code>titleLabel</code> . In the properties of each button, set it as a member of  <code>buttonGroup1</code> . The buttons' other properties are as follows:</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Radio Buttons in buttonGroup1</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variable Name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asterRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">honeysuckleRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Honeysuckle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roseRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rose</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sunflowerRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sunflower</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Drag a Scroll Pane to below the radio buttons. Expand it to fill all the horizontal space and about two-thirds of the free vertical space. Change the scroll pane&#8217;s variable name to  <code>mainScrollPane</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Drag a Panel into the  <code>mainScrollPane</code> . Change the Panel&#8217;s variable name to  <code>mainPanel</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>In the Design view, right-click the  <code>mainPanel</code>  and select Set Layout &gt; Border Layout.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Drag a Button into the  <code>mainPanel</code> . Because the  <code>mainPanel</code>  has border layout, the button automatically fills the entire panel. Change the button&#8217;s variable name to  <code>mainPictureButton</code>  and change the button&#8217;s text to "Waiting for picture&#8230;&#8203;"</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>Drag another Scroll Pane to the space below the  <code>mainScrollPane</code> . Expand the new scroll pane to fill up all remaining free space. Change the new scroll pane&#8217;s variable name to  <code>thumbnailScrollPane</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Drag a Panel into the  <code>thumbnailScrollPane</code> . Change the Panel&#8217;s variable name to  <code>thumbnailPanel</code> . Set the  <code>thumbnailPanel</code> 's layout to Grid Layout.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="14">
<li>
<p>Drag four Buttons into the  <code>thumbnailPanel</code> . Because the  <code>thumbnailPanel</code>  has Grid Layout, the Buttons are automatically of equal size and completely fill the panel. The buttons' properties are as follows: Buttons in the thumbnailPanel</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variable Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asterButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Waiting&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">honeysuckleButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Waiting&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roseButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Waiting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sunflowerButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Waiting&#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The JFrame Form is now completely designed. At this point, the  <code>FlowerFrame</code>  looks as follows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/designed-form.png" alt="designed form">
</div>
<div class="title">Figure 3. Completed Flower Frame showing button texts instead of images</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_binding_the_jframe_components"><a class="anchor" href="#_binding_the_jframe_components"></a>Binding the JFrame Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you initialize the components in the constructor and bind the components to listeners. The listeners call code that shows the flower images.</p>
</div>
<div class="sect2">
<h3 id="_initializing_the_components"><a class="anchor" href="#_initializing_the_components"></a>[[Initializing the Components]]</h3>
<div class="paragraph">
<p>[[In this section, you fill in the  <code>FlowerFrame</code>  constructor</p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change to the Source view of the editor. Locate the beginning of the  <code>FlowerFrame</code>  class body and the  <code>FlowerFrame</code>  constructor.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/ff-empty-constructor.png" alt="ff empty constructor">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the top of the class body of  <code>FlowerFrame</code> , before the constructor, create an array of strings of the names of every flower.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">protected static final String[] FLOWERS = {"aster", "honeysuckle", "rose", "sunflower"};</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Between the FLOWERS string array and the constructor, add a line that initializes a  <code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html">+java.util.Map+</a></code>  named  <code>flowers</code> . The map takes a  <code>String</code>  and maps it to an  <code>Image</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private Map&lt;String, Image&gt; flowers;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add import statements for  <code>java.util.Map</code>  and  <code>java.awt.Image</code> .</p>
</li>
<li>
<p>Add code to the  <code>FlowerFrame</code>  constructor to associate a specific  <code>Image</code>  with a specific  <code>String</code>  for a specific instance of the  <code>flowers</code>  map</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public FlowerFrame(Map&lt;String, Image&gt; flowers) {

    this.flowers = flowers;
    for (String flower:FLOWERS) {
        flowers.put(flower,null);
    }

    initComponents();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Initialize  <code>ItemListener</code> s for the radio buttons and  <code>ActionListener</code> s for the four flower buttons, and set the default title.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public FlowerFrame(Map&lt;String, Image&gt; flowers) {

    this.flowers = flowers;
    for (String flower:FLOWERS) {
        flowers.put(flower,null);
    }

    initComponents();

    setTitle("Garden Flowers [waiting for picture]");

    ItemListener rbListener = new RBListener();
    asterRadioButton.addItemListener(rbListener);
    honeysuckleRadioButton.addItemListener(rbListener);
    roseRadioButton.addItemListener(rbListener);
    sunflowerRadioButton.addItemListener(rbListener);

    ActionListener bListener = new ButtonListener();
    asterButton.addActionListener(bListener);
    honeysuckleButton.addActionListener(bListener);
    roseButton.addActionListener(bListener);
    sunflowerButton.addActionListener(bListener);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Add import statements for  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ItemListener.html">+java.awt.event.ItemListener+</a></code>  and  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ActionListener.html">+java.awt.event.ActionListener+</a></code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The constructor is now complete. You have compile error warnings in the code because the code does not contain the classes  <code>RBListener</code>  and  <code>ButtonListener</code> . These two classes are custom implementations of  <code>ItemListener</code>  and  <code>ActionListener</code> , respectively. You write these two classes in the next section.</p>
</div>
</div>
<div class="sect2">
<h3 id="_showing_the_flowers"><a class="anchor" href="#_showing_the_flowers"></a>[[Showing the Flowers]]</h3>
<div class="paragraph">
<p>[[In this section, you write custom listeners for the radio buttons and the flower buttons. You also write a method that determines which flower is selected by the buttons and gets an  <code>Image</code>  of that flower from the  <code>flowers</code>  map. Lastly, you write a method that is called by the  <code>Main</code>  class and that gets an  <code>Image</code>  for each thumbnail.</p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Find the  <code>public static void main(String args[])</code>  method in the  <code>FlowerFrame</code>  class body. Delete this method and its documentation. (The application uses the  <code>Main</code>  class instead.)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In place of the  <code>main</code>  method, write a custom  <code>ItemListener</code>  for the radio buttons. This listener shows a new flower image when a radio button is chosen.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private class RBListener implements ItemListener {
    public void itemStateChanged(ItemEvent e) {
        showFlower();
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add an import statement for  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ItemEvent.html">+java.awt.event.ItemEvent+</a></code> .</p>
</li>
<li>
<p>Below the custom  <code>ItemListener</code> , write a custom  <code>ActionListener</code>  for the 4 flower buttons. When a button is clicked, the listener selects the related radio button:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private class ButtonListener implements ActionListener {

    public void actionPerformed(ActionEvent e) {
        if (e.getSource() == asterButton) asterRadioButton.setSelected(true);
        else if (e.getSource() == honeysuckleButton) honeysuckleRadioButton.setSelected(true);
        else if (e.getSource() == roseButton) roseRadioButton.setSelected(true);
        else if (e.getSource() == sunflowerButton) sunflowerRadioButton.setSelected(true);
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Add an import statement for  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ActionEvent.html">+java.awt.event.ActionEvent+</a></code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Below the custom  <code>ActionListener</code> , write the  <code>showFlower</code>  method. This method determines which radio button is selected and gets an  <code>Image</code>  of the corresponding flower from the  <code>flowers</code>  map.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">void showFlower() {
    Image img = null;
    if (asterRadioButton.isSelected()) {
        img = flowers.get("aster");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Aster]");
        }
    } else if (honeysuckleRadioButton.isSelected()) {
        img = flowers.get("honeysuckle");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Honeysuckle]");
        }

    } else if (roseRadioButton.isSelected()) {
        img = flowers.get("rose");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Rose]");
        }
    } else if (sunflowerRadioButton.isSelected()) {
        img = flowers.get("sunflower");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Sunflower]");
        }
    }
    if (img == null) {
        mainPictureButton.setIcon(null);
        setTitle("Garden Flowers [waiting for picture]");
    } else mainPictureButton.setText("");
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Add an import statement for  <code><a href="http://download.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html">+javax.swing.ImageIcon+</a></code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Write the  <code>setThumbnails</code>  method. This method gets an image for each thumbnail from the  <code>flowers</code>  map. The  <code>Main</code>  class calls this method.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">void setThumbnails(Map&lt;String, Image&gt; thumbs) {
    Image img = thumbs.get("aster");
    if (img != null) {
        asterButton.setIcon(new ImageIcon(img));
        asterButton.setText("");
    }
    img = thumbs.get("honeysuckle");
    if (img != null) {
        honeysuckleButton.setIcon(new ImageIcon(img));
        honeysuckleButton.setText("");
    }
    img = thumbs.get("rose");
    if (img != null) {
        roseButton.setIcon(new ImageIcon(img));
        roseButton.setText("");
    }
    img = thumbs.get("sunflower");
    if (img != null) {
        sunflowerButton.setIcon(new ImageIcon(img));
        sunflowerButton.setText("");
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Fix the imports in  <code>FlowerFrame</code> , if you did not fix them as you pasted in the code. You can fix them all at once by right-clicking in the editor and choosing Fix Imports from the context menu. The complete set of import statements follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.awt.Image;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.event.ItemEvent;import java.awt.event.ItemListener;import java.util.Map;import javax.swing.ImageIcon;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The  <code>FlowerFrame</code>  is now complete.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_coding_the_main_class"><a class="anchor" href="#_coding_the_main_class"></a>[[Coding the Main Class]]</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[[In this section, you complete the  <code>Main</code>  class so that is shows the  <code>FlowerFrame</code> , connects to the web service, and calls the web service operations.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the  <code>Main.java</code>  class in the editor.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../_images/kb/docs/websvc/main-empty.png" alt="main empty">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the class body, before the  <code>main</code>  method, initialize an  <code>int</code>  variable for the number of downloaded pictures.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private static int downloadedPictures;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the  <code>main</code>  method body, create a  <code>HashMap</code>  of four flowers and another  <code>HashMap</code>  of four thumbnails.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">final Map&lt;String,Image&gt; flowers = new HashMap&lt;String,Image&gt;(4);
final Map&lt;String,Image&gt; thumbs = new HashMap&lt;String,Image&gt;(4);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Add import statements for  <code>java.awt.Image</code> ,  <code>java.util.Map</code> , and  <code>java.util.HashMap</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>In the  <code>main</code>  method body, add code to show the  <code>FlowerFrame</code> .<strong>// Show the FlowerFrame.</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">final FlowerFrame frame = new FlowerFrame(flowers);
frame.setVisible(true);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>In the  <code>main</code>  method body, add code to connect the client to the service.<strong>// The client connects to the service with this code.</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">FlowerServiceService service = new FlowerServiceService();
final FlowerService port = service.getFlowerServicePort();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Add import statements for  <code>org.flower.service.FlowerService</code>  and  <code>org.flower.service.FlowerServiceService</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>In the  <code>main</code>  method body, add code that creates an array of four  <code>Runnable</code>  threads and calls the web service&#8217;s  <code>getFlower</code>  operation once in each thread.*// The web service getFlower operation</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Runnable[] tasks = new Runnable[4];

for (int i=0; i&lt;4;i++) {
    final int index = i;
    tasks[i] = new Runnable() {
        public void run() {
            try {

                *// Call the getFlower operation
                // on the web service:*
                Image img = port.getFlower(FlowerFrame.FLOWERS[index]);
                System.out.println("picture downloaded: "+FlowerFrame.FLOWERS[index]);

                *// Add strings to the hashmap:*
                flowers.put(FlowerFrame.FLOWERS[index],img);

                *// Call the showFlower operation
                // on the FlowerFrame:*
                frame.showFlower();

            } catch (IOException_Exception ex) {
                ex.printStackTrace();
            }
            downloadedPictures++;
        }
    };
    new Thread(tasks[i]).start();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Add an import statement for  <code>org.flower.service.IOException_Exception</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>In the  <code>main</code>  method body, add code that calls the web service&#8217;s  <code>getThumbnails</code>  operation in a separate thread.*// The web service getThumbnails operation is called</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Runnable thumbsTask = new Runnable() {
    public void run() {
        try {
            while (downloadedPictures &lt; 4) {
                try {Thread.sleep(100);} catch (InterruptedException ex) {}
            }

            *// Call the getThumbnails operation
            // on the web service:*
            List&lt;Image&gt; images = port.getThumbnails();
            System.out.println("thumbs downloaded");

            if (images != null &amp;amp;&amp;amp; images.size() == 4) {
                for (int i=0;i&lt;4;i++) {
                    thumbs.put(FlowerFrame.FLOWERS[i],images.get(i));
                }
                frame.setThumbnails(thumbs);
            }
        } catch (IOException_Exception ex) {
            ex.printStackTrace();
        }
    }
};
new Thread(thumbsTask).start();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Fix the imports in  <code>Main.java</code> , if you did not fix them as you pasted in the code. You can fix them all at once by right-clicking in the editor and choosing Fix Imports from the context menu. You are given a choice of List classes to import; select  <code>java.util.List</code> . The complete set of import statements follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import flower.album.FlowerService;import flower.album.FlowerService_Service;import flower.album.IOException_Exception;import java.awt.Image;import java.util.HashMap;import java.util.List;import java.util.Map;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The  <code>Main</code>  class is now complete.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Main {

     private static int downloadedPictures;

     public static void main(String[] args) {

        final Map&lt;String,Image&gt; flowers = new HashMap&lt;String,Image&gt;(4);
        final Map&lt;String,Image&gt; thumbs = new HashMap&lt;String,Image&gt;(4);

        *// Show the FlowerFrame.*
        final FlowerFrame frame = new FlowerFrame(flowers);
        frame.setVisible(true);
        *        // The client connects to the service with this code.*
        FlowerService_Service service = new FlowerService_Service();
        final FlowerService port = service.getFlowerServicePort();

        Runnable[] tasks = new Runnable[4];

        *// The web service getFlower operation
        // is called 4 times, each in a separate thread.
        // When the operation finishes the picture is shown in
        // a specific button.*
        for (int i=0; i&lt;4;i++) {
            final int index = i;
            tasks[i] = new Runnable() {
                public void run() {
                    try {

                        *// Call the getFlower operation
                        // on the web service:*
                        Image img = port.getFlower(FlowerFrame.FLOWERS[index]);
                        System.out.println("picture downloaded: "+FlowerFrame.FLOWERS[index]);

                        *// Add strings to the hashmap:*
                        flowers.put(FlowerFrame.FLOWERS[index],img);

                        *// Call the showFlower operation
                        // on the FlowerFrame:*
                        frame.showFlower();

                    } catch (IOException_Exception ex) {
                        ex.printStackTrace();
                    }
                    downloadedPictures++;
                }
            };
            new Thread(tasks[i]).start();
        }
        *// The web service getThumbnails operation is called
        // in a separate thread, just after the previous four threads finish.
        // When the images are downloaded, the thumbnails are shown at
        // the bottom of the frame.*
        Runnable thumbsTask = new Runnable() {
            public void run() {
                try {
                    while (downloadedPictures &lt; 4) {
                        try {Thread.sleep(100);} catch (InterruptedException ex) {}
                    }

                    *// Call the getThumbnails operation
                    // on the web service:*
                    List&lt;Image&gt; images = port.getThumbnails();
                    System.out.println("thumbs downloaded");

                    if (images != null &amp;amp;&amp;amp; images.size() == 4) {
                        for (int i=0;i&lt;4;i++) {
                            thumbs.put(FlowerFrame.FLOWERS[i],images.get(i));
                        }
                        frame.setThumbnails(thumbs);
                    }
                } catch (IOException_Exception ex) {
                    ex.printStackTrace();
                }
            }
        };
        new Thread(thumbsTask).start();
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client application is now complete, with code that interacts with the web service that delegates to the EJB module to exposes its images. Right-click the client and choose Run. The Swing application starts up and, after a moment, is filled with the images received from the web service. If the images do not all appear, clean and build the FlowerService project and run it again. Note that you can change the image that appears in the main frame either by selecting a radio button or by clicking a thumbnail.</p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="paragraph">
<p><a href="../../../../../../front/main/community/mailing-lists/" class="xref page">Send Feedback on This Tutorial</a></p>
</div>
<div class="paragraph">
<p>To send comments and suggestions, get support, and keep informed about the latest developments on the NetBeans IDE Java EE development features, <a href="../../../../../../front/main/community/mailing-lists/" class="xref page">join the nbj2ee@netbeans.org mailing list</a>.</p>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-tutorials/edit/main/modules/ROOT/pages/kb/docs/websvc/flower_swing.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../../.." data-snippet-length="100" data-stylesheet="../../../../../../_/css/search.css"></script>
<script async src="../../../../../../search-index.js"></script>
    <script src="../../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
