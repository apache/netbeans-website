<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Apache NetBeans Visual Library FAQ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans Visual Library FAQ">
    <meta name="author" content="Apache NetBeans">
    <meta name="description" content="NetBeans Visual Library FAQ">
    <meta name="keywords" content="NetBeans Visual Library FAQ">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="../../../../../_/css/highlight-11.9.0.default.min.css">
    <link rel="stylesheet" href="../../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../../index.html"><img src='../../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 22</h1>
            <p><a class="button success" href="../../../../../front/main/download/nb22">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content'>
      <article class="doc">
      <h1 class="sect0">Apache NetBeans Visual Library FAQ</h1>
      <div class="paragraph">
<p><strong>Question:</strong> I have a <code>NullPointerException</code> exception at <code>SceneComponent</code> or <code>Widget</code> class.</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> Check whether the exception happen on a line which is related to the result of <code>Widget.getBounds</code> method call.
This method returns null everytime when the Widget is not validated.</p>
</div>
<div class="paragraph">
<p>When a Widget is modified or added, then it requires to be validated. This can be done by <code>Scene.validate</code> method call.</p>
</div>
<div class="paragraph">
<p>The method is called automatically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At the end of event processing in the SceneComponent after all appropriate WidgetAction.* methods have been called).</p>
</li>
<li>
<p>When the JComponent view appears on a screen (JComponent.addNotify method is called by Swing).</p>
</li>
<li>
<p>After <code>TextFieldInplaceEditor.setText</code> method call.</p>
</li>
<li>
<p>At the beginning of <code>Scene.paint(Graphics2D)</code> method call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usually this problem happens when you have your own AWT-event handling e.g. ActionListener and you are adding/removing/modifying widgets in the scene.
In that case you have to call <code>Scene.validate</code> method manually.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Question:</strong> How do I specify tool-tip?</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> Use <code>Widget.setToolTipText</code> method.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Question:</strong> How to remove an object from Scene?</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> There are two approaches / data-models.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scene class is storing a tree of Widgets. It is widget-oriented approach.</p>
</li>
<li>
<p>ObjectScene, GraphScene, GraphPinScene classes is storing mapping between objects and widgets too. It is object-oriented approach.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Therefore:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When you are using Scene only, remove Widgets using Widget.removeFromParent or similar methods.</p>
</li>
<li>
<p>When you are using ObjectScene, &#8230;&#8203;, remove objects using GraphScene.removeNode, GraphScene.removeEdge, &#8230;&#8203; methods, the removal of Widget is performed automatically in GraphScene.detachNodeWidget or similar methods. These detach* methods can be overriden by developer too.</p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Question:</strong> I have a widget. When I use Widget.remove* method then the scene still remembers corresponding object.</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> If you are using ObjectScene, GraphScene, GraphPinScene you should use GraphScene.removeNode and similar methods. These methods will remove objects from scene and automatically invokes removal of corresponding widgets.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Question:</strong> How to interact with the Properties window?</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> This is kind of tricky because PropertiesWindow is using totally different classes/structures than the VisualLibrary.</p>
</div>
<div class="paragraph">
<p>The PropertiesWindow is working with <code>org.openide.nodes.Node</code> class. There are various ways to do it:</p>
</div>
<div class="paragraph">
<p>The first way is to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Put a <code>ExplorerManager.Provider</code> into your <code>TopComponent</code></p>
</li>
<li>
<p>Create ExplorerManager and maintain the set of openide-nodes.</p>
</li>
<li>
<p>Synchronize the openide-nodes with objects in the GraphScene.</p>
</li>
<li>
<p>Synchronize selection of openide-nodess and objects in the GraphScene.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you will implement it the described way, it will be showing properties in the Properties window which could be opened using Windows | Properties main menu action.
This window is showing "dynamic" content - properties of currently activated nodes.</p>
</div>
<div class="paragraph">
<p>The synchronization could be really hard to implement. Therefore you can do it simplier way:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Put a ExplorerManager.Provider into your TopComponent</p>
</li>
<li>
<p>Create ExplorerManager and maintain the set of openide-nodes.</p>
</li>
<li>
<p>Everytime when a node/edge in a scene is selected, create a openide-Node with properties and set it as a root and activated node in the ExplorerManager.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This time you do not have to synchronize anything, except of creating the node, when a scene selection is changed.</p>
</div>
<div class="paragraph">
<p>The last way is to create a "static" Properties window. You have to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a <code>PopupMenuAction</code> and assign it to your nodes and edges.</p>
</li>
<li>
<p>The popup menu will contain "Properties" menu item.</p>
</li>
<li>
<p>When the menu item is invoked then:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create an openide-Node with properties for a node/edge which is selected at a scene.</p>
</li>
<li>
<p>Create a PropertySheet which uses the openide-Node</p>
</li>
<li>
<p>Create and show a dialog which will contain the PropertySheet.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This time you will have "static" content - the window will still show the same properties of your node or edge.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Question:</strong> How the selection and other actions are working?</p>
</div>
<div class="paragraph">
<p><strong>Answer:</strong> Each Widget has a state:ObjectState property and the notifyStateChanged method.
When the state property is changed then the notifyStateChanged is called.
The implementation of the method should change the widget and/or its children to reflect the state.</p>
</div>
<div class="paragraph">
<p>An example of a custom look of a widget:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyWidget extends Widget {
  public void notifyStateChanged (ObjectState oldState, ObjectState newState) {
    setBorder (newState.isSelected () ? BorderFactory.createResizeBorder (8) : BorderFactory.createEmptyBorder (8));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you are using ObjectScene, each object has its state too.
When the state of an object is changed, then the change is propagated to the related widget that represents the object.</p>
</div>
<div class="paragraph">
<p>The SelectAction (or better SelectProvider) do not do anything with a scene or widgets.
It just defines that something (SelectProvider.select method) can be executed triggered by a single-click on a widget where the action is assigned.</p>
</div>
<div class="paragraph">
<p>There is ObjectScene.createSelectAction method which creates an action which changes a set of selected objects in the a scene (the "selected" set contains only the object which widget an user clicked on).
When a set of selected objects is changed then it changes a "selected" flag of a state of all affected objects. The state change is propagated to particular widgets of those objects.
Therefore related widgets change their look/behaviour based on their state.</p>
</div>
<div class="paragraph">
<p>Each actions are usually assigned to a widget related to an object.
This is kind of specifying of an select/hover ability of a particular widget/object on a scene.
If you do not assign it, then the object cannot be selected/hovered/&#8230;&#8203; from UI - it can be done by calling ObjectScene.setSelectedObjects method only.</p>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-site/edit/main/modules/ROOT/pages/projects/graph/faq.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2024 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>
    <script src="../../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="../../../../../_/js/vendor/highlight-11.9.0.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
         document.querySelectorAll('pre code').forEach((el) => {
         hljs.highlightElement(el);
        });
      });
    </script>
  </body>
</html>
