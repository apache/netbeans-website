<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Java Declarative Hints Language</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Java Declarative Hints Language">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Jackpot, code inspection, refactoring">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="../../../../_/css/highlight-11.9.0.default.min.css">
    <link rel="stylesheet" href="../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../index.html"><img src='../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 22</h1>
            <p><a class="button success" href="../../../../front/main/download/nb22">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content'>
      <article class="doc">
      <h1 class="sect0">Java Declarative Hints Language</h1>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_basic_structure">Basic Structure</a></li>
<li><a href="#_patterns">Patterns</a></li>
<li><a href="#variables">Variables</a>
<ul class="sectlevel2">
<li><a href="#_repeating_variables">Repeating Variables</a></li>
<li><a href="#_multi_variables">Multi Variables</a></li>
<li><a href="#_modifiers">Modifiers</a></li>
<li><a href="#_patterns_with_multiple_statements">Patterns with Multiple Statements</a></li>
<li><a href="#_zero_or_one">Zero-or-one</a></li>
</ul>
</li>
<li><a href="#conditions">Conditions</a>
<ul class="sectlevel2">
<li><a href="#_language_conditions">Language Conditions</a></li>
<li><a href="#_standard_conditions">Standard Conditions</a></li>
<li><a href="#_custom_conditions">Custom Conditions</a></li>
</ul>
</li>
<li><a href="#custom-imports">Custom Imports</a></li>
<li><a href="#_notable_patterns">Notable Patterns</a>
<ul class="sectlevel2">
<li><a href="#_catch_pattern">Catch Pattern</a></li>
<li><a href="#_full_variable">Full Variable</a></li>
<li><a href="#_full_method">Full Method</a></li>
<li><a href="#_full_class">Full Class</a></li>
</ul>
</li>
<li><a href="#_options">Options</a></li>
<li><a href="#_known_bugs">Known Bugs</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_basic_structure"><a class="anchor" href="#_basic_structure"></a>Basic Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The rules file consists of any number of transformation rules.
The rule is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">"description text":
    &lt;pattern&gt;      :: &lt;rule-condition&gt;
 =&gt; &lt;fix-pattern&gt;  :: &lt;fix-condition&gt;
 =&gt; &lt;fix-pattern&gt;  :: &lt;fix-condition&gt;
 ;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each occurrence of <code>&lt;pattern&gt;</code> in the source code can be rewritten to one of the <code>&lt;fix-pattern&gt;</code> s. For example, the following transformation rule:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    $1 == null
 =&gt; null == $1
 ;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will rewrite the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if (a == null) {
    System.err.println("a is null");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if (null == a) {
     System.err.println("a is null");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>In NetBeans, the description text will appear as tool tip on light bulbs marking all occurences which match the rule, or in other places in the UI, dependant on how the code inspection is used. Longer descriptions can be added with the description tag, see <a href="#options">[options]</a> section.</p>
</div>
<div class="paragraph">
<p>Note: <code>$1</code> is a variable, explained in the <a href="#variables">Variables</a> section.</p>
</div>
<div class="paragraph">
<p>Note: conditions are explained in the <a href="#conditions">Conditions</a> section.</p>
</div>
<div class="paragraph">
<p>Note: batch refactoring will typically use only the first applicable fix patterns of each applicable rule.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_patterns"><a class="anchor" href="#_patterns"></a>Patterns</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The pattern is a Java expression, statement or several statements.
All references to classes in the pattern need to be resolvable, i.e. either fully qualified names need to be used, or the custom import section must be used (see <a href="#custom-imports">Custom Imports</a>).</p>
</div>
<div class="paragraph">
<p>Note: variable declaration is a Java statement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="variables"><a class="anchor" href="#variables"></a>Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Variables start with the dollar sign (<code>$</code>). In the pattern, first occurrences of a variable is bound to the actual sub-tree that appears in the code. Second and following occurrences of the variable the actual sub-tree is verified against the subtree bound to the variable. The pattern occurs in the text only if the actual sub-tree matches the sub-tree bound to the variable. In the fix pattern, all occurrences of the variables are replaced with the tree(s) bound to the respective variables.</p>
</div>
<div class="paragraph">
<p>The forms of the variables are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>$[a-zA-Z0-1_]+</code></dt>
<dd>
<p>any expression</p>
</dd>
<dt class="hdlist1"><code>$[a-zA-Z0-1_]+;</code></dt>
<dd>
<p>any statement</p>
</dd>
<dt class="hdlist1"><code>$[a-zA-Z0-1_]+$</code></dt>
<dd>
<p>any number of sub-trees (except statements - see next definition)</p>
</dd>
<dt class="hdlist1"><code>$[a-zA-Z0-1_]+$;</code></dt>
<dd>
<p>any number of statements</p>
</dd>
<dt class="hdlist1"><code>$_</code></dt>
<dd>
<p>for patterns undefined, for fixes and conditions automatically bound to the current matched region</p>
</dd>
<dt class="hdlist1"><code>$$[a-zA-Z0-1_]+</code></dt>
<dd>
<p>reserved&#8201;&#8212;&#8201;do not use</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_repeating_variables"><a class="anchor" href="#_repeating_variables"></a>Repeating Variables</h3>
<div class="paragraph">
<p>The same variable can appear multiple times in the pattern. The pattern will match if and only if all parts of the subject tree that correspond to the variable occurrences are "the same". Two trees are "the same", if they have the same structure and each of the two corresponding tree node refers to the same element. Exceptions:
* single statement and a block with single statement are equivalent provided the statements are equivalent
* implicit "this." may be omitted</p>
</div>
<div class="paragraph">
<p>So, for example, the following pattern will match all assignments that read and write to the same variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $var = $var</code></pre>
</div>
</div>
<div class="paragraph">
<p>So for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> public class Test {
     private int i;

     public void t(Test other) {
         i = i; //will match the pattern
         this.i = i; //will match the pattern
         i = this.i; //will match the pattern
         i = other.i; //will NOT match the pattern
     }
 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multi_variables"><a class="anchor" href="#_multi_variables"></a>Multi Variables</h3>
<div class="sect3">
<h4 id="_expressions"><a class="anchor" href="#_expressions"></a>Expressions</h4>
<div class="paragraph">
<p><code>$&lt;name&gt;$</code> will match any number of expressions, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> new java.lang.String($args$)</code></pre>
</div>
</div>
<div class="paragraph">
<p>will match any of the String&#8217;s constructor. Can be be mixed with the single-expression variables, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> new java.lang.String($charArray, $rest$) :: $charArray instanceof char[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>will match both the <code>String(char[])</code> and <code>String(char[], int, int)</code> constructors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_statements_and_members"><a class="anchor" href="#_statements_and_members"></a>Statements and Members</h4>
<div class="paragraph">
<p><code>$&lt;name&gt;$;</code> will match any number of statements or class members. The semicolon is needed so that the pattern is not ambiguous. The pattern parser might sometimes recover from the missing semicolon, but omitting it is strongly discouraged for statement/members.</p>
</div>
</div>
<div class="sect3">
<h4 id="_caveats"><a class="anchor" href="#_caveats"></a>Caveats</h4>
<div class="paragraph">
<p>In general, a given code may match pattern with multi variables multiple times with different assignments of subtrees to the multi variables. For example, consider pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $preceding$;
 $lock.lock();
 $intervening$;
 $lock.unlock();
 $trailing$;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> lock.lock();
 System.err.println("1");
 lock.unlock();
 lock.lock();
 System.err.println("2");
 lock.unlock();</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two possible matches, one with empty <code>$preceding$;</code> and one with empty <code>$trailing$;</code> multi variables. But the current engine cannot currently report both of these matches, only the first one.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modifiers"><a class="anchor" href="#_modifiers"></a>Modifiers</h3>
<div class="paragraph">
<p>A special form to express any modifiers is <code>$mods$</code>. Annotations generally belong into the modifiers. E.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $mods$ $type $name;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will match any of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private int I;
 private static int I;
 @Deprecated private static int I;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are many caveats to the modifiers, one cannot currently express that the modifiers must contain a specific annotation, specific modifier (can be expressed using conditions), etc. Only "any modifiers" is supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="_patterns_with_multiple_statements"><a class="anchor" href="#_patterns_with_multiple_statements"></a>Patterns with Multiple Statements</h3>
<div class="paragraph">
<p>It is possible to express a pattern that consists of several consecutive statements, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    java.lang.System.err.print($whatever$);
    java.lang.System.err.println();
 =&gt; java.lang.System.err.println($whatever$);
 ;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will convert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private void t() {
     System.err.println("This is an example:");
     System.err.print("Hello, world!");
     System.err.println();
     System.err.println("All done.");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private void t() {
     System.err.println("This is an example:");
     System.err.println("Hello, world!");
     System.err.println("All done.");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that if intervening statements are allowed, they need to be specified explicitly using <code>$&lt;name&gt;</code>. For example, the above pattern won&#8217;t match this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private void t() {
     System.err.println("This is an example:");
     System.err.print("Hello, world!");
     printHelp();
     System.err.println();
     System.err.println("All done.");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>To allow intervening statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $document.readLock();
 $statementsUnderLock$;
 $document.readUnlock(); :: $document instanceof javax.swing.text.AbstractDocument
 =&gt;
 $document.readLock();
 try {
     $statementsUnderLock$;
 } finally {
     $document.readUnlock();
 }
 ;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>which will match and rewrite:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> private void t(AbstractDocument doc) {
     doc.readLock();
     System.err.println("Under the lock!");
     doc.readUnlock();
 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_zero_or_one"><a class="anchor" href="#_zero_or_one"></a>Zero-or-one</h3>
<div class="paragraph">
<p>If some part of the tree is optional, the multi-expression or multi statement variable can be used to express that the pattern should match whether or not that optional part is present. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if ($cond) $then;
 else $else$;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will match both:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if (true) {
     System.err.println("foo bar");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if (true) {
     System.err.println("foo bar");
 } else {
     System.err.println("bar foo");
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Can be also used to express an optional variable initializer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $modifiers$ $variableType $name = $init$;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conditions"><a class="anchor" href="#conditions"></a>Conditions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Conditions are specified after <code>::</code>, their result can be negated using <code>!</code> and result of multiple conditions can be and-ed using <code>&amp;&amp;</code>. Conditions can appear both on the whole rule, in which case the rule will only match if the expression will evaluate to true, or on fixes, in which case the fix will noly be shown if the expression will evaluate to true. There is no "or" currently. Specifying multiple fixes or multiple rules works as an implicit "or".</p>
</div>
<div class="sect2">
<h3 id="_language_conditions"><a class="anchor" href="#_language_conditions"></a>Language Conditions</h3>
<div class="paragraph">
<p>The conditions defined directly by the language are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>instanceof</code>: which allows to specify a type of an expression variable. Only expressions assignable to the given type will be bound to the specified variable.</p>
</li>
<li>
<p><code>otherwise</code>: valid only on the "fixes". Will evaluate to true if no fix above was used. E.g. (note the constant matching - will match only if the string literal in the subject code will match the literal given in the pattern):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>    $str.equals("")
 =&gt; $str.isEmpty()     :: sourceVersionGE(6)
 =&gt; $str.length() == 0 :: otherwise
 ;;</pre>
</div>
</div>
<div class="paragraph">
<p>will rewrite <code>var.equals("")</code> to <code>var.isEmpty()</code> for source levels &gt;= 1.6, but to <code>var.length() == 0</code> in all other cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_standard_conditions"><a class="anchor" href="#_standard_conditions"></a>Standard Conditions</h3>
<div class="paragraph">
<p>Some notable predefined conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sourceVersionGE(int version)</code> Returns true if the source version of the file is greater or equals the specified java feature version (see <code>java.lang.Runtime.Version::feature()</code>).</p>
</li>
<li>
<p><code>matchesAny(Variable v, String&#8230;&#8203; oneOrMorePatterns)</code> Returns true if and only if at least one of the given patterns matches the tree bound to the given variable.</p>
</li>
<li>
<p><code>containsAny(Variable v, String&#8230;&#8203; oneOrMorePatterns)</code> Returns true if and only if at least one of the given patterns matches the tree bound to the given variable, or any of its subtrees.</p>
</li>
<li>
<p><code>matchesWithBind(Variable v, String pattern)</code> Similar to <code>matchesAny</code>, but if the pattern matches, any free variables inside <code>pattern</code> will be bound as if it was specified as a normal pattern/rule.</p>
</li>
<li>
<p><code>referencedIn(Variable v, Variable in)</code> Returns true if <code>v</code> is referenced at least once in <code>in</code>.</p>
</li>
<li>
<p><code>inClass(String&#8230;&#8203; oneOrMoreClassNames)</code> Tests whether the current occurrence is enclosed (directly or indirectly) by any of the specified classes.</p>
</li>
<li>
<p><code>hasModifier(Variable v, javax.lang.model.element.Modifier modifier)</code> Tests if the variable has the given <code>modifier</code>.</p>
</li>
<li>
<p><code>elementKindMatches(Variable v, javax.lang.model.element.ElementKind&#8230;&#8203; oneOrMoreKinds)</code> Tests if the <code>v</code> matches any of the specified `ElementKind`s.</p>
</li>
<li>
<p><code>isNullLiteral(Variable v)</code> Tests if <code>v</code> is <code>null</code> (in the litteral sense, this is no null check).</p>
</li>
<li>
<p>for more see <a href="https://github.com/apache/netbeans/blob/master/java/java.hints.declarative/src/org/netbeans/modules/java/hints/declarative/conditionapi/DefaultRuleUtilities.java">DefaultRuleUtilities</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: Special variable <code>$_</code> represents the whole matching region.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_conditions"><a class="anchor" href="#_custom_conditions"></a>Custom Conditions</h3>
<div class="paragraph">
<p>Additionaly to the predefined conditions mentioned above, it is also possible to define custom conditions in Java code sections. A code section begins with <code>&lt;?</code> and ends with <code>?&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The following rule finds variables of the type <code>com.Foobar</code> and name "foo" or "bar" and renames them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;?
import java.util.Set;
?&gt;

    $var     :: $var instanceof com.Foobar &amp;&amp; isFooOrBar($var)
=&gt;  $renamed :: changeVariableName($var, $renamed)
;;

&lt;?
    private final static Set&lt;String&gt; names = Set.of("foo", "bar");

    public boolean isFooOrBar(Variable v) {
        return names.contains(context.name(v));
    }

    public boolean changeVariableName(Variable v, Variable target) {
        String name = context.name(v);
        context.createRenamed(v, target, name + "Renamed");
        return true;
    }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-imports"><a class="anchor" href="#custom-imports"></a>Custom Imports</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;?
import java.util.LinkedList;
import java.util.ArrayList;
?&gt;

   new LinkedList()
=&gt; new ArrayList()
;;

   LinkedList $0;
=&gt; ArrayList $0;
;;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notable_patterns"><a class="anchor" href="#_notable_patterns"></a>Notable Patterns</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_catch_pattern"><a class="anchor" href="#_catch_pattern"></a>Catch Pattern</h3>
<div class="paragraph">
<p>This:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> try {
     $statements$;
 } catch $catches$
   finally {
   $finally$;
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>will match any resource-less try statement with finally block, with or without catch clauses. To find a specific catch clause:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> try {
     $statements$;
 } catch $precedingCatches$
   catch (NullPointerException ex) {
   $code$;
 } catch $trailingCatches$
   finally {
   $finally$;
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is currently no form to express optional finally section (i.e. two patterns are required, one with and one without finally).</p>
</div>
</div>
<div class="sect2">
<h3 id="_full_variable"><a class="anchor" href="#_full_variable"></a>Full Variable</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $modifiers$ $type $name = $init$;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_full_method"><a class="anchor" href="#_full_method"></a>Full Method</h3>
<div class="paragraph">
<p>For methods with or without type parameters and with body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $modifiers$ &lt;$typeParams$&gt; $returnType $name($args$) throws $thrown$ {
     $bodyStatements$;
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>For methods with or without type parameters and without body and without default value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $modifiers$ &lt;$typeParams$&gt; $returnType $name($args$) throws $thrown$;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note 1: this should work for annotation attribute methods with and without default value, but it does not work currently:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">$modifiers$ $returnType $name() default $def$;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_full_class"><a class="anchor" href="#_full_class"></a>Full Class</h3>
<div class="paragraph">
<p>For classes without type parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $modifiers$ class $name extends $superClass$ implements $superInterfaces$ {
     $members$;
 }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various options can be specified inside <code>&lt;!&#8230;&#8203;&gt;</code> block. The currently recognized options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>error</code> (on fixes): report the given error through the standard refactoring means to the user (e.g. in Inspect and Transform). Example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>    System.err.println("Hello, world!");
 =&gt; &lt;!error='Cannot convert'&gt;
 ;;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>warning</code> (on fixes): as <code>error</code> but produces refactoring&#8217;s warning instead of an error</p>
</li>
<li>
<p><code>hint</code> (on hints): define a explicit ID for the hint. If missing, an ID will be inferred from the file name</p>
</li>
<li>
<p><code>description</code> (on hints): a longer description of the hint. Will appear in the Tools/Options.</p>
</li>
<li>
<p><code>hint-category</code> (on hints): the hint category into which the hint should be assigned in Tools/Options and Inspect&amp;Transform. Most hints should not specify this.</p>
</li>
<li>
<p><code>suppress-warnings</code> (on hints): keys for @SuppressWarnings, which will automatically suppress the given hint. Can specify more keys, separated with ','. An empty key has a special meaning: the keys before the empty key will be offered to the user for inclusion in the source code, while the after the empty key will not. All the keys (except the empty one) will suppress the warning.</p>
</li>
<li>
<p><code>ensure-dependency</code> (on hints or files): will ensure that the current module/project will have the specified dependency. Format for specifying the dependency is currently not specified. Do not use unless you know what you are doing.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_bugs"><a class="anchor" href="#_known_bugs"></a>Known Bugs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multi statement pattern involving modifiers variable do not currently work properly. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> $mods$ $type $name;
 $name = $init;</code></pre>
</div>
</div>
<div class="paragraph">
<p>does not work.</p>
</div>
<div class="paragraph">
<p>There is a bug that this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> if ($cond) $then;
 else $else$;
=&gt;
 if (!$cond) $then;
 else $else$;
;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>does not work properly.</p>
</div>
<div class="paragraph">
<p><code>otherwise</code> condition cannot be negated.</p>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-site/edit/main/modules/ROOT/pages/jackpot/HintsFileFormat.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2024 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
    <script src="../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="../../../../_/js/vendor/highlight-11.9.0.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
         document.querySelectorAll('pre code').forEach((el) => {
         hljs.highlightElement(el);
        });
      });
    </script>
  </body>
</html>
