// 
//     Licensed to the Apache Software Foundation (ASF) under one
//     or more contributor license agreements.  See the NOTICE file
//     distributed with this work for additional information
//     regarding copyright ownership.  The ASF licenses this file
//     to you under the Apache License, Version 2.0 (the
//     "License"); you may not use this file except in compliance
//     with the License.  You may obtain a copy of the License at
// 
//       http://www.apache.org/licenses/LICENSE-2.0
// 
//     Unless required by applicable law or agreed to in writing,
//     software distributed under the License is distributed on an
//     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
//     KIND, either express or implied.  See the License for the
//     specific language governing permissions and limitations
//     under the License.
//

= PHPプロジェクトの設定
:jbake-type: tutorial
:jbake-tags: tutorials 
:jbake-status: published
:icons: font
:syntax: true
:source-highlighter: pygments
:toc: left
:toc-title:
:description: PHPプロジェクトの設定 - Apache NetBeans
:keywords: Apache NetBeans, Tutorials, PHPプロジェクトの設定

このチュートリアルでは、NetBeans IDEでのPHPプロジェクトの設定方法を示します。

*このチュートリアルに従うには、次のソフトウェアとリソースが必要です。*

|===
|ソフトウェアまたはリソース |必須バージョン 

|link:https://netbeans.org/downloads/index.html[+NetBeans IDE+] |PHPダウンロード・バンドル 

|PHPエンジン |バージョン5 

|Webサーバー |link:http://httpd.apache.org/download.cgi[+Apache HTTP Server 2.2+] (推奨)
 

|PHPデバッガ |link:http://www.xdebug.org[+XDebug 2.0以降+] 
|===


== 準備

PHPプロジェクトを設定する前に、link:https://netbeans.org/downloads/index.html[+PHP向けのNetBeans IDE+]をダウンロードしてインストールし、PHP開発用のlink:../../trails/php.html#configuration[+環境を準備+]する必要があります。

PHPプロジェクトを設定するには:

* <<location,プロジェクト名およびプロジェクトのソース・ファイルの場所を指定する>>
* <<runConfiguration,プロジェクトのデプロイ方法を指定する>>

既存のプロジェクトの設定を変更するには、カーソルをそのプロジェクト・ノードに置き、ポップアップ・メニューから「プロパティ」を選択します。<<managingProjectSetup,プロジェクト設定のカスタマイズ>>の項の説明に従って操作を進めます。


== プロジェクト名およびソース・ファイルの場所の指定

1. IDEを起動して「プロジェクト」ウィンドウに切り替えます。
2. 「ファイル」>「新規プロジェクト」を選択します。「プロジェクトを選択」パネルが開きます。
3. 「カテゴリ」リストで、PHPを選択します。

必要に応じて、<<projectNoExistingSources,開発済ソース・ファイルを使用せずに>>完全に新しいPHPプロジェクトを作成するか、新しいプロジェクトに<<importSources,既存のローカルPHPアプリケーションをインポートする>>か、またはリモートPHPアプリケーションをインポートすることができます。


=== 開発済ソース・ファイルを使用しないプロジェクト

1. 「プロジェクト」領域で、「PHPアプリケーション」を選択して「次」をクリックします。「新規PHPプロジェクト」>「名前と場所」パネルを開きます。
2. 「プロジェクト名」テキスト・フィールドで、プロジェクトの名前を入力します。
3. 「ソース・フォルダ」フィールドで、ソース・ファイルを保存する、ドキュメント・ルートのサブフォルダを指定します。

ドキュメント・ルートは、ローカルWebサーバーがブラウザで開くファイルを探すフォルダです。ドキュメント・ルートは、Webサーバーのlink:../../trails/php.html#configuration[+構成ファイル+]で指定されています。インストール後、新規プロジェクト・ウィザードによってドキュメント・ルートが検索され、デフォルトでは、 ``<ドキュメント・ルート>\<新規PHPプロジェクト>`` というパスが指定されます。

ソース・ファイルのコピーは、ドキュメント・ルートのサブフォルダに保持される必要があります。ただし、ドキュメント・ルート以外の別の場所にソース・フォルダを保持することもでき、この場所からドキュメント・ルートにソース・ファイルをコピーすることもできます。<<copy-sources,実行構成の指定>>を参照してください。



. 「デフォルトのエンコーディング」ドロップダウン・リストから、プロジェクトでデフォルトとなるエンコーディングを選択します。


. NetBeansのメタデータをソース・ファイル以外の別の場所に保存する場合、「NetBeansのメタデータを別のディレクトリに配置」を選択します。たとえば、ソースはドキュメント・ルートに保存するが、NetBeansのメタデータはNetBeansProjectsディレクトリに保存する場合です。

image::images/new-php-project-m1.png[]



. 「次」をクリックします。「実行構成」パネルが開きます。


=== プロジェクトへの既存のローカル・ソース・ファイルのインポート

1. 「プロジェクト」領域で、「既存のソースを使用するPHPアプリケーション」を選択して「次」をクリックします。「新規PHPプロジェクト」>「名前と場所」パネルを開きます。
2. 「プロジェクト名」テキスト・フィールドで、プロジェクトの名前を入力します。
3. 「ソース・フォルダ」フィールドで、ソース・ファイルのインポート元のフォルダを指定します。

NOTE:  <<localServer,プロジェクトをローカルWebサーバー>>で実行する場合は、そのサーバーへの<<copyFilesFromSourcesFolder,ソース・ファイルのコピー>>を指定することを忘れないでください。



. 「デフォルトのエンコーディング」ドロップダウン・リストから、プロジェクトでデフォルトとなるエンコーディングを選択します。


. NetBeansのメタデータをソース・ファイル以外の別の場所に保存する場合、「NetBeansのメタデータを別のディレクトリに配置」を選択します。たとえば、ソースはドキュメント・ルートに保存するが、NetBeansのメタデータはNetBeansProjectsディレクトリに保存する場合です。

image::images/new-php-project-with-ssources.png[]



. 「次」をクリックします。「実行構成」パネルが開きます。


=== プロジェクトへの既存のリモート・ソース・ファイルのインポート

1. 「プロジェクト」領域で、「リモート・サーバーからのPHPアプリケーション」を選択して「次」をクリックします。「新規PHPプロジェクト」>「名前と場所」パネルを開きます。
2. 「プロジェクト名」テキスト・フィールドで、プロジェクトの名前を入力します。
3. 「ソース・フォルダ」フィールドで、ソース・ファイルを保存する、_ローカル_・ドキュメント・ルートのサブフォルダを指定します。

ドキュメント・ルートは、ローカルWebサーバーがブラウザで開くファイルを探すフォルダです。ドキュメント・ルートは、Webサーバーのlink:../../trails/php.html#configuration[+構成ファイル+]で指定されています。インストール後、新規プロジェクト・ウィザードによってドキュメント・ルートが検索され、デフォルトでは、 ``<ドキュメント・ルート>\<新規PHPプロジェクト>`` というパスが指定されます。プロジェクトをローカル・サーバーでテストできることは便利です。



. NetBeansのメタデータをソース・ファイル以外の別の場所に保存する場合、「NetBeansのメタデータを別のディレクトリに配置」を選択します。たとえば、ソースはドキュメント・ルートに保存するが、NetBeansのメタデータはNetBeansProjectsディレクトリに保存する場合です。


. 「次」をクリックします。「リモート接続」パネルが開きます。チュートリアルのlink:remote-hosting-and-ftp-account.html[+リモートWebサーバーへのPHPアプリケーションのデプロイ+]に、リモート接続の設定方法が説明されています。


== 新規プロジェクトのデフォルト実行構成の指定

実行構成とは、PHPプロジェクトの実行用に保存された設定です。1つのプロジェクトに対して複数の構成を定義し、その構成間で切り替えることができます。たとえば、アプリケーションをローカルで開発し、リモートの本番サーバーにアップロードする必要がある場合は、別の実行構成を選択するのみです。実行構成は、実行およびデバッグの両方に適用されます。実行構成は、次の一般的なユース・ケースに対応します。

* ローカルWebサーバーを使用するローカル・マシンでPHP Webページを開発する。
* ローカルPHPエンジンを使用してPHPスクリプトを実行する。この方法は、HTMLの出力を目的としないPHPファイルに適用されます。そのため、このようなスクリプトはブラウザなしで実行できます。
* リモート開発。PHPソース・コードおよびその他のアプリケーション・ファイルは、FTP経由でリモートWebサーバーにアップロードされます。複数のユーザーで開発を共有する場合、このユース・ケースが一般的です。
* 前述のユース・ケースの組合せ。ローカルでアプリケーションを開発し、完了時にリモートの本番サーバーにデプロイします。開発中は、必要に応じてPHPスクリプトを実行します。

新しいPHPプロジェクトを作成するとき、プロジェクトのデフォルトの実行構成を作成します。プロジェクトに対してデフォルトの実行構成を設定するには、「実行構成」パネルの「実行方法」ドロップダウン・リストから、適切なオプションを選択します。次のオプションがあります。

* <<localServer,ローカルWebサイト>>。この実行構成を使用するには、link:../../trails/php.html#configuration[+Apache HTTPサーバー+]がインストールされていて実行中である必要があります。
* link:remote-hosting-and-ftp-account.html[+リモートWebサイト(FTP/SFTP)(別のチュートリアル)+]。この構成を使用するには、リモート・サーバー上にlink:remote-hosting-and-ftp-account.html#registerHostingAccount[+ホスティングのアカウント+]、およびこのサーバー上にlink:remote-hosting-and-ftp-account.html#createFTPAccount[+FTPのアカウント+]が必要です。
* <<scriptCommandLine,スクリプト>>。この実行構成では、Webサーバーがインストールされていて実行中である必要はありません。必要なのはlink:../../trails/php.html#configuration[+PHPエンジン+]のみです。

追加の実行構成を作成したり、デフォルトの実行構成を編集したりするためのプロセスは、<<runConfiguration,プロジェクト設定のカスタマイズ: 実行構成>>に記載されています。これは、新規プロジェクト・ウィザードではなく既存のプロジェクトの「プロパティ」ダイアログを使用することを除き、デフォルトの実行構成を作成するためのプロセスとほぼ同じです。


=== ローカルWebサイト

ローカルWebサイト構成には、マシンにインストールされたApache WebサーバーのWebフォルダ内のPHPソース・フォルダのコピーが含まれます。プロジェクトがローカルとリモートの両方のWebサイト構成を持つことは、一般的な方法です。ローカルWebサイトの実行構成を設定する手順は、既存のソースからプロジェクトを作成するか、既存のソースを使用しないかによって若干異なります。

*ローカルWebサイト構成を設定するには、次を実行します。*

1. 「実行方法」ドロップダウン・リストから「ローカルWebサイト」を選択します。
2. 「プロジェクトURL」フィールドで、自動的に生成されたURLアドレスを確認します。Apache HTTPサーバーがデフォルトのポート80で待機していることを確認します。そうでない場合、ポート番号を ``localhost:<port number>`` の形式で明示的に指定します。

image::images/run-configuration-local-server-project-with-existing-sources.png[]



. 既存のソースからプロジェクトを作成する場合、インデックス・ファイルとして使用するソース・ファイルを選択できます。


. プロジェクトのソース・ファイルをNetBeans IDEプロジェクトとは異なるディレクトリに格納するには、「ファイルをソース・フォルダから別の場所にコピー」を選択します。_プロジェクトを既存のソースから作成する場合は、既存のソースがApacheサーバーのWebフォルダにすでに存在しないかぎり、これは必要なステップです。_
フィールドにはデフォルトで、 ``<ドキュメント・ルート>\<新規PHPプロジェクト>`` というパスが指定されています。必要な場合は、「参照」ボタンを使用して別のパスを指定します。
ドキュメント・ルートは、Webサーバーがブラウザで開くファイルを探すフォルダです。ドキュメント・ルートは、Webサーバーのlink:../../trails/php.html#configuration[+構成ファイル+]で指定されています。
ウィザードは、Apacheのインストール・タイプ(コンポーネントまたはパッケージ内のいずれか)を検出し、現在のインストール・タイプ用に ``htdocs`` フォルダのデフォルトの場所へのパスを提供します。そのため、ApacheサーバーまたはAMPパッケージのインストール中にデフォルトの設定を受け入れた場合は、ドロップダウン・リストからパスを選択します。


. 「終了」をクリックします。IDEによってPHPプロジェクトが作成されます。


=== リモートWebサイト

チュートリアルのlink:remote-hosting-and-ftp-account.html[+リモートWebサーバーへのPHPアプリケーションのデプロイ+]を参照してください。


=== スクリプト

1. 「実行方法」ドロップダウン・リストから「スクリプト」を選択します。

image::images/project-properties-script.png[]



. PHPエンジンの場所を指定するには、「デフォルトのPHPインタプリタを使用」ボックスの横にある「構成」ボタンをクリックします。PHPオプションのダイアログの「一般」タブが開きます。

image::images/run-config-script-options-m1.png[]



. 「PHP 5インタプリタ」フィールドで、 ``php.exe`` ファイルへのパスを指定します。必要な場合は、「参照」または「検索」ボタンを使用します。


. スクリプトの実行結果の表示方法を指定するには、「結果を開く場所」領域で適切なチェックボックスを選択します。次のオプションがあります。

* 出力ウィンドウ。スクリプトの実行結果は、NetBeans IDEウィンドウの下部にある出力ウィンドウに表示されます。
* Webブラウザ。スクリプト実行の結果は、HTMLファイルの形式でデフォルトのブラウザ・ウィンドウに表示されます。
* エディタ。スクリプト実行の結果は、HTMLファイルとしてIDEエディタ・ウィンドウに表示されます。


. 「OK」をクリックします。「オプション」ダイアログ・ボックスが閉じ、システムは「実行構成」パネルに戻ります。


.  ``debug=true`` などの任意の引数と、link:http://www.php.net/manual/en/features.commandline.options.php[+PHPコマンド行オプション+]を追加します。


== プロジェクト設定のカスタマイズ

プロジェクトの作成時に、基本的なプロジェクト設定(プロジェクト・タイプ、プロジェクトのソース・ファイルの場所、およびデフォルトの実行構成)が定義されます。プロジェクト設定を新しい設定で展開するには、プロジェクトをカスタマイズします。カーソルをプロジェクト・ノードに置き、ポップアップ・メニューから「プロパティ」を選択します。「プロジェクト・プロパティ」パネルが開き、設定カテゴリのリストが表示されます。


=== ソース


ソース・パネルで次を行います。

1. 「Webルート」フィールドには使用しているアプリケーション・サイトのルート・フォルダが表示されます。デフォルトでは、このフィールドにはソース・フォルダが表示されます。Webルートを変更するには、「参照」をクリックし、別のフォルダを選択します。
2. 必要に応じて、「<<location,ファイルをソース・フォルダから別の場所にコピー>>」を選択し、記憶域フォルダへのパスを指定します。
3. 必要に応じてエンコーディングを変更します。

image::images/pprop-sources.png[]



. プロジェクトのカスタマイズを完了するには、「OK」をクリックします。


=== 実行構成


「実行構成」パネルで、必要に応じて、デフォルトの実行構成を変更したり、新規の実行構成を定義したり、その両方を実行したりします。

1. デフォルト設定を変更するには、<<runConfiguration,プロジェクトの作成と同様にフィールドを更新します>>。
2. 新規の実行構成を定義するには、「構成」ドロップダウン・リストの横にある「新規」をクリックします。「新規構成を作成」ダイアログ・ボックスが開きます。
3. 「構成名」フィールドで、新規の実行構成の名前を入力し、「OK」をクリックします。「実行構成」パネルに戻ります。
4. プロジェクトの作成中に、<<runConfiguration,デフォルトの実行構成>>を定義したのと同じ方法で実行構成の設定を定義し、「OK」をクリックします。新規の構成が「構成」ドロップダウン・リストに追加されます。
5. 構成を除去するには、「構成」ドロップダウン・リストから構成を選択し、「削除」をクリックします。

image::images/pprop-runconfig.png[]



. プロジェクトのカスタマイズを完了するには、「OK」をクリックします。


=== PHPインクルード・パス


「インクルード・パス」パネルで、プロジェクトで使用する必要があるが、ソース・ファイルと一緒に配置する必要がないファイルの場所を指定します。

1. フォルダを追加するには、「フォルダの追加」をクリックします。「フォルダを選択」ダイアログ・ボックスが開きます。
2. 該当するフォルダを選択し、「開く」をクリックします。「PHPインクルード・パス」パネルに戻ります。新しいフォルダがリストに追加されます。
3. リスト内を移動するには、「上へ移動」ボタンまたは「下へ移動」ボタンを使用します。
4. インクードされたフォルダのリストからフォルダを除去するには、フォルダを選択し、「除去」をクリックします。

image::images/pprop-include-path.png[]



. プロジェクトのカスタマイズを完了するには、「OK」をクリックします。


=== フォーマット

「フォーマット」パネルで、エディタ内のソース・ファイルに適用するフォーマット・スタイルを定義します。グローバルまたはプロジェクト固有のフォーマットを定義できます。

*グローバルIDEフォーマットを定義するには、次を実行します。*

1. 「グローバル・オプションを使用」を選択します。
2. 「グローバル・オプションを編集」をクリックします。IDEの「オプション」ダイアログで、「エディタ」>「フォーマット」タブが開きます。

image::images/global-formatting.png[]



. 言語ドロップダウン・リストから、設定を適用する言語を選択します。


. 「カテゴリ」ドロップダウン・リストから、設定を適用するフォーマット項目を選択します。


. 目的のフォーマットを設定して「OK」をクリックします。


. 詳細情報については「ヘルプ」ボタンをクリックします。

*プロジェクト固有のフォーマットを定義するには、次を実行します。*

1. 「プロジェクト固有オプションを使用」を選択します。非表示領域が表示されます。image:images/pprop-formatting.png[]
2. 「言語」ドロップダウン・リストから、「すべての言語」または「PHP」を選択します。この場合の「すべての言語」とは、PHPと、PHPプロジェクト内にある他のすべての言語を意味します。
3. 「カテゴリ」ドロップダウン・リストから、設定を適用するフォーマット項目を選択します。
4. 目的のフォーマットを設定して「OK」をクリックします。
5. 詳細情報については「ヘルプ」ボタンをクリックします。


=== JavaScriptライブラリの追加

組込みのJavaScriptライブラリは、これらが非常に大きくパフォーマンスを低下させることと、手動でのライブラリの追加が簡単であることから、NetBeans IDE 6.7では除去されました。JavaScriptライブラリをプロジェクトに手動で追加すると、コード補完およびその他すべてのIDEのJavaScript関連機能がプロジェクトで有効になります。

*JavaScriptライブラリをプロジェクトに追加するには、次を実行します。*

1. 必要なJavaScriptライブラリをダウンロードするか、すでに持っている場合はそれらを検索します。
2. IDEまたはファイル・エクスプローラを使用して、JavaScriptライブラリをPHPプロジェクト・フォルダにコピーします。

プロジェクト・ソースが別の場所にコピーされるようにプロジェクト・プロパティが設定されている場合(<<sources,ソース>>を参照)、JavaScriptライブラリもその場所にコピーされます。プロジェクトがリモート・サーバーにデプロイされる場合、プロジェクト・ソースが次回そのサーバーにアップロードされるときに、JavaScriptライブラリがそのサーバーにアップロードされます。

link:/about/contact_form.html?to=3&subject=Feedback:%20PHP%20Project%20Setup[+このチュートリアルに関するご意見をお寄せください+]


link:../../../community/lists/top.html[+users@php.netbeans.orgメーリング・リストに登録する+]ことによって、NetBeans IDE PHP開発機能に関するご意見やご提案を送信したり、サポートを受けたり、最新の開発情報を入手したりできます。

link:../../trails/php.html[+PHPの学習に戻る+]

