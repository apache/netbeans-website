// 
//     Licensed to the Apache Software Foundation (ASF) under one
//     or more contributor license agreements.  See the NOTICE file
//     distributed with this work for additional information
//     regarding copyright ownership.  The ASF licenses this file
//     to you under the Apache License, Version 2.0 (the
//     "License"); you may not use this file except in compliance
//     with the License.  You may obtain a copy of the License at
// 
//       http://www.apache.org/licenses/LICENSE-2.0
// 
//     Unless required by applicable law or agreed to in writing,
//     software distributed under the License is distributed on an
//     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
//     KIND, either express or implied.  See the License for the
//     specific language governing permissions and limitations
//     under the License.
//

= Разработка приложения Enterprise для сервера Oracle WebLogic
:jbake-type: tutorial
:jbake-tags: tutorials 
:jbake-status: published
:icons: font
:syntax: true
:source-highlighter: pygments
:toc: left
:toc-title:
:description: Разработка приложения Enterprise для сервера Oracle WebLogic - Apache NetBeans
:keywords: Apache NetBeans, Tutorials, Разработка приложения Enterprise для сервера Oracle WebLogic

Данное руководство демонстрирует использование среды IDE для создания веб-приложения, которое использует JavaServer Faces (JSF) 2.x и интерфейс Java Persistence API (JPA), и развертывание приложения на сервере Oracle WebLogic. В этом учебном курсе содержатся инструкции по регистрации сервера WebLogic Server в среде IDE и созданию ресурса, сущности и компонентов JDBC с помощью мастеров IDE. Также в данном учебном курсе показано, как выполнить развертывание приложения на сервере и регистрацию нового источника данных с помощью среды IDE.


image::images/netbeans-stamp-80-74-73.png[title="Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0"]


*Для работы с этим учебным курсом требуется следующее программное обеспечение и ресурсы.*

|===
|Программное обеспечение или материал |Требуемая версия 

|link:/downloads/[+IDE NetBeans+] |7.2, 7.3, 7.4, 8.0, Java EE 

|link:http://www.oracle.com/technetwork/java/javase/downloads/index.html[+Комплект для разработчика на языке Java (JDK)+] |Версия 6 или 7 

|link:http://www.oracle.com/technetwork/middleware/weblogic/downloads/index.html[+Сервер Oracle WebLogic+] |11g Rel 1 (10.3.4, 10.3.5), 12c (12.1.1.0) 

|пример базы данных |MySQL или JavaDB 
|===

*Примечания.*

* Проект использует* ``пример`` * базы данных, доступный для серверов баз данных MySQL или JavaDB. Для получения более подробной информации по использованию сервера баз данных MySQL с помощью среды IDE и созданию подключения к базе данных см. руководство link:../ide/mysql.html[+Подключение к базе данных MySQL+]. Кроме того, можно использовать подключение к  ``образцу базы данных``  JavaDB, который создается и регистрируется в среде IDE по умолчанию, если во время установки среды IDE устанавливается сервер GlassFish.


== Регистрация сервера Oracle WebLogic

В этом руководстве веб-приложение будет развертываться на сервере Oracle WebLogic. Для запуска приложений на сервере WebLogic из среды IDE необходимо зарегистрировать экземпляр сервера в среде IDE. В данном разделе описано использование мастера добавления экземпляра сервера в среду IDE для регистрации экземпляра сервера WebLogic.


=== Загрузка и установка сервера

Перед регистрацией сервера необходимо загрузить установщик сервера WebLogic и выполнять действия, описанные в руководстве по установке link:http://download.oracle.com/docs/cd/E17904_01/doc.1111/e14142/toc.htm[+сервера Oracle WebLogic +] для установки сервера на локальную машину. Кроме установки сервера, необходимо создать домен WebLogic, прежде чем можно будет зарегистрировать сервер в среде IDE.

1. Загрузите установщик со страницы link:http://www.oracle.com/technetwork/middleware/weblogic/downloads/index.html[+Загрузки для сервера Oracle WebLogic+].
2. Установите сервер, следуя указаниям в руководстве по установке link:http://download.oracle.com/docs/cd/E17904_01/doc.1111/e14142/toc.htm[+сервера Oracle WebLogic+].

Не забудьте указать имя пользователя и пароль.



. Создайте домен WebLogic.

Можно использовать link:http://download.oracle.com/docs/cd/E17904_01/web.1111/e14140/newdom.htm#i1073602[+графический режим мастера настройки WebLogic+] для создания домена.

Будет также полезно посмотреть следующие разделы руководства по установке сервера WebLogic о деталях установки и настройки сервера.

* link:http://download.oracle.com/docs/cd/E17904_01/doc.1111/e14142/prepare.htm[+Подготовка к установке+]
* link:http://download.oracle.com/docs/cd/E17904_01/web.1111/e14140/intro.htm[+Введение в домены WebLogic +]
* link:http://download.oracle.com/docs/cd/E17904_01/web.1111/e14140/newdom.htm[+Создание домена WebLogic +]
 


=== Регистрация сервера в IDE

После установки сервера вы можете использовать мастер добавления экземпляра сервера для регистрации экземпляра сервера, указав его домен.

1. Откройте окно "Services".
2. Щелкните правой кнопкой мыши узел "Servers" и выберите "Добавить сервер".
3. Выберите сервер Oracle WebLogic. Нажмите кнопку "Далее".
4. Нажмите кнопку "Поиск" и укажите директорию, содержащую установочный файл сервера. Нажмите кнопку "Далее".

IDE автоматически идентифицирует домен для экземпляра сервера.



. Введите имя пользователя и пароль для домена.


. Включите интерфейс JPA 2.0 (только для WebLogic Server 10.3.4 или 10.3.5). Нажмите кнопку "Завершить".

*Примечание.* При регистрации экземпляра WebLogic Server 12c (12.1.1.0) не требуется включать интерфейс JPA 2.0, так как он включен по умолчанию. Если вы регистрируете экземпляр сервера WebLogic 11g Rel 1 (10.3.4 или 10.3.5), вы можете активировать JPA 2.0 при регистрации сервера или в диспетчере серверов после регистрации. Дополнительные сведения см. в следующем разделе <<01e,Включение поддержки JPA 2.0 в Oracle WebLogic Server 11g>>.

image::images/add-weblogic-server2.png[title="Мастер добавления серверов"]

Когда вы нажмете кнопку "Готово", в узле серверов (окно "Services") появится сервер Oracle WebLogic.

Можно щелкнуть правой кнопкой мыши узел сервера Oracle WebLogic для выполнения различных задач, включая следующие:

* Запуск и остановка сервера
* Открытие администраторской консоли в браузере
* Просмотр журнала сервера в окне вывода IDE

image::images/weblogic-services-window1.png[title="Сервер WebLogic в окне &quot;Службы&quot;."]  


=== Открытие администраторской консоли

В этом упражнении вы будете открывать администраторскую консоль сервера WebLogic в вашем браузере. Администраторская консоль позволяет настраивать сервер, а также просматривать запущенные приложения и доступные ресурсы.

1. Запустите сервер, щелкнув правой кнопкой мыши узел Oracle WebLogic Server в окне 'Службы' и выбрав 'Пуск'.

После запуска сервера вы увидите его журнал во вкладке сервера Oracle WebLogic в окне вывода.

Можно щелкнуть правой кнопкой мыши узел сервера Oracle WebLogic и выбрать 'Просмотреть журнал сервера', если вкладка не отображается.



. Щелкните правой кнопкой мыши узел сервера Oracle WebLogic и выберите команду "Просмотреть администраторскую консоль".

При выборе команды "Просмотреть администраторскую консоль" в вашем браузере откроется экран входа на сервер.



. Войдите с помощью имени пользователя и пароля, которые вы указали при установке сервера.

После входа вы увидите домашнюю страницу администраторской консоли в окне браузера.

image::images/admin-console1.png[title="консоль администрирования сервера Oracle WebLogic"]


=== Включение поддержки JPA 2.0 в Oracle WebLogic Server 11g 

Если вы используете сервер Oracle WebLogic 11g (10.3.4, 10.3.5), то вам необходимо активировать поддержку для интерфейса API сохранения состояния Java (JPA) 2.0 и установить поставщиком сохранения состояния по умолчанию TopLink. Сервер Oracle WebLogic 11g является контейнером Java EE 5 и совместим с JPA 1.0 и JPA 2.0. JPA 1.0 включается по умолчанию при установке Oracle WebLogic Server 10.3.4 и 10.3.5, но установка WebLogic Server включает в себя файлы, необходимые для поддержки JPA 2.0. Можно включить JPA 2.0 для сервера WebLogic при регистрации экземпляра сервера или в диспетчере серверов в IDE. Кроме того, вы можете воспользоваться инструкциями для link:http://download.oracle.com/docs/cd/E17904_01/web.1111/e13720/using_toplink.htm#EJBAD1309[+Использования JPA 2.0 с TopLink в сервере WebLogic +] в документации сервера WebLogic.

Сервер WebLogic поддерживает интерфейс API сохранения состояния Java (JPA) и поставляется в пакете с библиотеками сохранение состояния Oracle TopLink и Kodo. В этом упражнении вы поменяете поставщика сохранения состояния по умолчанию с Kodo на Oracle Toplink в администраторской консоли сервера WebLogic.

*Примечание.* JTA активируется по умолчанию при установке WebLogic.

Для активации поддержки JPA 2.0 в диспетчере серверов и установки поставщика сохранения состояния по умолчанию выполните следующие действия.

1. Щелкните правой кнопкой мыши узел сервера Oracle WebLogic в окне "Services" и выберите команду "Свойства", чтобы открыть диспетчер серверов.

Для открытия диспетчера серверов вы также можете выбрать команды Инструменты > Серверы из главного меню.

image::images/weblogic-properties-enablejpa.png[title="Вкладка 'Домен' в диспетчере серверов"]

Вкладка "Домен" диспетчера серверов позволяет просматривать и изменять имя пользователя и пароль.



. Выберите "Активировать JPA 2". Выберите "Close" (Закрыть).

Когда вы выберете команду "Активировать JPA 2", IDE изменит путь класса сервера WebLogic для добавления файлов с целью активации поддержки JPA 2.

*Примечание.* Также можно включить JPA 2.0 с использованием Oracle Smart Update или вручную, изменив путь к классу WebLogic. Для получения более подробной информации про активацию поддержки для JPA 2.0 см. следующие ссылки.

* link:http://download.oracle.com/docs/cd/E17904_01/web.1111/e13720/using_toplink.htm#EJBAD1309[+Использование JPA 2.0 с TopLink в сервере WebLogic+]
* link:http://forums.oracle.com/forums/thread.jspa?threadID=1112476[+Дискуссионный форум OTN: 11g Release 1 Patch Set 3 (WLS 10.3.4) +]
* link:http://wiki.eclipse.org/EclipseLink/Development/JPA_2.0/weblogic[+Запуск JPA 2.0 API на WebLogic 10.3+]


. Откройте администраторскую консоль сервера Oracle WebLogic в браузере и войдите в систему.


. Выберите команду *Домен* в разделе "Конфигурации домена" администраторской консоли.


. Нажмите вкладку *JPA* в разделе "Конфигурация".


. Выберите команду *TopLink* в раскрывающемся списке "Поставщик JPA по умолчанию". Нажмите кнопку "Сохранить".

image::images/admin-console-jpa.png[title="Вкладка 'JPA' консоли администрирования сервера Oracle WebLogic"]

Когда вы нажмете кнопку "Сохранить", Oracle TopLink станет поставщиком сохранения состояния по умолчанию для приложений, которые запускаются на сервере, если для данных приложений не указан конкретный поставщик сохранения состояния.

*Примечание.* Приложение в этом учебном курсе будет использовать Java Transaction API (JTA) для управления транзакциями. JTA активируется по умолчанию при установке WebLogic. Вы можете изменить настройки JTA во вкладке JTA, раздел "Конфигурации" для домена.


== Создание веб-приложения

Этот учебный курс содержит инструкции по созданию веб-приложения Java EE. Данное веб-приложение будет содержать классы сущностей, основанные на таблицах в примерной базе данных. После создания подключения к базе данных вы создадите элемент устойчивости и будете использовать мастер IDE для генерирования классов сущностей из базы данных. Затем вы будете использовать мастер для создания страниц JSF на основе классов сущностей.


=== Создание проекта

В этом упражнении вы будете использовать мастер нового проекта для создания веб-приложения и укажете сервер Oracle WebLogic как целевой.

1. Выберите команды Файл > Новый проект (Ctrl-Shift-N; &amp;#8984-Shift-N для Mac).
2. Выберите "Веб-приложение" в категории "Java Web". Нажмите кнопку "Далее".
3. Введите имя проекта *WebLogicCustomer* и укажите местоположение проекта.
4. Снимите флажок "Использовать отдельную папку", если он установлен. Нажмите кнопку "Далее".
5. Выберите сервер *Oracle WebLogic * из раскрывающегося списка серверов.
6. Выберите *Java EE 5* или *Java EE 6 Web* в качестве версии Java EE. Нажмите кнопку "Далее".

*Примечание.* Вариант Java EE 6 Web доступен, только если вы зарегистрировали экземпляр WebLogic Server 12c.

image::images/new-project-ee6.png[title="В мастере создания проектов выбран Weblogic "]


. Выберите платформу JavaServer Faces.


. В списке 'Серверная библиотека' выберите JSF 2.x. Нажмите кнопку "Завершить".

image::images/projectwizard-serverlib.png[title="Панель 'Платформы' мастера создания проектов"]

Когда вы нажмете кнопку "Закончить", IDE создаст проект веб-приложения и откроет файл  ``index.xhtml``  в редакторе. Откройте окно 'Проекты'. Вы увидите, что среда IDE создала файл дескриптора  ``weblogic.xml``  и файл  ``web.xml``  в структуре узла 'Файлы конфигурации'.

image::images/wl-projects-window1.png[title="weblogic.xml выбран в окне 'Проекты'"]

Если открыть файл  ``web.xml``  в редакторе, можно видеть, что в качестве страницы индекса по умолчанию указано  ``faces/index.xhtml`` . Если открыть в редакторе файл  ``weblogic.xml`` , он будет иметь примерно следующий вид.


[source,xml]
----

<?xml version="1.0" encoding="UTF-8"?>
<weblogic-web-app xmlns="http://xmlns.oracle.com/weblogic/weblogic-web-app" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.0/weblogic-web-app.xsd">
  <jsp-descriptor>
    <keepgenerated>true</keepgenerated>
    <debug>true</debug>
  </jsp-descriptor>
  <context-root>/WebLogicCustomer</context-root>
</weblogic-web-app>
----

*Примечания.*

* Если файл  ``weblogic.xml``  содержит элемент  ``<fast-swap>`` , убедитесь, что  ``fast-swap``  отключен. Для этого проверьте, что элемент  ``<enabled>``  имеет значение *false*.

[source,xml]
----

    <fast-swap>
        <enabled>*false*</enabled>
    </fast-swap>
----
* Если в качестве целевого сервера используется WebLogic Server 11g (10.3.4 или 10.3.5), в пакет установки сервера входят библиотеки, необходимые для использования JSF 1.2 и JSF 2.x в приложениях, но эти библиотеки по умолчанию деактивированы. В этом случае потребуется развернуть и установить библиотеки JSF 2.x. Если библиотека еще не установлена; IDE может установить ее за вас, если вы выберете библиотеку в мастере новых проектов. Библиотеку необходимо установить только один раз.

image::images/install-libraries-dialog.png[title="Диалоговое окно 'Разрешение проблемы отсутствующих серверов'"]

После создания приложения при просмотре файла  ``weblogic.xml``  в редакторе вы увидите, что среда IDE внесла в файл изменения и указала в нем библиотеку JSF, которая будет использоваться приложением.


[source,xml]
----

<?xml version="1.0" encoding="UTF-8"?>
<weblogic-web-app xmlns="http://www.bea.com/ns/weblogic/90" xmlns:j2ee="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.bea.com/ns/weblogic/90 http://www.bea.com/ns/weblogic/90/weblogic-web-app.xsd">
  <context-root>/WebLogicCustomer</context-root>
  *<library-ref>
      <library-name>jsf</library-name>
      <specification-version>2.0</specification-version>
      <implementation-version>1.0.0.0_2-0-2</implementation-version>
      <exact-match>true</exact-match>
  </library-ref>*
</weblogic-web-app>
----
 


=== Создание подключения к базе данных

Данное руководство использует базу данных с именем*sample*, работающую на сервере базы данных MySQL. В этом упражнении вы используете IDE для создания базы данных и заполнения ее таблиц. Затем вы откроете подключение к базе данных. IDE будет использовать детали подключения к базе данных для создания элемента устойчивости приложения. Для получения более подробной информации об использовании сервера базы данных MySQL с IDE см. руководство link:../ide/mysql.html[+Подключение к базе данных MySQL+]

*Примечание.* В качестве альтернативы, если установлен сервер GlassFish при установке IDE, можно использовать подключение к образцу базы данных на сервере баз данных JavaDB, который был зарегистрирован автоматически в процессе установки IDE.

В этом упражнении вы создадите и откроете подключение к базе данных.

1. Щелкните правой кнопкой мыши узел сервера MySQL в окне 'Службы' и выберите 'Подключение'.
2. Введите имя пользователя и пароль. Нажмите кнопку "ОК".
3. Щелкните правой кнопкой мыши узел "MySQL Server" и выберите "Create Database".
4. Выберите *sample* в раскрывающемся списке имен новой базы данных. Нажмите кнопку "ОК".

image::images/create-db.png[title="Диалоговое окно создания базы данных"]

*Примечание.* В зависимости от того, как настроена база данных, может потребоваться явно указать права доступа к новой базе данных.

Когда вы нажмете кнопку ОК, IDE создаст примерную базу данных и заполнит ее таблицы. Если вы расширите узел сервера MySQL, то увидите, что теперь список баз данных содержит новую базу данных  ``sample`` .



. Разверните узел сервера MySQL и щелкните правой кнопкой мыши образец базы данных и выберите 'Подключение'.

Когда вы нажмете кнопку "Подключиться", в узле "Базы данных" появится узел для подключения. Вы можете расширить узел для просмотра таблиц базы данных.

image::images/services-window2.png[title="Узел образца базы данных в окне 'Службы'"]

IDE использует подключение к базе данных для получения информации о ней. IDE также использует детали подключения к базе данных для генерирования файла XML, который используется сервером WebLogic для создания источников данных на сервере и идентификации соответствующих драйверов.

Если у вас не установлена база данных MySQL, вы можете использовать базу данных  ``sample``  на JavaDB. Если база данных  ``sample``  не существует, щелкните правой кнопкой мыши узел MySQL (or JavaDB) и выберите 'Создать базу данных'.

Для получения более подробной информации см. руководствоlink:../ide/mysql.html[+Подключение к базе данных MySQL +].

 


=== Создание блока сохранения состояния

Для управления сохранением состояния в приложении вам всего лишь необходимо создать блок сохранения состояния, указать источник данных и диспетчер сущностей для использования, а затем контейнер будет выполнять всю работу по управлению сущностями и сохранением состояния. Блок сохранения состояния можно создать, определив его в файле  ``persistence.xml`` .

*Примечание.* Для демонстрации в этом упражнении будет использоваться мастер создания блоков сохранения состояния для создания файла  ``persistence.xml`` . Мастер поможет вам указать свойства блока сохранения состояния. Вы также можете создать блок сохранения состояния в новом классе сущностей из мастера баз данных. Если блока сохранения состояния не существует, мастер предложит вариант создания блока сохранения состояния для проекта. Мастер создаст блок сохранения состояния, который использует поставщик сохранения состояния сервера WebLogic по умолчанию.

1. Щелкните правой кнопкой мыши узел проекта в окне "Проекты" и выберите команду "Свойства".
2. В категории "Источники" окна "Свойства" выберите *JDK 6* как исходный/двоичный формат. Нажмите кнопку "ОК".
3. Выберите команду Новый файл (Ctrl-N; &amp;#8984-N для Mac), чтобы открыть мастер нового файла.
4. Выберите "Блок сохранения состояния" в категории "Сохранение состояния". Нажмите кнопку "Далее".
5. Оставьте для блока сохранения состояния имя по умолчанию, предложенное мастером.
6. Выберите *EclipseLink* в раскрывающемся списке поставщиков сохранения состояния.
7. Выберите "Новый источник данных" в раскрывающемся списке источников данных.
8. Введите *jdbc/mysql-sample* как имя JNDI в диалоговом окне "Новый источник данных".
9. Выберите подключение к примеру базы данных MySQL. Нажмите кнопку "ОК" для закрытия диалогового окна.
10. Нажмите кнопку "Готово" в мастере создания блоков сохранения состояния.

image::images/new-persistence-eclipselink1.png[title="Мастер создания блоков сохранения состояния"]

Когда вы нажмете кнопку "Готово", для вашего проекта будет создан файл ``persistence.xml``  и открыт в редакторе. Вы можете нажать значок 'Исходный код' на панели инструментов редактора, чтобы открыть файл  ``persistence.xml``  в редакторе исходного кода XML. Этот файл содержит всю информацию, которая нужна серверу для управления сущностями и сохранением состояния приложения.

*Примечание.* Если не используется существующий источник данных, IDE создаст файл XML в узле 'Ресурсы сервера' (например,  ``datasource-1-jdbc.xml`` ), который содержит сведения, которые используются для создания источника данных на сервере, включая драйвер JDBC для базы данных.

Если открыть файл  ``persistence.xml``  в редакторе исходного кода XML, будет видно, что среда IDE указала версию сохранения 2.0 и схему  ``persistence_2_0.xsd`` . Среда IDE указывает  ``org.eclipse.persistence.jpa.PersistenceProvider``  как поставщика сохранения состояния в файле ``persistence.xml`` . EclipseLink является основной реализацией сохранения состояния для Oracle TopLink и образцовой реализацией JPA.


[source,xml]
----

<?xml version="1.0" encoding="UTF-8"?>
<persistence *version="2.0"* xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/*persistence_2_0.xsd*">
  <persistence-unit name="WebLogicCustomerPU" transaction-type="JTA">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
    <jta-data-source>jdbc/mysql-sample</jta-data-source>
    <exclude-unlisted-classes>false</exclude-unlisted-classes>
    <properties>
      <property name="eclipselink.ddl-generation" value="create-tables"/>
    </properties>
  </persistence-unit>
</persistence>
----

Вы также можете выбрать TopLink в мастере; в этом случае мастер укажет  ``oracle.toplink.essentials.PersistenceProvider``  как поставщика сохранения состояния в файле  ``persistence.xml`` . Среда IDE добавит библиотеки Oracle TopLink Essentials - 2.0.1 к пути класса. В текущей и будущих версиях Oracle TopLink, Oracle TopLink Essentials заменен на EclipseLink. По возможности стоит использовать Oracle TopLink/EclipseLink вместо Oracle TopLink Essentials.

 


=== Создание классов сущностей

Теперь вы будете использовать классы сущностей из мастера баз данных для создания классов сущностей на основе связанной базы данных.

1. Выберите команду "Новый файл" (Ctrl-N) для открытия мастера нового файла.
2. Выберите "Классы сущностей" в разделе "База данных", категория "Устойчивость". Нажмите кнопку "Далее".
3. В классах сущностей из мастера баз данных выберите *jdbc/mysql-sample* из раскрывающегося списка источников данных и введите пароль, если это необходимо.
4. Выберите таблицу *Customer* из доступных таблиц и нажмите "Добавить". Нажмите кнопку "Далее".

Мастер содержит таблицу  ``customer``  и связанные с ней в разделе "Выделенные таблицы".



. Введите *ejb* как пакет для сгенерированных классов. Нажмите кнопку "Завершить".

Когда вы нажмете кнопку "Готово", среда IDE сгенерирует классы сущностей для каждой из выделенных таблиц. Вы можете расширить узел исходного пакета  ``ejb``  для просмотра генерированных классов сущностей.

 


=== Генерирование страниц JSF

В этом упражнении вы будете использовать мастер для генерирования страниц JSF на основе имеющихся классов сущностей.

1. Щелкните узел проекта правой кнопкой мыши и выберите команду "Создать" > "Другие".
2. Выберите страницы JSF из классов сущностей в категории JavaServer Faces мастера нового файла. Нажмите кнопку "Далее".
3. Нажмите кнопку "Добавить все" для создания страниц JSF для всех доступных сущностей. Нажмите кнопку "Далее".
4. Введите *web* в качестве типа пакета для компонентов сеанса и классов контроллера JPA. Нажмите кнопку "Завершить".

Когда вы нажмете кнопку "Готово", среда IDE сгенерирует страницы JSF 2.0, а также классы контроллера и преобразователя для страниц JSF. Среда IDE создает набор страниц JSF для каждого класса сущности в каталоге веб-страниц по умолчанию. Также среда IDE создает класс управляемых компонентов для каждой сущности. Этот класс обращается к соответствующему классу фасада сущности.

 


=== Выполнение проекта

В этом упражнении вы построите и запустите веб-приложение на сервере WebLogic. Вы будете использовать команду "Запустить" в среде IDE для сборки, разворачивания и запуска приложения.

1. Щелкните правой кнопкой мыши узел проекта и выберите "Выполнить".

Когда вы нажмете "Выполнить", среда IDE построит проект и запустит архив WAR на сервере WebLogic, создаст и зарегистрирует новый источник данных JDBC. В вашем браузере открывается первая страница приложения (link:http://localhost:7001/WebLogicCustomer/[+http://localhost:7001/WebLogicCustomer/+]).

image::images/browser-welcome.png[title="Страница приветствия в браузере"]

Если вы зайдете в администраторскую консоль, то можете нажать "Запуск" в разделе "Ваши запущенные ресурсы", чтобы увидеть таблицу с ресурсами, уже запущенными на сервере.

image::images/adminconsole-deployments.png[title="Таблица 'Развертывания' на консоли администрирования сервера WebLogic"]

Щелкните имя ресурса для просмотра дополнительной информации о нем. В таблице "Запускаемые элементы" также можно удалять ресурсы.

*Замечания по развертыванию на сервере WebLogic Server 10.3.4 или 10.3.5.*

* Если приложение развернуто на сервере WebLogic Server 10.3.4 или 10.3.5, можно видеть, что библиотека JSF 2.0 также развернута на сервере наряду с веб-приложением  ``WebLogicCustomer.war``  и конфигурацией JDBC  ``jdbc/mysql-sample`` . 

image::images/admin-console-deployments.png[title="Таблица 'Развертывания' на консоли администрирования сервера WebLogic"]

* При расширении экземпляра сервера Oracle WebLogic в окне "Сервисы" можно просмотреть приложения и ресурсы, запускаемые на сервере. Как видите, ресурсы JDBC были созданы на сервере, а библиотеки JSF установлены.

image::images/weblogic-services-window2.png[title="приложения и ресурсы сервера WebLogic в окне &quot;Службы&quot;."]

Для получения более подробной информации о запуске приложений см.link:http://download.oracle.com/docs/cd/E12840_01/wls/docs103/deployment/index.html[+Запуск приложений на сервере WebLogic+]

link:/about/contact_form.html?to=3&subject=Feedback:%20Developing%20an%20Enterprise%20Application%20on%20Oracle%20WebLogic[+Отправить отзыв по этому учебному курсу+]



== Дополнительные сведения

Дополнительные сведения об использовании IDE NetBeans для разработки веб-приложений с помощью Java Persistence и JavaServer Faces см. следующие ресурсы:

* link:../javaee/weblogic-javaee-m1-screencast.html[+Видео развертывания веб-приложения на сервере Oracle WebLogic+]
* link:jsf20-intro.html[+Введение в JavaServer Faces 2.0+]
* link:../../docs/javaee/ecommerce/intro.html[+Руководство NetBeans по интернет-коммерции+]
* link:../../trails/java-ee.html[+Учебная карта по Java EE и Java Web+]
