<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>BracesMatcher (Editor Braces Matching)</title>
<link rel="stylesheet" type="text/css" href="../../../../../javadoc.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BracesMatcher (Editor Braces Matching)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BracesMatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">org.netbeans.modules.editor.bracesmatching/0 1.42.0 </div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BraceContext.html" title="class in org.netbeans.spi.editor.bracesmatching"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.ContextLocator.html" title="interface in org.netbeans.spi.editor.bracesmatching"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/netbeans/spi/editor/bracesmatching/BracesMatcher.html" target="_top">Frames</a></li>
<li><a href="BracesMatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.netbeans.spi.editor.bracesmatching</div>
<h2 title="Interface BracesMatcher" class="title">Interface BracesMatcher</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">BracesMatcher</span></pre>
<div class="block">The common interface for all matchers. Implementations of this interface
 are supposed to be created from the <a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcherFactory.html" title="interface in org.netbeans.spi.editor.bracesmatching"><code>BracesMatcherFactory</code></a> and
 will be used by the editor infrastructure to find areas of matching characters
 in a document.
 
 <p>Generally, <code>BracesMatcher</code>s operate within a <a href="../../../../../org/netbeans/spi/editor/bracesmatching/MatcherContext.html" title="class in org.netbeans.spi.editor.bracesmatching"><code>MatcherContext</code></a>
 that describes a position in a document where the search should start.
 The matcher first looks in the document at that position to determine if it contains
 a character or a sequence of characters that normally come in pairs. This can
 be a single brace or an XML tag or anything that the matcher wishes to recognize.
 This area is called the original area and its boundaries - beginning and ending
 offsets - should be returned from <a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.html#findOrigin--"><code>findOrigin()</code></a> method. The infrastructure
 will then ask the matcher to find the other matching areas by calling its 
 <a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.html#findMatches--"><code>findMatches()</code></a> method.
 
 <p>Besides of describing the position in a document where the search should start
 the <code>MatcherContext</code> also tells the matcher in which direction
 it should be looking for the original area. The direction can either be
 backward to look towards the beginning of the document or it can be forward 
 to look towards the end of the document. The search direction can be determined 
 by calling <a href="../../../../../org/netbeans/spi/editor/bracesmatching/MatcherContext.html#isSearchingBackward--"><code>MatcherContext.isSearchingBackward()</code></a>.
 
 <p>The search for the original area should only be attempted in the near proximity
 of the caret. The maximum distance from the caret where the matcher is supposed
 to look can be obtained from <a href="../../../../../org/netbeans/spi/editor/bracesmatching/MatcherContext.html#getSearchLookahead--"><code>MatcherContext.getSearchLookahead()</code></a>.
 
 <p>While there can only be one original area, the area in the document where
 the search start, the matcher may report multiple areas matching the
 original one. Typically, though, there will only be one matching area too.
 
 <p>In the situation when the matcher reported an original area, but was unable
 to find any matching areas, the original area will be marked as mismatched,
 which may be indicated visually to a user.
 
 <p><b>Cancellable tasks</b>
 
 <p>It is important to understand that matching is generally initiated in response
 to a moving caret in a text component on screen. Therefore there can be many
 requests for matching started, but only the last one provides results interesting
 for a user. In order not to flood the system with background tasks that are computing
 results nobody is interested in, it is essential to implement both <code>findOrigin</code>
 and <code>findMatches</code> methods in a way that makes their work possible
 to interrupt and cancel.
 
 <p>The infrastructre uses <code>RequestProcessor</code> for spawning a background
 thread that runs the asynchronous matching tasks. When the infrastructure wants
 to cancel a task it simply interrupts its thread. The task <b>must</b>
 check up on its thread status periodically and quit immediately when the
 thread is interruped. The example below shows how this can be implemented:
 
 <pre>
 public int [] findMatches() {
     while(stillSearching) {
         
         // look a bit furter in the document ....
 
         if (MatcherContext.isTaskCanceled()) {
             return null;
         }
     }
 }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.ContextLocator.html" title="interface in org.netbeans.spi.editor.bracesmatching">BracesMatcher.ContextLocator</a></span></code>
<div class="block">Mixin interface, which provides context ranges for brace matches.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.html#findMatches--">findMatches</a></span>()</code>
<div class="block">Finds all areas matching the original one.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.html#findOrigin--">findOrigin</a></span>()</code>
<div class="block">Checks if the <code>MatcherContext</code> is positioned in an area suitable
 for matching.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findOrigin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findOrigin</h4>
<pre>int[]&nbsp;findOrigin()
          throws <a href="http://download.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                 <a href="http://download.oracle.com/javase/8/docs/api/javax/swing/text/BadLocationException.html?is-external=true" title="class or interface in javax.swing.text">BadLocationException</a></pre>
<div class="block">Checks if the <code>MatcherContext</code> is positioned in an area suitable
 for matching. This check should be very simple and fast. The matcher
 should only try to find the original area within the search lookahead
 from the caret offset that it obtains from <code>MatcherContext</code>.
 
 <p>Normally this method is supposed to return offset boundaries of the
 original area or <code>null</code> if the original area can't be found.
 The infrastructure will highlight the whole original area according to
 the result of the <code>findMatches</code> call. If for some reason the
 matcher does not want to highlight the whole original area it can return
 additional offset pairs for areas that should be highlighted instead.
 
 <p>The infrastructure does not lock the document prior calling this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The starting and ending offset of the original area or <code>null</code>
   if the matcher can't detect the origin area within the lookahead distance.
   If <code>null</code> is returned the infrastructure will never call
   the <code>findMatches</code> method on this instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - If the thread was engaged in a
   call that resulted in <code>InterruptedException</code>, the exception
   should be rethrown.</dd>
<dd><code><a href="http://download.oracle.com/javase/8/docs/api/javax/swing/text/BadLocationException.html?is-external=true" title="class or interface in javax.swing.text">BadLocationException</a></code> - If a document operation fails.</dd>
</dl>
</li>
</ul>
<a name="findMatches--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findMatches</h4>
<pre>int[]&nbsp;findMatches()
           throws <a href="http://download.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                  <a href="http://download.oracle.com/javase/8/docs/api/javax/swing/text/BadLocationException.html?is-external=true" title="class or interface in javax.swing.text">BadLocationException</a></pre>
<div class="block">Finds all areas matching the original one. This method is called by the
 infrastructure to find all areas that are matching the original area
 of the document in the <code>MatcherContext</code>.
 
 <p>The infrastructure does not lock the document prior calling this method.
 
 <p>It is essential for all implementations to respond when thread running
 this method is interrupted and abort the task and return immediately. This can
 be done simply by checking the thread's status like in the code below.
 <p>
 
 <pre>
 if (MatcherContext.isTaskCanceled()) {
     return;
 }
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Starting and ending offsets of all areas matching the original area or
   <code>null</code> if no matching areas can be found. If the returned array
   is not null, it should have even number of elements.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - If the thread was engaged in a
   call that resulted in <code>InterruptedException</code>, the exception
   should be rethrown.</dd>
<dd><code><a href="http://download.oracle.com/javase/8/docs/api/javax/swing/text/BadLocationException.html?is-external=true" title="class or interface in javax.swing.text">BadLocationException</a></code> - If a document operation fails.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BracesMatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">org.netbeans.modules.editor.bracesmatching/0 1.42.0 </div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BraceContext.html" title="class in org.netbeans.spi.editor.bracesmatching"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/netbeans/spi/editor/bracesmatching/BracesMatcher.ContextLocator.html" title="interface in org.netbeans.spi.editor.bracesmatching"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/netbeans/spi/editor/bracesmatching/BracesMatcher.html" target="_top">Frames</a></li>
<li><a href="BracesMatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><span class="footnote"></span><!-- See javadoc.css for timestamp information --></small></p>
</body>
</html>
