
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Web Service Passando Dados Binários, parte 5: Criando o Cliente Swing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web Service Passando Dados Binários, parte 5: Criando o Cliente Swing - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Web Service Passando Dados Binários, parte 5: Criando o Cliente Swing">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Web Service Passando Dados Binários, parte 5: Criando o Cliente Swing</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/flower_swing_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_criando_a_aplicação_cliente">Criando a Aplicação Cliente</a></li>
<li><a href="#design-jframe">Projetando o Form JFrame</a></li>
<li><a href="#_vinculando_os_componentes_do_jframe">Vinculando os Componentes do JFrame</a>
<ul class="sectlevel2">
<li><a href="#_inicializando_os_componentes">[[Inicializando os Componentes]]</a></li>
<li><a href="#_mostrando_as_flores">[[Mostrando as Flores]]</a></li>
</ul>
</li>
<li><a href="#_codificando_a_classe_principal">[[Codificando a Classe Principal]]</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>O objetivo deste exercício é criar um cliente para o Web service criado e implantado anteriormente e, em seguida, adicionar uma interface de GUI a esse cliente. A interface exibe as imagens que o Web service passa como dados binários.</p>
</div>
<div class="paragraph">
<p>É possível fazer download de uma versão completa do cliente a partir do <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FWeb%2520Services%252FWeb%2520Service%2520Passing%2520Binary%2520Data%2520--%2520EE6%252FFlowerClient.zip">Catálogo de Amostras do NetBeans</a>.</p>
</div>
<div class="paragraph">
<p><strong>Lições Deste Tutorial</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-74-73-72.png" alt="netbeans stamp 74 73 72">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3 e 7.4</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="./flower_overview.html">Visão Geral</a></p>
</li>
<li>
<p><a href="./flower_ws.html">Criando o Web Service</a></p>
</li>
<li>
<p><a href="./flower-code-ws.html">Codificando e Testando o Web Service</a></p>
</li>
<li>
<p><a href="./flower_wsdl_schema.html">+ Modificando o Esquema e os Arquivos WSDL para Passar Dados Binários+</a></p>
</li>
<li>
<p>&#8658; Criando o Cliente Swing</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><a href="#create-client-app">Criando a Aplicação Cliente</a></p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><a href="#design-jframe">Projetando o JFrame</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>.
<a href="#bind-jframe">Vinculando os Componentes do JFrame</a></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><a href="#code-main-class">Codificando a Classe Principal</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_a_aplicação_cliente">Criando a Aplicação Cliente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você criará uma aplicação Web. Nessa aplicação, você criará um cliente que consumirá o Web service criado e modificado em tutoriais anteriores.</p>
</div>
<div class="paragraph">
<p><strong>Para criar a aplicação cliente:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto (Ctrl-Shift-N no Linux/Windows, ⌘-Shift-N no MacOS). O Assistente de Novo Projeto será exibido.</p>
</li>
<li>
<p>Selecione Aplicação Java na categoria Java. Clique em Próximo. O assistente de Nova Aplicação Java será exibido. Digite  <code>FlowerClient</code>  em Nome do Projeto. Selecione uma localização para o projeto e clique em Finalizar. O IDE criará um novo projeto de aplicação Java.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó do projeto  <code>FlowerClient</code>  e selecione Novo &gt; Cliente de Web Service no menu de contexto. O assistente de Novo Cliente de Web Service será aberto.</p>
</li>
<li>
<p>Selecione o botão de opção URL WSDL e cole o URL do arquivo WSDL nesse campo. (Por default, o URL é  <code><a href="http://localhost:8080/FlowerAlbumService/FlowerServiceService?wsdl" class="bare">http://localhost:8080/FlowerAlbumService/FlowerServiceService?wsdl</a></code> . Localize o URL no browser testando o Web service e substituindo  <code>?Tester</code>  por  <code>?wsdl</code>  no final do URL.) Aceite todos os outros valores default, incluindo um nome de pacote em branco.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-client-wiz.png" alt="ws client wiz">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Clique em Finalizar. O IDE faz download do arquivo WSDL, adiciona stubs de cliente para interagir com o Web service e adiciona nós à janela Projetos no projeto de aplicação Java.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/client-generated-sources.png" alt="client generated sources">
</div>
<div class="title">Figure 2. Visualização Projetos mostrando o novo cliente do Web Service</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design-jframe">Projetando o Form JFrame</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você adicionará um  <code>JFrame</code>  à aplicação Web e projetará uma interface de GUI dentro dele utilizando componentes Swing. Finalmente, você vinculará os componentes Swing ao código do cliente de Web service.</p>
</div>
<div class="paragraph">
<p>Se não desejar projetar o form JFrame você mesmo, você poderá fazer download de um arquivo Java do JFrame pré-projetado <a href="https://netbeans.org/projects/www/downloads/download/webservices%252FFlowerFrame.java">aqui</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó  <code>FlowerClient</code>  e selecione Novo &gt; Form JFrame. Chame o quadro de  <code>FlowerFrame</code> . Coloque-o no pacote  <code>flowerclient</code> .</p>
</li>
<li>
<p><code>FlowerFrame</code>  será aberto no editor. Abra a Paleta, se ainda não estiver aberta. Estenda o limite inferior do quadro em aproximadamente um terço.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/opened-flowerform.png" alt="opened flowerform">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Arraste um JPanel da seção Contêineres Swing da Paleta para o  <code>FlowerFrame</code> . Expanda-o para preencher o  <code>FlowerFrame</code>  inteiro.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-panel.png" alt="add panel">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Clique com o botão direito do mouse no Painel na View do Design. Selecione Alterar Nome da Variável&#8230;&#8203; no menu de contexto. Defina o nome do painel como  <code>gardenFlowersPanel</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Arraste um JLabel da Paleta para o início do  <code> gardenFlowersPanel</code> . Clique com o botão direito do mouse no label e altere seu nome de variável para  <code>titleLabel</code> . Clique com o botão direito do mouse novamente em  <code>titleLabel</code>  e selecione Editar Texto. Altere o texto para Flores do Jardim. Talvez você queira explorar as propriedades do  <code>titleLabel</code> e dar a ele uma fonte de maior expressão.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Arraste um Grupo de Botões para a view de design. Aceite o nome da variável default do grupo de botões,  <code>buttonGroup1</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Arraste quatro Botões de Opções para uma linha horizontal abaixo do  <code>titleLabel</code> . Nas propriedades de cada botão, defina-o como um membro de  <code>buttonGroup1</code> . As outras propriedades dos botões são:</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Botões de Opção em ButtonGroup1</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome da Variável</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selecionado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Texto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asterRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verdadeiro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Áster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">honeysuckleRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Madressilva</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roseRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rosa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sunflowerRadioButton</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">falso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Girassol</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Arraste um Painel de Rolagem para baixo dos botões de opções. Expanda-o para preencher todo o espaço horizontal e cerca de dois terços do espaço vertical livre. Altere o nome da variável do painel de rolagem para  <code>mainScrollPane</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Arraste um Painel para o  <code>mainScrollPane</code> . Altere o nome da variável do Painel para  <code>mainPanel</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Na view Design, clique com o botão direito do mouse no  <code>mainPanel</code>  e selecione Definir layout &gt; Layout da Borda.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Arraste um Botão para o  <code>mainPanel</code> . Como o  <code>mainPanel</code>  tem layout de borda, o botão automaticamente preenche todo o painel. Altere o nome da variável do botão para  <code>mainPictureButton</code>  e mude o texto do botão para "Aguardando imagem&#8230;&#8203;"</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>Arraste outro Painel de Rolagem para o espaço abaixo do  <code>mainScrollPane</code> . Expanda o novo painel de rolagem para preencher todo o espaço livre remanescente. Altere o nome da variável do novo painel de rolagem para  <code>thumbnailScrollPane</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Arraste um Painel para o  <code>thumbnailScrollPane</code> . Altere o nome da variável do Painel para  <code>thumbnailPanel</code> . Defina o layout do  <code>thumbnailPanel</code>  para Layout de Grade.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="14">
<li>
<p>Arraste quatro Botões para o  <code>thumbnailPanel</code>  Como o  <code>thumbnailPanel</code>  tem Layout de Grade, os botões são automaticamente de mesmo tamanho e preenchem o painel completamente. As propriedades dos botões são: Botões no thumbnailPanel</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome da Variável</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Texto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asterButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aguardando&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">honeysuckleButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aguardando&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roseButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aguardando</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sunflowerButton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aguardando&#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>O Form JFrame agora está totalmente projetado. Nesse ponto, o  <code>FlowerFrame</code>  deverá ter a seguinte aparência.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/designed-form.png" alt="designed form">
</div>
<div class="title">Figure 3. Quadro de Flores Concluído mostrando os textos do botão em vez de imagens</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vinculando_os_componentes_do_jframe">Vinculando os Componentes do JFrame</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você inicializará os componentes no construtor e vinculará os componentes aos listeners. Os listeners chamam o código que mostra as imagens das flores.</p>
</div>
<div class="sect2">
<h3 id="_inicializando_os_componentes">[[Inicializando os Componentes]]</h3>
<div class="paragraph">
<p>[[Nesta seção, você preencherá o construtor  <code>FlowerFrame</code></p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Alterne para a view de Código-fonte do editor. Localize o início do corpo da classe  <code>FlowerFrame</code>  e o construtor  <code>FlowerFrame</code> .</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ff-empty-constructor.png" alt="ff empty constructor">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na parte superior do corpo da classe do  <code>FlowerFrame</code> , antes do construtor, crie um array de strings dos nomes de cada flor.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">protected static final String[] FLOWERS = {"aster", "honeysuckle", "rose", "sunflower"};</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Entre o array da string FLOWERS e o construtor, adicione uma linha que inicialize um  <code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html">+java.util.Map+</a></code>  denominado  <code>flores</code> . O mapa utiliza uma  <code>String</code>  e a mapeia para uma  <code>Image</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private Map&lt;String, Image&gt; flowers;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione instruções de importação para  <code>java.util.Map</code>  e  <code>java.awt.Image</code> .</p>
</li>
<li>
<p>Adicione código ao construtor  <code>FlowerFrame</code>  para associar uma  <code>Image</code>  específica a uma  <code>String</code>  específica de uma instância específica do mapa  <code>flowers</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public FlowerFrame(Map&lt;String, Image&gt; flowers) {

    this.flowers = flowers;
    for (String flower:FLOWERS) {
        flowers.put(flower,null);
    }

    initComponents();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Inicialize  <code>ItemListener</code> s para os botões de opções e  <code>ActionListener</code> s para os quatro botões de flores e defina o título default.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public FlowerFrame(Map&lt;String, Image&gt; flowers) {

    this.flowers = flowers;
    for (String flower:FLOWERS) {
        flowers.put(flower,null);
    }

    initComponents();

    setTitle("Garden Flowers [waiting for picture]");

    ItemListener rbListener = new RBListener();
    asterRadioButton.addItemListener(rbListener);
    honeysuckleRadioButton.addItemListener(rbListener);
    roseRadioButton.addItemListener(rbListener);
    sunflowerRadioButton.addItemListener(rbListener);

    ActionListener bListener = new ButtonListener();
    asterButton.addActionListener(bListener);
    honeysuckleButton.addActionListener(bListener);
    roseButton.addActionListener(bListener);
    sunflowerButton.addActionListener(bListener);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Adicione instruções de importação para  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ItemListener.html">+java.awt.event.ItemListener+</a></code>  e  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ActionListener.html">+java.awt.event.ActionListener+</a></code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Agora, o construtor está completo. Você receberá advertências de erros de compilação no código porque ele não contém as classes  <code>RBListener</code>  e  <code>ButtonListener</code> . Essas duas classes são implementações personalizadas do  <code>ItemListener</code>  e  <code>ActionListener</code> , respectivamente. Você escreverá essas duas classes na próxima seção.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mostrando_as_flores">[[Mostrando as Flores]]</h3>
<div class="paragraph">
<p>[[Nesta seção, você escreverá listeners personalizados para os botões de opções e os botões de flores. Você também escreverá um método que determinará qual flor será selecionada pelos botões e obterá uma  <code>Image</code>  daquela flor a partir do mapa  <code>flowers</code> . Finalmente, você escreverá um método que é chamado pela classe  <code>Main</code>  e que obterá uma  <code>Image</code>  para cada miniatura.</p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Encontre o método  <code>public static void main(String args[])</code>  no corpo da classe  <code>FlowerFrame</code> . Delete esse método e sua documentação. (A aplicação utilizará a classe  <code>Main</code> .)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>No lugar do método  <code>main</code> , escreva um  <code>ItemListener</code>  personalizado para os botões de opções. Esse listener mostrará uma nova imagem de flor quando um botão de opção for selecionado.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private class RBListener implements ItemListener {
    public void itemStateChanged(ItemEvent e) {
        showFlower();
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione uma instrução de importação para  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ItemEvent.html">+java.awt.event.ItemEvent+</a></code> .</p>
</li>
<li>
<p>Abaixo do  <code>ItemListener</code>  personalizado, escreva um  <code>ActionListener</code>  personalizado para os quatro botões de flores. Quando um botão for clicado, o listener selecionará o botão de opção relacionado:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private class ButtonListener implements ActionListener {

    public void actionPerformed(ActionEvent e) {
        if (e.getSource() == asterButton) asterRadioButton.setSelected(true);
        else if (e.getSource() == honeysuckleButton) honeysuckleRadioButton.setSelected(true);
        else if (e.getSource() == roseButton) roseRadioButton.setSelected(true);
        else if (e.getSource() == sunflowerButton) sunflowerRadioButton.setSelected(true);
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Adicione uma instrução de importação para  <code><a href="http://download.oracle.com/javase/6/docs/api/java/awt/event/ActionEvent.html">+java.awt.event.ActionEvent+</a></code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Abaixo do  <code>ActionListener</code>  personalizado, escreva o método  <code>showFlower</code> . Esse método determina o botão de opção selecionado e obtém uma  <code>Image</code>  da flor correspondente a partir do mapa  <code>flowers</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">void showFlower() {
    Image img = null;
    if (asterRadioButton.isSelected()) {
        img = flowers.get("aster");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Aster]");
        }
    } else if (honeysuckleRadioButton.isSelected()) {
        img = flowers.get("honeysuckle");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Honeysuckle]");
        }

    } else if (roseRadioButton.isSelected()) {
        img = flowers.get("rose");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Rose]");
        }
    } else if (sunflowerRadioButton.isSelected()) {
        img = flowers.get("sunflower");
        if (img != null) {
            mainPictureButton.setIcon(new ImageIcon(img));
            setTitle("Garden Flowers [Sunflower]");
        }
    }
    if (img == null) {
        mainPictureButton.setIcon(null);
        setTitle("Garden Flowers [waiting for picture]");
    } else mainPictureButton.setText("");
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Adicione uma instrução de importação para  <code><a href="http://download.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html">+javax.swing.ImageIcon+</a></code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Escreva o método  <code>setThumbnails</code> . Esse método obtém uma imagem para cada miniatura do mapa  <code>flowers</code> . A classe  <code>Main</code>  chama esse método.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">void setThumbnails(Map&lt;String, Image&gt; thumbs) {
    Image img = thumbs.get("aster");
    if (img != null) {
        asterButton.setIcon(new ImageIcon(img));
        asterButton.setText("");
    }
    img = thumbs.get("honeysuckle");
    if (img != null) {
        honeysuckleButton.setIcon(new ImageIcon(img));
        honeysuckleButton.setText("");
    }
    img = thumbs.get("rose");
    if (img != null) {
        roseButton.setIcon(new ImageIcon(img));
        roseButton.setText("");
    }
    img = thumbs.get("sunflower");
    if (img != null) {
        sunflowerButton.setIcon(new ImageIcon(img));
        sunflowerButton.setText("");
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Corrija as importações em  <code>FlowerFrame</code> , caso elas não tenham sido corrigidas quando foram coladas no código. É possível corrigir todas de uma vez clicando com o botão direito do mouse no editor e selecionando Corrigir Importações, no menu de contexto. O conjunto completo de instruções de importação é:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.awt.Image;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.event.ItemEvent;import java.awt.event.ItemListener;import java.util.Map;import javax.swing.ImageIcon;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O  <code>FlowerFrame</code>  agora está completo.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_codificando_a_classe_principal">[[Codificando a Classe Principal]]</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[[Nesta seção, você completará a classe  <code>Main</code>  para que mostre o  <code>FlowerFrame</code> , estabelecerá uma conexão com o Web service e chamará as operações do Web service.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra a classe  <code>Main.java</code>  no editor.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/main-empty.png" alt="main empty">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No corpo da classe, antes do método  <code>principal</code> , inicialize uma variável  <code>int</code>  para a quantidade de imagens obtidas por download.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"> private static int downloadedPictures;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No corpo do método  <code>main</code> , crie um  <code>HashMap</code>  de quatro flores e outro  <code>HashMap</code>  de quatro miniaturas.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">final Map&lt;String,Image&gt; flowers = new HashMap&lt;String,Image&gt;(4);
final Map&lt;String,Image&gt; thumbs = new HashMap&lt;String,Image&gt;(4);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Adicione instruções de importação para  <code>java.awt.Image</code> ,  <code>java.util.Map</code>  e  <code>java.util.HashMap</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>No corpo do método  <code>main</code> , adicione código para mostrar o  <code>FlowerFrame</code> .<strong>// Show the FlowerFrame.</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">final FlowerFrame frame = new FlowerFrame(flowers);
frame.setVisible(true);</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>No corpo do método  <code>main</code> , adicione o código para conectar o cliente ao serviço.<strong>// The client connects to the service with this code.</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">FlowerServiceService service = new FlowerServiceService();
final FlowerService port = service.getFlowerServicePort();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Adicione instruções de importação para  <code>org.flower.service.FlowerService</code>  e  <code>org.flower.service.FlowerServiceService</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>No corpo do método  <code>main</code> , adicione o código que cria um array de quatro threads  <code>Runnable</code>  e chama a operação  <code>getFlower</code>  do Web service uma vez em cada thread.*// The web service getFlower operation</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Runnable[] tasks = new Runnable[4];

for (int i=0; i&lt;4;i++) {
    final int index = i;
    tasks[i] = new Runnable() {
        public void run() {
            try {

                *// Call the getFlower operation
                // on the web service:*
                Image img = port.getFlower(FlowerFrame.FLOWERS[index]);
                System.out.println("picture downloaded: "+FlowerFrame.FLOWERS[index]);

                *// Add strings to the hashmap:*
                flowers.put(FlowerFrame.FLOWERS[index],img);

                *// Call the showFlower operation
                // on the FlowerFrame:*
                frame.showFlower();

            } catch (IOException_Exception ex) {
                ex.printStackTrace();
            }
            downloadedPictures++;
        }
    };
    new Thread(tasks[i]).start();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Adicione uma instrução de importação para  <code>org.flower.service.IOException_Exception</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>No corpo do método  <code>principal</code> , adicione o código que chama a operação  <code>getThumbnails</code>  do Web service em um thread separado.*// The web service getThumbnails operation is called</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Runnable thumbsTask = new Runnable() {
    public void run() {
        try {
            while (downloadedPictures &lt; 4) {
                try {Thread.sleep(100);} catch (InterruptedException ex) {}
            }

            *// Call the getThumbnails operation
            // on the web service:*
            List&lt;Image&gt; images = port.getThumbnails();
            System.out.println("thumbs downloaded");

            if (images != null &amp;amp;&amp;amp; images.size() == 4) {
                for (int i=0;i&lt;4;i++) {
                    thumbs.put(FlowerFrame.FLOWERS[i],images.get(i));
                }
                frame.setThumbnails(thumbs);
            }
        } catch (IOException_Exception ex) {
            ex.printStackTrace();
        }
    }
};
new Thread(thumbsTask).start();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Corrija as importações em  <code>Main.java</code> , caso elas não tenham sido corrigidas quando foram coladas no código. É possível corrigir todas de uma vez clicando com o botão direito do mouse no editor e selecionando Corrigir Importações, no menu de contexto. Você verá uma Lista de classes para importação; selecione  <code>java.util.List</code> . O conjunto completo de instruções de importação é:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import flower.album.FlowerService;import flower.album.FlowerService_Service;import flower.album.IOException_Exception;import java.awt.Image;import java.util.HashMap;import java.util.List;import java.util.Map;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A classe  <code>Main</code>  agora está completa.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Main {

     private static int downloadedPictures;

     public static void main(String[] args) {

        final Map&lt;String,Image&gt; flowers = new HashMap&lt;String,Image&gt;(4);
        final Map&lt;String,Image&gt; thumbs = new HashMap&lt;String,Image&gt;(4);

        *// Show the FlowerFrame.*
        final FlowerFrame frame = new FlowerFrame(flowers);
        frame.setVisible(true);
        *        // The client connects to the service with this code.*
        FlowerService_Service service = new FlowerService_Service();
        final FlowerService port = service.getFlowerServicePort();

        Runnable[] tasks = new Runnable[4];

        *// The web service getFlower operation
        // is called 4 times, each in a separate thread.
        // When the operation finishes the picture is shown in
        // a specific button.*
        for (int i=0; i&lt;4;i++) {
            final int index = i;
            tasks[i] = new Runnable() {
                public void run() {
                    try {

                        *// Call the getFlower operation
                        // on the web service:*
                        Image img = port.getFlower(FlowerFrame.FLOWERS[index]);
                        System.out.println("picture downloaded: "+FlowerFrame.FLOWERS[index]);

                        *// Add strings to the hashmap:*
                        flowers.put(FlowerFrame.FLOWERS[index],img);

                        *// Call the showFlower operation
                        // on the FlowerFrame:*
                        frame.showFlower();

                    } catch (IOException_Exception ex) {
                        ex.printStackTrace();
                    }
                    downloadedPictures++;
                }
            };
            new Thread(tasks[i]).start();
        }
        *// The web service getThumbnails operation is called
        // in a separate thread, just after the previous four threads finish.
        // When the images are downloaded, the thumbnails are shown at
        // the bottom of the frame.*
        Runnable thumbsTask = new Runnable() {
            public void run() {
                try {
                    while (downloadedPictures &lt; 4) {
                        try {Thread.sleep(100);} catch (InterruptedException ex) {}
                    }

                    *// Call the getThumbnails operation
                    // on the web service:*
                    List&lt;Image&gt; images = port.getThumbnails();
                    System.out.println("thumbs downloaded");

                    if (images != null &amp;amp;&amp;amp; images.size() == 4) {
                        for (int i=0;i&lt;4;i++) {
                            thumbs.put(FlowerFrame.FLOWERS[i],images.get(i));
                        }
                        frame.setThumbnails(thumbs);
                    }
                } catch (IOException_Exception ex) {
                    ex.printStackTrace();
                }
            }
        };
        new Thread(thumbsTask).start();
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A aplicação cliente agora está completa, com o código que interage com o Web service que é delegado ao módulo EJB para a exposição de suas imagens. Clique com o botão direito do mouse no cliente e selecione Executar. A aplicação Swing é iniciada e, depois de um tempo, é preenchida com as imagens recebidas do Web service. Se as imagens não aparecerem, limpe e construa o projeto FlowerService e execute-o novamente. Observe que é possível alterar a imagem exibida no quadro principal selecionando um botão de opção ou clicando em uma miniatura.</p>
</div>
<div class="paragraph">
<p>]]</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Flower%20Swing%20Client%20EE6">Enviar Feedback neste Tutorial</a></p>
</div>
<div class="paragraph">
<p>Para enviar comentários e sugestões, obter suporte e se manter informado sobre os mais recentes desenvolvimentos das funcionalidades de desenvolvimento Java EE do NetBeans IDE, <a href="../../../community/lists/top.html">inscreva-se na lista de notícias nbj2ee@netbeans.org</a>.</p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/flower_swing_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
