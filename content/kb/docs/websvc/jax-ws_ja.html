
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>JAX-WS Webサービスについて</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JAX-WS Webサービスについて - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, JAX-WS Webサービスについて">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans (incubating)</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/nb100/nb100.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Just released!</div>
            <h1 syle='font-size: 2rem'>Apache NetBeans 10.0</h1>
            <p><a class="button success" href="/download/nb100/nb100.html">Read more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">JAX-WS Webサービスについて</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. You can <a href="/kb/docs/contributing.html">help us review it.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_webサービスの作成">Webサービスの作成</a>
<ul class="sectlevel2">
<li><a href="#_コンテナの選択">コンテナの選択</a></li>
<li><a href="#_javaクラスからのwebサービスの作成">JavaクラスからのWebサービスの作成</a></li>
</ul>
</li>
<li><a href="#_webサービスへの操作の追加">Webサービスへの操作の追加</a></li>
<li><a href="#_webサービスのデプロイおよびテスト">Webサービスのデプロイおよびテスト</a></li>
<li><a href="#_a_id_サンプル_a"><a id="サンプル"></a></a></li>
<li><a href="#_webサービスの使用">Webサービスの使用</a>
<ul class="sectlevel2">
<li><a href="#_クライアント1_java_seアプリケーションのjavaクラス">クライアント1: Java SEアプリケーションのJavaクラス</a></li>
<li><a href="#_クライアント2_webアプリケーションのサーブレット">クライアント2: Webアプリケーションのサーブレット</a></li>
<li><a href="#_クライアント3_webアプリケーションのjspページ">クライアント3: WebアプリケーションのJSPページ</a></li>
</ul>
</li>
<li><a href="#_関連項目">関連項目</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://www.jcp.org/en/jsr/detail?id=224">Java API for XML Web Services (JAX-WS)、JSR 224</a>は、Java EEプラットフォームの重要な部分です。JAX-RPC (Java API for XML-based RPC 1.1)の追加リリースであるJAX-WSは、Javaテクノロジを使用したWebサービスの開発タスクを簡素化します。SOAP 1.1、SOAP 1.2、XMLなど複数のプロトコルのサポート、およびHTTP以外のプロトコルもサポートできる機能を備えることにより、JAX-RPC 1.1の問題の一部に対処しています。JAX-WSはデータ・バインディングにJAXB 2.0を使用し、生成したサービス・エンドポイント・インタフェースを制御するためのカスタマイズをサポートしています。注釈がサポートされているため、JAX-WSではWebサービス開発が簡素化され、実行時のJARファイルのサイズが小さくなっています。</p>
</div>
<div class="paragraph">
<p>このドキュメントでは、IDEを使用したJAX-WS Webサービス開発の基本を示します。Webサービスを作成した後、ネットワーク経由でWebサービスを使用する(Webサービスを「消費する」とも呼ばれる)、3つの異なるWebサービス・クライアントを記述します。3つのクライアントとは、Java SEアプリケーションのJavaクラス、サーブレット、およびWebアプリケーションのJSPページです。クライアントに焦点を当てた、さらに詳細なチュートリアルは、<a href="./client.html">JAX-WS Webサービス・クライアントの開発</a>です。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. このページの内容は、NetBeans IDE 7.2、7.3、7.4および8.0に適用されます</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Webサービスの使用</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>このチュートリアルに従うには、次のソフトウェアとリソースが必要です。</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ソフトウェアまたはリソース</th>
<th class="tableblock halign-left valign-top">必須バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java EEダウンロード・バンドル</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDK 7またはJDK 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java EE互換のWebサーバーまたはアプリケーション・サーバー</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server Open Source Edition
Oracle WebLogic Server</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*注意: *GlassFishサーバーは、NetBeans IDEのJava EEディストリビューションとともにインストールできます。または、<a href="https://glassfish.java.net/download.html">GlassFishサーバーのダウンロード・ページ</a>か<a href="http://tomcat.apache.org/download-60.cgi">Apache Tomcatのダウンロード・ページ</a>からダウンロードすることもできます。</p>
</div>
<div class="paragraph">
<p>*重要: *Java EEプロジェクトには、GlassFish ServerまたはOracle WebLogic Server 12cが必要です。</p>
</div>
<div class="paragraph">
<p>バンドルされているTomcat Webサーバーは、Java EEに完全に準拠したWebサーバーではありません。ただし、一部のJava EE機能をサポートするようにTomcat 7.x Webサーバーを構成できます。TomcatにJava EEのサポートを追加する方法の詳細は、<a href="http://openejb.apache.org/">Apache TomEE project</a>を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webサービスの作成">Webサービスの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題の目標は、使用予定のデプロイメント・コンテナに適したプロジェクトを作成することです。プロジェクトが完成した後、その中にWebサービスを作成します。</p>
</div>
<div class="sect2">
<h3 id="_コンテナの選択">コンテナの選択</h3>
<div class="paragraph">
<p>WebサービスはWebコンテナまたはEJBコンテナにデプロイできます。これは、選択する実装によって変わります。Java EEアプリケーションを作成している場合、EJBを直接Webアプリケーションに配置できるため、どのような場合でもWebコンテナを使用します。たとえばTomcat Webサーバーにデプロイする予定の場合、Tomcat WebサーバーにはWebコンテナしかないため、EJBモジュールではなくWebアプリケーションを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsでは[Ctrl]-[Shift]-[N]、MacOSでは[⌘]-[Shift]-[N])を選択します。「Java Web」カテゴリから「Webアプリケーション」を選択するか、「Java EE」カテゴリから「EJBモジュール」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>JAX-WS WebサービスをMavenプロジェクト内で作成できます。「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsの場合は[Ctrl]-[Shift]-[N]、MacOSの場合は[⌘]-[Shift]-[N])を選択し、「Maven」カテゴリから「Maven Webアプリケーション」または「Maven EJBモジュール」を選択します。NetBeansでMavenをまだ使用したことがない場合は、<a href="http://wiki.netbeans.org/MavenBestPractices">Mavenのベスト・プラクティス</a>を参照してください。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトに <code>CalculatorWSApplication</code> という名前を付けます。プロジェクトの場所を選択します。「次」をクリックします。</p>
</li>
<li>
<p>サーバーとJava EEバージョンを選択し、「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Oracle WebLogicサーバーを使用するには、<a href="../web/jsf-jpa-weblogic.html#01">サーバーをIDEに登録します</a>。また、WebLogicサーバーを使用する場合は、<a href="../javaee/weblogic-javaee-m1-screencast.html">Oracle WebLogicへのWebアプリケーションのデプロイ</a>のスクリーンキャストを視聴してください。</p>
</div>
</div>
<div class="sect2">
<h3 id="_javaクラスからのwebサービスの作成">JavaクラスからのWebサービスの作成</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「 <code>CalculatorWSApplication</code> 」ノードを右クリックし、「新規」&gt;「Webサービス」を選択します。</p>
</li>
<li>
<p>Webサービスに <code>CalculatorWS</code> という名前を付け、「パッケージ」に「 <code>org.me.calculator</code> 」と入力します。「Webサービスを新規に作成」を選択したままにします。</p>
</li>
<li>
<p>GlassFishまたはWebLogicでJava EEプロジェクトを作成する場合は、「ステートレス・セッションBeanとしてWebサービスを実装」を選択します。
image::images/generate-ws-ee6.png[]</p>
</li>
<li>
<p>「終了」をクリックします。「プロジェクト」ウィンドウに新しいWebサービスの構造が表示され、エディタ領域にソース・コードが表示されます。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webサービスへの操作の追加">Webサービスへの操作の追加</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題の目標は、クライアントから受け取った2つの数字を追加する操作をWebサービスに追加することです。NetBeans IDEは、操作をWebサービスに追加するダイアログを提供します。このダイアログは、Webサービス・ビジュアル・デザイナまたはWebサービス・コンテキスト・メニューのいずれかから開くことができます。</p>
</div>
<div class="paragraph">
<p><strong>警告:</strong> ビジュアル・デザイナはMavenプロジェクトでは使用できません。</p>
</div>
<div class="paragraph">
<p><strong>Webサービスに操作を追加するには:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>次のいずれか:</p>
<div class="ulist">
<ul>
<li>
<p>エディタの「デザイン」ビューに変更します。
image::images/design-view.png[]</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>または:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>「プロジェクト」ウィンドウからWebサービスのノードを見つけます。そのノードを右クリックします。コンテキスト・メニューが開きます。
image::images/add-op-cx-menu-item.png[]</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ビジュアル・デザイナまたはコンテキスト・メニューのいずれかで、「操作の追加」をクリックします。「操作の追加」ダイアログが開きます。</p>
</li>
<li>
<p>「操作の追加」ダイアログ・ボックスの上の部分で、「名前」に「 <code>add</code> 」、「戻り値の型」ドロップダウン・リストに「 <code>int</code> 」と入力します。</p>
</li>
<li>
<p>「操作の追加」ダイアログ・ボックスの下の部分で、「追加」をクリックして <code>int</code> 型の <code>i</code> という名前のパラメータを作成します。</p>
</li>
<li>
<p>再度「追加」をクリックし、 <code>int</code> 型の <code>j</code> というパラメータを作成します。</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>次のようになります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxws-60-add-operation.png" alt="jaxws 60 add operation">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「操作の追加」ダイアログ・ボックスの最下部で「OK」をクリックします。エディタに戻ります。</p>
</li>
<li>
<p>ソース・コードの <code>hello()</code> メソッドを除去するか、ビジュアル・デザイナで <code>hello</code> 操作を選択して「操作を除去」をクリックすることによって、デフォルトの <code>hello</code> 操作を除去します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ビジュアル・デザイナでは次のように表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/design-view-with-op.png" alt="design view with op">
</div>
<div class="title">Figure 2. 追加した操作が表示されたWebサービスのビジュアル・デザイナ</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ソース」をクリックし、前述の手順で作成したコードを表示します。これは、サービスをJava EEステートレスBeanとして作成したかどうかによって異なります。次のスクリーンショットの違いがわかりますか。(ステートレスBeanとして実装されていないJava EE 6サービスやJava EE 7サービスはJava EE 5サービスに似ています。)
image::images/jaxws-60-source.png[] image::images/stateless-ejb-code1.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注意:*NetBeans IDE 7.3およおび7.4では、生成された <code>@WebService</code> 注釈に、次のサービス名が明示的に指定されていることがわかります。
 <code>@WebService(serviceName = "CalculatorWS")</code> 。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>エディタで、スケルトンの <code>add</code> 操作を次のように拡張します(変更部分は太字で表示)。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">    @WebMethod
    public int add(@WebParam(name = "i") int i, @WebParam(name = "j") int j) {
        *int k = i + j;*
        return *k*;
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>前出のコードからわかるように、このWebサービスは単に2つの数字を受け取り、合計を返します。次の項では、IDEを使用してWebサービスをテストします。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webサービスのデプロイおよびテスト">Webサービスのデプロイおよびテスト</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Webサービスをサーバーにデプロイした後、サーバーにテスト・クライアントがある場合はIDEを使用してサーバーのテスト・クライアントを開くことができます。GlassFishサーバーとWebLogicサーバーにはテスト・クライアントがあります。</p>
</div>
<div class="paragraph">
<p>Tomcat Webサーバーを使用している場合は、テスト・クライアントがありません。プロジェクトを実行するだけで、Tomcat Webサービス・ページが開くかどうかを確認できます。この場合は、プロジェクトを実行する前に、Webサービスをアプリケーションのエントリ・ポイントにする必要があります。Webサービスをアプリケーションのエントリ・ポイントにするには、「CalculatorWSApplication」プロジェクト・ノードを右クリックし、「プロパティ」を選択します。「実行」プロパティを開き、「相対URL」フィールドに「 <code>/CalculatorWS</code> 」と入力します。「OK」をクリックします。プロジェクトを実行するには、プロジェクト・ノードを再度右クリックし、「実行」を選択します。</p>
</div>
<div class="paragraph">
<p><strong>GlassFishまたはWebLogicサーバーへ正常にデプロイメントされていることをテストする手順:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトを右クリックし、「デプロイ」を選択します。アプリケーション・サーバーが開始され、アプリケーションがビルドされて、サーバーにデプロイされます。これらの操作の進行状況は、「出力」ビューの「CalculatorWSApplication (run-deploy)」および「GlassFish Server 3」タブまたは「Tomcat」タブで確認できます。</p>
</li>
<li>
<p>IDEの「プロジェクト」タブで、CalculatorWSApplicationプロジェクトの「Webサービス」ノードを展開します。「CalculatorWS」ノードを右クリックし、「Webサービスをテスト」を選択します。
image::images/jax-ws-testws.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>GlassFishサーバーにWebアプリケーションをデプロイした場合、テスター・ページがブラウザで開きます。Tomcat Webサーバーの場合およびEJBモジュールのデプロイメントの場合、状況は異なります。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GlassFishサーバーにデプロイした場合、次のようにテスター・ページに2つの数字を入力します。
image::images/jax-ws-tester.png[]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>2つの数字の合計が次のように表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jax-ws-tester2.png" alt="jax ws tester2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_id_サンプル_a"><a id="サンプル"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsの場合は[Ctrl]-[Shift]-[N]、MacOSの場合は[⌘]-[Shift]-[N])を選択し、「サンプル」&gt;「Webサービス」&gt;「カリキュレータ(EE 6)」を選択することによって、Java EEステートレスBeanバージョンの完全なカリキュレータ・サービスを開くことができます。</p>
</div>
<div class="paragraph">
<p>Maven CalculatorサービスとMaven Calculatorクライアントは、「サンプル」&gt;「Maven」から使用できます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webサービスの使用">Webサービスの使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>作成したWebサービスのデプロイが完了したので、次はWebサービスの <code>add</code> メソッドを使用するクライアントを作成する必要があります。ここでは、Java SEアプリケーションのJavaクラス、サーブレット、およびWebアプリケーションのJSPページという3つのクライアントを作成します。</p>
</div>
<div class="paragraph">
<p><strong>注意:</strong> クライアントに焦点を当てた、さらに詳細なチュートリアルは、<a href="../../../kb/docs/websvc/client.html">JAX-WS Webサービス・クライアントの開発</a>です。</p>
</div>
<div class="sect2">
<h3 id="_クライアント1_java_seアプリケーションのjavaクラス">クライアント1: Java SEアプリケーションのJavaクラス</h3>
<div class="paragraph">
<p>この項では、標準のJavaアプリケーションを作成します。アプリケーションの作成に使用するウィザードでJavaクラスも作成できます。続いてIDEのツールで、クライアントを作成し、このチュートリアルの最初に作成したWebサービスを使用します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsでは[Ctrl]-[Shift]-[N]、MacOSでは[⌘]-[Shift]-[N])を選択します。「Java」カテゴリから「Javaアプリケーション」を選択します。プロジェクトに <code>CalculatorWS_Client_Application</code> という名前を付けます。「メイン・クラスの作成」を選択状態にし、その他のデフォルト設定はそのまま受け入れます。「終了」をクリックします。</p>
</li>
<li>
<p>「 <code>CalculatorWS_Client_Application</code> 」ノードを右クリックし、「新規」&gt;「Webサービス・クライアント」を選択します。新規Webサービス・クライアント・ウィザードが開きます。</p>
</li>
<li>
<p>プロジェクトをWSDLソースとして選択します。「参照」をクリックします。CalculatorWSApplicationプロジェクトのCalculatorWS Webサービスを参照します。Webサービスを選択した後、「OK」をクリックします。
image::images/browse-ws.png[]</p>
</li>
<li>
<p>パッケージ名を選択しないでください。このフィールドは空のままにします。
image::images/javaclient-pkg.png[]</p>
</li>
<li>
<p>その他の設定はデフォルトのままにし、「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「プロジェクト」ウィンドウに新しいWebサービス・クライアントが表示され、作成した <code>add</code> メソッドのノードが追加されています。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-ref-in-client-project.png" alt="ws ref in client project">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>メイン・クラスをダブルクリックしてソース・エディタで開きます。 <code>main()</code> メソッドの下に <code>add</code> ノードをドラッグします。
image::images/dnd-add.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>次のようになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {
    // TODO code application logic here
}
private static int add(int i, int j) {
    org.me.calculator.CalculatorWS_Service service = new org.me.calculator.CalculatorWS_Service();
    org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();
    return port.add(i, j);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>注意:</strong> 別の方法として、 <code>add</code> ノードをドラッグするかわりに、エディタ上で右クリックして「コードを挿入」&gt;「Webサービス操作をコール」を選択することもできます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>main()</code> メソッド本文で、TODOコメントを、 <code>i</code> および <code>j</code> の値を初期化し、 <code>add()</code> をコールし、結果を出力するコードに置き換えます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {int i = 3;int j = 4;int result = add(i, j);System.out.println("Result = " + result);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>main()</code> メソッドのコードを、例外を出力するtry/catchブロックで囲みます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {try {int i = 3;int j = 4;int result = add(i, j);System.out.println("Result = " + result);} catch (Exception ex) {System.out.println("Exception: " + ex);}
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトのノードを右クリックし、「実行」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「出力」ウィンドウで次のような合計が表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">    compile:
    run:
    Result = 7
      BUILD SUCCESSFUL (total time: 1 second)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_クライアント2_webアプリケーションのサーブレット">クライアント2: Webアプリケーションのサーブレット</h3>
<div class="paragraph">
<p>この項では、新しいWebアプリケーションを作成し、続いてサーブレットを作成します。次にサーブレットを使用して、このチュートリアルの最初で作成したWebサービスを使用します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsでは[Ctrl]-[Shift]-[N]、MacOSでは[⌘]-[Shift]-[N])を選択します。「Java Web」カテゴリから「Webアプリケーション」を選択します。プロジェクトに <code>CalculatorWSServletClient</code> という名前を付けます。「次」をクリックし、「終了」をクリックします。</p>
</li>
<li>
<p>「 <code>CalculatorWSServletClient</code> 」ノードを右クリックし、「新規」&gt;「Webサービス・クライアント」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>新規Webサービス・クライアント・ウィザードが開きます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>WSDLソースとしてプロジェクトを選択し、「参照」をクリックして「Webサービスを参照」ダイアログ・ボックスを開きます。</p>
</li>
<li>
<p>CalculatorWSApplicationプロジェクトでCalculatorWS Webサービスを選択します。「OK」をクリックして、「Webサービスを参照」ダイアログ・ボックスを閉じます。
image::images/browse-ws.png[]</p>
</li>
<li>
<p>新規Webサービス・クライアント・ウィザードでパッケージ名が空白であることを確認し、他の設定はデフォルト値のままにします。「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>先ほどこのチュートリアルで作成した <code>add</code> 操作も含め、「プロジェクト」ウィンドウの「Webサービス参照」ノードに新しく作成したクライアントの構造が次のように表示されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「 <code>CalculatorWSServletClient</code> 」プロジェクト・ノードを右クリックし、「新規」&gt;「サーブレット」を選択します。サーブレットに <code>ClientServlet</code> と名前を付け、 <code>org.me.calculator.client</code> というパッケージに保存します。「終了」をクリックします。</p>
</li>
<li>
<p>サーブレットをアプリケーションのエントリ・ポイントにするには、「CalculatorWSServletClient」プロジェクト・ノードを右クリックし、「プロパティ」を選択します。「実行」プロパティを開き、「相対URL」フィールドに「 <code>/ClientServlet</code> 」と入力します。「OK」をクリックします。</p>
</li>
<li>
<p><code>ClientServlet.java</code> のエラー・アイコンがある場合、プロジェクト・ノードを右クリックし、「消去してビルド」を選択します。</p>
</li>
<li>
<p><code>processRequest()</code> メソッドで、この行の後に空白行をいくつか追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">    out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ソース・エディタで、 <code>add</code> 操作を <code>ClientServlet</code> クラスの本文の任意の場所にドラッグします。 <code>add()</code> メソッドがクラス・コードの末尾に表示されます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>注意:</strong> 別の方法として、 <code>add</code> ノードをドラッグするかわりに、エディタ上で右クリックして「コードを挿入」&gt;「Webサービス操作をコール」を選択することもできます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private int add(int i, int j) {org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();return port.add(i, j);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>i</code> および <code>j</code> の値を初期化し、 <code>add()</code> をコールし、結果を出力するコードを追加します。追加されたコードは*太字*で示されています。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">protected void processRequest(HttpServletRequest request, HttpServletResponse response)
         throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;");
        out.println("&lt;title&gt;Servlet ClientServlet&lt;/title&gt;");
        out.println("&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");

    *    int i = 3;
int j = 4;
int result = add(i, j);
out.println("Result = " + result);*

        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");

    } finally {            out.close();}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>追加されたコードを、例外を出力するtry/catchブロックで囲みます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">protected void processRequest(HttpServletRequest request, HttpServletResponse response)
         throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;");
        out.println("&lt;title&gt;Servlet ClientServlet&lt;/title&gt;");
        out.println("&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");
        *try {*
            int i = 3;int j = 4;int result = add(i, j);out.println("Result = " + result);
        *} catch (Exception ex) {
            out.println("Exception: " + ex);
        }*
        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");

    } finally {            out.close();}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトのノードを右クリックし、「実行」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>サーバーが起動し、アプリケーションがビルドおよびデプロイされ、ブラウザが開いて次のように計算結果を表示します。
image::images/jaxws-60-webclient.png[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_クライアント3_webアプリケーションのjspページ">クライアント3: WebアプリケーションのJSPページ</h3>
<div class="paragraph">
<p>この項では、新しいWebアプリケーションを作成した後、Webアプリケーション・ウィザードで作成したデフォルトのJSPページでWebサービスを使用します。</p>
</div>
<div class="paragraph">
<p><strong>注意:</strong> JSP Webアプリケーション・クライアントをOracle WebLogic上で実行する場合は、<a href="../web/jsf-jpa-weblogic.html">WebLogicでのJava Server Faces 2.0アプリケーションの実行</a>を参照してください。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(LinuxおよびWindowsでは[Ctrl]-[Shift]-[N]、MacOSでは[⌘]-[Shift]-[N])を選択します。「Java Web」カテゴリから「Webアプリケーション」を選択します。プロジェクトに <code>CalculatorWSJSPClient</code> という名前を付けます。「次」をクリックし、「終了」をクリックします。</p>
</li>
<li>
<p>プロジェクト・ノードの下でWeb Pagesノードを展開して、 <code>index.html</code> を削除します。</p>
</li>
<li>
<p><code>Web Pages</code> ノードを右クリックして、ポップアップ・メニューで「新規」&gt;「JSP」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ポップアップ・メニューに「JSP」がない場合は、「新規」&gt;「その他」を選択し、新規ファイル・ウィザードの「Web」カテゴリで「JSP」を選択します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>新規ファイル・ウィザードでJSPファイルの名前に*index*と入力します。「終了」をクリックします。</p>
</li>
<li>
<p>「 <code>CalculatorWSJSPClient</code> 」ノードを右クリックし、「新規」&gt;「Webサービス・クライアント」を選択します。</p>
</li>
<li>
<p>プロジェクトをWSDLソースとして選択します。「参照」をクリックします。CalculatorWSApplicationプロジェクトのCalculatorWS Webサービスを参照します。Webサービスを選択した後、「OK」をクリックします。
image::images/browse-ws.png[]</p>
</li>
<li>
<p>パッケージ名を選択しないでください。このフィールドは空のままにします。</p>
</li>
<li>
<p>その他の設定はデフォルトのままにし、「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>次のように、「プロジェクト」ウィンドウに新しいWebサービス・クライアントが表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-ref-in-jsp-client.png" alt="ws ref in jsp client">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「Webサービス参照」ノードで、Webサービスを示すノードを展開します。ここで、クライアントから呼び出す <code>add</code> 操作が表示されます。</p>
</li>
<li>
<p><code>add</code> 操作をクライアントの <code>index.jsp</code> ページにドラッグし、H1タグの下にドロップします。次のように、サービスの操作を呼び出すコードが <code>index.jsp</code> ページに生成されます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">&lt;%
try {
    org.me.calculator.CalculatorWSService service = new org.me.calculator.CalculatorWSService();
    org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();
     // TODO initialize WS operation arguments here
    int i = 0;
    int j = 0;
    // TODO process result here
    int result = port.add(i, j);
    out.println("Result = "+result);
} catch (Exception ex) {
    // TODO handle custom exceptions here
}
%&gt;</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``i`` および ``j`` の値を0から3や4などの整数に変更します。catchブロック内のコメントアウトされたTODO行を ``out.println("exception" +ex);`` に置き換えます。</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトのノードを右クリックし、「実行」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>サーバーが起動していない場合は起動します。アプリケーションがビルドおよびデプロイされ、ブラウザが開き、計算結果が表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jax-ws-project-jsp-result.png" alt="jax ws project jsp result">
</div>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20JAX-WS%20Services%20in%20NetBeans%20IDE">このチュートリアルに関するご意見をお寄せください</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_関連項目">関連項目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDEを使用したJava EEアプリケーションの開発方法の詳細は、次のリソースを参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./client.html">JAX-WS Webサービス・クライアントの開発</a></p>
</li>
<li>
<p><a href="./rest.html">RESTful Webサービスについて</a></p>
</li>
<li>
<p><a href="./wsit.html">高度なWebサービス相互運用性</a></p>
</li>
<li>
<p><a href="../../../kb/trails/web.html">Webサービスの学習</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="../../../community/lists/top.html">nbj2ee@netbeans.orgメーリング・リスト</a>に登録することによって、NetBeans IDE Java EE開発機能に関するご意見やご提案を送信したり、サポートを受けたり、最新の開発情報を入手したりできます。</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/incubator-netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/jax-ws_ja.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1>About</h1>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                    <li><a href="https://incubator.apache.org/projects/netbeans.html">Incubation Status</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                    <li><a href="/community/who.html">Who is who</a></li>
                    <li><a href="/community/nekobean.html">NekoBean</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/netcat.html">NetCAT - Community Acceptance Testing</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/help/getting-started.html">Platform videos</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb100/nb100.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html#releases">Releases</a></li>
                    <ul>
                        <li><a href="/download/nb100/nb100.html">Apache NetBeans 10.0</a></li>
                        <li><a href="/download/nb90/nb90.html">Apache NetBeans 9.0</a></li>
                    </ul>
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2019 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <p><a href="https://incubator.apache.org/" alt="Apache Incubator"><img src='/images/incubator_feather_egg_logo_bw_crop.png' title='Apache Incubator'></img></a></p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache NetBeans is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
            <p>Apache Incubator, Apache, Apache NetBeans, NetBeans, the Apache feather logo, the Apache NetBeans logo, and the Apache Incubator project logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
