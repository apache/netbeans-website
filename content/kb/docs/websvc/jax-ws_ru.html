
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Начало работы с веб-службами JAX-WS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Начало работы с веб-службами JAX-WS - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Начало работы с веб-службами JAX-WS">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans (incubating)</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/nb110/nb110.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Just released!</div>
            <h1 syle='font-size: 2rem'>Apache NetBeans 11.0</h1>
            <p><a class="button success" href="/download/nb110/nb110.html">Read more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Начало работы с веб-службами JAX-WS</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/jax-ws_ru.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_Создание_веб_службы">Создание веб-службы</a>
<ul class="sectlevel2">
<li><a href="#_Выбор_контейнера">Выбор контейнера</a></li>
<li><a href="#_Создание_веб_службы_из_класса_java">Создание веб-службы из класса Java</a></li>
</ul>
</li>
<li><a href="#_Добавление_операции_к_веб_службам">Добавление операции к веб-службам</a></li>
<li><a href="#_Развертывание_и_тестирование_веб_службы">Развертывание и тестирование веб-службы</a></li>
<li><a href="#_a_id_Примеры_a"><a id="Примеры"></a></a></li>
<li><a href="#_Использование_веб_службы">Использование веб-службы</a>
<ul class="sectlevel2">
<li><a href="#_Клиент_1_класс_java_в_приложении_для_java_se">Клиент 1: класс Java в приложении для Java SE</a></li>
<li><a href="#_Клиент_2_сервлет_в_веб_приложении">Клиент 2: сервлет в веб-приложении</a></li>
<li><a href="#_Клиент_3_страница_jsp_в_веб_приложении">Клиент 3: страница JSP в веб-приложении</a></li>
</ul>
</li>
<li><a href="#_Дополнительные_сведения">Дополнительные сведения</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://www.jcp.org/en/jsr/detail?id=224">API -интерфейс Java для веб-служб XML (JAX-WS), JSR 224</a>, является важным компонентом платформы Java EE. Следующий выпуск интерфейса API Java для RPC на основе XML 1.1 (JAX-RPC), JAX-WS упрощает задачу разработки веб-служб с помощью технологии Java. В нем решены некоторые проблемы JAX-RPC 1.1, и обеспечивается поддержка нескольких протоколов, например SOAP 1.1, SOAP 1.2, XML, а также возможность поддержки дополнительных протоколов наряду с HTTP. В JAX-WS для привязки данных используется JAXB 2.0; также поддерживается индивидуальная настройка для управления интерфейсами создаваемых интерфейсов конечных точек служб. Поддержка аннотаций в JAX-WS упрощает разработку веб-служб и уменьшает размер архивов JAR.</p>
</div>
<div class="paragraph">
<p>В этом документе рассматриваются основные принципы использования среды IDE для разработки веб-службы JAX-WS. После создания веб-службы будут написаны три разных клиента веб-служб, использующие веб-службу по сети, т.е. "потребляющие" веб-службу. Этими тремя клиентами будут класс Java в приложении для Java SE, сервлет и страница JSP в веб-приложении. Более подробно работа с клиентами освещена в учебном курсе <a href="./client.html">Разработка клиентов веб-служб JAX-WS</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Использование веб-службы</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Для работы с этим учебным курсом требуется следующее программное обеспечение и ресурсы.</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Программное обеспечение или материал</th>
<th class="tableblock halign-left valign-top">Требуемая версия</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Пакетная загрузка Java EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDK 7 или JDK 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Веб-сервер или сервер приложений, совместимый с Java EE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server Open Source Edition
Oracle WebLogic Server</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*Примечание. *Сервер GlassFish можно установить вместе с дистрибутивом Java EE среды IDE NetBeans. Также можно воспользоваться <a href="https://glassfish.java.net/download.html">страницей загрузок GlassFish Server</a> или <a href="http://tomcat.apache.org/download-60.cgi">страницей загрузок Apache Tomcat</a>.</p>
</div>
<div class="paragraph">
<p>*Важно! *Для проектов Java EE требуется GlassFish Server или Oracle WebLogic Server 12c.</p>
</div>
<div class="paragraph">
<p>Включенный в комплект веб-сервер Tomcat лишь частично совместим с Java EE Однако веб-сервер Tomcat 7.x можно настроить так, чтобы он поддерживал определенную функциональность Java EE. Дополнительные сведения о добавлении поддержки Java EE в Tomcat см. в разделе <a href="http://openejb.apache.org/">Проект Apache TomEE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Создание_веб_службы">Создание веб-службы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Цель этого упражнения состоит в создании проекта в соответствии с используемым контейнером развертывания. После создания проекта будет создана веб-служба.</p>
</div>
<div class="sect2">
<h3 id="_Выбор_контейнера">Выбор контейнера</h3>
<div class="paragraph">
<p>Веб-служба может быть развернута в веб-контейнере или в контейнере EJB. Это зависит от конкретной реализации. При создании приложения Java EE всегда используйте веб-контейнер, так как это позволяет поместить компоненты EJB непосредственно в веб-приложение. Например, если развертывание планируется на веб-сервере Tomcat, предоставляющем только веб-контейнер, следует создавать веб-приложение, а не модуль EJB.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите 'Файл' &gt; 'Создать проект' (Ctrl-Shift-N в Windows и Linux, ⌘-Shift-N в ОС Mac). Выберите "Веб-приложение" из категории "Java Web" или "Модуль EJB" из категории "Java EE".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Веб-службу JAX-WS можно создать в проекте Maven. Выберите 'Файл' &gt; 'Создать проект' (Ctrl-Shift-N в Linux и Windows, ⌘-Shift-N ы MacOS), а затем веб-приложение Maven или модуль Maven EJB в категории Maven. Если ранее вы не использовали Maven со средой NetBeans, ознакомьтесь с документом <a href="http://wiki.netbeans.org/MavenBestPractices">Maven Best Practices</a> (Рекомендации по Maven).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Дайте проекту имя  <code>CalculatorWSApplication</code> . Выберите местоположение для проекта. Нажмите кнопку "Далее".</p>
</li>
<li>
<p>Выберите свой сервер и версию Java EE и щелкните "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Для использования сервера Oracle WebLogic <a href="../web/jsf-jpa-weblogic.html#01">зарегистрируйте сервер с помощью среды IDE</a>. Кроме этого, если вы используете сервер WebLogic, просмотрите экранную демонстрацию <a href="../javaee/weblogic-javaee-m1-screencast.html">Deploying a Web Application to Oracle WebLogic</a> (Развертывание веб-приложения на Oracle WebLogic).</p>
</div>
</div>
<div class="sect2">
<h3 id="_Создание_веб_службы_из_класса_java">Создание веб-службы из класса Java</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши узел  <code>CalculatorWSApplication</code>  и выберите "Создать &gt; Веб-служба".</p>
</li>
<li>
<p>Присвойте веб-службе имя  <code>CalculatorWS</code>  и введите  <code>org.me.calculator</code>  в поле "Пакет". Оставьте установленной кнопку-переключатель "Создать веб-службу с нуля".</p>
</li>
<li>
<p>При создании проекта Java EE на сервере GlassFish или WebLogic выберите 'Реализовать веб-службу' в качестве компонента сеанса без сохранения состояния.
image::images/generate-ws-ee6.png[]</p>
</li>
<li>
<p>Нажмите кнопку 'Готово'. В окне "Проекты" отображается структура новой веб-службы, а в области редактора отображается исходный код.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Добавление_операции_к_веб_службам">Добавление операции к веб-службам</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Целью этого упражнения является добавление к веб-службам операции, выполняющей сложение двух чисел, полученных от клиента. IDE NetBeans обеспечивает диалоговое окно для добавления операции с веб-службой. Это диалоговое окно можно открыть либо в визуальном конструкторе, либо в контекстном меню веб-службы.</p>
</div>
<div class="paragraph">
<p><strong>Внимание!</strong> В проектах Maven визуальный конструктор недоступен.</p>
</div>
<div class="paragraph">
<p><strong>Для добавления операции в веб-службу выполните следующие действия.</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Либо</p>
<div class="ulist">
<ul>
<li>
<p>измените представление "Конструктор" в окне редактора.
image::images/design-view.png[]</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Либо</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Найдите узел веб-службы в окне "Проекты". Щелкните узел правой кнопкой мыши. Откроется контекстное меню.
image::images/add-op-cx-menu-item.png[]</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните "Добавить операцию" либо в визуальном конструкторе, либо в контекстном меню. Откроется диалоговое окно "Добавление операции".</p>
</li>
<li>
<p>В верхней части диалогового окна "Добавить операцию" введите  <code>add</code>  в 'Имя' и введите  <code>int</code>  в раскрывающийся список "Тип возвращаемого значения".</p>
</li>
<li>
<p>В нижней части диалогового окна "Добавить операцию" нажмите кнопку "Добавить" и создайте параметр типа  <code>int</code>  с именем  <code>i</code> .</p>
</li>
<li>
<p>Снова щелкните "Добавить" и создайте параметр типа  <code>int</code>  с именем  <code>j</code> .</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>На экране должны быть представлены следующие параметры:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxws-60-add-operation.png" alt="jaxws 60 add operation">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите кнопку "ОК" в нижней части диалогового окна "Добавить операцию". Вы вернетесь в редактор.</p>
</li>
<li>
<p>Удалите операцию по умолчанию  <code>hello</code> . Для этого либо удалите метод  <code>hello()</code>  в исходном коде, либо выберите операцию  <code>hello</code>  в визуальном конструкторе и щелкните "Удалить операцию".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Теперь в Visual Designer отображается следующее:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/design-view-with-op.png" alt="design view with op">
</div>
<div class="title">Figure 2. В Visual Designer веб-службы отображается добавленная операция</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите кнопку "Исходный код" и посмотрите на код, созданный в результате предыдущих действий. Он будет различаться в зависимости от того, как создана служба: в качестве компонента Java EE без сохранения состояния или обычным способом. Обратите внимание на разницу в снимках экрана ниже: (Служба Java EE 6 или Java EE 7, не реализованная в качестве компонента без сохранения состояния, похожа на службу Java EE 5.)
image::images/jaxws-60-source.png[] image::images/stateless-ejb-code1.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> При работе в IDE NetBeans 7.3 и 7.4 вы увидите, что в созданной аннотации  <code>@WebService</code>  имя службы указано явно:
 <code>@WebService(serviceName = "CalculatorWS")</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В редакторе расширьте схему операции  <code>add</code>  следующим образом (изменения выделены полужирным шрифтом):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">    @WebMethod
    public int add(@WebParam(name = "i") int i, @WebParam(name = "j") int j) {
        *int k = i + j;*
        return *k*;
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Как видно из указанного кода, веб-служба просто получает два числа и затем возвращает их сумму. В следующем разделе рассматривается тестирование веб-службы в среде IDE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Развертывание_и_тестирование_веб_службы">Развертывание и тестирование веб-службы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>После развертывания веб-службы на сервере можно использовать среду IDE для открытия клиента тестирования сервера, если у сервера имеется такой клиент. Серверы GlassFish и WebLogic предоставляют тестовые клиенты.</p>
</div>
<div class="paragraph">
<p>Если используется веб-сервер Tomcat, клиент тестирования отсутствует. Вы можете только запустить проект и проверить, открывается ли страница веб-служб Tomcat. В этом случае, прежде чем запустить проект, необходимо сделать веб-службу точкой входа в приложение. Чтобы сделать веб-службу точкой входа в приложение щелкните правой кнопкой мыши узел проекта CalculatorWSApplication и выберите 'Свойства'. Откройте 'Свойства выполнения' и введите  <code>/CalculatorWS</code>  в поле 'Относительный адрес'. Нажмите кнопку "ОК". Запустите приложение (повторно щелкните правой кнопкой мыши узел проекта и выберите 'Выполнить').</p>
</div>
<div class="paragraph">
<p><strong>Для проверки успешности развертывания на сервере GlassFish или WebLogic выполните следующие действия.</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните проект правой кнопкой мыши и выберите команду "Развернуть". Запускается сервер приложений, выполняется сборка и развертывание приложения на сервере приложений. За ходом выполнения этих операций можно наблюдать в приложении CalculatorWSApplication (запуск-развертывание) и на вкладках серверов GlassFish или Tomcat в окне вывода.</p>
</li>
<li>
<p>На вкладке "Проекты IDE" разверните узел "Веб-службы" проекта "CalculatorWSApplication". Щелкните правой кнопкой мыши узел "CalculatorWS" и выберите "Тестировать веб-службу".
image::images/jax-ws-testws.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Страница тестирования открывается в браузере, если веб-приложение развернуто на сервере GlassFish. В случае использования веб-сервера Tomcat и развертывания модулей EJB ситуация отличается:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Если развертывание выполнялось на GlassFish, введите на странице тестирования два числа, как показано ниже:
image::images/jax-ws-tester.png[]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Отображается сумма этих двух чисел:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jax-ws-tester2.png" alt="jax ws tester2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_id_Примеры_a"><a id="Примеры"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Можно открыть полную версию компонента сеанса Java EE без сохранения состояния службы Calculator. Для этого выберите Файл &gt; Создать проект (Ctrl-Shift-N в Linux и Windows, ⌘ + Shift + N в MacOS) и перейдите в раздел Образцы &gt; Веб-службы Java &gt; Calculator (EE6).</p>
</div>
<div class="paragraph">
<p>Служба и клиент калькулятора Maven доступны в пункте "Примеры &gt; Maven".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Использование_веб_службы">Использование веб-службы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>После успешного развертывания веб-службы необходимо создать клиент для использования метода веб-службы  <code>add</code> . Ниже будет рассмотрено создание трех клиентов: класса Java в приложении для Java SE, сервлета и страницы JSP в веб-приложении.</p>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Более расширенный учебный курс сосредоточен на клиентах: <a href="../../../kb/docs/websvc/client.html">Разработка клиентов веб-служб JAX-WS</a>.</p>
</div>
<div class="sect2">
<h3 id="_Клиент_1_класс_java_в_приложении_для_java_se">Клиент 1: класс Java в приложении для Java SE</h3>
<div class="paragraph">
<p>В этом разделе будет рассмотрено создание стандартного приложения Java. Мастер, используемый для создания приложения, также создает и класс Java. Затем средства среды IDE будут использоваться для создания клиента и использования веб-службы, созданной в начале этого руководства.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите 'Файл' &gt; 'Создать проект' (Ctrl-Shift-N в Windows и Linux, ⌘-Shift-N в ОС Mac). Выберите "Приложение Java" в категории "Java". Присвойте проекту имя  <code>CalculatorWS_Client_Application</code> . Не снимайте флажок "Создать главный класс" и оставьте все прочие значения по умолчанию. Нажмите кнопку 'Готово'.</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши узел  <code>CalculatorWS_Client_Application</code>  и выберите "Создать &gt; Клиент веб-службы". Появится мастер создания клиента веб-службы.</p>
</li>
<li>
<p>Выберите проект в виде исходного файла WSDL. Нажмите кнопку "Обзор". В проекте CalculatorWSApplication перейдите к веб-службе CalculatorWS. Выберите веб-службу и нажмите кнопку "ОК".
image::images/browse-ws.png[]</p>
</li>
<li>
<p>Не выбирайте имя пакета. Оставьте это поле пустым.
image::images/javaclient-pkg.png[]</p>
</li>
<li>
<p>Оставьте значения остальных параметров по умолчанию и нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В окне "Проекты" появится новый клиент веб-службы с узлом для созданного метода <code>add</code> :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-ref-in-client-project.png" alt="ws ref in client project">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Дважды щелкните главный класс, чтобы открыть его в редакторе исходного кода. Перетащите узел  <code>add</code>  в местоположение ниже метода  <code>main()</code> .
image::images/dnd-add.png[]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>На экране должны быть представлены следующие параметры:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {
    // TODO code application logic here
}
private static int add(int i, int j) {
    org.me.calculator.CalculatorWS_Service service = new org.me.calculator.CalculatorWS_Service();
    org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();
    return port.add(i, j);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> В качестве альтернативы, вместо перетаскивания узла  <code>add</code>  можно щелкнуть правой кнопкой мыши в редакторе, а затем выбрать 'Вставить код' &gt; 'Dspdfnm операцию с веб-службой'.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В теле метода  <code>main()</code>  замените комментарий TODO кодом, который инициализирует значения для  <code>i</code>  и  <code>j</code> , вызывает  <code>add()</code>  и распечатывает результат.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {int i = 3;int j = 4;int result = add(i, j);System.out.println("Result = " + result);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Окружите код метода  <code>main()</code>  блоком try/catch, который распечатывает исключение.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public static void main(String[] args) {try {int i = 3;int j = 4;int result = add(i, j);System.out.println("Result = " + result);} catch (Exception ex) {System.out.println("Exception: " + ex);}
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши узел проекта и выберите "Выполнить".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Теперь в окне "Вывод" отображается сумма:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">    compile:
    run:
    Result = 7
      BUILD SUCCESSFUL (total time: 1 second)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Клиент_2_сервлет_в_веб_приложении">Клиент 2: сервлет в веб-приложении</h3>
<div class="paragraph">
<p>В этом разделе будет рассмотрено создание нового веб-приложения и последующее создание сервлета. Затем этим сервлетом будет использоваться веб-служба, созданная в начале данного учебного курса.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите 'Файл' &gt; 'Создать проект' (Ctrl-Shift-N в Windows и Linux, ⌘-Shift-N в ОС Mac). Выберите "Веб-приложение" в категории "Java Web". Дайте проекту имя  <code>CalculatorWSServletClient</code> . Нажмите кнопку "Далее", а затем нажмите кнопку "Готово".</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши узел  <code>CalculatorWSServletClient</code>  и выберите "Создать &gt; Клиент веб-службы".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Появится мастер создания клиента веб-службы.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В качестве источника WSDL выберите "Проект" и нажмите кнопку "Обзор", чтобы открыть диалоговое окно "Обзор веб-служб".</p>
</li>
<li>
<p>В проекте CalculatorWSApplication выберите веб-службу CalculatorWS. Нажмите кнопку OK, чтобы закрыть диалоговое окно "Обзор веб-служб".
image::images/browse-ws.png[]</p>
</li>
<li>
<p>Оставьте поле "Имя пакета" в мастере создания клиентов веб-службы пустым и не меняйте значения всех остальных параметров, заданные по умолчанию. Нажмите "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Узел "Ссылки на веб-службу" в окне "Проекты" отражает структуру только что созданного клиента, включая операцию  <code>add</code> , рассмотренную ранее в этом учебном курсе.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши узел проекта  <code>CalculatorWSServletClient</code>  и выберите "Создать &gt; Сервлет". Дайте сервлету имя  <code>ClientServlet</code>  и поместите его в пакет с именем  <code>org.me.calculator.client</code> . Нажмите кнопку 'Готово'.</p>
</li>
<li>
<p>Чтобы сделать сервлет точкой ввода в приложении щелкните правой кнопкой мыши узел проекта CalculatorWSServletClient и выберите 'Свойства'. Откройте "Свойства выполнения" и введите  <code>/ClientServlet</code>  в поле "Относительный адрес". Нажмите кнопку "ОК".</p>
</li>
<li>
<p>При наличии значков ошибок для  <code>ClientServlet.java</code>  щелкните правой кнопкой мыши узел проекта и выберите 'Очистка и сборка'.</p>
</li>
<li>
<p>В методе  <code>processRequest()</code>  добавьте несколько пустых строк после следующей строки:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">    out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В редакторе исходного кода перетащите операцию  <code>add</code>  в любое место тела класса  <code>ClientServlet</code> . Метод  <code>add()</code>  отображается в конце кода класса.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> В качестве альтернативы, вместо перетаскивания узла  <code>add</code>  можно щелкнуть правой кнопкой мыши в редакторе, а затем выбрать 'Вставить код' &gt; 'Dspdfnm операцию с веб-службой'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private int add(int i, int j) {org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();return port.add(i, j);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте код, который инициализирует значения для  <code>i</code>  и  <code>j</code> , вызывает  <code>add()</code>  и распечатывает результат. Добавленный код выделяется <strong>полужирным начертанием</strong>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">protected void processRequest(HttpServletRequest request, HttpServletResponse response)
         throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;");
        out.println("&lt;title&gt;Servlet ClientServlet&lt;/title&gt;");
        out.println("&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");

    *    int i = 3;
int j = 4;
int result = add(i, j);
out.println("Result = " + result);*

        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");

    } finally {            out.close();}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Окружите добавленный код блоком try/catch, который распечатывает исключение.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">protected void processRequest(HttpServletRequest request, HttpServletResponse response)
         throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;");
        out.println("&lt;title&gt;Servlet ClientServlet&lt;/title&gt;");
        out.println("&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("&lt;h1&gt;Servlet ClientServlet at " + request.getContextPath () + "&lt;/h1&gt;");
        *try {*
            int i = 3;int j = 4;int result = add(i, j);out.println("Result = " + result);
        *} catch (Exception ex) {
            out.println("Exception: " + ex);
        }*
        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");

    } finally {            out.close();}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши узел проекта и выберите "Выполнить".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Запускается сервер, выполняются сборка и развертывание приложения, и открывается браузер, в котором отображается результат вычисления, как показано ниже:
image::images/jaxws-60-webclient.png[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_Клиент_3_страница_jsp_в_веб_приложении">Клиент 3: страница JSP в веб-приложении</h3>
<div class="paragraph">
<p>В этом разделе описана процедура создания нового веб-приложения и использование веб-службы на странице JSP по умолчанию, созданной с помощью мастера "Веб-приложение".</p>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Если необходимо запустить клиент веб-приложения JSP в Oracle WebLogic см. <a href="../web/jsf-jpa-weblogic.html">Запуск приложения Java Server Faces 2.0 в WebLogic</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите 'Файл' &gt; 'Создать проект' (Ctrl-Shift-N в Windows и Linux, ⌘-Shift-N в ОС Mac). Выберите "Веб-приложение" в категории "Java Web". Дайте проекту имя  <code>CalculatorWSJSPClient</code> . Нажмите кнопку "Далее", а затем нажмите кнопку "Готово".</p>
</li>
<li>
<p>Раскройте узел "Веб-страницы" под узлом проекта и удалите файл  <code>index.html</code> .</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши узел  <code>Веб-страницы</code>  и выберите пункт меню "Создать &gt; JSP".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Если в меню отсутствует пункт "JSP", выберите "Создать &gt; Другие", затем выберите JSP в категории "Веб" мастера создания файлов.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В качестве имени файла JSP в мастере создания файлов укажите <strong>index</strong>. Нажмите "Готово".</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши узел  <code>CalculatorWSJSPClient</code>  и выберите "Создать &gt; Клиент веб-службы".</p>
</li>
<li>
<p>Выберите проект в виде исходного файла WSDL. Нажмите кнопку "Обзор". В проекте CalculatorWSApplication перейдите к веб-службе CalculatorWS. Выберите веб-службу и нажмите кнопку "ОК".
image::images/browse-ws.png[]</p>
</li>
<li>
<p>Не выбирайте имя пакета. Оставьте это поле пустым.</p>
</li>
<li>
<p>Оставьте значения остальных параметров по умолчанию и нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В окне "Проекты" появится новый клиент веб-службы, как показано ниже:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-ref-in-jsp-client.png" alt="ws ref in jsp client">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В узле "Ссылки на веб-службы" разверните узел, соответствующий веб-службе. Теперь показана операция  <code>add</code> , которую требуется вызывать посредством клиента.</p>
</li>
<li>
<p>Перетащите операцию  <code>add</code>  на страницу клиента  <code>index.jsp</code>  ниже тегов H1. Теперь на странице  <code>index.jsp</code>  отображается код для вызова операции службы, показанный ниже:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">&lt;%
try {
    org.me.calculator.CalculatorWSService service = new org.me.calculator.CalculatorWSService();
    org.me.calculator.CalculatorWS port = service.getCalculatorWSPort();
     // TODO initialize WS operation arguments here
    int i = 0;
    int j = 0;
    // TODO process result here
    int result = port.add(i, j);
    out.println("Result = "+result);
} catch (Exception ex) {
    // TODO handle custom exceptions here
}
%&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Измените значения для  <code>i</code>  и  <code>j</code>  с 0 на другие целые числа, например, на 3 и 4. В блоке "catch" замените закомментированную строчку "TODO" на  <code>out.println("exception" + ex);</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши узел проекта и выберите "Выполнить".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Запускается сервер, если он не был запущен ранее. После сборки и развертывания приложения открывается браузер, в котором отображается результат вычисления:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jax-ws-project-jsp-result.png" alt="jax ws project jsp result">
</div>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20JAX-WS%20Services%20in%20NetBeans%20IDE">Отправить отзыв по этому учебному курсу</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Дополнительные_сведения">Дополнительные сведения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Подробнее об использовании IDE NetBeans для разработки приложений Java EE см. в следующих ресурсах:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="./client.html">Разработка клиентов веб-служб JAX-WS</a></p>
</li>
<li>
<p><a href="./rest.html">Начало работы с веб-службами RESTful</a></p>
</li>
<li>
<p><a href="./wsit.html">Расширенные возможности взаимодействия веб-служб</a></p>
</li>
<li>
<p><a href="../../../kb/trails/web.html">Учебная карта по веб-службам</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Для отправки комментариев и предложений, получения поддержки и новостей о последних разработках, связанных с Java EE IDE NetBeans <a href="../../../community/lists/top.html">присоединяйтесь к списку рассылки nbj2ee@netbeans.org</a>.</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/incubator-netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/jax-ws_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1>About</h1>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                    <li><a href="https://incubator.apache.org/projects/netbeans.html">Incubation Status</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2019 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <p><a href="https://incubator.apache.org/" alt="Apache Incubator"><img src='/images/incubator_feather_egg_logo_bw_crop.png' title='Apache Incubator'></img></a></p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache NetBeans is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
            <p>Apache Incubator, Apache, Apache NetBeans, NetBeans, the Apache feather logo, the Apache NetBeans logo, and the Apache Incubator project logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
