
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Desenvolvimento de Clientes de Web Service JAX-WS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Desenvolvimento de Clientes de Web Service JAX-WS - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Desenvolvimento de Clientes de Web Service JAX-WS">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 17</h1>
            <p><a class="button success" href="/download/nb17/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Desenvolvimento de Clientes de Web Service JAX-WS</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/client_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_consumindo_o_web_service_de_corretor_ortográfico">Consumindo o Web Service de Corretor Ortográfico</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_cliente">Criando o Cliente</a></li>
<li><a href="#_desenvolvendo_o_cliente">Desenvolvendo o Cliente</a></li>
<li><a href="#_implantando_o_cliente">Implantando o Cliente</a></li>
</ul>
</li>
<li><a href="#asynch">Clientes Assíncronos de Web Service</a>
<ul class="sectlevel2">
<li><a href="#asynch-swing">Criando o Form Swing</a></li>
<li><a href="#asynch-creatingtheclient">Ativando Clientes Assíncronos</a></li>
<li><a href="#asynch-addcode">Adicionando o Código de Cliente Assíncrono</a></li>
</ul>
</li>
<li><a href="#_praticando_o_que_você_aprendeu">Praticando o que Você Aprendeu</a></li>
<li><a href="#_consulte_também">Consulte Também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial, você utilizará os recursos de Web service fornecidos pelo NetBeans IDE para analisar um Web Service de Corretor Ortográfico e depois criar um cliente Web que interaja com o serviço. O cliente usará uma classe de servlet e uma página Web. O usuário passará informações para o servlet a partir da página Web.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3, 7.4 e 8.0</div>
</div>
<div class="paragraph">
<p><strong>Para seguir este tutorial, são necessários os recursos e o software a seguir.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pacote de download do Java EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Development Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 7 ou versão 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Servidor de aplicações ou Web compatível com Java EE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Servidor Web Tomcat 7.0
GlassFish Server Open Source Edition
Oracle WebLogic Server</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*Cuidado:*Se estiver utilizando o JDK 6, será necessário possuir o JDK 6 Atualização 7 ou posterior.</p>
</div>
<div class="paragraph">
<p>O Tomcat e o GlassFish Server podem ser instalados com a distribuição Web e Java EE do NetBeans IDE. Como alternativa, você pode visitar a <a href="https://glassfish.java.net/download.html">página de downloads do GlassFish Server</a> ou a <a href="http://tomcat.apache.org/download-60.cgi">página de downloads do Apache Tomcat</a>.</p>
</div>
<div class="paragraph">
<p>*Importante: *os projetos Java EE requerem Tomcat 7.x, GlassFish Server ou Oracle WebLogic Server 12c.</p>
</div>
<div class="paragraph">
<p>Esta será a aparência do cliente, com todos os dados recebidos do Web service:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxwsc-spellchecker-report.png" alt="jaxwsc spellchecker report">
</div>
<div class="title">Figure 2. Relatório de Corretor Ortográfico</div>
</div>
<div class="paragraph">
<p>No fim deste tutorial, você descobrirá que sua única contribuição com a aplicação consiste em fornecer o texto a ser verificado, chamar uma operação no Web service e renderizar o resultado. O IDE gera todo o código necessário para entrar em contato com o Web service e enviar o texto. O Web service de Corretor ortográfico cuida do restante. Ele identifica as palavras com erro ortográfico e fornece uma lista de alternativas sugeridas.</p>
</div>
<div class="paragraph">
<p>O Web service de corretor ortográfico usado neste tutorial é fornecido pela <a href="http://www.cdyne.com/account/home.aspx">CDYNE Corporation.</a> A CDYNE desenvolve, comercializa e oferece suporte a um conjunto abrangente de Web services para análise de dados, qualidade de dados e aprimoramento de dados e integração de inteligência comercial. O Web service de corretor ortográfico é um dos Web services fornecidos pela CDYNE. Observe que a capacidade de uma aplicação baseado em um ou mais Web services depende da disponibilidade e confiabilidade dos Web services. Entretanto, as <a href="http://www.cdyne.com/company/faqs.aspx">Perguntas Frequentes</a> da CDYNE apontam que ela tem "100% de disponibilidade" como objetivo e, no caso de um "desastre natural, ato terrorista ou outra catástrofe, o tráfego do Web service será transferido para o centro de dados secundário". A NetBeans agradece à CDYNE por permitir que este tutorial tenha sido escrito e por oferecer suporte ao seu desenvolvimento.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consumindo_o_web_service_de_corretor_ortográfico">Consumindo o Web Service de Corretor Ortográfico</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para usar um Web service na rede, o que é denominado "consumo" de um Web service, é preciso criar um cliente de Web service. Para a criação de clientes de Web service, o NetBeans IDE fornece um recurso de criação de cliente, que é o assistente de Cliente de Web Service, que gera o código para pesquisar um Web service. Ele também fornece recursos para desenvolver o cliente de Web service criado, que é uma área de trabalho que consiste em nós na janela Projetos. Esses recursos fazem parte do pacote EE da instalação do NetBeans IDE. Eles são fornecidos e não é necessário nenhum plug-in.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_cliente">Criando o Cliente</h3>
<div class="paragraph">
<p>Nesta seção, você utilizará um assistente para gerar objetos Java a partir do arquivo WSDL do Web service.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto (Ctrl-Shift-N no Linux e Windows, ⌘-Shift-N no MacOS). Em Categorias, selecione Java Web. Em Projetos, selecione Aplicação Web. Clique em Próximo. Defina o nome do projeto como  <code>SpellCheckService</code>  e especifique um servidor apropriado como o servidor de destino. (Consulte a seção "Introdução" para ver os detalhes). Aceite as outras opções default e clique em Finalizar.</p>
</li>
<li>
<p>Na janela Projetos, clique com o botão direito no nó do projeto  <code>SpellCheckService</code>  e escolha Novo &gt; Outros e selecione Cliente de Web Service na categoria Web Services do assistente Novo Arquivo. Clique em Próximo.</p>
</li>
<li>
<p>Selecione o URL de WSDL e especifique o seguinte URL para o web service:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://wsf.cdyne.com/SpellChecker/check.asmx?wsdl">http://wsf.cdyne.com/SpellChecker/check.asmx?wsdl</a></p>
</div>
<div class="paragraph">
<p>Se você estiver protegido por firewall, talvez seja necessário especificar um servidor proxy, do contrário, o arquivo WSDL não poderá ser baixado. Para especificar o servidor proxy, clique em Definir Proxy no assistente. A janela Opções do IDE será aberta, onde você poderá definir o proxy de forma universal para o IDE.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Deixe o nome do pacote em branco. Por default, o nome do pacote de classe do cliente é baseado no WSDL. Nesse caso, é  <code>com.cdyne.ws</code> . Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Na janela Projetos, no nó Referências de Web Service, você verá o seguinte:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ws-refs.png" alt="ws refs">
</div>
<div class="title">Figure 3. Janela Projetos mostrando as referências de Web services</div>
</div>
<div class="paragraph">
<p>A janela Projetos mostra que um Web service chamado 'check' tornou disponível uma quantidade de operações 'CheckTextBody' e 'CheckTextBodyV2' para sua aplicação. Estas operações verificam se há erros de ortografia em uma sequência de caracteres e retorna os dados para serem processados pelo cliente. A versão V2 do serviço não requer autenticação. Você utilizará a operação  <code>checkSoap.CheckTextBodyV2</code>  neste tutorial.</p>
</div>
<div class="paragraph">
<p>No nó  <code>Códigos-Fonte Gerados </code> , você verá os stubs cliente que foram gerados pelo assistente de Cliente de Web Service JAX-WS.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/gen-files.png" alt="gen files">
</div>
<div class="title">Figure 4. Exibição de Arquivos mostrando a estrutura do nó Construir do pacote</div>
</div>
<div class="paragraph">
<p>Expanda o nó WEB-INF e o subnó wsdl. Você encontrará uma cópia local do arquivo WSDL, denominada  <code>check.asmx.wsdl</code> .</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/web-inf.png" alt="web inf">
</div>
</div>
<div class="paragraph">
<p>O URL do WSDL que você usou para criar o cliente é mapeado para a cópia local do WSDL no  <code>jax-ws-catalog.xml</code> . O mapeamento para a cópia local tem diversas vantagens. A cópia remota do WSDL não precisa estar disponível para que o cliente seja executado. O cliente é mais rápido porque não precisa fazer parsing de um arquivo WSDL remoto. Por fim, a portabilidade é mais fácil.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jax-ws-catalog.png" alt="jax ws catalog">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_desenvolvendo_o_cliente">Desenvolvendo o Cliente</h3>
<div class="paragraph">
<p>Há muitas maneiras de implementar um cliente de Web service. O arquivo WSDL do Web service restringe o tipo de informações que você pode enviar para o Web service e restringe o tipo de informações que você recebe de volta. Entretanto, o arquivo WSDL não faz restrições sobre <em>como</em> você passa as informações necessárias nem sobre o <em>que</em> consiste a interface do usuário. A implementação do cliente que você construirá a seguir consiste em uma página Web que permite que o usuário insira o texto a ser verificado e um servlet que passará o texto para o Web service e depois gerará um relatório contendo o resultado.</p>
</div>
<div class="sect3">
<h4 id="_codificando_a_página_web">Codificando a Página Web</h4>
<div class="paragraph">
<p>A página Web consistirá de uma área de texto, onde o usuário inserirá um texto e um botão para enviar o texto para o Web service. Dependendo da versão do servidor escolhida como servidor de destino, o IDE gerou  <code>index.html</code>  ou  <code>index.jsp</code>  como a página do índice da aplicação.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, expanda o nó Páginas Web do projeto  <code>SpellCheckService</code>  e clique duas vezes na página do índice ( <code>index.html</code>  ou  <code>index.jsp</code> ) para abrir o arquivo no Editor de Código-fonte.</p>
</li>
<li>
<p>Copie o seguinte código e cole-o sobre as tags  <code>&lt;body&gt;</code>  na página do índice:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;body&gt;
  &lt;form name="Test" method="post" action="SpellCheckServlet"&gt;
     &lt;p&gt;Enter the text you want to check:&lt;/p&gt;
     &lt;p&gt;
     &lt;p&gt;&lt;textarea rows="7" name="TextArea1" cols="40" ID="Textarea1"&gt;&lt;/textarea&gt;&lt;/p&gt;
     &lt;p&gt;
     &lt;input type="submit" value="Spell Check" name="spellcheckbutton"&gt;
  &lt;/form&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O código acima listado especifica que, ao clicar no botão Submeter, o conteúdo de  <code>textarea</code>  é postado em um servlet chamado  <code>SpellCheckServlet</code> .</p>
</div>
</div>
<div class="sect3">
<h4 id="_criando_e_codificando_o_servlet">Criando e Codificando o Servlet</h4>
<div class="paragraph">
<p>Nesta seção, você criará um servlet que irá interagir com o Web service. Entretanto, o código que realiza a interação será fornecido pelo IDE. Como resultado, você só precisa lidar com a lógica de negócios, ou seja, a preparação do texto a ser enviada e o processamento do resultado.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto  <code>SpellCheckService </code>  na janela Projetos, selecione Novo &gt; Outro e, em seguida, selecione Web &gt; Servlet. Clique em Próximo para abrir o assistente Novo Servlet.</p>
</li>
<li>
<p>Defina o nome do servlet como  <code>SpellCheckServlet</code>  e digite  <code>clientservlet</code>  na lista drop-down Pacote. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/name-servlet.png" alt="name servlet">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Configurar Implantação do Servlet, observe que o mapeamento do URL deste servlet é  <code>/SpellCheckServlet</code> . Aceite os defaults e clique em Finalizar. O servlet será aberto no Editor de Código-Fonte.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxwsc-servlet.png" alt="jaxwsc servlet">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Coloque o cursor no Editor de Código-Fonte, dentro do corpo do método  <code>processRequest</code>  de  <code>SpellCheckServlet.java</code>  e adicione algumas linhas novas logo acima do método.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Clique com o botão direito do mouse no espaço criado na etapa anterior e selecione Inserir Código &gt; Chamar Operação de Web Service. Clique na operação  <code>checkSoap.CheckTextBodyV2</code>  na caixa de diálogo "Selecionar Operação a Ser Chamada", conforme mostrado a seguir:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-ws-ops.png" alt="insert ws ops">
</div>
<div class="title">Figure 5. Janela Projetos mostrando as referências de Web services</div>
</div>
<div class="paragraph">
<p>Clique em OK.</p>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> você também pode arrastar e soltar o nó da operação diretamente da janela Projetos no editor, em vez de chamar a caixa de diálogo mostrada anteriormente.</p>
</div>
<div class="paragraph">
<p>No final da classe  <code>SpellCheckServlet</code> , você verá um método privado para chamar o serviço SpellCheckerV2 e para retornar um objeto  <code>com.cdyne.ws.DocumentSummary</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private DocumentSummary checkTextBodyV2(java.lang.String bodyText) {com.cdyne.ws.CheckSoap port = service.getCheckSoap();return port.checkTextBodyV2(bodyText);}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Somente este método é necessário para chamar a operação no Web service. Além disso, as linhas de código a seguir (em negrito) são declaradas na parte superior da classe:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class SpellCheckServlet extends HttpServlet {
    *@WebServiceRef(wsdlLocation = "http://wsf.cdyne.com/SpellChecker/check.asmx?WSDL")
    private Check service;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Substitua o bloco  <code>try</code>  do método  <code>processRequest()</code>  pelo código a seguir. Os comentários alinhados no código a seguir explicam a finalidade de cada linha.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">try (PrintWriter out = response.getWriter()) {
*    //Get the TextArea from the web page*String TextArea1 = request.getParameter("TextArea1");*//Initialize WS operation arguments*
    java.lang.String bodyText = TextArea1;

    *//Process result*
    com.cdyne.ws.DocumentSummary doc = checkTextBodyV2(bodyText);
    String allcontent = doc.getBody();

    *//From the retrieved document summary,
    //identify the number of wrongly spelled words:*
    int no_of_mistakes = doc.getMisspelledWordCount();

    *//From the retrieved document summary,
    //identify the array of wrongly spelled words:*
    List allwrongwords = doc.getMisspelledWord();

    out.println("&lt;html&gt;");
    out.println("&lt;head&gt;");

    *//Display the report's name as a title in the browser's titlebar:*
    out.println("&lt;title&gt;Spell Checker Report&lt;/title&gt;");
    out.println("&lt;/head&gt;");
    out.println("&lt;body&gt;");

    *//Display the report's name as a header within the body of the report:*
    out.println("&lt;h2&gt;&lt;font color='red'&gt;Spell Checker Report&lt;/font&gt;&lt;/h2&gt;");

    *//Display all the content (correct as well as incorrectly spelled) between quotation marks:*
    out.println("&lt;hr&gt;&lt;b&gt;Your text:&lt;/b&gt; \"" + allcontent + "\"" + "&lt;p&gt;");

    *//For every array of wrong words (one array per wrong word),
    //identify the wrong word, the number of suggestions, and
    //the array of suggestions. Then display the wrong word and the number of suggestions and
    //then, for the array of suggestions belonging to the current wrong word, display each
    //suggestion:*
    for (int i = 0; i &lt; allwrongwords.size(); i++) {
        String onewrongword = ((Words) allwrongwords.get(i)).getWord();
        int onewordsuggestioncount = ((Words) allwrongwords.get(i)).getSuggestionCount();
        List allsuggestions = ((Words) allwrongwords.get(i)).getSuggestions();
        out.println("&lt;hr&gt;&lt;p&gt;&lt;b&gt;Wrong word:&lt;/b&gt;&lt;font color='red'&gt; " + onewrongword + "&lt;/font&gt;");
        out.println("&lt;p&gt;&lt;b&gt;" + onewordsuggestioncount + " suggestions:&lt;/b&gt;&lt;br&gt;");
        for (int k = 0; k &lt; allsuggestions.size(); k++) {
            String onesuggestion = (String) allsuggestions.get(k);
            out.println(onesuggestion);
        }
    }

    *//Display a line after each array of wrong words:*
    out.println("&lt;hr&gt;");

    *//Summarize by providing the number of errors and display them:*
    out.println("&lt;font color='red'&gt;&lt;b&gt;Summary:&lt;/b&gt; " + no_of_mistakes + " mistakes (");
    for (int i = 0; i &lt; allwrongwords.size(); i++) {
        String onewrongword = ((Words) allwrongwords.get(i)).getWord();
        out.println(onewrongword);
    }

    out.println(").");
    out.println("&lt;/font&gt;");
    out.println("&lt;/body&gt;");
    out.println("&lt;/html&gt;");

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Você verá diversas barras de erros e ícones de advertência indicando as classes não foram encontradas. Para corrigir as importações depois de colar o código, pressione Ctrl-Shift-I (⌘-Shift-I no Mac) ou clique com o botão direito do mouse em qualquer lugar, o que abrirá um menu de contexto. Lá, selecione Corrigir Importações. (Você poderá listar as classes para importação. Aceite o java.util.List default). Segue a lista das classes importadas:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import com.cdyne.ws.Check;
import com.cdyne.ws.Words;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.List;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.xml.ws.WebServiceRef;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Observação: *Se forem exibidas advertências de que não foi possível encontrar as classes  <code>com.cdyne.</strong></code> , não se assuste. Este problema é resolvido quando você constrói o projeto, conforme o IDE faz parsing dos arquivos WSDL e encontra as classes.</p>
</div>
<div class="paragraph">
<p>Observe que não houve tratamento de erros no código acima listado. Consulte <a href="#applyingwhatyouhavelearned">Aplicando o que Você Aprendeu</a> para obter detalhes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_implantando_o_cliente">Implantando o Cliente</h3>
<div class="paragraph">
<p>O IDE utiliza um script de construção Ant para construir e executar sua aplicação. O IDE gera o script de construção com base nas opções inseridas ao criar o projeto. Você pode ajustar essas opções na caixa de diálogo Propriedades do Projeto do projeto (clique com o botão direito do mouse no nó do projeto na janela Projetos e selecione Propriedades).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e selecione Executar. Após um tempo, a aplicação é implantada e exibe a página Web codificada na seção anterior.</p>
</li>
<li>
<p>Insira um texto, verificando se parte dele está escrita incorretamente:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxwsc-spellchecker-form.png" alt="jaxwsc spellchecker form">
</div>
<div class="title">Figure 6. Página JSP com texto para verificação</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clique em Verificar Ortografia e veja o resultado:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jaxwsc-spellchecker-report.png" alt="jaxwsc spellchecker report">
</div>
<div class="title">Figure 7. Relatório do Corretor Ortográfico mostrando erros</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asynch">Clientes Assíncronos de Web Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Por default, os clientes JAX-WS criados pelo NetBeans IDE são assíncronos. Os clientes assíncronos chamam uma solicitação em um serviço e, a seguir, interrompem seus processamentos enquanto aguardam a resposta. No entanto, em alguns casos, você quer que o cliente continue com outros processamentos em vez de aguardar a resposta. Em alguns casos, por exemplo, o serviço poderá demorar um pouco para processar a solicitação. Os clientes de Web service que continuam processando sem aguardar a resposta do serviço são chamados de "assíncronos".</p>
</div>
<div class="paragraph">
<p>Os clientes assíncronos iniciam uma solicitação a um serviço e, em seguida, retomam seu processamento sem aguardar uma resposta. O serviço manipula a solicitação do cliente e devolve uma resposta algum tempo depois, em cujo momento o cliente recupera a resposta e continua com seu processamento.</p>
</div>
<div class="paragraph">
<p>Os clientes assíncronos consomem Web services por meio da abordagem "sondagem" ou "retorno de chamada". Na abordagem "sondagem", você chama um método de Web service e solicita repetidamente o resultado. A sondagem é uma operação de bloqueio porque bloqueia o thread que está realizando a chamada, motivo pelo qual você não quer usá-la em uma aplicação de GUI. Na abordagem "retorno de chamada", você passa por um handler de callback durante a chamada do método de Web service. O método  <code>handleResponse()</code>  do handler é chamado quando o resultado fica disponível. Essa abordagem é apropriada para aplicações de GUI porque não é necessário aguardar a resposta. Por exemplo, você faz uma chamada de um handler de eventos de GUI e retorna o controle imediatamente, mantendo a interface de usuário receptiva. A desvantagem da abordagem de sondagem é que, mesmo que a resposta seja utilizada após ser obtida, é necessário verificar para saber se ela foi obtida.</p>
</div>
<div class="paragraph">
<p>No NetBeans IDE, você adiciona suporte para clientes assíncronos a uma aplicação cliente de Web service marcando uma caixa na GUI para Editar Atributos do Web Service nas referências do Web service. Todos os outros aspectos do desenvolvimento de clientes são iguais aos dos clientes síncronos, exceto pela presença dos métodos de sondagem do Web service ou de passagem pelo handler de callback e aguardar o resultado.</p>
</div>
<div class="paragraph">
<p>O restante desta seção explica como criar uma interface gráfica Swing e incorporar nela um cliente assíncrono JAX-WS.</p>
</div>
<div class="sect2">
<h3 id="asynch-swing">Criando o Form Swing</h3>
<div class="paragraph">
<p>Nesta seção, você criará a aplicação Swing. Se não quiser criar a GUI Swing, você poderá <a href="https://netbeans.org/projects/www/downloads/download/webservices%252FAsynchSpellCheckForm.zip">fazer o download de um JFrame predeterminado</a> e ir à seção <a href="#asynch-creatingtheclient">Criando o Cliente Assíncrono</a>.</p>
</div>
<div class="paragraph">
<p>O cliente Swing pega o texto que você digitou, envia-o ao serviço e retorna o número de erros e uma lista de todas as palavras erradas. O cliente também mostra cada uma das palavras erradas e as sugestões para substituí-las, uma de cada vez.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asynch-swing-client.png" alt="asynch swing client">
</div>
</div>
<div class="paragraph">
<p><strong>Para criar o cliente Swing:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie um novo projeto de Aplicação Java. Defina seu nome como  <code>AsynchSpellCheckClient</code> . NÃO crie uma classe  <code>Main</code>  para o projeto.</p>
</li>
<li>
<p>Na view Projetos, clique com o botão direito do mouse no nó do projeto  <code>AsynchSpellCheckClient</code>  e selecione Novo &gt; Form JFrame&#8230;&#8203;</p>
</li>
<li>
<p>Defina o nome do form como  <code>MainForm</code>  e coloque-o no pacote  <code>org.me.forms</code> .</p>
</li>
<li>
<p>Após a criar o JFrame, abra as propriedades do projeto. Na categoria Executar, defina  <code>MainForm</code>  como classe Principal.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asynch-main-class.png" alt="asynch main class">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>No Editor, abra a view Projeto de  <code>MainForm.java</code> . Da Paleta, arraste e solte três Painéis de Rolagem no  <code>MainForm</code> . Posicione e ajuste o tamanho dos painéis de rolagem. Eles conterão os campos de texto dos textos digitados para verificação, todas as palavras erradas e as sugestões para uma palavra errada.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Arraste e solte cinco Campos de Texto no  <code>MainForm</code> . Arraste três deles para dentro dos painéis de rolagem. Modifique-os da seguinte forma:</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Campos de Texto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nome da Variável</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No Painel de Rolagem?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Editável?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tfYourText</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tfNumberMistakes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tfWrongWords</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tfWrongWord1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tfSuggestions1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Arraste e solte uma Barra de Andamento no  <code>MainFrame</code> . Chame a variável de  <code>pbProgress</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Arraste e solte dois Botões no  <code>MainForm</code> . Defina o nome do primeiro botão como  <code>btCheck</code>  e altere seu texto para Verificar Texto ou Verificar Ortografia. Definia o nome do segundo botão como  <code>btNextWrongWord</code> , altere seu texto para Próxima Palavra Errada e desative-o.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Arraste e solte alguns Labels no  <code>MainForm</code>  para dar um título à aplicação e para descrever os campos de texto.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Arrume a aparência do JFrame de acordo com a sua preferência e salve-o. Depois, você adicionará a funcionalidade de cliente de Web service.</p>
</div>
</div>
<div class="sect2">
<h3 id="asynch-creatingtheclient">Ativando Clientes Assíncronos</h3>
<div class="paragraph">
<p>Adicione as referências do Web service, conforme descrito em <a href="#creatingtheclient">Criando o Cliente</a>. Em seguida, edite os atributos do Web service para ativar clientes assíncronos.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse no nó  <code>AsynchSpellCheckClient</code>  do projeto e selecione Novo &gt; Outro. No assistente de Novo Arquivo, selecione Web Services &gt; Cliente do Web Service. No assistente do Cliente de Web Service, especifique o URL para o Web service:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://wsf.cdyne.com/SpellChecker/check.asmx?wsdl">http://wsf.cdyne.com/SpellChecker/check.asmx?wsdl</a>. Aceite todos os defaults e clique em Finalizar. Trata-se do mesmo procedimento da Etapa 2, descrito a seguir em <a href="#creatingtheclient">Criando o Cliente</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Expanda o nó Referências de Web Services e clique com o botão direito do mouse no serviço  <code>check</code> . O menu de contexto será aberto.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asynch-edit-ws-attrib.png" alt="asynch edit ws attrib">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No menu de contexto, selecione Editar Atributos do Web Service. A caixa de diálogo Atributos do Web service será aberta.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Selecione a guia Personalização de WSDL.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Expanda o nó Operações de Tipos de Porta. Expanda o <strong>primeiro</strong> nó  <code>CheckTextBodyV2</code>  e selecione Ativar Cliente Assíncrono.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/enable-async-client.png" alt="enable async client">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Clique em OK. A caixa de diálogo será fechada e será exibida uma advertência informando que a alteração dos atributos de Web service atualizarão o nó do cliente.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asynch-refresh-node-warning.png" alt="asynch refresh node warning">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Clique em OK. A advertência será fechada e o nó do cliente, atualizado. Se expandir o nó  <code>check</code>  em Referências de Web Service, você verá que agora possui as versões Sondagem e Retorno de Chamada da operação  <code>CheckTextBody</code> .</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/asynch-ws-refs.png" alt="asynch ws refs">
</div>
</div>
<div class="paragraph">
<p>Os clientes assíncronos de Web service do serviço SpellCheck agora estão ativados para sua aplicação.</p>
</div>
</div>
<div class="sect2">
<h3 id="asynch-addcode">Adicionando o Código de Cliente Assíncrono</h3>
<div class="paragraph">
<p>Agora que você possui operações assíncronas de Web service, adicione uma operação assíncrona ao  <code>MainForm.java</code> .</p>
</div>
<div class="paragraph">
<p><strong>Para adicionar o código de cliente assíncrono:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>No  <code>MainForm</code> , passe para a view de Código-Fonte e adicione o seguinte método antes da última chave de fechamento.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void callAsyncCallback(String text){

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Na janela Projetos, expanda o nó Referências de Web Service do  <code>AsynchSpellCheckService</code>  e localize a operação  <code>checkSoap.CheckTextBodyV2 [Asynch Callback]</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Arraste a operação  <code>CheckTextBodyV2 [Asynch Callback]</code>  para o corpo do método  <code>callAsynchCallback</code>  vazio. O IDE irá gerar o seguinte bloco  <code>try</code> . Compare este código gerado ao código gerado para o cliente síncrono.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">try { // Call Web Service Operation(async. callback)
      com.cdyne.ws.Check service = new com.cdyne.ws.Check();
      com.cdyne.ws.CheckSoap port = service.getCheckSoap();
      // TODO initialize WS operation arguments here
      java.lang.String bodyText = "";
      javax.xml.ws.AsyncHandler&lt;com.cdyne.ws.CheckTextBodyV2Response&gt; asyncHandler =
              new javax.xml.ws.AsyncHandler&lt;com.cdyne.ws.CheckTextBodyV2Response&gt;() {
            public void handleResponse(javax.xml.ws.Response&lt;com.cdyne.ws.CheckTextBodyV2Response&gt; response) {
                  try {
                        // TODO process asynchronous response here
                        System.out.println("Result = "+ response.get());
                  } catch(Exception ex) {
                        // TODO handle exception
                  }
            }
      };
      java.util.concurrent.Future&lt;? extends java.lang.Object&gt; result = port.checkTextBodyV2Async(bodyText, asyncHandler);
      while(!result.isDone()) {
            // do something
            Thread.sleep(100);
      }
      } catch (Exception ex) {
      // TODO handle custom exceptions here
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Neste código, junto com a chamada do Web service, você observa que a resposta do serviço SpellCheck é manipulada por meio de um objeto  <code>AsynchHandler</code> . Enquanto isso, um objeto  <code>Future</code>  verifica se foi retornado um resultado e inativa o thread até que o resultado seja concluído.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Volte para a view do Projeto. Clique Duas Vezes no Botão Verificar Ortografia. O IDE adiciona automaticamente um ActionListener ao botão e alterna para a view Código-Fonte, com o cursor no método  <code>btCheckActionPerformed</code>  vazio.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Adicione o seguinte código ao corpo do método  <code>btCheckActionPerformed</code> . Este código toma o texto que você digitou no campo  <code>tfYourText</code> , exibe a mensagem "aguardando servidor" na barra de progresso, desativa o botão  <code>btCheck</code>  e chama o método de retorno de chamada assíncrono.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void btCheckActionPerformed(java.awt.event.ActionEvent evt) {
    *String text = tfYourText.getText();
    pbProgress.setIndeterminate(true);
    pbProgress.setString("waiting for server");
    btCheck.setEnabled(false);
    callAsyncCallback(text);*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>No início da classe  <code>MainForm</code> , instancie um campo  <code>ActionListener</code>  privado denominado  <code>nextWord</code> . Este  <code>ActionListener</code>  é para que o botão Próxima Palavra Errada que passa para a palavra errada seguinte da lista de palavras erradas e exibe a palavra e as sugestões para corrigi-la. Você cria o campo privado aqui, assim você pode cancelar o registro de  <code>ActionListener</code>  se ele já tiver sido definido. Do contrário, sempre que você verificar um novo texto, terá que adicionar um listener e o resultado será vários listeners chamando  <code>actionPerformed()</code>  várias vezes. Nesse caso, a aplicação não terá o comportamento correto.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class MainForm extends javax.swing.JFrame {

    private ActionListener nextWord;
    ...</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Substitua todo o método  <code>callAsynchCallback</code>  pelo código a seguir. Observe que o bloco  <code>try</code>  mais externo foi removido. Isso é desnecessário, pois blocos  <code>try</code>  mais específicos são adicionados ao método. Outras alterações no código são esclarecidas nos comentários do código.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void callAsyncCallback(String text) {


    com.cdyne.ws.Check service = new com.cdyne.ws.Check();
    com.cdyne.ws.CheckSoap port = service.getCheckSoap();
    // initialize WS operation arguments here
    java.lang.String bodyText = text;

    javax.xml.ws.AsyncHandler&lt;com.cdyne.ws.CheckTextBodyV2Response&gt; asyncHandler = new javax.xml.ws.AsyncHandler&lt;com.cdyne.ws.CheckTextBodyV2Response&gt;() {

        public void handleResponse(final javax.xml.ws.Response&lt;com.cdyne.ws.CheckTextBodyV2Response&gt; response) {
            SwingUtilities.invokeLater(new Runnable() {

                public void run() {

                    try {
                        // Create a DocumentSummary object containing the response.
                        // Note that getDocumentSummary() is called from the Response object
                        // unlike the synchronous client, where it is called directly from
                        // com.cdyne.ws.CheckTextBodycom.cdyne.ws.DocumentSummary doc = response.get().getDocumentSummary();
//From the retrieved DocumentSummary,
                        //identify and display the number of wrongly spelled words:
final int no_of_mistakes = doc.getMisspelledWordCount();
                        String number_of_mistakes = Integer.toString(no_of_mistakes);
                        tfNumberMistakes.setText(number_of_mistakes);
// Check to see if there are any mistakes
                        if (no_of_mistakes &gt; 0) {
//From the retrieved document summary,
                            //identify the array of wrongly spelled words, if any:
final List&lt;com.cdyne.ws.Words&gt; allwrongwords = doc.getMisspelledWord();
//Get the first wrong word
                            String firstwrongword = allwrongwords.get(0).getWord();
//Build a string of all wrong words separated by commas, then display this in tfWrongWords
StringBuilder wrongwordsbuilder = new StringBuilder(firstwrongword);

                            for (int i = 1; i &lt; allwrongwords.size(); i++) {
                                String onewrongword = allwrongwords.get(i).getWord();
                                wrongwordsbuilder.append(", ");
                                wrongwordsbuilder.append(onewrongword);
                            }
                            String wrongwords = wrongwordsbuilder.toString();
                            tfWrongWords.setText(wrongwords);
//Display the first wrong word
                            tfWrongWord1.setText(firstwrongword);
//See how many suggestions there are for the wrong word
                            int onewordsuggestioncount = allwrongwords.get(0).getSuggestionCount();
//Check to see if there are any suggestions.
                            if (onewordsuggestioncount &gt; 0) {
//Make a list of all suggestions for correcting the first wrong word, and build them into a String.
                                //Display the string of concactenated suggestions in the tfSuggestions1 text field
List&lt;String&gt; allsuggestions = ((com.cdyne.ws.Words) allwrongwords.get(0)).getSuggestions();

                                String firstsuggestion = allsuggestions.get(0);
                                StringBuilder suggestionbuilder = new StringBuilder(firstsuggestion);
                                for (int i = 1; i &lt; onewordsuggestioncount; i++) {
                                    String onesuggestion = allsuggestions.get(i);
                                    suggestionbuilder.append(", ");
                                    suggestionbuilder.append(onesuggestion);
                                }
                                String onewordsuggestions = suggestionbuilder.toString();
                                tfSuggestions1.setText(onewordsuggestions);

                            } else {
                                // No suggestions for this mistake
                                tfSuggestions1.setText("No suggestions");
                            }
                            btNextWrongWord.setEnabled(true);
// See if the ActionListener for getting the next wrong word and suggestions
                            // has already been defined. Unregister it if it has, so only one action listener
                            // will be registered at one time.
if (nextWord != null) {
                                btNextWrongWord.removeActionListener(nextWord);
                            }
// Define the ActionListener (already instantiated as a private field)
                            nextWord = new ActionListener() {
//Initialize a variable to track the index of the allwrongwords list

                                int wordnumber = 1;

                                public void actionPerformed(ActionEvent e) {
                                    if (wordnumber &lt; no_of_mistakes) {
// get wrong word in index position wordnumber in allwrongwords
                                        String onewrongword = allwrongwords.get(wordnumber).getWord();
//next part is same as code for first wrong word
tfWrongWord1.setText(onewrongword);
                                        int onewordsuggestioncount = allwrongwords.get(wordnumber).getSuggestionCount();
                                        if (onewordsuggestioncount &gt; 0) {
                                            List&lt;String&gt; allsuggestions = allwrongwords.get(wordnumber).getSuggestions();
                                            String firstsuggestion = allsuggestions.get(0);
                                            StringBuilder suggestionbuilder = new StringBuilder(firstsuggestion);
                                            for (int j = 1; j &lt; onewordsuggestioncount; j++) {
                                                String onesuggestion = allsuggestions.get(j);
                                                suggestionbuilder.append(", ");
                                                suggestionbuilder.append(onesuggestion);
                                            }
                                            String onewordsuggestions = suggestionbuilder.toString();
                                            tfSuggestions1.setText(onewordsuggestions);
                                        } else {
                                            tfSuggestions1.setText("No suggestions");
                                        }
// increase i by 1
                                        wordnumber++;
} else {
                                        // No more wrong words! Disable next word button
                                        // Enable Check button
                                        btNextWrongWord.setEnabled(false);
                                        btCheck.setEnabled(true);
                                    }
                                }
                            };
// Register the ActionListener
                            btNextWrongWord.addActionListener(nextWord);
} else {
                            // The text has no mistakes
                            // Enable Check button
                            tfWrongWords.setText("No wrong words");
                            tfSuggestions1.setText("No suggestions");
                            tfWrongWord1.setText("--");
                            btCheck.setEnabled(true);

                        }
                    } catch (Exception ex) {
                        ex.printStackTrace();
                    }
// Clear the progress bar
                    pbProgress.setIndeterminate(false);
                    pbProgress.setString("");
                }
            });

        }
    };

    java.util.concurrent.Future result = port.checkTextBodyV2Async(bodyText, asyncHandler);
    while (!result.isDone()) {
        try {
//Display a message that the application is waiting for a response from the server
            tfWrongWords.setText("Waiting...");
            Thread.sleep(100);
        } catch (InterruptedException ex) {
            Logger.getLogger(MainForm.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Pressione Ctrl-Shift-I (⌘-Shift-I no Mac) para corrigir importações. Isso adicionará as seguintes instruções de importação:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.SwingUtilities;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Agora, você pode construir e executar a aplicação! Infelizmente, você provavelmente não verá o que acontece quando há muita demora na resposta do servidor porque o serviço é bastante rápido.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_praticando_o_que_você_aprendeu">Praticando o que Você Aprendeu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Agora que você concluiu o seu primeiro cliente de Web service no IDE, é hora de aprimorar suas habilidades e melhorar a aplicação para tirar o melhor proveito dele. Veja a seguir duas tarefas sugeridas para começar.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adicione código de tratamento de erro ao servlet.</p>
</li>
<li>
<p>Reescreva o cliente para que o usuário possa interagir com os dados retornados do Web service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20JAX-WS%20Clients%20in%20NetBeans%20IDE">Enviar Feedback neste Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte Também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter mais informações sobre o uso do NetBeans IDE para desenvolver aplicações Java EE, consulte os seguintes recursos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="jax-ws.html">Introdução aos Web Services JAX-WS</a></p>
</li>
<li>
<p><a href="rest.html">Introdução ao RESTful Web Services</a></p>
</li>
<li>
<p><a href="wsit.html">Interoperabilidade Avançada de Web Service</a></p>
</li>
<li>
<p><a href="../../trails/web.html">Trilha do Aprendizado de Web services</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para enviar comentários e sugestões, obter suporte e se manter informado sobre os mais recentes desenvolvimentos das funcionalidades de desenvolvimento Java EE do NetBeans IDE, <a href="../../../community/lists/top.html">inscreva-se na lista de correio nbj2ee@netbeans.org</a>.</p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/websvc/client_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
