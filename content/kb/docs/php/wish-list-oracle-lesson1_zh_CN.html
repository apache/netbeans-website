
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>第 1b 课：创建 Oracle 数据库表</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="第 1b 课：创建 Oracle 数据库表 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 第 1b 课：创建 Oracle 数据库表">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">第 1b 课：创建 Oracle 数据库表</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-oracle-lesson1_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_创建数据库用户">创建数据库用户</a></li>
<li><a href="#_设计样例数据库的结构">设计样例数据库的结构</a></li>
<li><a href="#_创建_oracle_数据库方案">创建 Oracle 数据库方案</a></li>
<li><a href="#_添加序列和触发器以增加_id_值">添加序列和触发器以增加 ID 值</a></li>
<li><a href="#_输入测试数据">输入测试数据</a></li>
<li><a href="#_后续步骤">后续步骤</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>本课程介绍在开发愿望列表应用程序时的最后一个预备步骤，即，使用测试数据创建样例数据库。要完成本教程中的步骤，您需要创建一个数据库以存储许愿者的数据。使用 NetBeans IDE，您可以通过 IDE 界面执行所有这些活动。
开始之前，请参见<a href="wish-list-tutorial-main-page.html">使用 PHP 创建 CRUD 应用程序 - 主页</a>中介绍的教程要求。</p>
</div>
<div class="paragraph">
<p>当前文档是“在适用于 PHP 的 NetBeans IDE 中创建 CRUD 应用程序”教程的一部分。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建数据库用户">创建数据库用户</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在此过程中，先创建一个用户，然后以该用户身份创建表。</p>
</div>
<div class="paragraph">
<p>可以通过以下方法创建一个用户：使用 Oracle 的工具，或者将 NetBeans IDE 连接到数据库并使用 IDE 的 SQL 编辑器。NetBeans 7.0 目前仅提供 Beta 或开发版本，可以改进到 Oracle 数据库的连接。要了解如何将 NetBeans IDE 连接到 Oracle 数据库以及如何在数据库中创建用户，请参见<a href="../ide/oracle-db.html">连接到 Oracle 数据库</a>教程。</p>
</div>
<div class="paragraph">
<p>通过使用所选的工具，创建以下用户：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">用户名</th>
<th class="tableblock halign-left valign-top">phpuser</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phpuserpw</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">系统权限</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CREATE TABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CREATE VIEW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CREATE SEQUENCE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CREATE TRIGGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">角色 (Oracle Database 10.x)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONNECT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RESOURCE</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>下面是一组用于创建该用户的示例 SQL 命令。这些命令假定数据库具有 USERS 和 TEMP 表空间。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">drop user phpuser cascade;
create user phpuser identified by phpuserpw;
grant connect, resource to phpuser;
alter user phpuser default tablespace users temporary tablespace temp account unlock;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_设计样例数据库的结构">设计样例数据库的结构</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要排列和存储所有必需数据，您需要使用两个表：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>一个是 wishers 表，用于存储注册用户的名称和口令</p>
</li>
<li>
<p>一个是 wishes 表，用于存储愿望说明</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wishlist-db.png" alt="wishlist db">
</div>
</div>
<div class="paragraph">
<p>wishers 表包含三个字段：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>id - 许愿者的唯一 ID。该字段用作主键</p>
</li>
<li>
<p>name</p>
</li>
<li>
<p>password</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>wishes 表包含四个字段：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>id - 愿望的唯一 ID。该字段用作主键</p>
</li>
<li>
<p>wisher_id - 愿望所属的许愿者的 ID。该字段用作外键。</p>
</li>
<li>
<p>description</p>
</li>
<li>
<p>due_date - 请求愿望时的日期</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>这些表通过许愿者的 ID 相关联。除了 wishes 表中的 due_date 以外，所有字段都是必填的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_oracle_数据库方案">创建 Oracle 数据库方案</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>以创建的用户身份登录到数据库。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果通过 NetBeans IDE 进行连接，请使用新用户的名字和口令创建一个连接。确保选择的方案具有与用户相同的名称。（请参见“连接到 Oracle 数据库”教程的<a href="../ide/oracle-db.html#connect">建立到 Oracle DB 的连接</a>部分。）</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要创建 wishers 表，请运行以下 SQL 查询：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create table wishers (id number not null,name varchar2(50) unique not null, password varchar2(50) not null, constraint wishers_pk primary key(id));</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要创建 wishes 表，请运行以下 SQL 查询。请注意，将创建一个外键，使愿望与许愿者相关联。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create table wishes (id number not null, wisher_id number not null,description varchar2(255) not null, due_date date, constraint wishes_pk primary key(id), constraint wishes_fk1 foreign key(wisher_id) references wishers(id));</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>验证是否将新表添加到数据库中。如果使用 NetBeans IDE 连接到数据库，请转至 "Services"（服务）窗口中的 jdbc:oracle:thin:@localhost:1521:XE [PHPUSER 上的 phpuser] 连接节点。将在 "Tables"（表）节点中列出新表。（如果未显示这些表，请右键单击连接，然后选择 "Refresh"（刷新）。）</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tables-in-services-window.png" alt="tables in services window">
</div>
</div>
<div class="paragraph">
<p>注：您可以在<a href="https://netbeans.org/projects/www/downloads/download/php%252FSQL-files-for-Oracle.zip">此处</a>下载一组 SQL 命令以创建 Oracle 数据库表。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_添加序列和触发器以增加_id_值">添加序列和触发器以增加 ID 值</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在使用 Oracle 数据库时，您必须指定一个序列以增加值。要在表中添加新成员时增加值，请添加一个触发器。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要为 wishers 表添加序列，请运行以下 SQL 命令：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create sequence wishers_id_seq start with 1 increment by 1;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要在添加新的许愿者时在 wishers 表的 ID 列上触发序列，请运行以下 SQL 命令：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create or replace trigger wishers_insert
before insert on wishers
for each row
begin
    select wishers_id_seq.nextval into :new.id from dual;
end;
/</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>为 wishes 表添加一个序列。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create sequence wishes_id_seq start with 1 increment by 1;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加一个触发器，以便在添加新的愿望时在 wishes 表的 ID 列上运行序列。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">create or replace trigger wishes_insert
before insert on wishes
for each row
begin
    select wishes_id_seq.nextval into :new.id from dual;
end;
/</code></pre>
</div>
</div>
<div class="paragraph">
<p>注：您可以在<a href="https://netbeans.org/projects/www/downloads/download/php%252FSQL-files-for-Oracle.zip">此处</a>下载一组 SQL 命令以创建 Oracle 数据库表。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_输入测试数据">输入测试数据</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要测试应用程序，您需要使用数据库中的某些数据。下面的示例说明了如何添加两个许愿者和四个愿望。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加一个名为 Tom 且口令为 tomcat 的许愿者。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">insert into wishers (name, password) values ('Tom','tomcat');</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加一个名为 Jerry 且口令为 jerrymouse 的许愿者。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">insert into wishers (name, password) values ('Jerry', 'jerrymouse');commit;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加愿望。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">insert into wishes (wisher_id, description, due_date) values (1, 'Sausage', to_date('2008-04-01', 'YYYY-MM-DD'));
insert into wishes (wisher_id, description) values (1, 'Icecream');insert into wishes (wisher_id, description, due_date) values (2, 'Cheese', to_date('2008-05-01', 'YYYY-MM-DD'));
insert into wishes (wisher_id, description)values (2, 'Candle');
commit;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>验证是否添加了测试数据。如果使用 NetBeans IDE 查看测试数据，请在相关表上单击鼠标右键，然后从上下文菜单中选择 "View Data"（查看数据）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/view-test-data.png" alt="view test data">
</div>
</div>
<div class="paragraph">
<p>要大致了解数据库原理和设计模式，请查阅以下教程：<a href="http://www.tekstenuitleg.net/en/articles/database_design_tutorial/1">http://www.tekstenuitleg.net/en/articles/database_design_tutorial/1</a>。</p>
</div>
<div class="paragraph">
<p>有关 Oracle  <code>CREATE TABLE</code>  语句语法的详细信息，请参见 <a href="http://download.oracle.com/docs/cd/B19306_01/server.102/b14200/statements_7002.htm">http://download.oracle.com/docs/cd/B19306_01/server.102/b14200/statements_7002.htm</a>。</p>
</div>
<div class="paragraph">
<p>注：您可以在<a href="https://netbeans.org/projects/www/downloads/download/php%252FSQL-files-for-Oracle.zip">此处</a>下载一组 SQL 命令以创建 Oracle 数据库表。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_后续步骤">后续步骤</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="wish-list-lesson2.html">下一课 &gt;&gt;</a></p>
</div>
<div class="paragraph">
<p><a href="wish-list-tutorial-main-page.html">返回到教程主页</a></p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20PHP%20Wish%20List%20CRUD%201:%20Create%20Oracle%20Database%20Tables">请将您的反馈意见发送给我们</a></p>
</div>
<div class="paragraph">
<p>要发送意见和建议、获得支持以及随时了解 NetBeans IDE PHP 开发功能的最新开发情况，请<a href="../../../community/lists/top.html">加入 users@php.netbeans.org 邮件列表</a>。</p>
</div>
<div class="paragraph">
<p><a href="../../trails/php.html">返回至 PHP 学习资源</a></p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-oracle-lesson1_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
