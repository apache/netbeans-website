
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Создание приложения на основе базы данных на языке PHP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Создание приложения на основе базы данных на языке PHP - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Создание приложения на основе базы данных на языке PHP">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans (incubating)</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/nb100/nb100.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Just released!</div>
            <h1 syle='font-size: 2rem'>Apache NetBeans 10.0</h1>
            <p><a class="button success" href="/download/nb100/nb100.html">Read more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Создание приложения на основе базы данных на языке PHP</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-lesson5_ru.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel0">
<li><a href="#_Урок_5_добавление_функций_безопасности_Реализация_входа_пользователя_в_приложения">Урок 5: добавление функций безопасности Реализация входа пользователя в приложения</a>
<ul class="sectlevel1">
<li><a href="#_Исходный_код_приложения_из_предыдущего_урока">Исходный код приложения из предыдущего урока</a></li>
<li><a href="#_Сохранение_идентификатора_пользователя_в_сеансе_после_создания_пользователя">Сохранение идентификатора пользователя в сеансе после создания пользователя</a></li>
<li><a href="#_Проверка_допустимости_входа_для_пользователя">Проверка допустимости входа для пользователя</a>
<ul class="sectlevel2">
<li><a href="#_Извлечение_имени_пользователя_из_сеанса">Извлечение имени пользователя из сеанса</a></li>
<li><a href="#_Переадресация_пользователя_не_зарегистрированного_в_системе">Переадресация пользователя, не зарегистрированного в системе</a></li>
</ul>
</li>
<li><a href="#_Регистрация_на_странице_index_php">Регистрация на странице index.php</a>
<ul class="sectlevel2">
<li><a href="#_Форма_html_для_входа_на_странице_index_php">Форма HTML для входа на странице index.php</a></li>
<li><a href="#_Проверка_допустимости_входа">Проверка допустимости входа</a></li>
<li><a href="#_Функция_verify_wisher_credentials">Функция verify_wisher_credentials</a></li>
<li><a href="#_Отображение_сообщений_об_ошибках">Отображение сообщений об ошибках</a></li>
</ul>
</li>
<li><a href="#_Тестирование_входа_с_помощью_страницы_index_php">Тестирование входа с помощью страницы index.php</a></li>
<li><a href="#_Исходный_код_приложения_на_момент_завершения_текущего_урока">Исходный код приложения на момент завершения текущего урока</a></li>
<li><a href="#_Что_дальше">Что дальше?</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="_Урок_5_добавление_функций_безопасности_Реализация_входа_пользователя_в_приложения" class="sect0">Урок 5: добавление функций безопасности Реализация входа пользователя в приложения</h1>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="wish-list-tutorial-main-page.html">Создание приложения на основе базы данных с помощью языка PHP – главная страница</a>
2.
Создание базы данных</p>
</li>
<li>
<p><a href="wish-list-lesson1.html">Создание базы данных MySQL</a></p>
</li>
<li>
<p><a href="wish-list-oracle-lesson1.html">Создание таблиц базы данных Oracle</a></p>
</li>
<li>
<p><a href="wish-list-lesson2.html">Проектирование приложения. Чтение из базы данных</a></p>
</li>
<li>
<p><a href="wish-list-lesson3.html">Создание нового пользователя приложения</a></p>
</li>
<li>
<p><a href="wish-list-lesson4.html">Усовершенствование кода</a>
6.
<strong>&#8658; Добавление функций безопасности. Реализация входа пользователя в приложение</strong></p>
</li>
<li>
<p><a href="wish-list-lesson6.html">Добавление к базе данных новых желаний</a></p>
</li>
<li>
<p><a href="wish-list-lesson7.html">Обновление и удаление записей в базе данных</a></p>
</li>
<li>
<p><a href="wish-list-lesson8.html">Усовершенствование внешнего вида приложения с использованием технологии CSS</a></p>
</li>
<li>
<p><a href="wish-list-lesson9.html">Развертывание приложения на удаленном веб-сервере</a></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0</div>
</div>
<div class="paragraph">
<p>В этом уроке рассматривается реализация функциональных возможностей входа в приложение для пользователя. Эти функции применимы к следующим файлам:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>index.php</code></p>
</li>
<li>
<p><code>createNewWisher.php</code></p>
</li>
<li>
<p><code>editWishlist.php</code></p>
</li>
<li>
<p><code>db.php</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Реализация функции входа в систему состоит из следующих действий:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#savingWisherIDInSessionUponCreation">Сохранение идентификатора пользователя в сеансе после создания пользователя</a></p>
</li>
<li>
<p><a href="#validateWisherLogon">Проверка того, что пользователь, предпринимающий попытки редактирования списка "Wish list", зарегистрирован в системе.</a></p>
</li>
<li>
<p><a href="#logonFromIndexPage">Регистрация пользователя на странице index.php </a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Текущий документ является частью краткого учебного курса "Создание приложения CRUD в IDE NetBeans для PHP".</p>
</div>
<div class="sect1">
<h2 id="_Исходный_код_приложения_из_предыдущего_урока">Исходный код приложения из предыдущего урока</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для пользователей MySQL: перейдите по <a href="https://netbeans.org/files/documents/4/1930/lesson4.zip">этой ссылке</a> для загрузки исходного кода, описывающего состояние проекта на момент завершения предыдущего урока.</p>
</div>
<div class="paragraph">
<p>Для пользователей баз данных Oracle: перейдите по <a href="https://netbeans.org/projects/www/downloads/download/php%252Foracle-lesson4.zip">этой</a> для загрузки исходного кода, описывающего состояние проекта на момент завершения предыдущего урока.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Сохранение_идентификатора_пользователя_в_сеансе_после_создания_пользователя">Сохранение идентификатора пользователя в сеансе после создания пользователя</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://us2.php.net/manual/en/ref.session.php">Session</a> ("Сеанс") является хранилищем состояния для передачи информации с одной страницы на другую без использования <a href="wish-list-lesson5.html#htmlForm">формы ввода HTML</a>. Данная функция поддерживается посредством предопределенного массива PHР  <code>$_SESSION</code> .</p>
</div>
<div class="paragraph">
<p>В целях безопасности новый пользователь после создания должен быть автоматически зарегистрирован без заполнения формы. Поэтому необходимо изменить файл  <code>createNewWisher.php</code>  для реализации следующих функциональных возможностей:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Добавление нового пользователя в базу данных.</p>
</li>
<li>
<p>Открытие сеанса.</p>
</li>
<li>
<p>Сохранение имени пользователя в сеансе</p>
</li>
<li>
<p>Передача имени пользователя в сеансе при переадресации пользователя на страницу  <code>editWishList.php</code> .</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В файл  <code>createNewWisher.php</code>  включите следующую строку:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">WishDB::getInstance()-&gt;create_wisher($_POST["user"], $_POST["password"]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>а далее введите следующий блок кода:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">session_start();
$_SESSION['user'] = $_POST['user'];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Блок кода начинает сеанс, что означает открытие массива  <code>$_SESSION</code>  для ввода или извлечения данных. Затем код добавляет элемент к массиву  <code>$_SESSION</code> . Добавляемый элемент содержит значение и идентификатор. Значение – это имя недавно созданных пользователей, а "user" является идентификатором. Затем программа переадресует пользователя на страницу  <code>editWishList.php</code> .</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Проверка_допустимости_входа_для_пользователя">Проверка допустимости входа для пользователя</h2>
<div class="sectionbody">
<div class="paragraph">
<p>При переходе пользователя на страницу  <code>editWishList.php</code>  приложение должно выдавать подтверждение того, что страница используется лицом, только что зарегистрированным на странице  <code>createNewWisher.php</code> .</p>
</div>
<div class="paragraph">
<p>Реализация этих функциональных возможностей состоит из двух действий:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#retrievingUserNameFromSession">Извлечение имени пользователя из сеанса</a></p>
</li>
<li>
<p><a href="#redirectingNotLoggedInUserToIndexPage">Переадресация пользователя на страницу index.php, в случае если имя пользователя не было извлечено из сеанса</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_Извлечение_имени_пользователя_из_сеанса">Извлечение имени пользователя из сеанса</h3>
<div class="paragraph">
<p>Замените код, содержащийся в блоке PHP по умолчанию,  <code>editWishList.php</code>  следующим кодом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">session_start();
if (array_key_exists("user", $_SESSION)) {
    echo "Hello " . $_SESSION['user'];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Блок кода открывает массив  <code>$_SESSION</code>  для извлечения данных и проверки того, что в  <code>$_SESSION</code>  содержится элемент с идентификатором "user". Если проверка выполнена успешно, код выводит на экран приветственное сообщение.</p>
</div>
<div class="paragraph">
<p>Для проверки правильности реализации сеанса выполните следующие действия:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запустите файл  <code>createNewWisher.php</code>  и создайте нового пользователя, например, с именем "Jack".
Откроется файл  <code>editWishList.php</code>  с приветственным сообщением "Hello Jack".</p>
</li>
<li>
<p>Можно либо очистить файл cookie сеанса в используемом браузере, либо завершить сеанс и запустить файл  <code>editWishList.php</code>  в среде IDE.
Откроется файл  <code>editWishList.php</code> , содержащий текст "Hello", поскольку в рамках сеанса не были переданы какие-либо данные пользователя. Это нежелательный вариант, так как в данном случае незарегистрированный или не выполнивший вход в систему пользователь может создавать или редактировать список "Wish list". Во избежание этого следует выполнить переадресацию пользователя на страницу  <code>index.php</code> .</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_Переадресация_пользователя_не_зарегистрированного_в_системе">Переадресация пользователя, не зарегистрированного в системе</h3>
<div class="paragraph">
<p>Разместите следующий блок кода в файле  <code>editWishList.php</code>  под выражением  <code>if</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">else {
   header('Location: index.php');
   exit;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>В соответствии с кодом осуществляется переадресация пользователя на страницу index.php и прерывается выполнение кода PHP.</p>
</div>
<div class="paragraph">
<p>Для проверки того, что функциональные возможности реализованы правильно, запустите файл  <code>editWishList.php</code> . Ожидаемым результатом является открытие страницы  <code>index.php</code> .</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Регистрация_на_странице_index_php">Регистрация на странице index.php</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Вход с использованием страницы index.php состоит из двух действий:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#logonForm">Ввод имени пользователя и пароля в форму ввода HTML и передача данных на страницу index.php для проверки достоверности.</a></p>
</li>
<li>
<p><a href="#logonValidation">Проверка допустимости входа</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_Форма_html_для_входа_на_странице_index_php">Форма HTML для входа на странице index.php</h3>
<div class="paragraph">
<p>В файле  <code>index.php</code>  перед закрытием тега  <code>&lt;/body&gt;</code> введите следующий код:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;form name="logon" action="index.php" method="POST" &gt;
    Username: &lt;input type="text" name="user"&gt;
    Password  &lt;input type="password" name="userpassword"&gt;
    &lt;input type="submit" value="Edit My Wish List"&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>*Примечание. *Предупреждения от средства проверки HTML можно проигнорировать.</p>
</div>
<div class="paragraph">
<p>Код представляет собой <a href="wish-list-lesson3.html#htmlForm">форму HTML</a> которая позволяет вводить имя и пароль пользователя в текстовые поля. Если пользователь нажимает кнопку "Edit My Wish List", данные передаются на ту же страницу – index.php.</p>
</div>
</div>
<div class="sect2">
<h3 id="_Проверка_допустимости_входа">Проверка допустимости входа</h3>
<div class="paragraph">
<p>Проверка допустимости входа включает следующие действия:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#checkWhereUserCameFrom">Проверка местоположения пользователя до переадресации</a>.</p>
</li>
<li>
<p><a href="#verifyCredentials">Проверка имени пользователя и пароля</a>.</p>
</li>
<li>
<p>Сохранение имени пользователя в сеансе и переадресация пользователя на страницу editWishList.php или <a href="#displayErrorMessage">Отображение сообщения об ошибке.</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Пользователь может выполнить доступ на страницу  <code>index.php</code>  при запуске приложения, с помощью страницы <a href="#validateWisherLogon">editWishList.php</a> или при переадресации со страницы  <code>index.php</code>  после ввода имени и пароля.</p>
</div>
<div class="paragraph">
<p>Поскольку только в последнем случае используется <a href="http://www.htmlcodetutorial.com/forms/_FORM_METHOD.html">метод запроса HTML</a> POST, существует возможность узнать местонахождение пользователя, если он выполняет доступ к странице  <code>index.php</code> .</p>
</div>
<div class="paragraph">
<p>В файле index.php над блоком HTML создайте блок &lt;? php? &gt; со следующим кодом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php

require_once("Includes/db.php");
$logonSuccess = false;// verify user's credentials
if ($_SERVER['REQUEST_METHOD'] == "POST") {
    $logonSuccess = (WishDB::getInstance()-&gt;verify_wisher_credentials($_POST['user'], $_POST['userpassword']));
    if ($logonSuccess == true) {
        session_start();
        $_SESSION['user'] = $_POST['user'];
        header('Location: editWishList.php');
        exit;
    }
}
?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Верхняя часть этого блока кода разрешает использование файла  <code>db.php</code>  и инициализирует переменную  <code>$logonSuccess</code>  со значением  <code>false</code> . В случае успешной проверки это значение сменится на  <code>true</code> .</p>
</div>
<div class="paragraph">
<p>Код, проверяющий учетные данные пользователя, сперва проверяет, является ли методом запроса POST. Если POST является методом запроса, то пользователь был перенаправлен после подачи <a href="#logonForm">формы входа</a>. В таком случае блок кода вызывает функцию  <code>verify_wisher_credentials</code> , используя имя и пароль, введенные в форме входа.</p>
</div>
<div class="paragraph">
<p>Функция  <code>verify_wisher_credentials</code> , которую мы напишем в <a href="#verifyWisherCredentials">следующем разделе</a>, проверяет есть ли запись в таблице  <code>пользователей</code> , где имя пользователя и пароль совпадают со значениями, поданными в <a href="#logonForm">форме входа</a>. Если функция  <code>verify_wisher_credentials</code>  возвращает  <code>true</code> , то в базе данных есть пользователь с указанной комбинацией имени и пароля. Это значит, что проверка успешна и значение  <code>$logonSuccess</code>  меняется на  <code>true</code> . В таком случае начинается сеанс и открывается массив  <code>$_SESSION</code> . Код добавляет новый элемент к массиву  <code>$_SESSION</code> . Этот элемент содержит значение и идентификатор (ключ). Значение является именем пользователя, а идентификатором является "user". Затем код перенаправляет пользователя к странице  <code>editWishList.php</code>  для редактирования списка желаний.</p>
</div>
<div class="paragraph">
<p>Если функция  <code>verify_wisher_credentials</code>  возвращает  <code>false</code> , то значением переменной  <code>$logonSuccess</code>  останется false. Значение переменной используется для <a href="#displayErrorMessage">отображения сообщения об ошибке</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_Функция_verify_wisher_credentials">Функция verify_wisher_credentials</h3>
<div class="paragraph">
<p>Для проверки учетных данных пользователя необходимо добавить новую функцию к классу  <code>WishDB</code>  в файле  <code>db.php</code> . Входными параметрами для этой функции являются имя и пароль; функция возвращает значение 0 или 1.</p>
</div>
<div class="paragraph">
<p><strong>Для базы данных MySQL</strong> введите следующий блок кода:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public function verify_wisher_credentials ($name, $password){$name = $this-&gt;real_escape_string($name);$password = $this-&gt;real_escape_string($password);$result = $this-&gt;query("SELECT 1 FROM wishers
 	           WHERE name = '" . $name . "' AND password = '" . $password . "'");
   return $result-&gt;data_seek(0);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Для базы данных Oracle</strong> введите следующий блок кода (поскольку в OCI8 нет эквивалента для  <code>mysql_num_rows</code> , данный код является модифицированной формой  <code>get_wisher_id_by_name</code> ):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public function verify_wisher_credentials($name, $password) {
    $query = "SELECT 1 FROM wishers WHERE name = :name_bv AND password = :pwd_bv";
    $stid = oci_parse($this-&gt;con, $query);
    oci_bind_by_name($stid, ':name_bv', $name);
    oci_bind_by_name($stid, ':pwd_bv', $password);
    oci_execute($stid);
//Because name is a unique value I only expect one row
    $row = oci_fetch_array($stid, OCI_ASSOC);
    if ($row)
        return true;
    else
        return false;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Блок кода выполняет запрос  <code> "SELECT 1 FROM wishers WHERE Name = '" . $name . "' AND Password = '" . $password . "'"</code>  и возвращает число записей, соответствующих указанному запросу. Если такая запись найдена, функция возвратит  <code>true</code> . Если такой записи в базе данных не найдено, функция возвратит  <code>false</code> .</p>
</div>
</div>
<div class="sect2">
<h3 id="_Отображение_сообщений_об_ошибках">Отображение сообщений об ошибках</h3>
<div class="paragraph">
<p>Для включения отображения сообщений об ошибках в приложении введите следующий блок кода &lt;? php ? &gt; в форму "logon" на странице  <code>index.php</code>  после полей ввода, но над кнопкой:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php
  if ($_SERVER["REQUEST_METHOD"] == "POST") {
      if (!$logonSuccess)
          echo "Invalid name and/or password";
  }
?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Блок кода проверяет значение переменной $logonSuccess, и если значение есть "false", на экран выводится сообщение об ошибке.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Тестирование_входа_с_помощью_страницы_index_php">Тестирование входа с помощью страницы index.php</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для проверки корректности работы функции входа на первой странице  <code>index.php</code>  выполните следующие действия:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запустите приложение.</p>
</li>
<li>
<p>На странице  <code>index.php</code>  введите "Tom" в поле "Username" и "Tim" в поле "Password".</p>
</li>
<li>
<p>Нажмите кнопку "Edit My Wish List". Отобразится сообщение об ошибке (обратите внимание, что ширина приведенного ниже окна браузера уменьшена до 600 пикселей, в результате чего добавляется несколько разрывов строк).
image::images/incorrectNamePasswordIndex.png[]</p>
</li>
<li>
<p>Введите "Tom" в поле "Username" и "tomcat" в поле "Password".</p>
</li>
<li>
<p>Нажмите кнопку Edit My Wish List ("Редактировать мой список желаний"). Отобразится страница editWishList.php:
image::images/SuccessfulLogonOnIndexRedirectToEditWishList.png[]</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Исходный_код_приложения_на_момент_завершения_текущего_урока">Исходный код приложения на момент завершения текущего урока</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для пользователей MySQL: щелкните <a href="https://netbeans.org/files/documents/4/1931/lesson5.zip">здесь</a> для загрузки исходного кода, отражающего состояние проекта по завершении данного урока.</p>
</div>
<div class="paragraph">
<p>Для пользователей Oracle Database: щелкните <a href="https://netbeans.org/projects/www/downloads/download/php%252Foracle-lesson5.zip">здесь</a> для загрузки исходного кода, отражающего состояние проекта по завершении данного урока.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Что_дальше">Что дальше?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="wish-list-lesson4.html">&lt;&lt;Предыдущий урок</a></p>
</div>
<div class="paragraph">
<p><a href="wish-list-lesson6.html">Следующий урок &gt;&gt;</a></p>
</div>
<div class="paragraph">
<p><a href="wish-list-tutorial-main-page.html">Назад на главную страницу руководства</a></p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20PHP%20Wish%20List%20CRUD%205:%20Implementing%20Security">Отправить отзыв по этому учебному курсу</a></p>
</div>
<div class="paragraph">
<p>Для отправки комментариев и предложений, получения поддержки и новостей о последних разработках, связанных с PHP IDE NetBeans <a href="../../../community/lists/top.html">присоединяйтесь к списку рассылки users@php.netbeans.org</a>.</p>
</div>
<div class="paragraph">
<p><a href="../../trails/php.html">Возврат к учебной карте PHP</a></p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/incubator-netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-lesson5_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1>About</h1>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                    <li><a href="https://incubator.apache.org/projects/netbeans.html">Incubation Status</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb100/nb100.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2019 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <p><a href="https://incubator.apache.org/" alt="Apache Incubator"><img src='/images/incubator_feather_egg_logo_bw_crop.png' title='Apache Incubator'></img></a></p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache NetBeans is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
            <p>Apache Incubator, Apache, Apache NetBeans, NetBeans, the Apache feather logo, the Apache NetBeans logo, and the Apache Incubator project logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
