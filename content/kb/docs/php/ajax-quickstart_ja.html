
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>PHP WebアプリケーションでのAjax入門</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PHP WebアプリケーションでのAjax入門 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, PHP WebアプリケーションでのAjax入門">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="/download/nb19/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">PHP WebアプリケーションでのAjax入門</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/ajax-quickstart_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#overview">アプリケーションの概要</a></li>
<li><a href="#client1">クライアント側のプログラミング: 第1部</a>
<ul class="sectlevel2">
<li><a href="#html">HTMLエディタの使用</a></li>
<li><a href="#javascript">JavaScriptエディタの使用</a></li>
</ul>
</li>
<li><a href="#serverside">サーバー側のプログラミング</a>
<ul class="sectlevel2">
<li><a href="#data">データ・ストアの作成</a></li>
<li><a href="#business">ビジネス・ロジックの作成</a></li>
</ul>
</li>
<li><a href="#client2">クライアント側のプログラミング: 第2部</a>
<ul class="sectlevel2">
<li><a href="#callback">コールバック機能の追加</a></li>
<li><a href="#htmldom">HTML DOMの更新</a></li>
<li><a href="#stylesheet">スタイル・シートの添付</a></li>
</ul>
</li>
<li><a href="#conclusion">まとめ</a></li>
<li><a href="#seeAlso">関連項目</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>このドキュメントでは、Ajaxの概要を説明し、Ajax関連のテクノロジを使用するときにより短時間で効率よくプログラミングできるNetBeans IDEの機能を示します。Ajaxの基本的な機能を学びながら、テキスト・フィールドの自動補完を行う単純なアプリケーションをビルドします。このドキュメントでは、<a href="http://weblogs.java.net/blog/gmurray71/archive/2005/12/using_ajax_with_1.html">Javaテクノロジを使用するAjaxの使用</a>に公開しているGreg Murrayの記事とサンプル・アプリケーションを使用します。</p>
</div>
<div class="paragraph">
<p>Ajaxは「Asynchronous JavaScript and XML」(非同期JavaScriptとXML)の略です。Ajaxは基本的に、ユーザーによるWebページの操作をWebアプリケーションで効率的に処理する方法であり、ユーザーが操作するたびにページをリフレッシュしたり、ページ全体を再ロードしたりする必要を減らします。その結果、デスクトップ・アプリケーションやプラグインに基づいたWebアプリケーションのような、ブラウザを使用したスムーズな操作が可能になります。Ajaxの相互作用はバックグラウンドで非同期で処理されます。このとき、ユーザーはページの操作を続けることができます。Ajaxの相互作用はJavaScriptコードによって開始されます。Ajaxの相互作用が完了したら、JavaScriptがそのページのHTMLソースを更新します。変更は、ページをリフレッシュすることなく、すぐに反映されます。Ajaxの相互作用を使用して、ユーザーがフォームに入力している間にサーバー側ロジックを使用してフォーム・エントリを検証したり、サーバーから詳細なデータを取り出したり、ページ上のデータを動的に更新したり、ページから部分フォームを送信したりできます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. このページの内容は、NetBeans IDE 7.2、7.3、7.4および8.0に適用されます</div>
</div>
<div class="paragraph">
<p><strong>このチュートリアルを完了するには、次のソフトウェアとリソースが必要です。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ソフトウェアまたはリソース</th>
<th class="tableblock halign-left valign-top">必須バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDEのPHPバンドル版</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7または8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.php.net/downloads.php">PHPエンジン</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://httpd.apache.org/download.cgi">Apache Webサーバー</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*注意: *</p>
</div>
<div class="ulist">
<ul>
<li>
<p>使用しているオペレーティング・システムによっては、*AMPパッケージを使用してPHPの開発環境を構成できる場合があります。このパッケージにはPHPエンジンとApache Webサーバーが含まれます。環境の構成方法については、<a href="../../trails/php.html">PHPの学習</a>を参照してください。</p>
</li>
<li>
<p>このチュートリアルは、使用する各テクノロジ(HTML、CSS、JavaScript、およびPHPなど)に関する実用的な知識がある方を対象としています。コードによって提供される機能の概要は説明しますが、コード行ごとの処理は_説明しません_。</p>
</li>
<li>
<p>プロジェクトを、正常に機能するソリューションと比較する必要がある場合は、<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">サンプル・アプリケーションをダウンロード</a>できます。IDEの新規プロジェクト・ウィザード([Ctrl]-[Shift]-[N]、Macの場合は[⌘]-[Shift]-[N])で「PHP」を選択し、「既存のソースを使用するPHPアプリケーション」プロジェクト・タイプを選択します。ウィザードで、コンピュータにダウンロードされているソースを指定します。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">アプリケーションの概要</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ユーザーが作曲家に関する情報を検索できるWebページを考えます。このページには、ユーザーが作曲家の名前を入力できるフィールドがあります。サンプル・アプリケーションのエントリ・フィールドには、オートコンプリート機能があります。つまり、ユーザーが作曲家の名前の一部を入力すると、Webアプリケーションでは、入力した文字から名または姓のいずれかが始まるすべての作曲家のリストを表示してその名前を補完します。オートコンプリート機能によってユーザーは作曲家の名前を完全に覚えている必要がなく、また求めている情報を直観的かつ容易に入手できます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sample-app.png" alt="sample app">
</div>
<div class="title">Figure 2. ブラウザに表示されたサンプル・アプリケーション</div>
</div>
<div class="paragraph">
<p>検索フィールドへの自動補完の実装は、Ajaxを使用して実行できます。Ajaxは、`XMLHttpRequest`オブジェクトを使用してクライアントとサーバーの間でリクエストとレスポンスを非同期で受け渡しすることで機能します。次の図は、クライアントとサーバーの間で行われる通信のプロセス・フローを示します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajax-process-flow.png" alt="ajax process flow">
</div>
<div class="title">Figure 3. Ajaxのプロセス・フロー図</div>
</div>
<div class="paragraph">
<p>この図には、次の手順のプロセス・フローを示しています。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ユーザーが、たとえば名前を入力しているときにキーを解除して、イベントをトリガーします。すると、`XMLHttpRequest`オブジェクトを初期化する関数へのJavaScriptコールが行われます。</p>
</li>
<li>
<p>`XMLHttpRequest`オブジェクトが、イベントをトリガーしたコンポーネントのIDを含むリクエスト・パラメータと、ユーザーが入力した値で構成されます。次に、`XMLHttpRequest`オブジェクトがWebサーバーへの非同期リクエストを実行します。</p>
</li>
<li>
<p>Webサーバーでは、サーブレットやリスナーなどのオブジェクトがリクエストを処理します。データ・ストアからデータが取り出され、XMLドキュメント形式のデータを含むレスポンスが作成されます。</p>
</li>
<li>
<p>最後に、コールバック関数を使用して`XMLHttpRequest`オブジェクトがXMLデータを受け取って処理し、新しいデータを含むページを表示するようにHTMLのDOM (Document Object Model)を更新します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>このチュートリアルでは、前述の図で示したプロセス・フローに従ってオートコンプリートのシナリオを構築する方法を示します。最初に、プレゼンテーション用、および`XMLHttpRequest`オブジェクトの生成に必要な機能用のクライアント側ファイルを作成します。次に、PHPベースのテクノロジを使用してデータ・ストアとビジネス・ロジックを作成してサーバー側を設定します。最後に、クライアント側に戻り、`callback()`と、HTMLのDOMを更新するためのその他のJavaScript機能を実装します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client1">クライアント側のプログラミング: 第1部</h2>
<div class="sectionbody">
<div class="paragraph">
<p>最初に、IDEで新しいPHPアプリケーション・プロジェクトを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」を選択します。「カテゴリ」から「<strong>PHP</strong>」を選択します。「プロジェクト」で「<strong>PHPアプリケーション</strong>」を選択し、「<strong>次</strong>」をクリックします。</p>
</li>
<li>
<p>ステップ2の「名前と場所」で、プロジェクト名に「<code>MyAjaxApp</code>」と入力します。「ソース・フォルダ」フィールドでコンピュータ上でのプロジェクトの場所を指定できます。他のオプションはデフォルトのままにして、「<strong>次</strong>」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-name-location.png" alt="php name location">
</div>
<div class="title">Figure 4. 新規PHPプロジェクト・ウィザード - 「名前と場所」パネル</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ステップ3の「実行構成」で、アプリケーションのデプロイ方法を指定します。<strong>AMPパッケージを構成してPHP開発環境を設定した場合は、ドロップダウン・リストから「*ローカルWebサイト</strong>」を選択し、ブラウザに表示するプロジェクトのURLを指定します。</p>
</li>
<li>
<p>「ファイルをソース・フォルダから別の場所にコピー」オプションを選択します。次に、「フォルダにコピー」フィールドに、サーバー上のデプロイ先のパスを入力します。(Apacheでは、デフォルトの`htdocs`ディレクトリを使用します。)</p>
</li>
</ol>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><span class="image left"><a class="image" href="images/php-run-config.png"><img src="images/php-run-config.png" alt="php run config"></a></span></p>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「<strong>終了</strong>」をクリックします。IDEによってプロジェクト・フォルダがファイル・システム内に作成され、プロジェクトがIDEで開きます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>プロジェクト・ウィザードを使用して、  フレームワークのサポートをプロジェクトに追加することもできます(ウィザードのステップ4)。</p>
</div>
<div class="paragraph">
<p>デフォルトの`index.php`インデックス・ページが生成され、IDEのエディタで開きます。また、「プロジェクト」ウィンドウにプロジェクトが表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-proj-win.png" alt="php proj win">
</div>
<div class="title">Figure 5. MyAjaxAppプロジェクトが表示された「プロジェクト」ウィンドウ</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>コーディングを始める前に、アプリケーションを実行してみて、IDE、サーバー、ブラウザの間の構成が正しく設定されていることを確認します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDEのエディタで、indexページに次の`echo`文を追加します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">&lt;?php
    // put your code here
    *echo "&lt;h2&gt;Hello World!&lt;/h2&gt;";*
?&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウでプロジェクト・ノードを右クリックし、「実行」を選択します。IDEによってデフォルトのブラウザが開き、`index.php`で作成したメッセージ「Hello World」が表示されます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>注意:</strong> プロジェクトを設定できない場合、またはIDE、サーバー、およびブラウザ間で通信を確立できない場合は、<a href="project-setup.html">PHPプロジェクトの設定</a>を参照して、詳細な手順を確認してください。環境の構成については、<a href="../../trails/php.html">PHPの学習</a>を参照してください。</p>
</div>
<div class="sect2">
<h3 id="html">HTMLエディタの使用</h3>
<div class="imageblock">
<div class="content">
<img src="images/palette.png" alt="palette">
</div>
<div class="title">Figure 6. HTML要素が表示されたパレット</div>
</div>
<div class="paragraph">
<p>環境が正しく設定されていることを確認したら、まず、ユーザーに表示するオートコンプリート・インタフェースの開発から始めます。作成するインデックス・ページにはサーバー側のスクリプト要素は必要ないため、まずHTMLページを作成し、そのページをアプリケーションのエントリ・ポイントとして設定します。</p>
</div>
<div class="paragraph">
<p>IDEを使用する利点の1つは、作業を行うエディタには一般にコード補完機能が用意されていて、コーディングするときに適用すれば生産性を大幅に向上できることです。IDEのエディタは通常、使用しているテクノロジに適応するので、HTMLページで作業しているときにコード補完のキーの組合せ([Ctrl]-[Space])を押すとHTMLのタグと属性の候補が表示されます。後述するように、CSSやJavaScriptなどその他のテクノロジも同様です。</p>
</div>
<div class="paragraph">
<p>IDEのパレットも便利な機能です。パレットには、コーディングするテクノロジで一般的に適用される要素の使いやすいテンプレートが用意されています。項目をクリックして、ソース・エディタで開いているファイル内の任意の位置にドラッグするのみです。</p>
</div>
<div class="paragraph">
<p>この図のように大きなアイコンを表示するには、パレット内を右クリックし、「大きなアイコンを表示」を選択します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウで「<code>MyAjaxApp</code>」プロジェクト・ノードを右クリックし、「新規」&gt;「HTMLファイル」を選択します。</p>
</li>
<li>
<p>HTMLファイル・ウィザードで、ファイル名に「<code>index</code>」と入力し、「<strong>終了</strong>」をクリックします。新しい`index.html`ファイルがエディタで開きます。</p>
</li>
<li>
<p>このファイルの既存の内容を次の内容に置き換えます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;

&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
        &lt;title&gt;Auto-Completion using AJAX&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Auto-Completion using AJAX&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>テキスト・フィールドの目的を説明するテキストを追加します。次のテキストをコピーして、`&lt;h1&gt;`タグのすぐ下に貼り付けることもできます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;p&gt;This example shows how you can do real time auto-completion using Asynchronous
    JavaScript and XML (Ajax) interactions.&lt;/p&gt;

&lt;p&gt;In the form below enter a name. Possible names that will be completed are displayed
    below the form. For example, try typing in "Bach," "Mozart," or "Stravinsky,"
    then click on one of the selections to see composer details.&lt;/p&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ページにHTMLフォームを追加します。この操作を行うには、IDEのパレットに表示されている要素を使用します。パレットが開いていない場合は、メイン・メニューから「ウィンドウ」&gt;「パレット」を選択します。次に「HTMLフォーム」の下にある「フォーム」要素をクリックし、ページ内に追加した`&lt;p&gt;`タグの下までドラッグします。「挿入フォーム」ダイアログ・ボックスが表示されます。次の値を指定します。</p>
<div class="ulist">
<ul>
<li>
<p>アクション: autocomplete.php</p>
</li>
<li>
<p>メソッド: GET</p>
</li>
<li>
<p>名前: autofillform</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-insert-form.png" alt="php insert form">
</div>
<div class="title">Figure 7. 「挿入フォーム」ダイアログ</div>
</div>
<div class="paragraph">
<p>「OK」をクリックします。指定した属性を含むHTMLの`&lt;form&gt;`タグがページに挿入されます。(GETはデフォルトで適用されるので、明示的に宣言しません。)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>HTML表をページに追加します。パレットの「HTML」カテゴリの下で「表」要素をクリックし、`&lt;form&gt;`タグの間の位置までドラッグします。「挿入表」ダイアログ・ボックスが開きます。次の値を指定します。</p>
<div class="ulist">
<ul>
<li>
<p>行: 2</p>
</li>
<li>
<p>列: 2</p>
</li>
<li>
<p>境界線のサイズ: 0</p>
</li>
<li>
<p>幅: 0</p>
</li>
<li>
<p>セルの間隔: 0</p>
</li>
<li>
<p>セルのパディング: 5</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-table.png" alt="insert table">
</div>
<div class="title">Figure 8. 「挿入表」ダイアログ</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ソース・エディタ内を右クリックし、「フォーマット」を選択します。これでコードの体裁が整います。フォームは次のようになります。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;form name="autofillform" action="autocomplete.php"&gt;
  &lt;table border="0" cellpadding="5"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;&lt;/th&gt;
        &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>表の1行目の1列目に次のテキストを入力します(*太字*部分が変更箇所)。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;td&gt;*&lt;strong&gt;Composer Name:&lt;/strong&gt;*&lt;/td&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>1行目の2列目では、パレットから「テキスト入力」フィールドをドラッグしないで、次のコードを手動で入力します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input type="text"
    size="40"
    id="complete-field"
    onkeyup="doCompletion();"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>入力するときは、IDEに組み込まれているコード補完サポートを使用してみてください。たとえば、「<code>&lt;i</code>」と入力して[Ctrl]-[Space]を押します。カーソルの下に候補のリストが表示され、選択されている要素の説明が上のボックスに表示されます。ソース・エディタでコーディングしているときはいつでも[Ctrl]-[Space]を押して候補を表示できます。候補が1つのみの場合は、[Ctrl]-[Space]を押すと要素名が自動的に補完されます。
<span class="image"><img src="images/code-completion.png" alt="code completion" title=""[Ctrl"></span>-[Space]を押してソース・エディタでトリガーされたコード補完"]
入力した`onkeyup`属性はJavaScript関数`doCompletion()`を指しています。この関数は、フォームのテキスト・フィールド内でキーが押されるたびにコールされ、Ajaxの<a href="#flow-diagram">フロー図</a>に示したJavaScriptコールに対応します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>JavaScriptエディタでの作業に移る前に、アプリケーションのエントリ・ポイントとして`index.php`ファイルを新しい`index.html`ファイルに置き換えます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>これを行うには、「プロジェクト」ウィンドウでプロジェクト・ノードを右クリックし、「プロパティ」を選択します。「<strong>実行構成</strong>」カテゴリを選択し、「開始ファイル」フィールドに「<code>index.html</code>」と入力します。<span class="image"><img src="images/php-entry-point.png" alt="php entry point" title="「プロジェクト・プロパティ」ウィンドウで、アプリケーションのエントリ・ポイントを指定します。"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「OK」をクリックして変更を保存し、「プロジェクト・プロパティ」ウィンドウを終了します。</p>
</li>
<li>
<p>プロジェクトを実行して、ブラウザでどのように表示されるかを確認します。「プロジェクトの実行」(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>)ボタンをクリックします。`index.html`ファイルがデフォルトのブラウザに表示されます。
<span class="image"><img src="images/index-page.png" alt="index page" title="プロジェクトを実行してブラウザに現在の状態を表示"></span></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="javascript">JavaScriptエディタの使用</h3>
<div class="paragraph">
<p>IDEのJavaScriptエディタには、インテリジェントなコード補完、意味解釈の強調表示、名前の即時変更機能とリファクタリング機能など、多数の高度な編集機能が用意されています。IDEでのJavaScriptの編集機能の詳細は、<a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG">NetBeans IDEによるアプリケーションの開発ユーザーズ・ガイド</a>の<a href="http://docs.oracle.com/cd/E50453_01/doc.80/e50452/dev_html_apps.htm#BACFIFIG">JavaScriptファイルの作成</a>を参照してください。詳細は、<a href="http://wiki.netbeans.org/JavaScript">http://wiki.netbeans.org/JavaScript</a>を参照してください。</p>
</div>
<div class="paragraph">
<p>JavaScriptのコード補完は、<code>.js`ファイル内でコーディングするとき、および他のテクノロジ(HTML、RHTML、JSP、PHPなど)を使用しているときに</code>&lt;script&gt;`タグ内で自動的に提供されます。JavaScriptエディタの使用中は、IDEによって、JavaScriptの「オプション」パネルで指定するブラウザのタイプとバージョンに従って、ブラウザの互換性情報が表示されます。JavaScriptの「オプション」パネルを開くには、「ツール」&gt;「オプション」(Macの場合は「NetBeans」&gt;「プリファレンス」)を選択してから「その他」&gt;「JavaScript」を選択します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-javascript-options.png" alt="php javascript options">
</div>
<div class="title">Figure 9. JavaScriptの「オプション」パネル</div>
</div>
<div class="paragraph">
<p>IDEでは、Firefox、Internet Explorer、Safari、およびOperaをデフォルトでサポートしています。JavaScriptの「オプション」パネルでは、コード補完を適用するJavaScriptエンジンのバージョンを指定することもできます。</p>
</div>
<div class="paragraph">
<p>アプリケーションにJavaScriptファイルを追加し、`doCompletion()`の実装を始めます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウでプロジェクト・ノードを右クリックし、「新規」&gt;「JavaScriptファイル」を選択します。(「JavaScriptファイル」がリストにない場合は「その他」を選択します。次に、新規ファイル・ウィザードで「その他」カテゴリから「JavaScriptファイル」を選択します。)</p>
</li>
<li>
<p>ファイル名を`javascript`にし、「終了」をクリックします。新しいJavaScriptファイルが「プロジェクト」ウィンドウに表示され、エディタで開きます。</p>
</li>
<li>
<p>次のコードを`javascript.js`に入力します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">var req;
var isIE;

function init() {
    completeField = document.getElementById("complete-field");
}

function doCompletion() {
        var url = "autocomplete.php?action=complete&amp;amp;id=" + escape(completeField.value);
        req = initRequest();
        req.open("GET", url, true);
        req.onreadystatechange = callback;
        req.send(null);
}

function initRequest() {
    if (window.XMLHttpRequest) {
        if (navigator.userAgent.indexOf('MSIE') != -1) {
            isIE = true;
        }
        return new XMLHttpRequest();
    } else if (window.ActiveXObject) {
        isIE = true;
        return new ActiveXObject("Microsoft.XMLHTTP");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>上のコードは、Firefox 3およびInternet Explorerバージョン6と7の単純なブラウザ互換性チェックを行います。互換性の問題に対してさらに堅牢なコードを取り込むには、<a href="http://www.quirksmode.org">http://www.quirksmode.org</a>の<a href="http://www.quirksmode.org/js/detect.html">ブラウザ検出スクリプト</a>を使用することを検討してください。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>index.html`に戻り、JavaScriptファイルへの参照を</code>&lt;head&gt;`タグの間に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;script type="text/javascript" src="javascript.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>[Ctrl]-[Tab]を押すと、エディタ内で開いているページを簡単に切り替えることができます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>init()`へのコールを開始</code>&lt;body&gt;`タグ内に挿入します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;body *onload="init()"*&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>このようにすると、ページがロードされるたびに`init()`がコールされます。</p>
</div>
<div class="paragraph">
<p>`doCompletion()`には次の役割があります。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>サーバー側で利用できるデータを含むURLを作成すること</p>
</li>
<li>
<p>`XMLHttpRequest`オブジェクトを初期化すること</p>
</li>
<li>
<p>非同期リクエストをサーバーに送信するように`XMLHttpRequest`オブジェクトに要求すること</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>`XMLHttpRequest`オブジェクトはAjaxの中核であり、HTTPを使用してXMLデータを非同期で送信するときの事実上の標準になっています。相互作用が_非同期_であるということは、リクエストの送信後にブラウザではページ内で引続きイベントを処理できることを意味します。データはバックグラウンドで送信され、ページをリフレッシュしないで自動的にページにロードできます。</p>
</div>
<div class="paragraph">
<p><code>XMLHttpRequest`オブジェクトは実際には`initRequest()`で作成し、これは`doCompletion()`からコールされます。この関数では、ブラウザで`XMLHttpRequest`を認識できるかどうかを確認し、認識できる場合は`XMLHttpRequest`オブジェクトを作成します。そうでない場合は、`ActiveXObject</code> (Internet Explorer 6で`XMLHttpRequest`に相当する)を確認し、識別された場合は`ActiveXObject`を作成します。</p>
</div>
<div class="paragraph">
<p>相互作用が非同期であるかどうかに関係なく、<code>XMLHttpRequest`オブジェクトを作成するときは、URL、HTTPメソッド(`GET`または`POST</code>)の3つのパラメータを指定します。前述の例では、これらのパラメータは次のとおりです。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>URL <code>autocomplete.php</code>、およびユーザーが`complete-field`に入力したテキスト</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">var url = "autocomplete.php?action=complete&amp;amp;id=" + escape(completeField.value);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GET</code> (HTTPの相互作用で`GET`メソッドを使用することを示します)</p>
</li>
<li>
<p><code>true</code> (相互作用は非同期であることを示します)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">req.open("GET", url, true);</code></pre>
</div>
</div>
<div class="paragraph">
<p>相互作用を非同期に設定する場合は、コールバック関数を指定します。この相互作用のコールバック関数は次の文で設定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">req.onreadystatechange = callback;</code></pre>
</div>
</div>
<div class="paragraph">
<p>そして、`callback()`関数を<a href="#callback">後で定義</a>する必要があります。HTTPの相互作用は`XMLHttpRequest.send()`のコール時に開始します。このアクションは、前述の<a href="#flow-diagram">フロー図</a>でWebサーバーに送信されているHTTPリクエストに対応します。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverside">サーバー側のプログラミング</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDEでは、PHPを使用したWeb開発が総合的にサポートされています。*AMPパッケージを使用して開発環境を設定し、IDEで短時間で効率よく編集とデプロイができます。IDEでは、ローカル・サーバーに加えて、FTPまたはSFTPを使用してリモートでも環境を構成できます。また、<a href="http://xdebug.org/">XDebug</a>など外部のデバッガを構成し、IDEの「PHPオプション」ウィンドウから(「ツール」&gt;「オプション」を選択、Macの場合は「NetBeans」&gt;「プリファレンス」を選択し、「PHP」タブを選択)、<a href="http://www.phpunit.de/">PHPUnit</a>を使用した単体テストを設定できます。PHPエディタには、コード補完、構文の強調表示、出現箇所のマーク、リファクタリング、コード・テンプレート、ドキュメントのポップアップ、コード・ナビゲーション、エディタの警告、およびNetBeans 6.9の場合は形式の不正な構文のエラー・バッジなどの、標準の編集機能があります。PHPのサポートのスクリーンキャストについては、<a href="../intro-screencasts.html">NetBeansのビデオ・チュートリアルとデモ</a>のページを参照してください。</p>
</div>
<div class="paragraph">
<p>アプリケーションにデータベースが必要な場合、IDEでは、ほとんどの主要なデータベース、特にMySQLがサポートされています。詳細は、<a href="../../articles/mysql.html">NetBeansのMySQLのスクリーンキャスト</a>と<a href="../../../features/ide/database.html">データベース統合の説明</a>を参照してください。</p>
</div>
<div class="paragraph">
<p>ここでビルドしているオートコンプリート・アプリケーションのビジネス・ロジックでは、データ・ストアからデータを取り出してリクエストを処理し、レスポンスを作成して送信する必要があります。これは、`autocomplete`という名前のPHPファイルを使用して、ここで実装します。ファイルのコーディングを始める前に、データ・ストアと、ファイルからデータにアクセスするために必要な機能を設定します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#data">データ・ストアの作成</a></p>
</li>
<li>
<p><a href="#business">ビジネス・ロジックの作成</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="data">データ・ストアの作成</h3>
<div class="paragraph">
<p>この単純なアプリケーションでは、ビジネス・ロジックで`composers`配列に含まれるエントリからデータを取得できるようにする`Composer`というクラスを作成します。次に、その配列を使用して作曲家のデータを保持する`ComposerData`というクラスを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウで「<code>MyAjaxApp</code>」プロジェクト・ノードを右クリックし、「新規」&gt;「PHPクラス」を選択します。</p>
</li>
<li>
<p>クラス名を`Composer`にし、「終了」をクリックします。クラスが作成され、エディタで開きます。</p>
</li>
<li>
<p>次のコードをクラス内に貼り付けます(変更箇所は*太字*で表示)。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">&lt;?php

class Composer {

    *public $id;
    public $firstName;
    public $lastName;
    public $category;

    function __construct($id, $firstName, $lastName, $category) {
        $this-&gt;id = $id;
        $this-&gt;firstName = $firstName;
        $this-&gt;lastName = $lastName;
        $this-&gt;category = $category;
    }*
}

?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>`ComposerData`クラスを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウで「<code>MyAjaxApp</code>」プロジェクト・ノードを右クリックし、「新規」&gt;「PHPクラス」を選択します。</p>
</li>
<li>
<p>クラス名を`ComposerData`にし、「終了」をクリックします。クラスが作成され、IDEのエディタで開きます。</p>
</li>
<li>
<p>`require`文をクラスの先頭に追加し、作成した`Composer.php`クラスをこのクラスが要求するように指定します(変更箇所は*太字*で表示)。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">&lt;?php

*require "Composer.php";*

class ComposerData {

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>エディタで、次のコードをクラス内に貼り付けます(変更箇所は*太字*で表示)。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">&lt;?php

require "Composer.php";

class ComposerData {

    *public $composers;

    function __construct() {
        $this-&gt;composers = array(
            new Composer("1", "Johann Sebastian", "Bach", "Baroque"),
            new Composer("2", "Arcangelo", "Corelli", "Baroque"),
            new Composer("3", "George Frideric", "Handel", "Baroque"),
            new Composer("4", "Henry", "Purcell", "Baroque"),
            new Composer("5", "Jean-Philippe", "Rameau", "Baroque"),
            new Composer("6", "Domenico", "Scarlatti", "Baroque"),
            new Composer("7", "Antonio", "Vivaldi", "Baroque"),

            new Composer("8", "Ludwig van", "Beethoven", "Classical"),
            new Composer("9", "Johannes", "Brahms", "Classical"),
            new Composer("10", "Francesco", "Cavalli", "Classical"),
            new Composer("11", "Fryderyk Franciszek", "Chopin", "Classical"),
            new Composer("12", "Antonin", "Dvorak", "Classical"),
            new Composer("13", "Franz Joseph", "Haydn", "Classical"),
            new Composer("14", "Gustav", "Mahler", "Classical"),
            new Composer("15", "Wolfgang Amadeus", "Mozart", "Classical"),
            new Composer("16", "Johann", "Pachelbel", "Classical"),
            new Composer("17", "Gioachino", "Rossini", "Classical"),
            new Composer("18", "Dmitry", "Shostakovich", "Classical"),
            new Composer("19", "Richard", "Wagner", "Classical"),

            new Composer("20", "Louis-Hector", "Berlioz", "Romantic"),
            new Composer("21", "Georges", "Bizet", "Romantic"),
            new Composer("22", "Cesar", "Cui", "Romantic"),
            new Composer("23", "Claude", "Debussy", "Romantic"),
            new Composer("24", "Edward", "Elgar", "Romantic"),
            new Composer("25", "Gabriel", "Faure", "Romantic"),
            new Composer("26", "Cesar", "Franck", "Romantic"),
            new Composer("27", "Edvard", "Grieg", "Romantic"),
            new Composer("28", "Nikolay", "Rimsky-Korsakov", "Romantic"),
            new Composer("29", "Franz Joseph", "Liszt", "Romantic"),

            new Composer("30", "Felix", "Mendelssohn", "Romantic"),
            new Composer("31", "Giacomo", "Puccini", "Romantic"),
            new Composer("32", "Sergei", "Rachmaninoff", "Romantic"),
            new Composer("33", "Camille", "Saint-Saens", "Romantic"),
            new Composer("34", "Franz", "Schubert", "Romantic"),
            new Composer("35", "Robert", "Schumann", "Romantic"),
            new Composer("36", "Jean", "Sibelius", "Romantic"),
            new Composer("37", "Bedrich", "Smetana", "Romantic"),
            new Composer("38", "Richard", "Strauss", "Romantic"),
            new Composer("39", "Pyotr Il'yich", "Tchaikovsky", "Romantic"),
            new Composer("40", "Guiseppe", "Verdi", "Romantic"),

            new Composer("41", "Bela", "Bartok", "Post-Romantic"),
            new Composer("42", "Leonard", "Bernstein", "Post-Romantic"),
            new Composer("43", "Benjamin", "Britten", "Post-Romantic"),
            new Composer("44", "John", "Cage", "Post-Romantic"),
            new Composer("45", "Aaron", "Copland", "Post-Romantic"),
            new Composer("46", "George", "Gershwin", "Post-Romantic"),
            new Composer("47", "Sergey", "Prokofiev", "Post-Romantic"),
            new Composer("48", "Maurice", "Ravel", "Post-Romantic"),
            new Composer("49", "Igor", "Stravinsky", "Post-Romantic"),
            new Composer("50", "Carl", "Orff", "Post-Romantic"),
        );
    }*
}

?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="business">ビジネス・ロジックの作成</h3>
<div class="paragraph">
<p>受信リクエストによって受け取る`autocomplete` URLを処理するロジックを実装します。前の項で説明したように、ファイル・ウィザードを使用して新しいPHPファイルを作成するかわりに、ここでは既存の`index.php`ファイルを変更します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウで`index.php`ファイル・ノードをクリックします。ファイル名が編集可能になり、名前を変更できるようになります。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/edit-file-name.png" alt="edit file name">
</div>
<div class="title">Figure 10. ファイル・ノードをクリックして名前を編集</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ファイル名を`autocomplete`にし、[Enter]を押します。新しい`autocomplete.php`ファイルをダブルクリックし、エディタに表示します。</p>
</li>
<li>
<p>このファイルの既存のコードを次のスクリプトに置き換えます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">&lt;?php

require_once("ComposerData.php");

session_start();

$composerData = new ComposerData();
$composers = $composerData-&gt;composers;

$results = array();
$namesAdded = false;

// simple matching for start of first or last name, or both
if(isset($_GET['action']) &amp;amp;&amp;amp; $_GET['action'] == "complete") {
    foreach($composers as $composer) {
        if(!is_numeric($_GET['id']) &amp;amp;&amp;amp;

            // if id matches first name
            (stripos($composer-&gt;firstName, $_GET['id']) === 0 ||

            // if id matches last name
            stripos($composer-&gt;lastName, $_GET['id']) === 0) ||

            // if id matches full name
            stripos($composer-&gt;firstName." ".$composer-&gt;lastName, $_GET['id']) === 0) {

                $results[] = $composer;
        }
    }

    // prepare xml data
    if(sizeof($results) != 0) {
        header('Content-type: text/xml');
        echo "&lt;composers&gt;";
        foreach($results as $result) {
            echo "&lt;composer&gt;";
            echo "&lt;id&gt;" . $result-&gt;id . "&lt;/id&gt;";
            echo "&lt;firstName&gt;" . $result-&gt;firstName . "&lt;/firstName&gt;";
            echo "&lt;lastName&gt;" . $result-&gt;lastName . "&lt;/lastName&gt;";
            echo "&lt;/composer&gt;";
        }
        echo "&lt;/composers&gt;";
    }
}

// if user chooses from pop-up box
if(isset($_GET['action']) &amp;amp;&amp;amp; isset($_GET['id']) &amp;amp;&amp;amp; $_GET['action'] == "lookup") {
    foreach($composers as $composer) {
        if($composer-&gt;id == $_GET['id']) {
            $_SESSION ["id"] = $composer-&gt;id;
            $_SESSION ["firstName"] = $composer-&gt;firstName;
            $_SESSION ["lastName"] = $composer-&gt;lastName;
            $_SESSION ["category"] = $composer-&gt;category;

            header("Location: composerView.php");
        }
    }
}

?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>*注意: * composerView.phpファイルについては、このチュートリアルでは説明しません。そのようなファイルを作成して検索の最終結果を確認できます。ファイルのサンプルは、<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">sample application</a>に含まれています。</p>
</div>
<div class="paragraph">
<p>このように、Ajax処理用のサーバー側コードを記述するために新たに学習することはありません。XMLドキュメントを交換する場合は、レスポンスのコンテンツ・タイプを`text/xml`に設定します。Ajaxでは、プレーン・テキストを交換でき、クライアントのコールバック関数によって評価または実行できるJavaScriptのスニペットを交換することもできます。一部のブラウザでは結果がキャッシュに保存される場合があるので、Cache-Control HTTPヘッダーを`no-cache`に設定する必要がある場合もあります。</p>
</div>
<div class="paragraph">
<p>この例では、`autocomplete.php`ファイルによってXMLドキュメントが生成され、このXMLドキュメントには、名または姓のいずれかがユーザーが入力した文字で始まる作曲家がすべて含まれています。このドキュメントは、前述の<a href="#flow-diagram">フロー図</a>に示すXMLデータに対応します。`XMLHttpRequest`オブジェクトに返されるXMLドキュメントの例を示します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;composers&gt;
    &lt;composer&gt;
        &lt;id&gt;12&lt;/id&gt;
        &lt;firstName&gt;Antonin&lt;/firstName&gt;
        &lt;lastName&gt;Dvorak&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;45&lt;/id&gt;
        &lt;firstName&gt;Aaron&lt;/firstName&gt;
        &lt;lastName&gt;Copland&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;7&lt;/id&gt;
        &lt;firstName&gt;Antonio&lt;/firstName&gt;
        &lt;lastName&gt;Vivaldi&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;2&lt;/id&gt;
        &lt;firstName&gt;Arcangelo&lt;/firstName&gt;
        &lt;lastName&gt;Corelli&lt;/lastName&gt;
    &lt;/composer&gt;
&lt;/composers&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client2">クライアント側のプログラミング: 第2部</h2>
<div class="sectionbody">
<div class="paragraph">
<p>サーバーのレスポンスを処理するコールバック関数を定義し、ユーザーに表示するページに変更を反映するために必要な機能を追加する必要があります。そのためには、HTMLのDOMを変更する必要があります。最後に、IDEのCSSエディタを使用して、単純なスタイル・シートをプレゼンテーションに追加できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#callback">コールバック機能の追加</a></p>
</li>
<li>
<p><a href="#htmldom">HTML DOMの更新</a></p>
</li>
<li>
<p><a href="#stylesheet">スタイル・シートの添付</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="callback">コールバック機能の追加</h3>
<div class="paragraph">
<p>コールバック関数は、HTTPの相互作用中に`XMLHttpRequest`オブジェクトの「<code>readyState</code>」プロパティが変化したとき、非同期でコールされます。ここでビルドしているアプリケーションでは、コールバック関数は`callback()<code>です。`doCompletion()`では、`callback`を関数の「`XMLHttpRequest.onreadystatechange</code>」プロパティとして設定しました。ここで、コールバック関数を次のように実装します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`javascript.js`をエディタで開き、次のコードを入力します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function callback() {
    if (req.readyState == 4) {
        if (req.status == 200) {
            parseMessages(req.responseXML);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>`readyState`が「4」のとき、HTTPの相互作用は完了しています。`XMLHttpRequest.readState`のAPIは、設定できる値が5つあることを示します。これらを次に示します。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">`readyState`の値</th>
<th class="tableblock halign-left valign-top">オブジェクト・ステータスの定義</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">非初期化</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ロード中</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ロード済</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">対話式</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">完了</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>parseMessages()`関数は、`XMLHttpRequest.readyState`が「4」で、`status</code> (リクエストのHTTPステータス・コード定義)が「200」、つまり成功の場合にのみコールされます。`parseMessages()`は、次の<a href="#htmldom">HTML DOMの更新</a>で定義します。</p>
</div>
</div>
<div class="sect2">
<h3 id="htmldom">HTML DOMの更新</h3>
<div class="paragraph">
<p>受信するXMLデータは`parseMessages()<code>関数で処理します。このとき、`appendComposer()</code>、<code>getElementY()</code>、および`clearTable()`などの補助的関数を使用します。また、オートコンプリート・ボックスとして機能する2番目のHTML表、要素を`javascript.js`で参照可能にするための要素のIDなど、新しい要素をindexページに追加する必要があります。最後に、`index.php`内の要素のIDに対応する新しい変数を作成し、前に実装した`init()`関数で初期化し、`index.php`がロードされるたびに必要とされる機能を追加します。</p>
</div>
<div class="paragraph">
<p>*注意: *次の手順で作成する関数と要素は、相互に依存して動作します。この項の手順を最後まで行い、コードが完成してからその内容を確認することをお薦めします。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`index.html`をエディタで開き、前に作成したHTML表の2行目として次のコードを入力します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;tr&gt;
    *&lt;td id="auto-row" colspan="2"&gt;

    &lt;td/&gt;*
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>この新しい行は「<code>auto-row</code>」として識別でき、オートコンプリート・ボックスを形成する新しいHTML表を挿入するための、JavaScriptコード用のハンドルの役割を果たします。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`javascript.js`をエディタで開き、次の3つの変数をファイルの先頭に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">var completeField;
var completeTable;
var autoRow;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>次の*太字*の行を`init()`関数に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function init() {
    completeField = document.getElementById("complete-field");
    *completeTable = document.createElement("table");
    completeTable.setAttribute("class", "popupBox");
    completeTable.setAttribute("style", "display: none");
    autoRow = document.getElementById("auto-row");
    autoRow.appendChild(completeTable);
    completeTable.style.top = getElementY(autoRow) + "px";*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>`init()`の目的の1つは、indexページのDOMを変更する他の関数から`index.html`内の要素にアクセスできるようにすることです。上記のスクリプトは、新しいHTML`表`を作成し、`popupBox`クラスを追加して、要素のスタイルを`display: none`に変更します。最後に、`id`が`auto-row`である要素を取得し、ここに新しい`表`を挿入します。つまり、このコードを実行するときには、変更されたHTMLは次のようになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;tr&gt;
    &lt;td id="auto-row" colspan="2"&gt;
        *&lt;table class="popupBox" style="display: none"&gt;&lt;/table&gt;*
    &lt;td/&gt;
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`appendComposer()`を`javascript.js`に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function appendComposer(firstName,lastName,composerId) {

    var row;
    var cell;
    var linkElement;

    if (isIE) {
        completeTable.style.display = 'block';
        row = completeTable.insertRow(completeTable.rows.length);
        cell = row.insertCell(0);
    } else {
        completeTable.style.display = 'table';
        row = document.createElement("tr");
        cell = document.createElement("td");
        row.appendChild(cell);
        completeTable.appendChild(row);
    }

    cell.className = "popupCell";

    linkElement = document.createElement("a");
    linkElement.className = "popupItem";
    linkElement.setAttribute("href", "autocomplete.php?action=lookup&amp;amp;id=" + composerId);
    linkElement.appendChild(document.createTextNode(firstName + " " + lastName));
    cell.appendChild(linkElement);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>この関数は、表の新しい行を作成し、3つのパラメータによって関数に渡されたデータを使用して作曲家へのリンクを挿入してから、行をindexページの`complete-table`要素に挿入します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`clearTable()`を`javascript.js`に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function clearTable() {
    if (completeTable.getElementsByTagName("tr").length &gt; 0) {
        completeTable.style.display = 'none';
        for (loop = completeTable.childNodes.length -1; loop &gt;= 0 ; loop--) {
            completeTable.removeChild(completeTable.childNodes[loop]);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>この関数は`complete-table`要素の表示を&#8217;none&#8217;に設定し(非表示にし)、作成された既存の作曲家の名前エントリを除去します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`getElementY()`を`javascript.js`に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function getElementY(element){

    var targetTop = 0;

    if (element.offsetParent) {
        while (element.offsetParent) {
            targetTop += element.offsetTop;
            element = element.offsetParent;
        }
    } else if (element.y) {
        targetTop += element.y;
    }
    return targetTop;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>この関数は、親要素の縦方向表示位置を見つけるために適用します。これは、要素の実際の表示位置はブラウザのタイプとバージョンによって異なることが多いため必要です。`complete-table`要素は、作曲家の名前が表示されるときに、この要素が存在する表の右下にシフトします。正しい縦方向の配置は`getElementY()`で決まります。</p>
</div>
<div class="paragraph">
<p>*注意: *<a href="http://www.quirksmode.org/">http://www.quirksmode.org/</a>にある`offset`に関する<a href="http://www.quirksmode.org/js/findpos.html">説明</a>を参照してください。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`callback()`関数を変更して、サーバーから新しいデータを受け取るたびに`clearTable()`をコールするようにします。オートコンプリート・ボックスに作曲家のエントリがある場合は、新しいエントリが入力される前に除去されます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function callback() {

    *clearTable();*

    if (req.readyState == 4) {
        if (req.status == 200) {
            parseMessages(req.responseXML);
        }
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>`parseMessages()`を`javascript.js`に追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">function parseMessages(responseXML) {

    // no matches returned
    if (responseXML == null) {
        return false;
    } else {

        var composers = responseXML.getElementsByTagName("composers")[0];

        if (composers.childNodes.length &gt; 0) {
            completeTable.setAttribute("bordercolor", "black");
            completeTable.setAttribute("border", "1");

            for (loop = 0; loop &lt; composers.childNodes.length; loop++) {
                var composer = composers.childNodes[loop];
                var firstName = composer.getElementsByTagName("firstName")[0];
                var lastName = composer.getElementsByTagName("lastName")[0];
                var composerId = composer.getElementsByTagName("id")[0];
                appendComposer(firstName.childNodes[0].nodeValue,
                    lastName.childNodes[0].nodeValue,
                    composerId.childNodes[0].nodeValue);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>parseMessages()`関数は、`autocomplete.php`ファイルから返されるXMLドキュメントのオブジェクト表現をパラメータとして受け取ります。この関数はプログラムでXMLドキュメント内を横断し、各エントリの`firstName</code>、<code>lastName</code>、および`id`を抽出して、このデータを`appendComposer()`に渡します。その結果、`complete-table`要素の内容が動的に更新されます。たとえば、次のようなエントリが生成され、`complete-table`に挿入されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;tr&gt;
    &lt;td class="popupCell"&gt;
        &lt;a class="popupItem" href="autocomplete?action=lookup&amp;amp;id=12"&gt;Antonin Dvorak&lt;/a&gt;
    &lt;/td&gt;
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>`complete-table`要素の動的な更新は、Ajaxを使用して行われる通信のプロセス・フローの中で最後の手順を表します。この更新は、前述の<a href="#flow-diagram">フロー図</a>のプレゼンテーションに送信されるHTMLとCSSデータに対応します。</p>
</div>
</div>
<div class="sect2">
<h3 id="stylesheet">スタイル・シートの添付</h3>
<div class="paragraph">
<p>これで、アプリケーションの機能に必要なコードが完成しました。作業の結果を確認するため、今すぐアプリケーションを実行してみてください。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>プロジェクトを実行して、ブラウザでどのように表示されるかを確認します。「プロジェクトの実行」(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>)ボタンをクリックします。`index.html`ファイルがブラウザに表示されます。
<span class="image"><img src="images/no-css.png" alt="no css" title="スタイル・シートなしでの正常なデプロイメント"></span></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>アプリケーションにスタイル・シートを添付するには、CSS (Cascading Style Sheet)ファイルを作成し、プレゼンテーション・ページからそのファイルにリンクします。CSSファイルで作業する場合、IDEには、コード補完サポートや、スタイル・シート・ルールの作成に役立つ他のいくつかの機能が提供されています。これには次のものが含まれています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>*CSSスタイル・ビルダー: *選択したコントロールやウィジェットを使用してルールを作成できるように設計されたインタフェースです(「ウィンドウ」&gt;「その他」&gt;「CSSスタイル・ビルダー」)。</p>
</li>
<li>
<p><strong>CSSプレビュー:</strong> ルール内にカーソルを置くと、そのルールの宣言ブロックに従ってサンプル・テキストがレンダリングされるプレビュー・ウィンドウです(「ウィンドウ」&gt;「その他」&gt;「CSSプレビュー」)。</p>
</li>
<li>
<p>*スタイル・ルール・エディタ: *クラス、ID、HTML要素に基づいてルールを作成し、ドキュメント階層における位置を設定できるダイアログです(CSSエディタのツールバーの左上側にある「ルールを作成」(<span class="image"><img src="images/style-rule-editor-btn.png" alt="style rule editor btn"></span>)ボタン)。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NetBeans 6.9は、「名前の変更のリファクタリング」機能と「使用状況を検索」機能をサポートしています。これは、CSSファイルのみでなく、CSSコードが埋め込まれているすべてのファイルでサポートされます(HTML、PHPなど)。CSSのクラス、ID、およびタイプ要素を、すべてのプロジェクト・ファイルでリファクタリングできます。このリファクタリングのサポートを利用するには、任意のCSS要素上で[Ctrl]-[R]を押し、表示されたダイアログで名前変更アクションを実行します。また、名前変更アクションを実行する前に、変更をプレビューすることもできます。「使用状況を検索」機能のサポートを利用するには、CSS要素を右クリックし、「使用状況を検索」を選択します。詳細は、<a href="http://wiki.netbeans.org/wiki/index.php?title=NewAndNoteworthy69m1&amp;section=T-25#Web_Languages">NewAndNoteworthy69m1</a>を参照してください。</p>
</div>
<div class="paragraph">
<p>スタイル・シートをアプリケーションに添付するには、次の手順を行います:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウでプロジェクト・ノードを右クリックし、「新規」&gt;「Cascading Style Sheet」を選択します(「Cascading Style Sheet」が表示されない場合は、「その他」を選択します。次に、新規ファイル・ウィザードで「その他」カテゴリから「Cascading Style Sheet」を選択します。)</p>
</li>
<li>
<p>「CSSファイル名」テキスト・フィールドに、「<code>stylesheet</code>」と入力します。</p>
</li>
<li>
<p>「終了」をクリックします。新しいファイルが「プロジェクト」ウィンドウに追加され、IDEのエディタで開きます。</p>
</li>
<li>
<p>`stylesheet.css`に、次のルールを入力します。IDEのコード補完サポートを利用するには、候補を呼び出したい場所で[Ctrl]-[Space]を押します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">body {
   font-family: sans-serif;
   font-size: smaller;
   padding: 50px;
   color: #555;
   width: 650px;
}

h1 {
   letter-spacing: 6px;
   font-size: 1.6em;
   color: #be7429;
   font-weight: bold;
}

h2 {
   text-align: left;
   letter-spacing: 6px;
   font-size: 1.4em;
   color: #be7429;
   font-weight: normal;
   width: 450px;
}

table {
   width: 550px;
   padding: 10px;
   background-color: #c5e7e0;
}

td {
   padding: 10px;
}

a {
  color: #be7429;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.popupBox {
  position: absolute;
  top: 170px;
  left: 140px;
}

.popupCell {
   background-color: #fffafa;
}

.popupCell:hover {
  background-color: #f5ebe9;
}

.popupItem {
  color: #333;
  text-decoration: none;
  font-size: 1.2em;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>CSSエディタ内を右クリックして「CSSの確認」を選択し、CSSコードの妥当性のチェックを実行します。エラーがあった場合は「出力」ウィンドウ(「ウィンドウ」&gt;「出力」)に表示されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>エディタで`index.html`ページに切り替え([Ctrl]-[Tab]を押します)、`&lt;head&gt;`タグの間にスタイル・シートへの参照を追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;link rel="stylesheet" type="text/css" href="stylesheet.css"&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>アプリケーションをもう一度実行します。インデックス・ページが、作成したスタイル・シートを使用してブラウザに表示されます。文字を入力するたびに非同期のリクエストがサーバーに送信され、`autocomplete.php`によって作成されたXMLデータが返されます。さらに文字を入力すると、新しい一致リストを反映して作曲家の名前の数が減ります。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">まとめ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>これでAjax入門を終了します。ここでは、Ajaxは単にHTTPを使用してバックグラウンドで情報を交換し、その結果に基づいてページを動的に更新していることを学習しました。</p>
</div>
<div class="paragraph">
<p>ここでビルドしたアプリケーションは、オートコンプリート・ボックスで作曲家の名前を選択しても何も起こらないなど、完全ではありません。<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">サンプル・アプリケーションをダウンロード</a>すると、PHPテクノロジを使用して、これを実装する方法を確認できます。また、ユーザーがデータ・ストアにない名前をリクエストしないように検証する方法を検討することもできます。これらの手法については、<a href="../../trails/php.html">NetBeansのPHPの学習</a>にある他のチュートリアルで紹介しています。</p>
</div>
<div class="paragraph">
<p>link:/about/contact_form.html?to=3&amp;subject=Feedback: Introduction to Ajax (PHP)[ご意見をお寄せください]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seeAlso">関連項目</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://netbeans.org/">netbeans.org</a>でのAjaxおよびPHPテクノロジの詳細は、次のリソースを参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="wish-list-tutorial-main-page.html">PHPを使用するウィッシュ・リストCRUDアプリケーションの作成</a>。IDEでのPHPのサポートを使用してCRUDアプリケーションを作成する方法を説明する、9つのステップのチュートリアルです。</p>
</li>
<li>
<p><a href="../../docs/web/js-toolkits-jquery.html">jQueryを使用した、Webページの見た目と使いやすさの向上</a>。jQueryコアおよびUIライブラリをNetBeansプロジェクトに統合する方法について説明しています。</p>
</li>
<li>
<p><a href="../../docs/web/js-toolkits-dojo.html">JSONを使用したDojoツリーのArrayListへの接続</a>。JavaOneハンズオン・ラボに基づいて、このドキュメントではDojoツリー・ウィジェットをWebページに統合する方法や、サーバー側からJSON形式でツリー・リクエストにレスポンスできるようにする方法について説明しています。</p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/ajax-quickstart_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
