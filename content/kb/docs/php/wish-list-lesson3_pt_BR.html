
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Lição 3: Criando um Novo Usuário de Aplicação</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lição 3: Criando um Novo Usuário de Aplicação - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Lição 3: Criando um Novo Usuário de Aplicação">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="/download/nb19/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Lição 3: Criando um Novo Usuário de Aplicação</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-lesson3_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_código_fonte_da_aplicação_da_lição_anterior">Código-fonte da Aplicação da Lição Anterior</a></li>
<li><a href="#_adicionando_um_link_para_começar_a_criar_um_novo_wisher">Adicionando um Link para Começar a Criar um Novo Wisher</a></li>
<li><a href="#_criando_novas_páginas_web_de_php">Criando Novas Páginas Web de PHP</a></li>
<li><a href="#_adicionando_um_form_html_para_inserir_os_dados_de_um_novo_wisher">Adicionando um Form HTML para Inserir os Dados de um Novo Wisher</a>
<ul class="sectlevel2">
<li><a href="#_validando_dados_e_adicionando_os_ao_banco_de_dados">Validando Dados e Adicionando-os ao Banco de Dados</a></li>
</ul>
</li>
<li><a href="#_exibindo_mensagens_de_erro_no_form_de_entrada">Exibindo Mensagens de Erro no Form de Entrada</a>
<ul class="sectlevel2">
<li><a href="#_testando_a_funcionalidade_da_criação_do_novo_wisher">Testando a Funcionalidade da Criação do Novo Wisher</a></li>
</ul>
</li>
<li><a href="#_o_código_fonte_da_aplicação_após_a_lição_atual_está_concluído">O código-fonte da Aplicação após a Lição Atual está Concluído</a></li>
<li><a href="#_próximas_etapas">Próximas Etapas</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Nesta lição, você expande a aplicação com a funcionalidade Criar um Novo Wisher.</p>
</div>
<div class="paragraph">
<p>A implementação afetará o arquivo index.php e os dois novos arquivos criados se chamarão  <code>createNewWisher.php</code>  e  <code>editWishList.php</code> .</p>
</div>
<div class="paragraph">
<p>O caso de uso Criar um Novo Wisher consiste em três etapas:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#addLinkNewWisher">O usuário abre a página inicial index.php e clica no link para registrar</a>.</p>
</li>
<li>
<p><a href="#implementCreateNewWisher">O usuário alterna para a página createNewWisher.php para criar um novo wisher</a>.</p>
</li>
<li>
<p>Após criar um novo wisher, o usuário alterna para editWishList.php, onde ele criará uma lista de desejos para o usuário.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/page-flow-diagram-l3.png" alt="page flow diagram l3">
</div>
</div>
<div class="paragraph">
<p>O documento atual é uma parte do tutorial Criando uma Aplicação de Banco de Dados no NetBeans IDE para PHP.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_código_fonte_da_aplicação_da_lição_anterior">Código-fonte da Aplicação da Lição Anterior</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Usuários MySQL: clique <a href="https://netbeans.org/files/documents/4/1928/lesson2.zip">aqui</a> para fazer o download do código-fonte que reflete o estado do projeto depois que a lição anterior estiver concluída.</p>
</div>
<div class="paragraph">
<p>Usuários do Banco de Dados Oracle: clique <a href="https://netbeans.org/projects/www/downloads/download/php%252Foracle-lesson2.zip">aqui</a> para fazer o download do código-fonte que reflete o estado do projeto depois que a lição anterior estiver concluída.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adicionando_um_link_para_começar_a_criar_um_novo_wisher">Adicionando um Link para Começar a Criar um Novo Wisher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Abra o  <code>index.php</code> . Adicione uma linha em branco abaixo da tag de fechamento &lt;/form&gt;. Na linha em branco, insira o seguinte bloco de código:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html"> &lt;br&gt;Still don't have a wish list?! &lt;a href="createNewWisher.php"&gt;Create now&lt;/a&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No qual:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Ainda não tem uma lista de desejos?! </code>  é o texto exibido na página ao lado do link.</p>
</li>
<li>
<p><code>&lt;a href="createNewWisher.php"&gt;&lt;/a&gt;</code>  é o código que implementa um link que abre a página createNewWisher.php.</p>
</li>
<li>
<p><code>Criar agora</code>  é o texto que será exibido como um link.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_novas_páginas_web_de_php">Criando Novas Páginas Web de PHP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Crie duas novas páginas web de PHP nos Arquivos de Código-fonte do projeto, como <a href="wish-list-lesson2.html#createNewFile">descrito</a> na Lição 2.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>createnewwisher.php</code></p>
</li>
<li>
<p><code>editWishList.php</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Em  <code>editWishList.php</code> , adicione o texto “Olá!" ao corpo do HTML, ou então, deixe-o com seu conteúdo default. Você modificará esse arquivo em lições posteriores, mas você precisa dele agora porque o  <code>createNewWisher.php</code>  faz referência a ele. Para o restante desta lição, você modificará o  <code>createNewWisher.php</code> .</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adicionando_um_form_html_para_inserir_os_dados_de_um_novo_wisher">Adicionando um Form HTML para Inserir os Dados de um Novo Wisher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Digite ou cole o seguinte bloco HTML no  <code>createNewWisher.php</code> , abaixo do bloco PHP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="content-type" content="text/html; charset=UTF-8"&gt;
        &lt;title&gt;&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;Welcome!&lt;br&gt;&lt;form action="createNewWisher.php" method="POST"&gt;Your name: &lt;input type="text" name="user"/&gt;&lt;br/&gt;Password: &lt;input type="password" name="password"/&gt;&lt;br/&gt;Please confirm your password: &lt;input type="password" name="password2"/&gt;&lt;br/&gt;&lt;input type="submit" value="Register"/&gt;&lt;/form&gt;&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
O tipo  <code>senha</code>  é um tipo especial de um campo de texto onde os caracteres são substituídos por asteriscos. O código apresenta um <a href="wish-list-lesson3.html#htmlForm">form HTML</a> para um usuário inserir o nome e a senha do novo wisher nos campos de texto. Quando o usuário clica no botão "Registrar", os dados inseridos são transferidos para validação na mesma página,  <code>createNewWisher.php</code> .
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
você pode ignorar as advertências do validador HTML.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_validando_dados_e_adicionando_os_ao_banco_de_dados">Validando Dados e Adicionando-os ao Banco de Dados</h3>
<div class="paragraph">
<p>Nesta seção, você adiciona o código PHP ao  <code>createNewWisher.php</code> . Adicione este código ao bloco PHP na parte superior do arquivo. O bloco PHP deve estar acima de <strong>todo</strong> o código HTML, linhas vazias ou espaço em branco. A posição do bloco do código PHP é importante para permitir o correto funcionamento da instrução de redirecionamento. No bloco PHP, digite ou cole os blocos de código descritos abaixo desta seção, na ordem em que eles são escritos.</p>
</div>
<div class="paragraph">
<p><strong>Adicione o código a seguir para validar os dados:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inicialize as variáveis. As primeiras variáveis passam as credenciais do banco de dados e as outras serão usadas nas operações PHP.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** database connection credentials */$dbHost="localhost"; //on MySql
$dbXeHost="localhost/XE"; $dbUsername="phpuser";$dbPassword="phpuserpw";

/** other variables */
$userNameIsUnique = true;
$passwordIsValid = true;
$userIsEmpty = false;
$passwordIsEmpty = false;
$password2IsEmpty = false;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abaixo das variáveis, adicione uma cláusula  <code>se </code> . O parâmetro da cláusula  <code>se</code>  verifica se a página foi solicitada a partir dela mesma usando o método POST. Caso contrário, as validações posteriores não são realizadas e a página é mostrada com campos vazios, como descrito acima.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER["REQUEST_METHOD"] == "POST") {

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dentro das chaves da cláusula  <code>se </code> , adicione outra cláusula  <code>se </code>  que verifica se o usuário preencheu o nome do wisher. Se o campo de texto "user" estiver vazio, o valor de  <code>$userIsEmpty</code>  será alterado para verdadeiro.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER["REQUEST_METHOD"] == "POST") {

/** Check whether the user has filled in the wisher's name in the text field "user" */    *
    if ($_POST["user"]=="") {
    $userIsEmpty = true;
    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione o código que estabelece uma conexão de banco de dados. Se não for possível estabelecer a conexão, o erro de MySQL ou Oracle OCI8 é enviado para a saída.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados MySQL:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER["REQUEST_METHOD"] == "POST") {

/** Check whether the user has filled in the wisher's name in the text field "user" */
    if ($_POST["user"]=="") {
        $userIsEmpty = true;
    }

    /** Create database connection */*$con = mysqli_connect($dbHost, $dbUsername, $dbPassword);
if (!$con) {
exit('Connect Error (' . mysqli_connect_errno() . ') '
. mysqli_connect_error());
}
//set the default client character set
mysqli_set_charset($con, 'utf-8');*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados Oracle:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER['REQUEST_METHOD'] == "POST") {

/** Check whether the user has filled in the wisher's name in the text field "user" */
    if ($_POST['user'] == "") {
        $userIsEmpty = true;
    }

    /** Create database connection */*$con = oci_connect($dbUsername, $dbPassword, $dbXeHost, "AL32UTF8");
    if (!$con) {
        $m = oci_error();
        exit('Connect Error' . $m['message']);

    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione o código que verifica se um usuário cujo nome corresponde ao campo "user" já existe. O código faz isso, tentando localizar o número do wisher ID para um nome correspondente ao nome no campo "user". Se houver tal número de ID, o valor de  <code>$userNameIsUnique</code>  é alterado para "false".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados MySQL:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER["REQUEST_METHOD"] == "POST") {

/** Check whether the user has filled in the wisher's name in the text field "user" */

    if ($_POST["user"]=="") {
        $userIsEmpty = true;
    }/** Create database connection */$con = mysqli_connect($dbHost, $dbUsername, $dbPassword);if (!$con) {exit('Connect Error (' . mysqli_connect_errno() . ') '. mysqli_connect_error());}*/**set the default client character set */
mysqli_set_charset($con, 'utf-8');*
   */** Check whether a user whose name matches the "user" field already exists */**mysqli_select_db($con, "wishlist");
    $user = mysqli_real_escape_string($con, $_POST["user"]);
$wisher = mysqli_query($con, "SELECT id FROM wishers WHERE name='".$user."'");
$wisherIDnum=mysqli_num_rows($wisher);
if ($wisherIDnum) {
$userNameIsUnique = false;
}*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados Oracle:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER['REQUEST_METHOD'] == "POST") {
/** Check whether the user has filled in the wisher's name in the text field "user" */
    if ($_POST['user'] == "") {
        $userIsEmpty = true;
    }
    /** Create database connection */$con = oci_connect($dbUsername, $dbPassword, $dbXeHost, "AL32UTF8");
    if (!$con) {
        $m = oci_error();
        exit('Connection Error ' . $m['message']);

    }

   */** Check whether a user whose name matches the "user" field already exists */*
    *$query = "SELECT id FROM wishers WHERE name = :user_bv";
    $stid = oci_parse($con, $query);
    $user = $_POST['user'];
    $wisherID = null;
    oci_bind_by_name($stid, ':user_bv', $user);
    oci_execute($stid);

// Each user name should be unique. Check if the submitted user already exists.
    $row = oci_fetch_array($stid, OCI_ASSOC);
    if ($row){
        $userNameIsUnique = false;
    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Com do código que verifica se o usuário sendo único, adicione uma série de cláusulas <code>se </code>  para verificar se o usuário inseriu e confirmou a senha corretamente. O código verifica se os campos Senha ("password") e Confirmar senha ('password2) não estão vazios no form e não são idênticos. Caso contrário, os valores das variáveis boolianas correspondentes são alterados de acordo.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">if ($_POST["password"]=="") {$passwordIsEmpty = true;
}if ($_POST["password2"]=="") {$password2IsEmpty = true;
}if ($_POST["password"]!=$_POST["password2"]) {$passwordIsValid = false;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete a cláusula  <code>se ($_SERVER['REQUEST_METHOD'] == "POST")</code>  adicionando o código que insere uma nova entrada no banco de dados "wishers". O código verifica se o nome do wisher é especificado exclusivamente e se a senha é indicada e confirmada validamente. Se as condições forem atendidas, o código pegará os valores "user" e "password" do form HTML e os inserirá nas colunas Nome e Senha, respectivamente, de uma nova linha no banco de dados wishers. Depois de criar a linha, o código fecha a conexão do banco de dados e redireciona a aplicação para a página  <code>editWishList.php</code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados MySQL:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER['REQUEST_METHOD'] == "POST") {
    /** Check whether the user has filled in the wisher's name in the text field "user" */
    if ($_POST['user'] == "") {
        $userIsEmpty = true;
    }

    /** Create database connection */
    $con = mysqli_connect($dbHost, $dbUsername, $dbPassword);
    if (!$con) {
        exit('Connect Error (' . mysqli_connect_errno() . ') '
                . mysqli_connect_error());
    }
    //set the default client character set
    mysqli_set_charset($con, 'utf-8');

    /** Check whether a user whose name matches the "user" field already exists */
    mysqli_select_db($con, "wishlist");
    $user = mysqli_real_escape_string($con, $_POST['user']);
    $wisher = mysqli_query($con, "SELECT id FROM wishers WHERE name='".$user."'");
    $wisherIDnum=mysqli_num_rows($wisher);
    if ($wisherIDnum) {
        $userNameIsUnique = false;
    }

    /** Check whether a password was entered and confirmed correctly */
    if ($_POST['password'] == "") {
        $passwordIsEmpty = true;
    }
    if ($_POST['password2'] == "") {
        $password2IsEmpty = true;
    }
    if ($_POST['password'] != $_POST['password2']) {
        $passwordIsValid = false;
    }

    /** Check whether the boolean values show that the input data was validated successfully.
     * If the data was validated successfully, add it as a new entry in the "wishers" database.
     * After adding the new entry, close the connection and redirect the application to editWishList.php.
     */
    *if (!$userIsEmpty &amp;amp;&amp;amp; $userNameIsUnique &amp;amp;&amp;amp; !$passwordIsEmpty &amp;amp;&amp;amp; !$password2IsEmpty &amp;amp;&amp;amp; $passwordIsValid) {
        $password = mysqli_real_escape_string($con, $_POST['password']);
        mysqli_select_db($con, "wishlist");
        mysqli_query($con, "INSERT wishers (name, password) VALUES ('" . $user . "', '" . $password . "')");
        mysqli_free_result($wisher);
        mysqli_close($con);
        header('Location: editWishList.php');
        exit;
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Para o banco de dados Oracle:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">/** Check that the page was requested from itself via the POST method. */
if ($_SERVER['REQUEST_METHOD'] == "POST") {

/** Check whether the user has filled in the wisher's name in the text field "user" */
    if ($_POST['user'] == "")
        $userIsEmpty = true;

    /** Create database connection */
    $con = oci_connect($dbUsername, $dbPassword, $dbXeHost, "AL32UTF8");
    if (!$con) {
        $m = oci_error();
        echo $m['message'], "\n";
        exit;
    }

    /** Check whether a user whose name matches the "user" field already exists */
    $query = "select ID from wishers where name = :user_bv";
    $stid = oci_parse($con, $query);
    $user = $_POST['user'];
    $wisherID = null;
    oci_bind_by_name($stid, ':user_bv', $user);
    oci_execute($stid);

/**Each user name should be unique. Check if the submitted user already exists. */
    $row = oci_fetch_array($stid, OCI_ASSOC);
    if ($row) {
    $wisherID = $row['ID'];
    }
    if ($wisherID != null) {
        $userNameIsUnique = false;
    }
    //Check for the existence and validity of the password
    if ($_POST['password'] == "") {
        $passwordIsEmpty = true;
    }
    if ($_POST['password2'] == "") {
        $password2IsEmpty = true;
    }
    if ($_POST['password'] != $_POST['password2']) {
        $passwordIsValid = false;
    }
    /** Check whether the boolean values show that the input data was validated successfully.
     * If the data was validated successfully, add it as a new entry in the "wishers" database.
     * After adding the new entry, close the connection and redirect the application to editWishList.php.
     */
    *if (!$userIsEmpty &amp;amp;&amp;amp; $userNameIsUnique &amp;amp;&amp;amp; !$passwordIsEmpty &amp;amp;&amp;amp; !$password2IsEmpty &amp;amp;&amp;amp; $passwordIsValid) {

        $query = "INSERT INTO wishers (name, password) VALUES (:user_bv, :pwd_bv)";
        $stid = oci_parse($con, $query);
        $pwd = $_POST['password'];
        oci_bind_by_name($stid, ':user_bv', $user);
        oci_bind_by_name($stid, ':pwd_bv', $pwd);
        oci_execute($stid);
        oci_free_statement($stid);
        oci_close($con);
        header('Location: editWishList.php');
        exit;
    }*
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exibindo_mensagens_de_erro_no_form_de_entrada">Exibindo Mensagens de Erro no Form de Entrada</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Agora você deve implementar a exibição das mensagens de erro quando os dados inseridos forem inválidos. A implementação é baseada nas validações e alterações nos valores das variáveis boolianas descritas em <a href="#validatinDataBeforeAddingToDatabase">Validando Dados e Adicionando-os ao Banco de Dados</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira o seguinte bloco de código PHP dentro do form de entrada HTML, abaixo da entrada do nome do wisher:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">Welcome!&lt;br&gt;&lt;form action="createNewWisher.php" method="POST"&gt;Your name: &lt;input type="text" name="user"/&gt;&lt;br/&gt;

*&lt;?php
    if ($userIsEmpty) {
        echo ("Enter your name, please!");
        echo ("&lt;br/&gt;");
    }
    if (!$userNameIsUnique) {
        echo ("The person already exists. Please check the spelling and try again");
        echo ("&lt;br/&gt;");
    }
    ?&gt; *</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira o seguinte bloco de código PHP dentro do form de entrada HTML abaixo do código da entrada de senha:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">Password: &lt;input type="password" name="password"/&gt;&lt;br/&gt;
*&lt;?php
 if ($passwordIsEmpty) {
     echo ("Enter the password, please!");
     echo ("&lt;br/&gt;");
 }
 ?&gt;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira os seguintes blocos de código PHP dentro do form de entrada HTML abaixo do código de confirmação de senha:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="php">Please confirm your password: &lt;input type="password" name="password2"/&gt;&lt;br/&gt;


*&lt;?php
 if ($password2IsEmpty) {
     echo ("Confirm your password, please");
     echo ("&lt;br/&gt;");
 }
 if (!$password2IsEmpty &amp;amp;&amp;amp; !$passwordIsValid) {
     echo  ("The passwords do not match!");
     echo ("&lt;br/&gt;");
 }
?&gt;*</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_testando_a_funcionalidade_da_criação_do_novo_wisher">Testando a Funcionalidade da Criação do Novo Wisher</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute a aplicação. A página de índice abre.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-php-3.png" alt="index php 3">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na página de índice, clique no link ao lado do texto Ainda não possui uma lista de desejos? O seguinte form abre:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-new-wisher-empty-form.png" alt="create new wisher empty form">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deixe estes campos em branco e clique em Registrar. Uma mensagem de erro é exibida</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-new-wisher-name-empty.png" alt="create new wisher name empty">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira o nome de um wisher registrado, por exemplo, Tom no campo Seu nome, preencha os outros campos corretamente e clique em Registrar. Uma mensagem de erro é exibida.</p>
</li>
<li>
<p>Preencha os campos Senha e Confirme sua senha com valores diferentes e clique em Registrar. Uma mensagem de erro é exibida.</p>
</li>
<li>
<p>Insira Bob no campo Seu nome, especifique a mesma senha em ambos os campos de senha e clique em Registrar. A página exibida está vazia, mas o redirecionamento foi passado corretamente já que o URL termina com editWishList.php:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/edit-wish-list-empty.png" alt="edit wish list empty">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Para verificar se os dados estão armazenados no banco de dados, vá para wishers na janela Serviços abaixo do nó wislist1 e no menu de contexto, selecione Visualizar Dados</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wishers.png" alt="wishers">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_o_código_fonte_da_aplicação_após_a_lição_atual_está_concluído">O código-fonte da Aplicação após a Lição Atual está Concluído</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Usuários do MySQL: clique <a href="https://netbeans.org/files/documents/4/1929/lesson3.zip">aqui</a> para fazer o download do código-fonte que reflete o estado do projeto depois que a lição estiver concluída.</p>
</div>
<div class="paragraph">
<p>Usuários de banco de dados Oracle: clique <a href="https://netbeans.org/projects/www/downloads/download/php%252Foracle-lesson3.zip">aqui</a> para fazer o download do código-fonte que reflete o estado do projeto depois que a lição estiver concluída.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_próximas_etapas">Próximas Etapas</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="wish-list-lesson2.html">&lt;&lt; Lição anterior</a></p>
</div>
<div class="paragraph">
<p><a href="wish-list-lesson4.html">Próxima lição &gt;&gt;</a></p>
</div>
<div class="paragraph">
<p><a href="wish-list-tutorial-main-page.html">Voltar à página principal do Tutorial</a></p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20PHP%20Wish%20List%20CRUD%203:%20Creating%20New%20User">Enviar Feedback neste Tutorial</a></p>
</div>
<div class="paragraph">
<p>Para enviar comentários e sugestões, obter suporte e manter-se informado sobre os desenvolvimentos mais recentes das funcionalidades de desenvolvimento PHP do NetBeans IDE, <a href="../../../community/lists/top.html">junte-se à lista de correspondência users@php.netbeans.org</a>.</p>
</div>
<div class="paragraph">
<p><a href="../../trails/php.html">Voltar à Trilha de Aprendizado PHP</a></p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/wish-list-lesson3_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
