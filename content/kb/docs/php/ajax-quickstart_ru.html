
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Введение в Ajax для веб-приложений PHP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Введение в Ajax для веб-приложений PHP - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Введение в Ajax для веб-приложений PHP">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans (incubating)</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/nb100/nb100.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate" style='margin-bottom: 2em'>
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Just released!</div>
            <h1>Apache NetBeans 10.0</h1>
            <p><a class="button success" href="/download/nb100/nb100.html">Read more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#overview">Обзор приложения</a></li>
<li><a href="#client1">Программирование на стороне клиента: часть 1</a>
<ul class="sectlevel2">
<li><a href="#html">Работа с редактором HTML</a></li>
<li><a href="#javascript">Работа с редактором JavaScript</a></li>
</ul>
</li>
<li><a href="#serverside">Программирование на стороне сервера</a>
<ul class="sectlevel2">
<li><a href="#data">Создание хранилища данных</a></li>
<li><a href="#business">Создание бизнес-логики</a></li>
</ul>
</li>
<li><a href="#client2">Программирование на стороне клиента: часть 2</a>
<ul class="sectlevel2">
<li><a href="#callback">Добавление функциональных возможностей обратного вызова</a></li>
<li><a href="#htmldom">Обновление модели DOM HTML</a></li>
<li><a href="#stylesheet">Присоединение таблицы стилей</a></li>
</ul>
</li>
<li><a href="#conclusion">Заключение</a></li>
<li><a href="#seeAlso">Дополнительные сведения</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>В этом документе содержится введение в Ajax и описываются некоторые из функций в IDE NetBeans, позволяющий сделать программирование более быстрым и более эффективным процессом при работе с технологиями, связанными с Ajax. На примере низкоуровневых функциональных возможностей Ajax продемонстрирована разработка простого приложения с функцией автозаполнения текстового поля. В документе использованы материалы статьи Грега Мюррея (Greg Murray) и демонстрационное приложение из руководства <a href="http://weblogs.java.net/blog/gmurray71/archive/2005/12/using_ajax_with_1.html">Использование Ajax при помощи технологии Java</a>.</p>
</div>
<div class="paragraph">
<p>Ajax – это аббревиатура, означающая "Асинхронный JavaScript и XML" (Asynchronous JavaScript and XML). Основное назначение Ajax состоит в предоставлении веб-приложению возможности эффективной обработки взаимодействия между пользователем и веб-страницей, при этом значительно снижаются требования к обновлению или полной перезагрузке страницы при каждом взаимодействии с пользователем. Такой подход предоставляет широкие возможности при использовании браузера (аналогичные возможностям настольного приложения или веб-приложения на основе подключаемого модуля). Обработка взаимодействия Ajax осуществляется асинхронно в фоновом режиме. Благодаря этому пользователь может продолжать работу со страницей. Взаимодействие Ajax инициируется посредством кода JavaScript. После выполнения взаимодействия Ajax код JavaScript обновляет исходный текст HTML для страницы. Изменения вносятся немедленно без необходимости обновления страницы. Взаимодействия Ajax могут использоваться для выполнения таких задач, как проверка правильности формата вводимых записей на основе серверной логики (непосредственно во время их ввода пользователем), извлечение подробных данных из сервера, динамическое обновление данных на странице и передача элементов форм страницы.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0</div>
</div>
<div class="paragraph">
<p><strong>Для работы с этим учебным курсом требуются программное обеспечение и ресурсы, перечисленные ниже.</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Программное обеспечение или материал</th>
<th class="tableblock halign-left valign-top">Требуемая версия</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans, комплект PHP</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7 или 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.php.net/downloads.php">Механизм PHP</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://httpd.apache.org/download.cgi">Веб-сервер Apache</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Примечания</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Настройка среды разработки PHP часто осуществляется с использованием пакета *AMP в зависимости от операционной системы. В частности, это относится к механизму PHP и веб-серверу Apache. Указания по настройке среды приведены в <a href="../../trails/php.html">учебной карте по PHP</a>.</p>
</li>
<li>
<p>При этом предполагается, что читатель обладает практическими знаниями в области различных используемых технологий (т.е. HTML, CSS, JavaScript и PHP). В этом документе приведен обзор функциональных возможностей, предоставляемых кодом, однако он <em>не содержит</em> каких-либо пояснений относительно кода на более детальном уровне.</p>
</li>
<li>
<p>Если необходимо сравнить проект с работающим решением, можно <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">загрузить демонстрационное приложение</a>. Использование мастер создания проектов IDE (Ctrl-Shift-N; ⌘-Shift-N в Mac) и выберите тип проекта 'PHP с существующими источниками'. В мастере укажите место на компьютере, куда был загружен исходный код.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">Обзор приложения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Предположим, что существует веб-страница, на которой пользователь может выполнять поиск информации о композиторах. Эта страница содержит поле, в которое вводится имя композитора. В примере приложения для поля ввода может использоваться функция автозавершения. Другими словами, пользователь может ввести часть имени композитора, после чего веб-приложение предложит варианты полного имени, перечислив всех композиторов, чьи имена или фамилии начинаются с введенных символов. Таким образом, пользователь может не помнить полное имя композитора, однако функция автозавершения обеспечит быстрый интуитивный доступ к требуемой информации.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sample-app.png" alt="sample app">
</div>
<div class="title">Figure 2. Образец приложения отображается в браузере</div>
</div>
<div class="paragraph">
<p>Реализация функции автозавершения в поле поиска может служить примером возможностей, предоставляемых Ajax. Ajax использует объект <code>XMLHttpRequest</code> для асинхронной передачи запросов и ответов между клиентом и сервером. На следующем рисунке представлена блок-схема операций связи, происходящих между клиентом и сервером.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ajax-process-flow.png" alt="ajax process flow">
</div>
<div class="title">Figure 3. Диаграма потоков процессов Ajax</div>
</div>
<div class="paragraph">
<p>Для описания потока операций на блок-схеме можно использовать следующие действия.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Пользователь инициирует событие, например, отпускает клавишу при наборе имени. Это приводит к вызову функции JavaScript, которая инициализирует объект <code>XMLHttpRequest</code>.</p>
</li>
<li>
<p>Объект <code>XMLHttpRequest</code> настроен с учетом параметра запроса, который включает идентификатор элемента управления, инициировавшего событие, а также произвольное значение, введенное пользователем. Затем объект <code>XMLHttpRequest</code> выполняет асинхронный запрос к веб-серверу.</p>
</li>
<li>
<p>На веб-сервере осуществляется обработка этого запроса с использованием соответствующего объекта, например сервлета или прослушивающего процесса. Из хранилища данных извлекаются необходимые данные и подготавливается ответ, содержащий данные в форме документа XML.</p>
</li>
<li>
<p>Наконец, объект <code>XMLHttpRequest</code> получает данные XML с использованием функции ответного вызова, выполняет их обработку и обновляет модель DOM (Document Object Model, объектная модель документов) HTML для отображения страницы, содержащей новые данные.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В данном учебном курсе описан способ создания варианта автозаполнения путем выполнения потока операций процесса, показанного на рисунке выше. Сначала на стороне клиента создаются файлы для страницы представления данных и функции, необходимые для генерации объекта <code>XMLHttpRequest</code>. Затем выполняется настройка на стороне сервера, заключающаяся в создании хранилища данных и бизнес-логики с использованием технологий на основе PHP. Наконец, на стороне клиента реализуется функция обратного вызова <code>callback()</code> и другие функциональные возможности JavaScript, необходимые для обновления DOM HTML.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client1">Программирование на стороне клиента: часть 1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сначала необходимо создать новый проект PHP в среде IDE.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите команду "Файл" &gt; "Новый проект". В области "Категории" выберите <strong>PHP</strong>. В области "Проекты" выберите <strong>Приложение PHP</strong> и нажмите кнопку <strong>Далее</strong>.</p>
</li>
<li>
<p>На втором экране "Имя и местоположение" назовите проект <code>MyAjaxApp</code>. Поле "Папка источников" позволяет определять местоположение проекта в системе. <strong>Для всех остальных параметров примите значения по умолчанию и нажмите кнопку "Далее".</strong>
image::images/php-name-location.png[title="Мастер создания проектов PHP - панель 'Имя и местоположение'"]</p>
</li>
<li>
<p>На третьем экране "Настройки выполнения" укажите способ развертывания приложения. Если среда разработки PHP формировалась путем настройки пакета <strong>AMP, необходимо выбрать в раскрывающемся списке пункт *Локальный веб-сайт</strong> и указать URL-адрес проекта, который должен использоваться в браузере.</p>
</li>
<li>
<p>Выберите параметр "Скопировать файлы из папки источников в другое расположение". Затем в поле "Скопировать в папку" введите путь к местоположению для развертывания на сервере. На сервере Apache по умолчанию используется каталог <code>htdocs</code>.</p>
</li>
</ol>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock left">
<div class="content">
<a class="image" href="images/php-run-config.png"><img src="images/php-run-config.png" alt="php run config"></a>
</div>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите кнопку <strong>Готово</strong>. Среда IDE создает папку проекта в файловой системе, после чего этот проект открывается в среде IDE.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Также можно использовать мастер проектов для добавления  в проект платформенной поддержки (предоставляется в действии 4 мастера проектов)</p>
</div>
<div class="paragraph">
<p>В редакторе среды IDE создается и открывается значение страницы <code>index.php</code> по умолчанию. Кроме того, проект появляется в окне "Проекты".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-proj-win.png" alt="php proj win">
</div>
<div class="title">Figure 4. В окне 'Проекты' отображается проект MyAjaxApp</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Перед написанием программы попробуйте запустить приложение в целях проверки правильности настройки взаимосвязи между средой IDE, сервером и браузером.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В редакторе среды IDE добавьте оператор <code>echo</code> к начальной странице:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php
    // put your code here
    *echo "&lt;h2&gt;Hello World!&lt;/h2&gt;";*
?&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Проекты" щелкните правой кнопкой мыши узел проекта и выберите команду "Выполнить". В среде IDE открывается браузер по умолчанию, и на экране появляется сообщение "Hello World", только что созданное в <code>index.php</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> При возникновении ошибок при настройке проекта или создании соединения между IDE, сервером и браузером более детальное описание см. в разделе <a href="project-setup.html">Настройка проекта PHP</a>. Дополнительные сведения относительно настройки среды содержатся в <a href="../../trails/php.html">учебной карте PHP</a>.</p>
</div>
<div class="sect2">
<h3 id="html">Работа с редактором HTML</h3>
<div class="imageblock">
<div class="content">
<img src="images/palette.png" alt="palette">
</div>
<div class="title">Figure 5. На палитре отображаются элементы HTML</div>
</div>
<div class="paragraph">
<p>Теперь, после выполнения проверки правильности настройки среды, можно приступить к преобразованию страницы-указателя в интерфейс автозаполнения, который будет отображаться для пользователей. Поскольку для страницы-указателя не требуются сценарии на стороне сервера, начните с создания страницы HTML и установки ее в качестве точки входа приложения.</p>
</div>
<div class="paragraph">
<p>Одним из преимуществ использования среды IDE является то, что используемый редактор обеспечивает возможность применения функции автозавершения кода, что позволяет опытным пользователям значительно увеличить свою производительность при написании кода. Редактор среды IDE, как правило, обеспечивает адаптацию к применяемой технологии. Таким образом, при работе со страницей HTML нажатие сочетания клавиш автозавершения кода (CTRL+ПРОБЕЛ) приводит к тому, что пользователю предлагаются варианты тегов HTML и атрибутов. Далее мы увидим, что то же самое справедливо и для других технологий, например, CSS и JavaScript.</p>
</div>
<div class="paragraph">
<p>Вторым важным преимуществом является возможность использования палитры в среде IDE. Эта палитра предоставляет удобные в работе шаблоны для элементов, часто используемых в технологиях программирования. Необходимо просто выбрать отдельный элемент и перетащить его в определенное место файла, открытого в редакторе исходного кода.</p>
</div>
<div class="paragraph">
<p>Для отображения крупных значков (как в примере) необходимо щелкнуть палитру правой кнопкой мыши и выбрать пункт "Отображать крупные значки".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Проекты" щелкните правой кнопкой мыши узел проекта <code>MyAjaxApp</code> и выберите в меню "Создать" пункт "Файл HTML".</p>
</li>
<li>
<p>В мастере создания файла HTML введите имя файла <code>index</code>, затем нажмите кнопку <strong>Готово</strong>. В редакторе открывается созданный файл <code>index.html</code>.</p>
</li>
<li>
<p>Замените содержимое файла на следующее:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;

&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
        &lt;title&gt;Auto-Completion using AJAX&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Auto-Completion using AJAX&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для описания назначения текстового поля следует добавить соответствующий пояснительный текст. Непосредственно под тегами <code>&lt;h1&gt;</code> можно скопировать и вставить следующий текст:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">&lt;p&gt;This example shows how you can do real time auto-completion using Asynchronous
    JavaScript and XML (Ajax) interactions.&lt;/p&gt;

&lt;p&gt;In the form below enter a name. Possible names that will be completed are displayed
    below the form. For example, try typing in "Bach," "Mozart," or "Stravinsky,"
    then click on one of the selections to see composer details.&lt;/p&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте к странице форму HTML. Для этого можно использовать элементы, содержащиеся в палитре среды IDE. Если палитра не открыта, выберите в главном меню "Окно" &gt; "Палитра". Затем перейдите к узлу "Формы HTML", выберите элемент "Форма" и перетащите его на страницу под только что добавленные теги <code>&lt;p&gt;</code>. Появится диалоговое окно "Вставить форму". Введите следующее:</p>
<div class="ulist">
<ul>
<li>
<p>Action: response.jsp;</p>
</li>
<li>
<p>Method: GET;</p>
</li>
<li>
<p>Имя: autofillform
image::images/php-insert-form.png[title="Диалоговое окно 'Вставить форму'"]</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Нажмите кнопку "ОК". Теги HTML <code>&lt;form&gt;</code> вставляются в страницу, содержащую указанные атрибуты. (Метод GET применяется по умолчанию, и, следовательно, не объявляется явно).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте к странице таблицу HTML. В категории палитры "HTML" выберите элемент "Таблица" и перетащите его непосредственно под теги <code>&lt;form&gt;</code>. Откроется диалоговое окно "Вставить таблицу". Введите следующее:</p>
<div class="ulist">
<ul>
<li>
<p>Рядов : 2</p>
</li>
<li>
<p>Столбцов : 2</p>
</li>
<li>
<p>Размер границы : 0</p>
</li>
<li>
<p>Ширина: 0</p>
</li>
<li>
<p>Интервал между ячейками: 0</p>
</li>
<li>
<p>Заполнение ячеек: 5
image::images/insert-table.png[title="Диалоговое окно 'Вставить таблицу'"]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Щелкните правой кнопкой мыши редактор исходного кода и выберите команду "Форматировать". Последует выравнивание кода. Теперь форма должна выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;form name="autofillform" action="autocomplete.php"&gt;
  &lt;table border="0" cellpadding="5"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;&lt;/th&gt;
        &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В первый столбец первой строки таблицы введите следующий текст (изменения выделены <strong>полужирным шрифтом</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;td&gt;*&lt;strong&gt;Composer Name:&lt;/strong&gt;*&lt;/td&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Во второй столбец первой строки вручную введите указанный ниже код (вместо перетаскивания поля "Ввод текста" из окна "Палитра").</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">&lt;input type="text"
    size="40"
    id="complete-field"
    onkeyup="doCompletion();"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>При вводе кода можно использовать встроенную в среду IDE функцию автозавершения кода. Например, введите <code>&lt;i</code>, а затем нажмите CTRL+ПРОБЕЛ. Список предлагаемых вариантов выбора отображается под курсором, а в расположенном выше поле появляется описание выбранного элемента. Для получения возможных вариантов выбора при написании кода достаточно в любой момент нажать в редакторе исходного кода сочетание клавиш CTRL+ПРОБЕЛ. Кроме того, при наличии единственного возможного варианта выбора нажатие CTRL+ПРОБЕЛ приведет к автоматическому завершению кода с использованием элемента с этим именем.
image::images/code-completion.png[title="Нажатие Ctrl-Space инициирует автозавершение кода в редакторе исходного кода"]
Атрибут <code>onkeyup</code>, введенный выше, указывает на функцию JavaScript с именем <code>doCompletion()</code>. Эта функция вызывается при каждом нажатии клавиши в текстовом поле формы и соответствует вызову JavaScript на приведенной выше <a href="#flow-diagram">блок-схеме</a> Ajax.
10. Перед переходом к работе с редактором JavaScript, замените файлом <code>index.html</code> файл <code>index.php</code> в качестве точки входа приложения.</p>
</div>
<div class="paragraph">
<p>Щелкните правой кнопкой мыши узел проекта в окне "Проекты" и выберите команду "Свойства". Выберите категорию <strong>Конфигурация выполнения</strong>, затем введите <code>index.html</code> в поле 'Файл индекса'. image::images/php-entry-point.png[title="Укажите точку входа приложения в окне 'Свойства проекта'"]
11. Нажмите кнопку "ОК" для подтверждения изменений и закройте окно "Свойства проекта".
12. Выполните проект и посмотрите, как он выглядит в браузере. Нажмите кнопку 'Запустить проект' ( image::images/run-project-btn.png[] ). Файл <code>index.html</code> открывается в браузере по умолчанию.
image::images/index-page.png[title="Выполните проект для просмотра его текущего состояния в браузере"]</p>
</div>
</div>
<div class="sect2">
<h3 id="javascript">Работа с редактором JavaScript</h3>
<div class="paragraph">
<p>Редактор JavaScript в среде IDE предоставляет целый ряд расширенных возможностей редактирования, таких как интеллектуальное автозавершение кода, семантическое выделение, быстрое переименование, возможности переработки и многие другие функции. Дополнительные сведения о функциях редактирования JavaScript в среде IDE см. в разделе <a href="http://docs.oracle.com/cd/E50453_01/doc.80/e50452/dev_html_apps.htm#BACFIFIG">Создание файлов JavaScript</a> <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG">Руководства пользователя по разработке приложений в IDE NetBeans</a>. Подробную спецификацию см. по адресу <a href="http://wiki.netbeans.org/JavaScript">http://wiki.netbeans.org/JavaScript</a>.</p>
</div>
<div class="paragraph">
<p>Возможность автозавершения кода JavaScript автоматически предоставляется при кодировании в файлах <code>.js</code>, а также внутри тегов <code>&lt;script&gt;</code> и при работе с другими технологиями (например, HTML, RHTML, JSP, PHP). При использовании редактора JavaScript среда IDE предоставляет информацию о совместимости с браузерами в зависимости от типов и версий браузеров, указанных на экране "JavaScript Options". Откройте экран "ПараметрыJavaScript", выбрав "Сервис" &gt; "Параметры" ("NetBeans" &gt; "Параметры для Mac"), а затем – "Разное" &gt; "JavaScript".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/php-javascript-options.png" alt="php javascript options">
</div>
<div class="title">Figure 6. Панель 'Параметры' JavaScript</div>
</div>
<div class="paragraph">
<p>Среда IDE предоставляет встроенные возможности поддержки для Firefox, Internet Explorer, Safari и Opera. На экране "Параметры JavaScript" можно также указать версию механизма JavaScript, по отношению к которой применяется автозавершение кода.</p>
</div>
<div class="paragraph">
<p>Добавьте файл JavaScript к приложению и выполните <code>doCompletion()</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Проекты" щелкните правой кнопкой мыши узел проекта и выберите "Создать" &gt; "Файл JavaScript". (Если файл JavaScript отсутствует в списке, выберите "Прочее". Затем выберите файл JavaScript из категории "Web" мастера создания файла.</p>
</li>
<li>
<p>Назовите файл <code>javascript</code> и нажмите кнопку "Готово". Новый файл JavaScript появится в окне "Проекты" и может быть открыт в редакторе.</p>
</li>
<li>
<p>Введите приведенный ниже код в файл <code>javascript.js</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">var req;
var isIE;

function init() {
    completeField = document.getElementById("complete-field");
}

function doCompletion() {
        var url = "autocomplete.php?action=complete&amp;amp;id=" + escape(completeField.value);
        req = initRequest();
        req.open("GET", url, true);
        req.onreadystatechange = callback;
        req.send(null);
}

function initRequest() {
    if (window.XMLHttpRequest) {
        if (navigator.userAgent.indexOf('MSIE') != -1) {
            isIE = true;
        }
        return new XMLHttpRequest();
    } else if (window.ActiveXObject) {
        isIE = true;
        return new ActiveXObject("Microsoft.XMLHTTP");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>С помощью этого кода выполняется простая проверка совместимости веб-браузеров Firefox 3 и Internet Explorer версий 6 и 7). Если требуется добавить более надежный код, устраняющий ошибки совместимости, используйте <a href="http://www.quirksmode.org/js/detect.html">сценарий для определения браузера</a> с веб-сайта <a href="http://www.quirksmode.org">http://www.quirksmode.org</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Вернитесь к <code>index.php</code> и добавьте справочную информацию в файл JavaScript между тегами <code>&lt;head&gt;</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;script type="text/javascript" src="javascript.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для быстрого перехода между страницами, открытыми в редакторе, можно воспользоваться сочетанием клавиш CTRL+TAB.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Вставьте вызов <code>init()</code> после открывающего тега <code>&lt;body&gt;</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">&lt;body *onload="init()"*&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Это обеспечит выполнение вызова <code>init()</code> при каждой загрузке страницы.</p>
</div>
<div class="paragraph">
<p>Роль <code>doCompletion()</code> состоит в следующем:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>создание URL-адреса к местоположению, содержащему данные, которые могут использоваться на стороне сервера;</p>
</li>
<li>
<p>инициализация объекта <code>XMLHttpRequest</code>;</p>
</li>
<li>
<p>запрос объекта <code>XMLHttpRequest</code> для передачи асинхронного запроса в сервер.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Объект <code>XMLHttpRequest</code> является основным объектом Ajax и своего рода фактическим стандартным решением для обеспечения асинхронной передачи данных XML по HTTP. <em>Асинхронное</em> взаимодействие подразумевает возможность продолжения обработки браузером событий на странице даже после передачи запроса. Данные передаются в фоновом режиме и могут автоматически загружаться на страницу без необходимости ее обновления.</p>
</div>
<div class="paragraph">
<p>Следует отметить, что объект <code>XMLHttpRequest</code> фактически создается с помощью функции <code>initRequest()</code>, которая вызывается функцией <code>doCompletion()</code>. Эта функция позволяет выполнять проверку возможности распознавания браузером запроса <code>XMLHttpRequest</code>, и – в случае положительного ответа – создавать объект <code>XMLHttpRequest</code>. В противном случае, с ее помощью выполняется проверка на <code>ActiveXObject</code> (<code>XMLHttpRequest</code> для Internet Explorer 6), и если результат идентификации является положительным, создается <code>ActiveXObject</code>.</p>
</div>
<div class="paragraph">
<p>При создании объекта необходимо определить три параметра <code>XMLHttpRequest</code>: URL-адрес, метод HTTP (<code>GET</code> или <code>POST</code>) и допустимость использования асинхронного взаимодействия. В вышеупомянутом примере эти параметры определяются следующим образом:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>URL-адрес <code>autocomplete.php</code> и текст, введенный пользователем в поле <code>complete-field</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">var url = "autocomplete.php?action=complete&amp;amp;id=" + escape(completeField.value);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GET</code> означает, что взаимодействия HTTP используют метод <code>GET</code>;</p>
</li>
<li>
<p><code>true</code> означает, что взаимодействие является асинхронным:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">req.open("GET", url, true);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если взаимодействие определено как асинхронное, необходимо указать функцию обратного вызова. Функция обратного вызова для этого взаимодействия определяется при помощи следующего оператора:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">req.onreadystatechange = callback;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем следует определить функцию <code>callback()</code>. Взаимодействие HTTP инициируется при вызове <code>XMLHttpRequest.send()</code>. Это действие соответствует запросу HTTP, который передается на веб-сервер (см. представленную выше блок-схему).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="serverside">Программирование на стороне сервера</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IDE NetBeans обеспечивает комплексную поддержку для веб-разработок с помощью PHP. Существует возможность настройки среды разработки с использованием пакета *AMP, что позволяет ускорить и упростить редактирование и развертывание в среде IDE. В среде IDE можно настроить окружение с локальным сервером, а также с удаленным, с помощью FTP или SFTP. Также в окне "Параметры PHP" среды IDE можно настроить внешний отладчик, например, <a href="http://xdebug.org/">Xdebug</a>, и настроить тестирование модулей с помощью <a href="http://www.phpunit.de/">PHPUnit</a>. Выберите в меню "Сервис" пункт "Параметры"; в меню "NetBeans" пункт "Параметры" в Mac OS, а затем переключитесь на вкладку "PHP". Редактор PHP предоставляет стандартные возможности редактирования, такие как автозавершение кода, выделение синтаксиса, выделение случаев использования, переработка, шаблоны кода, всплывающие окна документации, переходы по коду, предупреждения редактора, а в версии NetBeans 6.9 - выделение ошибок синтаксиса. На странице <a href="../intro-screencasts.html">Видеокурсы и демонстрации NetBeans</a> предоставлены экранные демонстрации работы с PHP.</p>
</div>
<div class="paragraph">
<p>Для приложений, использующих базы данных, среда IDE обеспечивает всестороннюю поддержку практически всех основных баз данных, в частности MySQL. Для получения дополнительных сведений обратитесь к разделам <a href="../../articles/mysql.html">Демо-ролик MySQL NetBeans</a> и <a href="../../../features/ide/database.html">Интеграция базы данных</a>.</p>
</div>
<div class="paragraph">
<p>Бизнес-логика для формируемого приложения автозаполнения предполагает обработку запросов путем извлечения данных из хранилища данных, их последующую подготовку и передачу ответа. В данном случае эта концепция реализована с использованием файла PHP под именем <code>autocomplete</code>. Перед началом создания кода для файла необходимо настроить хранилище данных и функциональные возможности, требуемые для доступа к данным со стороны этого файла.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#data">Создание хранилища данных</a></p>
</li>
<li>
<p><a href="#business">Создание бизнес-логики</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="data">Создание хранилища данных</h3>
<div class="paragraph">
<p>В этом простом приложении будет создан класс <code>Composer</code>, позволяющий бизнес-логике получать данные из записей в массиве <code>composers</code>. Затем будет создан класс <code>ComposerData</code>, сохраняющий данные о композиторах с помощью массива.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Щелкните правой кнопкой мыши узел проекта в окне "Проекты" и выберите "Создать &gt; Класс PHP".</code></p>
</li>
<li>
<p>Назовите класс <code>Composer</code> и нажмите кнопку "Готово". Проект будет создан и открыт в редакторе.</p>
</li>
<li>
<p>Вставьте следующий код в класс (изменения помечены <strong>полужирным шрифтом</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php

class Composer {

    *public $id;
    public $firstName;
    public $lastName;
    public $category;

    function __construct($id, $firstName, $lastName, $category) {
        $this-&gt;id = $id;
        $this-&gt;firstName = $firstName;
        $this-&gt;lastName = $lastName;
        $this-&gt;category = $category;
    }*
}

?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте класс <code>ComposerData</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Щелкните правой кнопкой мыши узел проекта в окне "Проекты" и выберите "Создать &gt; Класс PHP".</code></p>
</li>
<li>
<p>Назовите класс <code>ComposerData</code> и нажмите кнопку "Готово". Последует создание и открытие проекта в редакторе среды IDE.</p>
</li>
<li>
<p>Добавьте выражение <code>require</code> в начало класса, чтобы указать, что классу требуется только что созданный класс <code>Composer.php</code> (изменения выделены <strong>полужирным шрифтом</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php

*require "Composer.php";*

class ComposerData {

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Вставьте в класс в редакторе следующий код (изменения выделены <strong>полужирным шрифтом</strong>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php

require "Composer.php";

class ComposerData {

    *public $composers;

    function __construct() {
        $this-&gt;composers = array(
            new Composer("1", "Johann Sebastian", "Bach", "Baroque"),
            new Composer("2", "Arcangelo", "Corelli", "Baroque"),
            new Composer("3", "George Frideric", "Handel", "Baroque"),
            new Composer("4", "Henry", "Purcell", "Baroque"),
            new Composer("5", "Jean-Philippe", "Rameau", "Baroque"),
            new Composer("6", "Domenico", "Scarlatti", "Baroque"),
            new Composer("7", "Antonio", "Vivaldi", "Baroque"),

            new Composer("8", "Ludwig van", "Beethoven", "Classical"),
            new Composer("9", "Johannes", "Brahms", "Classical"),
            new Composer("10", "Francesco", "Cavalli", "Classical"),
            new Composer("11", "Fryderyk Franciszek", "Chopin", "Classical"),
            new Composer("12", "Antonin", "Dvorak", "Classical"),
            new Composer("13", "Franz Joseph", "Haydn", "Classical"),
            new Composer("14", "Gustav", "Mahler", "Classical"),
            new Composer("15", "Wolfgang Amadeus", "Mozart", "Classical"),
            new Composer("16", "Johann", "Pachelbel", "Classical"),
            new Composer("17", "Gioachino", "Rossini", "Classical"),
            new Composer("18", "Dmitry", "Shostakovich", "Classical"),
            new Composer("19", "Richard", "Wagner", "Classical"),

            new Composer("20", "Louis-Hector", "Berlioz", "Romantic"),
            new Composer("21", "Georges", "Bizet", "Romantic"),
            new Composer("22", "Cesar", "Cui", "Romantic"),
            new Composer("23", "Claude", "Debussy", "Romantic"),
            new Composer("24", "Edward", "Elgar", "Romantic"),
            new Composer("25", "Gabriel", "Faure", "Romantic"),
            new Composer("26", "Cesar", "Franck", "Romantic"),
            new Composer("27", "Edvard", "Grieg", "Romantic"),
            new Composer("28", "Nikolay", "Rimsky-Korsakov", "Romantic"),
            new Composer("29", "Franz Joseph", "Liszt", "Romantic"),

            new Composer("30", "Felix", "Mendelssohn", "Romantic"),
            new Composer("31", "Giacomo", "Puccini", "Romantic"),
            new Composer("32", "Sergei", "Rachmaninoff", "Romantic"),
            new Composer("33", "Camille", "Saint-Saens", "Romantic"),
            new Composer("34", "Franz", "Schubert", "Romantic"),
            new Composer("35", "Robert", "Schumann", "Romantic"),
            new Composer("36", "Jean", "Sibelius", "Romantic"),
            new Composer("37", "Bedrich", "Smetana", "Romantic"),
            new Composer("38", "Richard", "Strauss", "Romantic"),
            new Composer("39", "Pyotr Il'yich", "Tchaikovsky", "Romantic"),
            new Composer("40", "Guiseppe", "Verdi", "Romantic"),

            new Composer("41", "Bela", "Bartok", "Post-Romantic"),
            new Composer("42", "Leonard", "Bernstein", "Post-Romantic"),
            new Composer("43", "Benjamin", "Britten", "Post-Romantic"),
            new Composer("44", "John", "Cage", "Post-Romantic"),
            new Composer("45", "Aaron", "Copland", "Post-Romantic"),
            new Composer("46", "George", "Gershwin", "Post-Romantic"),
            new Composer("47", "Sergey", "Prokofiev", "Post-Romantic"),
            new Composer("48", "Maurice", "Ravel", "Post-Romantic"),
            new Composer("49", "Igor", "Stravinsky", "Post-Romantic"),
            new Composer("50", "Carl", "Orff", "Post-Romantic"),
        );
    }*
}

?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="business">Создание бизнес-логики</h3>
<div class="paragraph">
<p>Создайте сервлет для обработки URL-адреса <code>autocomplete</code>, получаемого при входящем запросе. Вместо создания нового файла PHP с помощью мастера создания файлов, как показано в прошлом разделе, измените для этой цели существующий файл <code>index.php</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Проекты" щелкните узел файла <code>index.php</code>. Появляется поле редактирования имени файла.
image::images/edit-file-name.png[title="Щелкните узлы файлов для редактирования имен"]</p>
</li>
<li>
<p>Назовите файл <code>autocomplete</code> и нажмите ENTER. Дважды щелкните файл <code>autocomplete.php</code>, чтобы открыть его в редакторе.</p>
</li>
<li>
<p>Замените код файла на следующий.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-php" data-lang="php">&lt;?php

require_once("ComposerData.php");

session_start();

$composerData = new ComposerData();
$composers = $composerData-&gt;composers;

$results = array();
$namesAdded = false;

// simple matching for start of first or last name, or both
if(isset($_GET['action']) &amp;amp;&amp;amp; $_GET['action'] == "complete") {
    foreach($composers as $composer) {
        if(!is_numeric($_GET['id']) &amp;amp;&amp;amp;

            // if id matches first name
            (stripos($composer-&gt;firstName, $_GET['id']) === 0 ||

            // if id matches last name
            stripos($composer-&gt;lastName, $_GET['id']) === 0) ||

            // if id matches full name
            stripos($composer-&gt;firstName." ".$composer-&gt;lastName, $_GET['id']) === 0) {

                $results[] = $composer;
        }
    }

    // prepare xml data
    if(sizeof($results) != 0) {
        header('Content-type: text/xml');
        echo "&lt;composers&gt;";
        foreach($results as $result) {
            echo "&lt;composer&gt;";
            echo "&lt;id&gt;" . $result-&gt;id . "&lt;/id&gt;";
            echo "&lt;firstName&gt;" . $result-&gt;firstName . "&lt;/firstName&gt;";
            echo "&lt;lastName&gt;" . $result-&gt;lastName . "&lt;/lastName&gt;";
            echo "&lt;/composer&gt;";
        }
        echo "&lt;/composers&gt;";
    }
}

// if user chooses from pop-up box
if(isset($_GET['action']) &amp;amp;&amp;amp; isset($_GET['id']) &amp;amp;&amp;amp; $_GET['action'] == "lookup") {
    foreach($composers as $composer) {
        if($composer-&gt;id == $_GET['id']) {
            $_SESSION ["id"] = $composer-&gt;id;
            $_SESSION ["firstName"] = $composer-&gt;firstName;
            $_SESSION ["lastName"] = $composer-&gt;lastName;
            $_SESSION ["category"] = $composer-&gt;category;

            header("Location: composerView.php");
        }
    }
}

?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>*Примечание. * Файл composerView.php в данном учебном курсе не описывается. Этот файл можно создать для просмотра итоговых результатов поиска. Образец файла включен в <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">образец приложения</a>.</p>
</div>
<div class="paragraph">
<p>Итак, создание кода на стороне сервера для обработки с использованием Ajax не требует каких-либо новых знаний. Для случаев, когда требуется обмен документами XML, тип содержимого ответа должен иметь значение <code>text/xml</code>. Кроме того, Ajax позволяет осуществлять обмен простыми текстами или даже фрагментами JavaScript, которые могут анализироваться или выполняться с использованием функции обратного вызова на стороне клиента. Обратите внимание на то, что некоторые браузеры могут кэшировать результаты, следовательно, может потребоваться установка заголовка HTTP "Cache-Control" на <code>no-cache</code>.</p>
</div>
<div class="paragraph">
<p>В этом примере файл <code>autocomplete.php</code> генерирует документ XML, содержащий всех композиторов, имя или фамилия которых начинается с введенных пользователем символов. Этот документ соответствует данным XML, описанным в приведенной выше блок-схеме. Ниже приведен пример документа XML, который возвращается в объект <code>XMLHttpRequest</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;composers&gt;
    &lt;composer&gt;
        &lt;id&gt;12&lt;/id&gt;
        &lt;firstName&gt;Antonin&lt;/firstName&gt;
        &lt;lastName&gt;Dvorak&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;45&lt;/id&gt;
        &lt;firstName&gt;Aaron&lt;/firstName&gt;
        &lt;lastName&gt;Copland&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;7&lt;/id&gt;
        &lt;firstName&gt;Antonio&lt;/firstName&gt;
        &lt;lastName&gt;Vivaldi&lt;/lastName&gt;
    &lt;/composer&gt;
    &lt;composer&gt;
        &lt;id&gt;2&lt;/id&gt;
        &lt;firstName&gt;Arcangelo&lt;/firstName&gt;
        &lt;lastName&gt;Corelli&lt;/lastName&gt;
    &lt;/composer&gt;
&lt;/composers&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="client2">Программирование на стороне клиента: часть 2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Следует определить функцию обратного вызова для обработки ответа сервера и добавить функциональные возможности, необходимые для отражения изменений на просматриваемой пользователем странице. В этом случае потребуется внести изменения в модель DOM HTML. Наконец, для добавления простой таблицы стилей к странице представления можно использовать редактор CSS среды IDE.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#callback">Добавление функциональных возможностей обратного вызова</a></p>
</li>
<li>
<p><a href="#htmldom">Обновление модели DOM HTML</a></p>
</li>
<li>
<p><a href="#stylesheet">Присоединение таблицы стилей</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="callback">Добавление функциональных возможностей обратного вызова</h3>
<div class="paragraph">
<p>Асинхронный вызов функции обратного вызова выполняется на определенных этапах взаимодействия HTTP – при изменении свойства <code>readyState</code> объекта <code>XMLHttpRequest</code>. В разрабатываемом приложении в качестве функции обратного вызова используется <code>callback()</code>. Следует помнить о том, что <code>callback</code> в <code>doCompletion()</code> была определена как свойство <code>XMLHttpRequest.onreadystatechange</code> для функции. Теперь можно реализовать функцию обратного вызова следующим образом.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Откройте <code>javascript.js</code> в редакторе и введите указанный ниже код.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function callback() {
    if (req.readyState == 4) {
        if (req.status == 200) {
            parseMessages(req.responseXML);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Значение "4" состояния <code>readyState</code> означает успешное выполнение взаимодействия HTTP. Интерфейс API для <code>XMLHttpRequest.readState</code> указывает на наличие 5 возможных значений, которые могут быть использованы при настройке. Это:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Значение <code>readyState</code></th>
<th class="tableblock halign-left valign-top">Определение состояния объекта</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">не инициализировано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">загрузка</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">загружено</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">интерактивный режим</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">выполнено</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Обратите внимание, что функция <code>parseMessages()</code> вызывается, только если <code>XMLHttpRequest.readyState</code> находится в состоянии "4", а <code>status</code> – определение кода состояния HTTP запроса – имеет значение "200", что указывает на успешное выполнение. Метод ` parseMessages()`будет определен далее в разделе <a href="#htmldom">Обновление модели DOM HTML</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="htmldom">Обновление модели DOM HTML</h3>
<div class="paragraph">
<p>Функция <code>parseMessages()</code> позволяет выполнять обработку входящих данных XML. При этом, в указанной функции используются несколько вспомогательных функций, например <code>appendComposer()</code>, <code>getElementY()</code> и <code>clearTable()</code>. Кроме того, необходимо ввести новые элементы для страницы-указателя, например, вторую таблицу HTML, которая служит в качестве поля автозавершения, и идентификаторы для элементов, обеспечивающие возможность вызова в <code>javascript.js</code>. Наконец, следует создать новые переменные, соответствующие идентификаторам элементов в <code>index.php</code>, инициализировать их в предварительно реализованной функции <code>init()</code> и добавить определенные функциональные возможности, используемые при каждой загрузке <code>index.php</code>.</p>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Функции и элементы, которые создаются в следующих действиях, являются взаимозависимыми. После выполнения рекомендаций, приведенных в этом разделе, необходимо выполнить тщательную проверку реализованного кода.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Откройте <code>index.php</code> в редакторе и введите указанный ниже код во вторую строку предварительно созданной таблицы HTML.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;tr&gt;
    *&lt;td id="auto-row" colspan="2"&gt;

    &lt;td/&gt;*
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эта строка с идентификатором &#8220;auto-row&#8221; служит меткой для кода JavaScript, который вставляет новую таблицу HTML для формирования окна автозавершения.
2. Откройте файл <code>javascript.js</code> в редакторе и добавьте к верхнему фрагменту файла следующие переменные.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">var completeField;
var completeTable;
var autoRow;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте следующие строки (выделенные <strong>полужирным шрифтом</strong>) к функции <code>init()</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function init() {
    completeField = document.getElementById("complete-field");
    *completeTable = document.createElement("table");
    completeTable.setAttribute("class", "popupBox");
    completeTable.setAttribute("style", "display: none");
    autoRow = document.getElementById("auto-row");
    autoRow.appendChild(completeTable);
    completeTable.style.top = getElementY(autoRow) + "px";*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Одна из целей <code>init()</code> состоит в обеспечении доступности элементов в <code>index.php</code> для других функций, используемых в целях изменения DOM страницы-указателя. Указанный выше сценарий создает новую <code>таблицу</code> HTML, добавляет класс <code>popupBox</code> и меняет стиль элемента на <code>display: none</code>. Наконец, он обращается к элементу с <code>id</code> <code>auto-row</code> и вставляет в него новую <code>таблицу</code>. Иными словами, измененный код HTML после выполнения кода выглядит следующим образом.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;tr&gt;
    &lt;td id="auto-row" colspan="2"&gt;
        *&lt;table class="popupBox" style="display: none"&gt;&lt;/table&gt;*
    &lt;td/&gt;
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте <code>appendComposer()</code> в <code>javascript.js</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function appendComposer(firstName,lastName,composerId) {

    var row;
    var cell;
    var linkElement;

    if (isIE) {
        completeTable.style.display = 'block';
        row = completeTable.insertRow(completeTable.rows.length);
        cell = row.insertCell(0);
    } else {
        completeTable.style.display = 'table';
        row = document.createElement("tr");
        cell = document.createElement("td");
        row.appendChild(cell);
        completeTable.appendChild(row);
    }

    cell.className = "popupCell";

    linkElement = document.createElement("a");
    linkElement.className = "popupItem";
    linkElement.setAttribute("href", "autocomplete.php?action=lookup&amp;amp;id=" + composerId);
    linkElement.appendChild(document.createTextNode(firstName + " " + lastName));
    cell.appendChild(linkElement);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эта функция позволяет создавать новую строку таблицы и вставлять в нее ссылку на композитора с использованием данных, передаваемых в функцию посредством соответствующих трех параметров, а затем вставлять эту строку в элемент <code>complete-table</code> страницы-указателя.
5. Добавьте <code>clearTable()</code> в <code>javascript.js</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function clearTable() {
    if (completeTable.getElementsByTagName("tr").length &gt; 0) {
        completeTable.style.display = 'none';
        for (loop = completeTable.childNodes.length -1; loop &gt;= 0 ; loop--) {
            completeTable.removeChild(completeTable.childNodes[loop]);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эта функция позволяет скрывать элемент <code>complete-table</code> (т.е. делать его невидимым), но не удаляет какие-либо существующие записи имен композиторов, созданные ранее.
6. Добавьте <code>getElementY()</code> в <code>javascript.js</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function getElementY(element){

    var targetTop = 0;

    if (element.offsetParent) {
        while (element.offsetParent) {
            targetTop += element.offsetTop;
            element = element.offsetParent;
        }
    } else if (element.y) {
        targetTop += element.y;
    }
    return targetTop;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Указанная функция применяется для определения вертикальной позиции исходного элемента. Это является необходимым, поскольку фактическое расположение элемента при его отображении часто зависит от типа и версии браузера. Следует отметить, что при отображении на экране элемент <code>complete-table</code>, содержащий имена композиторов, перемещается в нижнюю правую часть таблицы, в которой он расположен. Правильное расположение по высоте определяется <code>getElementY()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> См. <a href="http://www.quirksmode.org/js/findpos.html">это описание</a> <code>смещения</code> в <a href="http://www.quirksmode.org/">http://www.quirksmode.org/</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для вызова <code>clearTable()</code> при каждом получении данных с сервера можно соответствующим образом изменить функцию <code>callback()</code>. Поэтому любые скомбинированные записи, существующие в окне автозавершения, удаляются до того, как выполняется заполнение новыми записями.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function callback() {

    *clearTable();*

    if (req.readyState == 4) {
        if (req.status == 200) {
            parseMessages(req.responseXML);
        }
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте <code>parseMessages()</code> в <code>javascript.js</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">function parseMessages(responseXML) {

    // no matches returned
    if (responseXML == null) {
        return false;
    } else {

        var composers = responseXML.getElementsByTagName("composers")[0];

        if (composers.childNodes.length &gt; 0) {
            completeTable.setAttribute("bordercolor", "black");
            completeTable.setAttribute("border", "1");

            for (loop = 0; loop &lt; composers.childNodes.length; loop++) {
                var composer = composers.childNodes[loop];
                var firstName = composer.getElementsByTagName("firstName")[0];
                var lastName = composer.getElementsByTagName("lastName")[0];
                var composerId = composer.getElementsByTagName("id")[0];
                appendComposer(firstName.childNodes[0].nodeValue,
                    lastName.childNodes[0].nodeValue,
                    composerId.childNodes[0].nodeValue);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Функция <code>parseMessages()</code> получает в качестве параметра объектное представление документа XML, возвращаемое файлом <code>autocomplete.php</code>. С программной точки зрения, функция исследует документ XML и извлекает <code>firstName</code>, <code>lastName</code> и <code>id</code> каждой записи, а затем передает эти данные в <code>appendComposer()</code>. Это приводит к динамическому обновлению содержимого элемента <code>complete-table</code>. Например, запись, которая генерируется и вставляется в <code>complete-table</code>, может выглядеть следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;tr&gt;
    &lt;td class="popupCell"&gt;
        &lt;a class="popupItem" href="autocomplete?action=lookup&amp;amp;id=12"&gt;Antonin Dvorak&lt;/a&gt;
    &lt;/td&gt;
&lt;/tr&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Динамическое обновление элемента <code>complete-table</code> соответствует последнему этапу потока процесса передачи данных, который выполняется во время обмена данными на основе Ajax. Это обновление соответствует передаче данных HTML и CSS на страницу представления, как показано на приведенной выше <a href="#flow-diagram">блок-схеме</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="stylesheet">Присоединение таблицы стилей</h3>
<div class="paragraph">
<p>На данном этапе создан весь код, необходимый для реализации функциональных возможностей приложения. Теперь для проверки результатов следует попытаться запустить приложение.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните проект и посмотрите, как он выглядит в браузере. Нажмите кнопку 'Запустить проект' ( image::images/run-project-btn.png[] ). В браузере отображается файл <code>index.html</code>.
image::images/no-css.png[title="Успешное развертывание без таблицы стилей"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Для присоединения к приложению таблицы стилей достаточно просто создать файл .css и ссылку на этот файл со страниц представления. При работе с файлами CSS среда IDE предоставляет поддержку автозавершения кода, а также некоторые другие возможности для упрощения процесса создания правил таблицы стилей. В частности, это следующие возможности:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Конструктор стилей CSS:</strong> интерфейс, разработанный для создания правил с использованием определенного набора элементов управления и оформления. ("Окно &gt; Прочие&gt; Конструктор стилей CSS")</p>
</li>
<li>
<p>*"Предварительный просмотр CSS": *окно предварительного просмотра, в котором при помещении курсора внутри правила отображается стандартный текст, соответствующий блоку объявления этого правила. ("Окно &gt; Прочие&gt; Предварительный просмотр CSS")</p>
</li>
<li>
<p>*Редактор правил стиля: *диалоговое окно, позволяющее создавать правила на основе классов, идентификаторов и элементов HTML и определять их положение в иерархии документа. Кнопка ('Создать правило' ( image::images/style-rule-editor-btn.png[] ), расположенная в верхнем левом углу панели инструментов редактора CSS)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В среде IDE NetBeans 6.9 предоставляется поддержка функций "Реорганизация в связи с переименованием" и "Поиск использований". Эта поддержка доступна не только в файлах CSS, но и во всех файлах, содержащих внедренный код CSS (например, HTML и PHP). Классы CSS, идентификаторы и элементы типов могут реорганизовываться во всех файлах проекта. Для использования поддержки реорганизации нажмите сочетание клавиш CTRL+R внутри элемента CSS и в появившемся диалоговом окне выполните переименование. Перед переименованием можно выполнить предпросмотр изменений. Для использования поддержки поиска использований, щелкните элемент CSS правой кнопкой мыши и выберите пункт "Поиск использований". Подробности приведены в <a href="http://wiki.netbeans.org/wiki/index.php?title=NewAndNoteworthy69m1&amp;section=T-25#Web_Languages">NewAndNoteworthy69m1</a>.</p>
</div>
<div class="paragraph">
<p>Для присоединения таблицы стилей к приложению выполните следующие действия.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Проекты" щелкните правой кнопкой мыши узел проекта и выберите команду "Создать" &gt; "Каскадная таблица стилей". Если пункт "Каскадная таблица стилей" в списке отсутствует, выберите "Прочие". Затем выберите "Каскадная таблица стилей" из категории "Web" в мастере создания файла.</p>
</li>
<li>
<p>В текстовом поле "Имя файла CSS" введите <code>stylesheet</code>.</p>
</li>
<li>
<p>Нажмите кнопку "Завершить". Новый файл появится в окне "Проекты" и откроется в редакторе среды IDE.</p>
</li>
<li>
<p>В <code>stylesheet.css</code> введите следующие правила. При необходимости просмотра предложений можно использовать поддержку автозавершения кода среды IDE путем нажатия CTRL+ПРОБЕЛ.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">body {
   font-family: sans-serif;
   font-size: smaller;
   padding: 50px;
   color: #555;
   width: 650px;
}

h1 {
   letter-spacing: 6px;
   font-size: 1.6em;
   color: #be7429;
   font-weight: bold;
}

h2 {
   text-align: left;
   letter-spacing: 6px;
   font-size: 1.4em;
   color: #be7429;
   font-weight: normal;
   width: 450px;
}

table {
   width: 550px;
   padding: 10px;
   background-color: #c5e7e0;
}

td {
   padding: 10px;
}

a {
  color: #be7429;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.popupBox {
  position: absolute;
  top: 170px;
  left: 140px;
}

.popupCell {
   background-color: #fffafa;
}

.popupCell:hover {
  background-color: #f5ebe9;
}

.popupItem {
  color: #333;
  text-decoration: none;
  font-size: 1.2em;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Выполните проверку кода CSS, щелкнув редактор CSS правой кнопкой мыши и выбрав команду "Проверить CSS". В окне "Вывод" можно просмотреть все ошибки ("Окно" &gt; "Вывод").</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Перейдите к странице <code>index.php</code> в редакторе и добавьте справочную информацию в таблицу стилей между тегами <code>&lt;head&gt;</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">&lt;link rel="stylesheet" type="text/css" href="stylesheet.css"&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните проект еще раз. В браузере отображается страница-указатель с созданной таблицей стилей. При каждом вводе символа на сервер передается асинхронный запрос, который возвращается с данными XML, подготовленными при помощи <code>AutoCompleteServlet</code>. При вводе последующих символов количество вариантов имен композиторов уменьшается, и на экране появляется новый список соответствий.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Заключение</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Это заключительный раздел руководства "Введение в Ajax". Авторы полагают, что к настоящему времени у пользователей сформировалось четкое представление о том, каким образом Ajax поддерживает обмен информацией по HTTP в фоновом режиме и выполняет динамическое обновление страницы на основе полученных результатов.</p>
</div>
<div class="paragraph">
<p>Следует отметить, что разработанное приложение имеет ряд недостатков, например, при выборе имени композитора из поля автозавершения пользователь не получает какого-либо результата. Для получения дополнительных сведений о реализации подобного приложения с использованием технологии PHP <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FPHP%252FMyAjaxApp.zip">загрузите пример приложения</a>. Кроме того, существует возможность выполнения проверки достоверности в целях предотвращения запроса пользователем имени, не существующего в хранилище данных. Для более подробного ознакомления с этими приемами обратитесь к учебным курсам в <a href="../../trails/php.html">учебной карте по PHP NetBeans</a>.</p>
</div>
<div class="paragraph">
<p>link:/about/contact_form.html?to=3&amp;subject=Feedback: Introduction to Ajax (PHP)[Мы ждем ваших отзывов]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seeAlso">Дополнительные сведения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для получения дополнительных сведений о технологиях Ajax и PHP на <a href="https://netbeans.org/">netbeans.org</a> можно воспользоваться следующими материалами:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="wish-list-tutorial-main-page.html">Создание приложения "Wish List" типа CRUD с использованием технологии PHP</a>. Учебный курс из 9 этапов, в котором описано создание приложения типа CRUD с использованием поддержки PHP в среде IDE.</p>
</li>
<li>
<p><a href="../../docs/web/js-toolkits-jquery.html">Использование jQuery для улучшения внешнего вида веб-страницы и упрощения работы с ней</a>. Показывает способ интеграции ядра jQuery и библиотек пользовательского интерфейса в проект NetBeans.</p>
</li>
<li>
<p><a href="../../docs/web/js-toolkits-dojo.html">Подключение дерева Dojo к списку ArrayList с помощью JSON</a>. Данный документ основан на практическом примере JavaOne. В нем демонстрируются способы внедрения элемента оформления "Дерево Dojo" в веб-страницу и способы управления реакцией стороны сервера на запросы дерева в формате JSON.</p>
</li>
</ul>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/incubator-netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/php/ajax-quickstart_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1>About</h1>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                    <li><a href="https://incubator.apache.org/projects/netbeans.html">Incubation Status</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                    <li><a href="/community/who.html">Who is who</a></li>
                    <li><a href="/community/nekobean.html">NekoBean</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/netcat.html">NetCAT - Community Acceptance Testing</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/help/getting-started.html">Platform videos</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb100/nb100.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html#releases">Releases</a></li>
                    <ul>
                        <li><a href="/download/nb100/nb100.html">Apache NetBeans 10.0</a></li>
                        <li><a href="/download/nb90/nb90.html">Apache NetBeans 9.0</a></li>
                    </ul>
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2018 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <p><a href="https://incubator.apache.org/" alt="Apache Incubator"><img src='/images/incubator_feather_egg_logo_bw_crop.png' title='Apache Incubator'></img></a></p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache NetBeans is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
            <p>Apache Incubator, Apache, the Apache feather logo, the Apache NetBeans logo, and the Apache Incubator project logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
