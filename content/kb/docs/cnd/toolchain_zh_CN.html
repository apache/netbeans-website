
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 C/C++ 工具集合描述符 - NetBeans IDE 教程</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="使用 C/C++ 工具集合描述符 - NetBeans IDE 教程 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 使用 C/C++ 工具集合描述符 - NetBeans IDE 教程">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">使用 C/C++ 工具集合描述符 - NetBeans IDE 教程</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/toolchain_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_简介">简介</a></li>
<li><a href="#_工具集合">工具集合</a></li>
<li><a href="#_社区提供的工具集合">社区提供的工具集合</a></li>
<li><a href="#_编辑工具集合描述符">编辑工具集合描述符</a></li>
<li><a href="#_创建定制工具集合">创建定制工具集合</a>
<ul class="sectlevel2">
<li><a href="#_工具集合_xml_文件的详细信息">工具集合 XML 文件的详细信息</a></li>
</ul>
</li>
<li><a href="#_创建定制编译器提供器">创建定制编译器提供器</a></li>
<li><a href="#_创建定制编译器错误处理程序">创建定制编译器错误处理程序</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>撰稿人：<a href="mailto:alexander.simon@oracle.com">_Alexander Simon_</a>
2014 年 3 月</em> [修订版本号：V8.0-1]</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp.png" alt="netbeans stamp">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 8.0</div>
</div>
<div class="paragraph">
<p><strong>要学习本教程，您需要具备以下软件。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetBeans IDE（支持 C/C++）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">版本 8.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java 开发工具包 (JDK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">版本 7 或 8</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>有关下载并安装所需软件的信息，请参见 <a href="../../../community/releases/80/install.html">NetBeans IDE 安装说明</a>和<a href="../../../community/releases/80/cpp-setup-instructions.html">配置 NetBeans IDE 以使用 C/C+/Fortran+</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_简介">简介</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本教程说明了如何在 NetBeans IDE 8.0 中编辑现有工具集合或创建现有工具集合的定制版本。</p>
</div>
<div class="paragraph">
<p>显示的示例适用于 Oracle Solaris 和 Linux 的 GNU 工具集合，但概念也可以适用于 Windows 和 Mac。通过使用这些信息，您可以了解如何执行以下操作：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>更改 IDE 用于编译 C/C++ 文件的默认编译器标志</p>
</li>
<li>
<p>添加 IDE 不支持的编译器</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_工具集合">工具集合</h2>
<div class="sectionbody">
<div class="paragraph">
<p>工具集合包含在 IDE 中通过_工具集合描述符_指定的一组编译器、一个 make 实用程序和一个调试器。每次编译、生成或调试代码时，IDE 都会运行一个在工具集合描述符（项目配置为使用的工具集合的工具集合描述符）中描述的可执行文件。代码帮助功能使用从工具集合描述符中获取的包含路径和宏。</p>
</div>
<div class="paragraph">
<p>工具集合描述符是一个 XML 文件，位于文件夹  <code>org/netbeans/modules/cnd/toolchain/resources/toolchaindefinition/</code>  的模块  <code><em>IDE_HOME</em>/cnd/modules/org-netbeans-modules-cnd-toolchain.jar</code>  中。不应编辑这些原始 IDE 工具描述符 XML 文件。</p>
</div>
<div class="paragraph">
<p>本文向您介绍如何在您自己的 NetBeans 用户目录中创建可编辑的工具描述符重复项。IDE 随后将使用位于您的用户目录中的工具集合描述符中的信息而非原始版本。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_社区提供的工具集合">社区提供的工具集合</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans 社区中的用户提供了一些工具集合插件：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://plugins.netbeans.org/plugin/36176/cuda-plugin">Cuda</a></p>
</li>
<li>
<p><a href="http://plugins.netbeans.org/plugin/27033/msp430-toolchain">TI msp430 microcontroller toolchain</a></p>
</li>
<li>
<p><a href="http://plugins.netbeans.org/plugin/42519/">Visual Studio</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>请注意，这些插件未正式受支持，在此处引用它们是为了能帮助您创建自己的插件。</p>
</div>
<div class="paragraph">
<p>Windows 用户也可能对 NetBeans 社区中的用户提供的文章感兴趣：<a href="http://minghuasweblog.wordpress.com/2012/09/27/netbeans-setup-and-gnu-cross-toolchain-configuration-for-arm-developmen/">用于 ARM 开发的 NetBeans 设置和 GNU Cross-Toolchain 配置</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_编辑工具集合描述符">编辑工具集合描述符</h2>
<div class="sectionbody">
<div class="paragraph">
<p>编辑工具集合描述符有些棘手，因为 NetBeans IDE 没有提供编辑描述符的 GUI。此部分描述如何生成工具集合描述符的重复“影子”副本，您可以编辑这些副本以更改 IDE 使用工具的方式。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>退出 IDE（如果正在运行）。</p>
</li>
<li>
<p>编辑文件  <code><em>IDE-HOME</em>/etc/netbeans.conf</code> ，其中  <code><em>IDE-HOME</em></code>  是 NetBeans 安装目录。</p>
</li>
<li>
<p>将以下标志添加到  <code>netbeans_default_options</code>  条目中：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">-J-Dcnd.toolchain.personality.create_shadow=true</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>启动 IDE，选择“工具”&gt;“选项”，然后在“选项”窗口的顶部窗格中选择 "C/C++"。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE 将在 NetBeans 用户目录中创建包含工具集合描述符的“影子”版本的目录：</p>
</div>
<div class="paragraph">
<p><em>userdir</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">/config/CND/ToolChain</code></pre>
</div>
</div>
<div class="paragraph">
<p>NetBeans 用户目录的位置因操作系统不同而异。 <code><em>userdir</em>/config/CND/ToolChain</code>  目录的一些可能位置包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>﻿Windows： <code>C:\Documents and Settings_username_\Application Data\NetBeans_version_\config\CND\ToolChain</code></p>
</li>
<li>
<p>Mac： <code>/Users/<em>username</em>/Library/Application Support/NetBeans/<em>version</em>/config/CND/ToolChain</code></p>
</li>
<li>
<p>Linux 和 Solaris： <code>/home/<em>username</em>/.netbeans/<em>version</em>/config/CND/ToolChain</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>创建的描述符列表应如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">CLang.xml                             SunStudio.xml
CLang_mac.xml                         SunStudio_10.xml
CLang_solaris.xml                     SunStudio_11.xml
Cygwin.xml                            SunStudio_12.1_solaris-sparc.xml
Cygwin_4.x.xml                        SunStudio_12.1_solaris-x86_linux.xml
GNU.xml                               SunStudio_12.2_linuxCompatGNU.xml
GNU_mac.xml                           SunStudio_12.2_solaris-sparc.xml
GNU_solaris.xml                       SunStudio_12.2_solaris-x86_linux.xml
Intel.xml                             SunStudio_12.3_linuxCompatGNU.xml
Interix.xml                           SunStudio_12.3_solaris-sparc.xml
MinGW.xml                             SunStudio_12.3_solaris-x86_linux.xml
MinGW_TDM.xml                         SunStudio_12.xml
OSS_linuxCompatGNU.xml                SunStudio_8.xml
OSS_solaris-sparc.xml                 SunStudio_9.xml
OSS_solaris-x86_linux.xml             WinAVR.xml
OracleSolarisStudio.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以编辑正在使用的 toolchain 的描述符。例如，如果您正在 Solaris 上使用 GNU，则编辑  <code>GNU_solaris.xml</code>  文件；如果您正在 Windows 上使用 MinGW，则应编辑  <code>MinGW.xml</code>  文件。</p>
</div>
<div class="paragraph">
<p>有关这些描述符 XML 文件中使用的标记的信息，请参见<a href="#details">工具集合 XML 文件的详细信息</a>。可以更改标记的值以更改 IDE 中工具的行为。</p>
</div>
<div class="paragraph">
<p>此目录中的描述符优先于 <em>IDE-HOME</em> 目录中的正式版本。您应删除用户目录中不希望 IDE 使用的工具描述符。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>从  <code><em>IDE-HOME</em>/etc/netbeans.conf</code>  中删除  <code>-J-Dcnd.toolchain.personality.create_shadow=true</code>  标志，这样 IDE 就不会再次创建影子描述符。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>完成更改后，重新启动 IDE 以使用修改后的工具描述符。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建定制工具集合">创建定制工具集合</h2>
<div class="sectionbody">
<div class="paragraph">
<p>此部分演示如何创建基于 GNU 工具集合的工具集合，并对编译器标志进行一些更改，以便于调试。此示例演示用于创建新 NetBeans 模块的步骤，该模块包含新工具集合，以使您能够共享该工具集合或者在 IDE 的其他实例中使用该工具集合。</p>
</div>
<div class="paragraph">
<p>有关创建 NetBeans 模块的一般信息，请参见 <a href="https://netbeans.apache.org/tutorials/nbm-google.html">NetBeans 插件快速入门</a>。</p>
</div>
<div class="paragraph">
<p><strong>创建定制工具集合：</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>确保您的 NetBeans 安装包含 NetBeans 插件开发模块。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>选择“工具”&gt;“插件”，然后单击“已安装”标签。如果未安装 Netbeans 插件开发模块，请单击“可用插件”标签并安装该模块。可以在搜索框中键入“插件”以快速找到该插件。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>选择“文件”&gt;“新建项目”以创建新的 NetBeans 模块。在新建项目向导的“选择项目”页中，在向导的第一步中选择“NetBeans 模块”类别和“模块”项目。单击 "Next"（下一步）。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“名称和位置”页中键入项目名称（如  <code>mytoolchain</code> ），并将所有其他字段保持不变。单击 "Next"（下一步）。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>在“基本模块配置”页上，键入  <code>org.myhome.mytoolchain</code>  作为代码名称基，它定义用于标识创建的模块的唯一字符串。代码名称基也用作模块的主包。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>请勿选中“生成 OSGi 包”复选框，因为您将使用默认 NetBeans 模块系统而不是 OSGi。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>单击 "Finish"（完成）。IDE 将创建名为 mytoolchain 的新项目。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>在“项目”标签中，右键单击 "mytoolchain" 项目节点并选择“新建”&gt;“其他”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>在“新建文件”向导中，选择类别“模块开发”和文件类型“XML 层”，然后单击“下一步”并单击“完成”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE 将在主包  <code>org.myhome.mytoolchain</code>  内部的“源包”节点下创建  <code>layer.xml</code>  并在编辑器中打开  <code>layer.xml</code> 。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>如果此文件包含  <code>&lt;filesystem/&gt;</code>  标记，请将其替换为开始和结束的  <code>filesystem</code>  标记： <code>&lt;filesystem&gt;</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml"> ``&lt;/filesystem&gt;``</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>复制以下文本并粘贴在  <code>filesystem</code>  标记内部的  <code>layer.xml</code>  中：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="CND"&gt;
        &lt;folder name="Tool"&gt;
            &lt;file name="GNU_tuned_flavor" url="toolchain/GNU_tuned_flavor.xml"&gt;
                &lt;attr name="extends" stringvalue="GNU_flavor"/&gt;
            &lt;/file&gt;
            &lt;file name="GNU_tuned_cpp" url="toolchain/GNU_tuned_cpp.xml"&gt;
                &lt;attr name="extends" stringvalue="GNU_cpp"/&gt;
            &lt;/file&gt;
        &lt;/folder&gt;
        &lt;folder name="ToolChains"&gt;
            &lt;folder name="GNU_tuned"&gt;
                &lt;attr name="position" intvalue="5000"/&gt;
                &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myhome.mytoolchain.Bundle"/&gt;
                &lt;file name="flavor.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_tuned_flavor"/&gt;
                &lt;/file&gt;
                &lt;file name="c.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_c"/&gt;
                &lt;/file&gt;
                &lt;file name="cpp.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_tuned_cpp"/&gt;
                &lt;/file&gt;
                &lt;file name="fortran.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_fortran"/&gt;
                &lt;/file&gt;
                &lt;file name="assembler.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_assembler"/&gt;
                &lt;/file&gt;
                &lt;file name="scanner.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_scanner"/&gt;
                &lt;/file&gt;
                &lt;file name="linker.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_linker"/&gt;
                &lt;/file&gt;
                &lt;file name="make.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_make"/&gt;
                &lt;/file&gt;
                &lt;file name="debugger.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_debugger"/&gt;
                &lt;/file&gt;
                &lt;file name="qmake.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_qmake"/&gt;
                &lt;/file&gt;
                &lt;file name="cmake.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="CND/Tool/GNU_cmake"/&gt;
                &lt;/file&gt;
            &lt;/folder&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>打开  <code>Bundle.properties</code>  文件，并添加以下字符串：
<code>CND/ToolChains/GNU_tuned=My GNU Tuned Tool Collection</code></p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>创建  <code>toolchain</code>  子包：右键单击“源包”下的  <code>org.myhome.mytoolchain</code>  包，然后选择“新建”&gt;“Java 包”。将默认包名  <code>newpackage</code>  替换为  <code>toolchain</code> ，然后单击“完成”。IDE 将创建  <code>org.myhome.mytoolchain.toolchain</code>  子包。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>创建新文件：右键单击  <code>org.myhome.mytoolchain.toolchain</code>  子包，然后选择“新建”&gt;“空文件”。将文件命名为  <code>GNU_tuned_flavor.xml</code> ，然后单击“完成”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果您看不到“空文件”选项，请选择“其他”，然后在“新建文件”向导中选择类别“其他”和文件类型“空文件”，再单击“下一步”。</p>
</div>
<div class="paragraph">
<p>此文件是新工具集合的工具集合描述符。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="14">
<li>
<p>复制以下文本并粘贴在  <code>GNU_tuned_flavor.xml</code>  中：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;toolchaindefinition xmlns="https://netbeans.org/ns/cnd-toolchain-definition/1"&gt;
    &lt;toolchain name="GNU_tuned_flavor" display="GNU_tuned" family="GNU" qmakespec="${os}-g++"/&gt;
    &lt;platforms stringvalue="linux,sun_intel,sun_sparc"/&gt;
&lt;/toolchaindefinition&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="15">
<li>
<p>创建另一个新文件：右键单击  <code>org.myhome.mytoolchain.toolchain</code>  子包，然后选择“新建”&gt;“空文件”。将文件命名为  <code>GNU_tuned_cpp.xml</code> ，然后单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="16">
<li>
<p>复制以下文本并粘贴在  <code>GNU_tuned_cpp.xml</code>  中：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;toolchaindefinition xmlns="https://netbeans.org/ns/cnd-toolchain-definition/1"&gt;
    &lt;cpp&gt;
        &lt;compiler name="g++"/&gt;
        &lt;development_mode&gt;
            &lt;fast_build flags=""/&gt;
            &lt;debug flags="-g3 -gdwarf-2" default="true"/&gt;
            &lt;performance_debug flags="-g -O"/&gt;
            &lt;test_coverage flags="-g"/&gt;
            &lt;diagnosable_release flags="-g -O2"/&gt;
            &lt;release flags="-O2"/&gt;
            &lt;performance_release flags="-O3"/&gt;
        &lt;/development_mode&gt;
    &lt;/cpp&gt;
&lt;/toolchaindefinition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>注意，调试标志设置为 -g3 和 -gdwarf-2，这不同于默认 GNU 工具集合描述中设置的标志。</p>
</div>
<div class="paragraph">
<p>项目树应看起来类似于以下内容：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/project.png" alt="project">
</div>
<div class="title">Figure 2. 项目树</div>
</div>
<div class="paragraph">
<p>单元测试文件夹可能不存在。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="17">
<li>
<p>在“项目”窗口中，右键单击  <code>mytoolchain</code>  项目节点并选择“运行主项目”。将构建该模块，并将其安装在 IDE（模块的默认目标平台）的新实例中。此时将打开目标平台，您可以在其中试用新模块。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="18">
<li>
<p>在运行的模块中，选择“工具”&gt;“选项”，从“选项”窗口的顶部窗格中选择 "C/C++"，然后选择“构建工具”标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="19">
<li>
<p>如果未显示新工具集合 (GNU_tuned)，请单击“恢复默认值”。在提示重新扫描环境时，单击“是”继续。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE 将显示新的工具集合：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/options.png" alt="options" width="Options"（选项）面板"">
</div>
<div class="title">Figure 3. </div>
</div>
<div class="olist arabic">
<ol class="arabic" start="20">
<li>
<p>选择“文件”&gt;“新建项目”&gt;“样例”&gt; "C/C" &gt; "Welcome" 以创建新的 C/C 样例项目  <code>Welcome</code> 。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="21">
<li>
<p>右键单击项目节点，然后选择 "Properties"（属性）。在“项目属性”对话框中，选择“构建”节点，将“工具集合”设置为 GNU_tuned 工具集合，然后单击“确定”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="22">
<li>
<p>构建项目。请注意，编译器具有  <code>-g3 -gdwarf-2</code>  标志：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">g++ -c -g3 -gdwarf-2 -MMD -MP -MF build/Debug/GNU_tuned-Solaris-x86/welcome.o.d -o build/Debug/GNU_tuned-Solaris-x86/welcome.o welcome.cc</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="23">
<li>
<p>在“项目属性”对话框中，选择 GNU 工具集合，然后单击“确定”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="24">
<li>
<p>重新构建项目，并在输出窗口中比较编译行：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">g++ -c -g -MMD -MP -MF build/Debug/GNU-Solaris-x86/welcome.o.d -o build/Debug/GNU-Solaris-x86/welcome.o welcome.cc</code></pre>
</div>
</div>
<div class="paragraph">
<p>您应该能够看到 GNU_tuned 工具集合具有不同的用于调试的编译器标志以及 GNU 编译器的开发模式。</p>
</div>
<div class="paragraph">
<p>如果要在常规 IDE 中使用 GNU_tuned 工具集合的新模块，可以创建一个二进制文件（.nbm 文件）并将其添加为插件：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 mytoolchain 模块项目，然后选择“创建 NBM”。将在项目的构建子目录中创建 .nbm 文件，可以在“文件”标签中看到该文件。</p>
</li>
<li>
<p>选择“工具”&gt;“插件”，然后单击“插件”对话框中的“已下载”标签。</p>
</li>
<li>
<p>单击“添加插件”，导航至构建目录，选择模块 .nbm 文件，然后单击“打开”。该插件模块将添加到“已下载”标签的列表中。</p>
</li>
<li>
<p>单击复选框以在“已下载”标签中选择该模块，然后单击“安装”按钮。将会打开 NetBeans 插件安装程序。</p>
</li>
<li>
<p>单击“下一步”以执行安装程序，并一直执行到安装程序完成。</p>
</li>
<li>
<p>重新启动 IDE，选择“工具”&gt;“选项”，从“选项”窗口的顶部窗格中选择 "C/C++"，然后选择“构建工具”标签。</p>
</li>
<li>
<p>如果未显示新工具集合 (GNU_tuned)，请单击“恢复默认值”。在提示重新扫描环境时，单击“是”继续。</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_工具集合_xml_文件的详细信息">工具集合 XML 文件的详细信息</h3>
<div class="paragraph">
<p>下面介绍了工具集合 XML 文件中的最重要标记。</p>
</div>
<div class="paragraph">
<p>对于 toolchain xml 文件支持的所有标记和属性的方案，您可以在 <a href="http://hg.netbeans.org/cnd-main">NetBeans IDE 源树</a>中搜索文件  <code>toolchaindefinition.xsd</code> 。</p>
</div>
<div class="sect3">
<h4 id="_工具集合定义标记">工具集合定义标记</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">标记</th>
<th class="tableblock halign-left valign-top">属性</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toolchain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">工具集合的名称</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">工具集合的名称</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">display</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">工具集合的显示名称</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">family</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">工具集合的组名称</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">platforms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">支持的平台</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">stringvalue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以逗号分隔的支持平台列表。
可能的值是：</p>
<p class="tableblock">* linux
* unix
* sun_intel
* sun_sparc
* windows
* mac
* 无</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">makefile_writer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">定制 makefile 编写器。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">定制 makefile 编写器的类名。它应实现
org.netbeans.modules.cnd.makeproject.spi.configurations.MakefileWriter。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">drive_letter_prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文件名的特殊前缀</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stringvalue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unix 为 "/"
Windows 上的 cygwin 为 "/cygdrive/"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base_folders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">base_folder 标记的容器。
一个 base_folders 标记中包含一个或多个 base_folder 标记。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base_folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">编译器基目录的描述。
此标记可以包含以下标记：</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regestry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">工具的 Windows 注册表项。请注意，该 XML 标记必须拼写为 "regestry"，尽管该拼写是错误的。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许 NetBeans IDE 在注册表中查找编译器的正则表达式</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">suffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">包含可执行文件的文件夹</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path_patern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许 NetBeans IDE 通过扫描路径查找编译器的正则表达式。请注意，该 XML 标记必须拼写为 "path_patern"，尽管该拼写是错误的。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command_folders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command_folder 标记的容器。
一个 command_folders 标记中包含一个或多个 command_folder 标记。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command_folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">描述类似 UNIX 的命令所在的目录。
仅 Windows 上的 MinGW 编译器需要。command_folder 标记可以包含以下标记：</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regestry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">命令的 Windows 注册表项。请注意，该 XML 标记必须拼写为 "regestry"，尽管该拼写是错误的。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许 NetBeans IDE 在注册表中查找命令文件夹的正则表达式</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">suffix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">包含可执行文件的文件夹</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path_patern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许 NetBeans IDE 查找命令的正则表达式。请注意，该 XML 标记必须拼写为 "path_patern"，尽管该拼写是错误的。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scanner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误解析器服务的名称，请参见<a href="#errorhandler">创建定制编译器错误处理程序</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误解析器服务的名称</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_编译器标志">编译器标志</h4>
<div class="paragraph">
<p>下表列出了用于描述编译器并为 toolchain 指定编译器标志的标记。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">标记</th>
<th class="tableblock halign-left valign-top">描述</th>
<th class="tableblock halign-left valign-top">GNU 编译器示例</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">c、cpp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一组位于以下子节点的编译器标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recognizer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许 IDE 查找编译器的正则表达式</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">对于 Windows 上的 cygwin 中的 GNU
.<strong>[\\/].*cygwin.</strong>[\\/]bin[\\/]?$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compiler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">编译器名称（可执行文件的名称）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gcc 或 g++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">--version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">system_include_paths</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于获取系统包含路径的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-x c -E -v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">system_macros</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于获取系统宏的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-x c -E -dM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user_include</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于添加用户包含路径的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user_file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于在其他文件之前包含 <em>file</em> 的内容的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-include <em>file</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user_macro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于添加用户宏的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">development_mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于不同开发模式的标志组</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">warning_level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于不同警告级别的标志组</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">architecture</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于不同体系结构的标志组</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">strip</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于去除调试信息的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c_standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定要用于 C 标准的标志。与 c89、c99 和 c11 标记一起使用。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c89 flags="-std=c89"
c99 flags="-std=c99"
c11 flags="-std=c11"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpp_standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定要用于 C++ 标准的标志。与 cpp98 和 cpp11 标记一起使用。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpp98 flags="-std=c98"
cpp11 flags="-std=c11"
cpp11 flags="-std=gnu++0x"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">output_object_file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于指定对象文件的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-o <em>（-o 后必须有一个空格）</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dependency_generation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于依赖关系生成的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-MMD -MP -MF $@.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">precompiled_header</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于已预编译头的标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-o $@</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">important_flags</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">正则表达式，指定哪些编译器标志更改默认系统包含路径和预定义宏以获得代码帮助</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-O1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-O2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-O3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-O4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-O5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-Ofast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-Og</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-Os</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ansi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fPIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fPIE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fasynchronous-unwind-tables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fbuilding-libgcc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fexceptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ffast-math</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ffinite-math-only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ffreestanding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fgnu-tm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fhandle-exceptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fleading-underscore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fno-exceptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fno-rtti</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fnon-call-exceptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fnon-call-exceptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fopenmp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fpic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fpie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fsanitize=address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fshort-double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fshort-wchar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fsignaling-nans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fstack-protector(\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-fstack-protector-all</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-funsigned-char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-funwind-tables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-g(\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ggdb</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-gsplit-dwarf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-gtoggle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-m128bit-long-double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-m3dnow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-m64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mabm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-madx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-maes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-march=.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mavx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mavx2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mbmi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mbmi2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mf16c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mfma(\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mfma4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mfsgsbase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mlong-double-64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mlwp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mlzcnt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mpclmul</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mpopcnt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mprfchw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mrdrnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mrdseed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mrtm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse4(\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse4.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse4a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-msse5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mssse3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mtbm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mtune=.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mx32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mxop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mxsave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-mxsaveopt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-pthreads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-std=.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-xc($</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+\+$)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multithreading</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于多线程支持的标志组</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅用于 Oracle Solaris Studio 工具集合，不在基于 GNU 的工具集合中使用</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于不同语言标准的标志组</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仅用于 Oracle Solaris Studio 工具集合，不在基于 GNU 的工具集合中使用</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">language_extension</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建定制编译器提供器">创建定制编译器提供器</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDE 具有一个默认编译器提供器：
org.netbeans.modules.cnd.toolchain.compilers.MakeProjectCompilerProvider
该提供器可满足大多数 toolchain 的需要，但您也可以创建自己的提供器。</p>
</div>
<div class="paragraph">
<p><strong>创建您自己的编译器提供器：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>扩展抽象类 org.netbeans.modules.cnd.api.compilers.CompilerProvider</p>
</li>
<li>
<p>将类定义为服务并放在默认提供器之前：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@org.openide.util.lookup.ServiceProvider(service = org.netbeans.modules.cnd.spi.toolchain.CompilerProvider.class,
position=500)
public class CustomCompilerProvider extends CompilerProvider {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>position=500 属性保证在默认提供器之前调用定制提供器。对于应覆盖的工具，定制提供器应在 "createCompiler()" 方法中返回非空值 "Tool"。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建定制编译器错误处理程序">创建定制编译器错误处理程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDE 有两个默认编译器错误处理程序。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>用于 GNU 编译器</p>
</li>
<li>
<p>用于 Sun Studio 编译器</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GNU 编译器处理程序可满足任何 GNU 编译器的需要，但您也可以根据需要定义自己的编译器错误处理程序。</p>
</div>
<div class="paragraph">
<p><strong>创建您自己的编译器错误处理程序：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>扩展抽象类 org.netbeans.modules.cnd.spi.toolchain.CompilerProvider</p>
</li>
<li>
<p>将类定义为服务：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@org.openide.util.lookup.ServiceProvider(service = org.netbeans.modules.cnd.spi.toolchain.CompilerProvider.class)
      public class CustomCompilerProvider extends ErrorParserProvider {
          ...
          @Override
          public String getID() {
      	return "MyParser";  // NOI18N
          }
      }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>按 ID 链接错误扫描程序和工具集合描述：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;/scanner id="MyParser"&gt;
...
  &lt;/scanner&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关在 NetBeans IDE 中使用 C/C/Fortran 进行开发的更多文章，请参见 link:https://netbeans.org/kb/trails/cnd.html[+C/C 学习资源+]。</p>
</div>
<div class="paragraph">
<p>link:mailto:users@cnd.netbeans.org?subject=Feedback:Using%20the%20C/C+%20Tool%20Collection%20Descriptors%20-%20NetBeans%20IDE%208.0%20Tutorial[+发送有关此教程的反馈意见]</p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/toolchain_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
