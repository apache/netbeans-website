
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>调试 C/C++ 项目教程</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="调试 C/C++ 项目教程 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 调试 C/C++ 项目教程">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.6</h1>
            <p><a class="button success" href="/download/nb126/nb126.html">Download</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">调试 C/C++ 项目教程</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/debugging_zh_CN.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_要求">要求</a></li>
<li><a href="#_创建样例项目">创建样例项目</a></li>
<li><a href="#_创建断点">创建断点</a>
<ul class="sectlevel2">
<li><a href="#_创建和删除行断点">创建和删除行断点</a></li>
<li><a href="#_创建函数断点">创建函数断点</a></li>
</ul>
</li>
<li><a href="#_启动调试会话">启动调试会话</a></li>
<li><a href="#_检查应用程序状态">检查应用程序状态</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>2013 年 3 月 [修订版本号：V8.0-1]</p>
</div>
<div class="paragraph">
<p>下面的简明教程将为您介绍 NetBeans IDE 中用于调试 C 或 C++ 项目的一些功能。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_要求">要求</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>要学习本教程，您需要具备以下软件和资源。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetBeans IDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">带有 NetBeans C/C+ 插件模块的版本 7.4 或 8.0+</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java 开发者工具包 (JDK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">版本 7 或 8</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>有关下载并安装必需软件的信息，请参见 <a href="../../../community/releases/80/install.html">NetBeans IDE 安装说明</a>和<a href="../../../community/releases/80/cpp-setup-instructions.html">配置 NetBeans IDE 以使用 C/C+/Fortran+</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建样例项目">创建样例项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>带有 C/C++ 的 NetBeans IDE 使用了  <code>gdb</code>  调试器，并提供了很多项目调试功能。要了解这些功能，请使用  <code>Quote</code> （报价）项目。如果还没有创建这个项目，可执行以下操作：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "File"（文件）&gt; "New Project"（新建项目）。</p>
</li>
<li>
<p>在项目向导中，依次展开 "Samples"（样例）类别和 "C/C++" 子类别。</p>
</li>
<li>
<p>选择 "Applications"（应用程序）子类别，然后选择 <code>报价</code> 项目。单击 "Next"（下一步），然后单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建断点">创建断点</h2>
<div class="sectionbody">
<div class="paragraph">
<p>您可以随时在代码中创建并操作断点，而不用启动调试会话。</p>
</div>
<div class="sect2">
<h3 id="_创建和删除行断点">创建和删除行断点</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在  <code>Quote_1</code>  项目中，打开  <code>quote.cc</code>  文件。</p>
</li>
<li>
<p>在源代码编辑器窗口靠近 171 行 ( <code>response = readChar("Enter disk module type: (S for single disks, R for RAID; Q - exit)", 'S');</code> ) 的左旁注中单击，设置一个行断点。该行将以红色突出显示，表明断点已设置。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/line_breakpoint1.png" alt="line breakpoint1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>您可以通过单击位于左旁注中的图标来删除断点。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>选择 "Window"（窗口）&gt; "Debugging"（调试）&gt; "Breakpoints"（断点）打开 "Breakpoints"（断点）窗口。在 C/C++ 节点下列出您的行断点。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/line_breakpoint2.png" alt="line breakpoint2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>展开 C/C++ 节点可查看您的断点。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/line_breakpoint2_expand.png" alt="line breakpoint2 expand">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_创建函数断点">创建函数断点</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Breakpoints"（断点）窗口左旁注中单击 "Create New Breakpoint"（创建新断点）按钮，或者选择 "Debug"（调试）&gt; "New Breakpoint"（新建断点）（Ctrl+Shift+F8 组合键）以打开 "New Breakpoint"（新建断点）对话框。</p>
</li>
<li>
<p>在 "Debugger Type"（调试器类型）列表中，选择 "Native"（本机）。</p>
</li>
<li>
<p>在 "Breakpoint Type"（断点类型）列表中，选择 "Function"（函数）。</p>
</li>
<li>
<p>在 "Function Name"（函数名）文本字段中键入函数名  <code>Customer::GetDiscount</code> 。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/function_breakpoint1.png" alt="function breakpoint1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>函数断点已设置，并且已添加到 "Breakpoints"（断点）窗口列表中。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/function_breakpoint2.png" alt="function breakpoint2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>单击左旁注中的 "Select Breakpoint Groups"（选择断点组）按钮以将断点组织到不同的组，然后选择 "Type"（类型）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/group_breakpoint_type.png" alt="group breakpoint type">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>展开 "File:Line"（文件:行）和 "Function"（函数）组以显示您的断点。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/breakpoint_types.png" alt="breakpoint types">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_启动调试会话">启动调试会话</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在启动调试会话时，IDE 会启动  <code>gdb</code>  调试器，然后在调试器中运行应用程序。IDE 将自动打开调试器窗口和调试器工具栏，并在 "Output"（输出）窗口中打印调试器输出。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>通过单击 "Debug Project"（调试项目）按钮 <span class="image"><img src="images/debugbutton.png" alt="debugbutton"></span> 或通过选择 "Debug"（调试）&gt; "Debug Project"（调试项目），为  <code>Quote_1</code>  项目启动调试会话。
此时将启动调节器，并运行应用程序。显示调试工具栏。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugger_toolbar.png" alt="debugger toolbar">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>选择 "Window"（窗口）&gt; "Debugging"（调试）&gt; "Sessions"（会话）打开 "Sessions"（会话）窗口。
调试会话将显示在此窗口中。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_检查应用程序状态">检查应用程序状态</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Quote_1</code>  应用程序会提示您在 "Output (Debug)"（输出（调试））窗口中输入信息。</p>
</li>
<li>
<p>在提示 "Enter customer name:"（输入客户名：）后输入客户名。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>该应用程序将在您先前设置的 Customer::GetDiscount 函数断点处停止，并且 customer.cc 文件将在编辑器中调用该函数的行中打开。此时 "Breakpoints"（断点）窗口会列出先前设置的两个断点。函数断点的断点图标顶端会出现绿色程序计数器箭头。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/function_breakpoint3.png" alt="function breakpoint3">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>单击 "Call Stack"（调用堆栈）窗口的标签，或者选择 "Window"（窗口）&gt; "Debugging"（调试）&gt; "Call Stack"（调用堆栈）。此时调用堆栈将显示三个框架。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/call_stack.png" alt="call stack">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>打开 "Variables"（变量）窗口，此时您看到显示了一个变量。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>单击展开图标以展开此结构。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/local_variables1.png" alt="local variables1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>单击工具栏中的 "Continue"（继续）按钮。
此时将执行  <code>GetDiscount</code>  函数，同时在 "Output (Debug)"（输出（调试））窗口中显示客户折扣。此时系统会提示输入信息。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>按照提示输入信息。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>程序会在下一个断点（即先前设置的行断点）处停止。在  <code>quote.cc</code>  文件中，断点图标顶端会出现绿色程序计数器箭头，指示程序暂停在哪一行。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/line_breakpoint3.png" alt="line breakpoint3">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>单击 "Variables"（变量）标签，注意会显示局部变量的详细列表。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/local_variables2.png" alt="local variables2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>单击 "Call Stack"（调用堆栈）标签，注意此时堆栈中有一个框架。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>选择 "Window"（窗口）&gt; "Debugging"（调试）&gt; "Registers"（注册）。
此时将打开 "Registers"（注册）窗口，其中显示注册的当前内容。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/registers.png" alt="registers">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>选择 "Window"（窗口）&gt; "Debugging"（调试）&gt; "Disassembly"（反汇编）。
此时将打开 "Disassembly"（反汇编）窗口，其中显示当前源文件的汇编指令。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/disassembly.png" alt="disassembly">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>单击工具栏中的 "Continue"（继续）按钮，并继续按照提示在 "Output"（输出）窗口中输入信息，直到程序完成。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>按 Enter 键退出程序后，调试会话便会结束。要在程序执行完毕以前结束调试会话，可以在工具栏中单击 "Finish Debugger Session"（完成调试器会话）按钮，或者选择 "Debug"（调试）&gt; "Finish Debugger Session"（完成调试器会话）。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关在 NetBeans IDE 中使用 C/C/Fortran 进行开发的更多文章，请参见 link:https://netbeans.org/kb/trails/cnd.html[+C/C 学习资源+]。</p>
</div>
<div class="paragraph">
<p>link:mailto:users@cnd.netbeans.org?subject=Feedback:%20Debugging%20C/C+%20Projects%20-%20NetBeans%20IDE%207.4%20Tutorial[+发送有关此教程的反馈意见]</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/debugging_zh_CN.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
