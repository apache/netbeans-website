
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>LinuxでのNetBeans IDEとC/C++プラグインを使用したJNIの開始</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LinuxでのNetBeans IDEとC/C++プラグインを使用したJNIの開始 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, LinuxでのNetBeans IDEとC/C++プラグインを使用したJNIの開始">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">LinuxでのNetBeans IDEとC/C++プラグインを使用したJNIの開始</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/beginning-jni-linux_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_要件">要件</a></li>
<li><a href="#_環境をチュートリアル用に設定">環境をチュートリアル用に設定</a></li>
<li><a href="#_javaアプリケーションプロジェクトの設定">Javaアプリケーション・プロジェクトの設定</a>
<ul class="sectlevel2">
<li><a href="#_メインクラスのソースの編集">メイン・クラスのソースの編集</a></li>
<li><a href="#_ネイティブライブラリヘッダーファイルの作成">ネイティブ・ライブラリ・ヘッダー・ファイルの作成</a></li>
</ul>
</li>
<li><a href="#_新規cc動的ライブラリプロジェクトの設定">新規C/C++動的ライブラリ・プロジェクトの設定</a>
<ul class="sectlevel2">
<li><a href="#_プロジェクトプロパティの設定">プロジェクト・プロパティの設定</a></li>
<li><a href="#_ヘッダーファイルの追加">ヘッダー・ファイルの追加</a></li>
<li><a href="#_メソッドの実装">メソッドの実装</a></li>
</ul>
</li>
<li><a href="#_アプリケーションのビルドと実行">アプリケーションのビルドと実行</a>
<ul class="sectlevel2">
<li><a href="#_javaプロジェクトの構成">Javaプロジェクトの構成</a></li>
<li><a href="#_jnidemojavaアプリケーションの実行">JNIDemoJavaアプリケーションの実行</a></li>
<li><a href="#_サマリー">サマリー</a></li>
</ul>
</li>
<li><a href="#_次の手順">次の手順</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>2014年3月</em> [リビジョン番号: V8.0-1]</p>
</div>
<div class="paragraph">
<p>このチュートリアルでは、Cプログラミング言語で記述されたJava<sup>TM</sup> Native Interface (JNI)コードを使用する、単純なアプリケーションの作成について説明します。</p>
</div>
<div class="paragraph">
<p>このチュートリアルはLinuxに固有です。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_要件">要件</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>このチュートリアルに従うには、次のソフトウェアとリソースが必要です。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ソフトウェアまたはリソース</th>
<th class="tableblock halign-left valign-top">必須バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetBeans IDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">バージョン7.4または8.0とNetBeans C/C+プラグイン+</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Developer Kit (JDK)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">バージョン7または8</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C/C++コンパイラ、 <code>make</code> 、 <code>gdb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../../community/releases/80/cpp-setup-instructions.html">+ C/C+/Fortran向けのNetBeans IDEの構成</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>必要なソフトウェアのダウンロードとインストールについては、<a href="../../../community/releases/80/install.html">NetBeans IDE 8.0のインストール</a>および<a href="../../../community/releases/80/cpp-setup-instructions.html">C/C+/Fortran向けのNetBeans IDEの構成+</a>を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_環境をチュートリアル用に設定">環境をチュートリアル用に設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このチュートリアルにはJavaモジュールとC/Cモジュールの両方が必要です。NetBeans IDE C/Cバンドルをすでにダウンロードしている場合、追加のJavaモジュールを個別にダウンロードできます。</p>
</div>
<div class="paragraph">
<p>JavaおよびC/Cモジュールがあるかどうか判別するには、「ファイル」&gt;「新規プロジェクト」を選択します。プロジェクト・カテゴリにJavaとC/Cの両方が含まれています。</p>
</div>
<div class="paragraph">
<p><strong>存在しないJavaおよびC/C++モジュールをダウンロードするには:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetBeans IDEで、「ツール」&gt;「プラグイン」を選択します。</p>
</li>
<li>
<p>「使用可能なプラグイン」タブで、どちらがIDEに存在しないかに応じて、JavaまたはC/C++のチェックボックスを選択します。プラグインがすでに存在する場合、プラグインは「インストール済」タブに表示されます。</p>
</li>
<li>
<p>「インストール」をクリックします。</p>
</li>
<li>
<p>「NetBeans IDEのインストーラ」ダイアログ・ボックスで「次」をクリックし、ライセンス条項のチェックボックスに同意し、「インストール」をクリックします。</p>
</li>
<li>
<p>インストールが完了したら「終了」をクリックします。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_javaアプリケーションプロジェクトの設定">Javaアプリケーション・プロジェクトの設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このプログラムには、JavaプロジェクトおよびCプロジェクトが必要です。この項では、開発するJNIアプリケーション用のJavaプロジェクトを作成および構成します。新規Javaアプリケーション・プロジェクトを作成し、そのメイン・クラスを初期化し、ネイティブ・メソッドをこのクラスに追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」を選択します。「Java」カテゴリおよび「Javaアプリケーション」プロジェクト・タイプを選択します。「次」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-new-project-java.png" alt="jni new project java">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「プロジェクト名」フィールドに「 <code>JNIDemoJava</code> 」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクトの場所」はコンピュータ上の任意のディレクトリに変更できますが、ここではユーザー・ディレクトリ内のデフォルトのNetBeansProjectsを使用します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「メイン・クラスの作成」チェックボックスは選択したままにし、メイン・クラス名を <code>jnidemojava.Main</code> に変更します。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-new-java-app.png" alt="jni new java app">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDEによって、 <code>NetBeansProjects/JNIDemoJava</code> プロジェクト・フォルダが作成されます。</p>
</div>
<div class="sect2">
<h3 id="_メインクラスのソースの編集">メイン・クラスのソースの編集</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>メイン・クラスのソースをエディタで開くには、 <code>Main.java</code> クラス・ノードを右クリックして「開く」を選択します。</p>
</li>
<li>
<p><code>main</code> メソッドの <code>//TODO code application logic here</code> 行を次の行で置き換えます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">new Main().nativePrint();</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>エラーおよび電球を表示するインジケータが左マージンに示されるのがわかります。インジケータをクリックすると、メソッド <code>nativePrint</code> を作成することを求めるショートカットが表示されます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>このショートカットをクリックすると、IDEは次のコードを挿入します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void nativePrint() {
      throw new UnsupportedOperationException("Not supported yet");
   }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>次の行を削除します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">throw new UnsupportedOperationException("Not supported yet");</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p><code>native</code> キーワードをメソッド署名に挿入して <code>nativePrint()</code> メソッドを変更し、次のようになるようにします。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private native void nativePrint();</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``native`` キーワードは、メソッドが、外部ネイティブ・ライブラリにある実装を持つことを示します。ただし、実行時は、ライブラリの場所は明確ではありません。</pre>
</div>
</div>
<div class="paragraph">
<p>新しいmainメソッドは次のようになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public static void main(String[] args) {
       new Main().nativePrint();
   }

   private native void nativePrint();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>プロジェクト名を右クリックし、「消去してビルド」を選択します。プロジェクトは正常にビルドされます。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ネイティブライブラリヘッダーファイルの作成">ネイティブ・ライブラリ・ヘッダー・ファイルの作成</h3>
<div class="paragraph">
<p>この項では、JavaクラスからCヘッダーを作成するJavaツールである <code>javah</code> を使用します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ターミナル・ウィンドウで、 <code>NetBeansProjects</code> ディレクトリに移動します。</p>
</li>
<li>
<p>次を入力します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">javah -o JNIDemoJava.h -classpath JNIDemoJava/build/classes jnidemojava.Main</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``JNIDemoJava.h``  Cヘッダー・ファイルがNetBeansProjectsディレクトリに生成されます。このファイルは ``nativePrint()`` メソッドのネイティブ実装のための正しい関数宣言を提供するために必要です。後でこのアプリケーションのC部分を作成するとき、これが必要になります。</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>NetBeans IDEウィンドウに戻ります。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>サマリー</strong></p>
</div>
<div class="paragraph">
<p>この課題では、新規Javaアプリケーション・プロジェクトを作成し、その場所を指定し、プロジェクトのメイン・クラスのパッケージおよび名前を定義しました。また、メイン・クラスに新規メソッドを追加し、ネイティブ実装を持つメソッドとして新規メソッドをマークしました。最後のステップとして、後でネイティブ・ライブラリのコンパイルで必要になるCヘッダー・ファイルを作成しました。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_新規cc動的ライブラリプロジェクトの設定">新規C/C++動的ライブラリ・プロジェクトの設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この項では、アプリケーションのネイティブ部分を作成する方法を示します。C++動的ライブラリ・プロジェクトを作成し、JNIコードをビルドできるようこれを構成します。</p>
</div>
<div class="paragraph">
<p>プロジェクトを設定した後、アプリケーションのJava部分で以前宣言したネイティブ・メソッドのための実装を作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「ファイル」&gt;「新規プロジェクト」を選択します。「カテゴリ」から「C/C」を選択します。「プロジェクト」から「C/C動的ライブラリ」を選択します。「次」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-new-project-c.png" alt="jni new project c">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「プロジェクト名」フィールドに「 <code>JNIDemoCdl</code> 」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクトの場所」フィールドには、Javaアプリケーション・プロジェクトに使用したのと同じ場所である <code>NetBeansProjects</code> を使用します。この場所はデフォルト値として表示されます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>他のすべてのフィールドはデフォルトを受け入れて、「終了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDEは <code>NetBeansProjects/JNIDemoCdl</code> プロジェクト・フォルダを作成します。</p>
</div>
<div class="sect2">
<h3 id="_プロジェクトプロパティの設定">プロジェクト・プロパティの設定</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「JNIDemoCdl」プロジェクト・ノードを右クリックし、「プロパティ」を選択します。</p>
</li>
<li>
<p>「プロパティ」ダイアログ・ボックスで、「ビルド」プロパティの下にある「Cコンパイラ」ノードを選択します。</p>
</li>
<li>
<p>「ディレクトリとヘッダーを含める」ボタンをクリックし、「ディレクトリとヘッダーを含める」ダイアログ・ボックスで「追加」をクリックします。</p>
</li>
<li>
<p>JDKディレクトリを参照し、 <code>include</code> サブディレクトリを選択します。</p>
</li>
<li>
<p>「絶対としてパスを保存」オプションを選択した後、「選択」をクリックして、このディレクトリをプロジェクトの「インクルード・ディレクトリ」に追加します。</p>
</li>
<li>
<p>JDKの <code>include/linux</code> ディレクトリを同じ方法で追加し、「OK」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-include-directories.png" alt="jni include directories">
</div>
</div>
<div class="paragraph">
<p>これらの設定は、CコードからJava  <code>jni.h</code> ライブラリへの参照を有効にするために必要です。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>「Cコンパイラ」オプションの「コンパイル行」領域を見つけます。「追加のオプション」プロパティのテキスト・フィールド内をクリックし、 <code>-shared -m32</code> と入力します。<span class="image"><img src="images/jni-project-properties-cmd-options.png" alt="jni project properties cmd options"></span></p>
<div class="literalblock">
<div class="content">
<pre>``-shared`` オプションは、動的ライブラリを生成することをコンパイラに指定します。
``-m32`` オプションは、32ビット・バイナリを作成することをコンパイラに指定します。64ビット・システムのデフォルトでは、コンパイルされたバイナリは64ビットで、このことは32ビットJDKで多くの問題を引き起こします。</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>左パネルの「リンカー」カテゴリをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>「出力」テキスト・フィールドをクリックして置換します。次の文字列を:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">${CND_DISTDIR}/${CND_CONF}/${CND_PLATFORM}/libJNIDemoCdl.so</code></pre>
</div>
</div>
<div class="paragraph">
<p>次の文字列へ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">dist/libJNIDemoCdl.so</code></pre>
</div>
</div>
<div class="paragraph">
<p>結果の共有オブジェクト・ファイルのパスが簡素化されます。これで、Javaからファイルを参照しやすくなります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-project-properties-linker.png" alt="jni project properties linker">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>「OK」をクリックします。定義された設定が保存されます。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ヘッダーファイルの追加">ヘッダー・ファイルの追加</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ターミナル・ウィンドウに移動し、以前生成した <code>JNIDemoJava.h</code> ヘッダー・ファイルを <code>NetBeansProjects</code> ディレクトリからC/C++ライブラリのプロジェクト・ディレクトリである <code>NetBeansProjects/JNIDemoCdl</code> に移動します。
2.
「プロジェクト」ウィンドウで、 <code>JNIDemoCdl</code> プロジェクトの「ヘッダー・ファイル」ノードを右クリックし、「既存の項目の追加」を選択します。 <code>NetBeansProjects/JNIDemoCdl</code> ディレクトリにナビゲートして <code>JNIDemoJava.h</code> ファイルを選択し、「選択」をクリックします。</p>
<div class="literalblock">
<div class="content">
<pre>``JNIDemoJava.h`` ファイルが「ヘッダー・ファイル」の下に表示されます。</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-source-files-include-file.png" alt="jni source files include file">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_メソッドの実装">メソッドの実装</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「 <code>JNIDemoCdl</code> 」プロジェクトの「ソース・ファイル」ノードを右クリックし、「新規」&gt;「Cソース・ファイル」を選択します。「ファイル名」フィールドに「 <code>JNIDemo</code> 」と入力し、「終了」をクリックします。エディタは <code>JNIDemo.c</code> ファイルを開きます。</p>
</li>
<li>
<p>次のコードを入力して、 <code>JNIDemo.c</code> ファイルを編集します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="c">#include &lt;jni.h&gt;
#include &lt;stdio.h&gt;
#include "JNIDemoJava.h"

JNIEXPORT void JNICALL Java_jnidemojava_Main_nativePrint
        (JNIEnv *env, jobject obj)
{

    printf("\nHello World from C\n");

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><code>JNIDemo.c</code> ファイルを保存します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「 <code>JNIDemoCdl</code> 」プロジェクト・ノードを右クリックし、「ビルド」を選択します。「出力」ウィンドウに <code>BUILD SUCCESSFUL (total time 171ms)</code>  (または類似する文)が表示されます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>サマリー</strong></p>
</div>
<div class="paragraph">
<p>この課題では、新規C/C++動的ライブラリを作成し、その場所を指定し、JavaメソッドのJNI実装をビルドできるようにこれを構成しました。Javaアプリケーション内で宣言したネイティブ・メソッド用の生成済ヘッダー・ファイルを追加し、これを実装しました。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_アプリケーションのビルドと実行">アプリケーションのビルドと実行</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題では、アプリケーションのJava部分に対して、いくつかの最終的な変更を実行します。これらの変更は、前の課題でコンパイルしたネイティブ・ライブラリをJava部分が正しくロードするために必要です。この後、結果のアプリケーションをコンパイルおよび実行します。</p>
</div>
<div class="sect2">
<h3 id="_javaプロジェクトの構成">Javaプロジェクトの構成</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>エディタで <code>Main.java</code> ファイルを開きます。</p>
</li>
<li>
<p>前の課題で短縮した出力ファイルのパスを使用して、 <code>public class Main</code> 行の後にC++動的ライブラリの次の初期化コードを追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">static {
        System.load("_full-path-to-NetBeansProjects-dir_/JNIDemoCdl/dist/libJNIDemoCdl.so");
       }</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>full-path-to-NetBeansProjects-dir_を、NetBeansProjectsディレクトリへのパス( <code>/home/_username</em>/NetBeansProjects</code> に類似したもの)に置き換えます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><code>Main.java</code> ファイルを保存します。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_jnidemojavaアプリケーションの実行">JNIDemoJavaアプリケーションの実行</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>「プロジェクト」ウィンドウでJNIDemoJavaアプリケーションを選択します。</p>
</li>
<li>
<p>F6を押すか、ツールバーの「実行」ボタンをクリックして、アプリケーションを実行します。プログラムが正しく実行され、「出力」ウィンドウに次のものと類似した出力が表示されます。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jni-build-success.png" alt="jni build success">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_サマリー">サマリー</h3>
<div class="paragraph">
<p>この課題では、いくつかの最終的な構成手順を実行し、アプリケーションを実行して、ネイティブ・メソッドの実装が、ネイティブCライブラリからのものであることを確認しました。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_次の手順">次の手順</h2>
<div class="sectionbody">
<div class="paragraph">
<p>作業を実際の例に対して確認する場合、netbeans.orgから<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FCPlusPlus%252FJNIDemo.zip">ソース・コードを含むzipファイルをダウンロード</a>できます。</p>
</div>
<div class="paragraph">
<p>次のドキュメントを使用して詳細情報を入手できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="quickstart.html">C/C+プロジェクトのクイック・スタート・チュートリアル+</a></p>
</li>
<li>
<p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/jni/">JNI仕様</a></p>
</li>
<li>
<p><a href="http://en.wikipedia.org/wiki/Java_Native_Interface">Java Native Interface</a>
link:https://netbeans.org/about/contact_form.html?to=7&amp;subject=Feedback:%20Beginning%20JNI%20with%20NetBeans%20IDE%20and%20C/C+%20Plugin%20on%20Linux[+このチュートリアルに関するご意見をお寄せください]</p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/cnd/beginning-jni-linux_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
