
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 Hibernate 创建 Maven Swing 应用程序 - NetBeans IDE 教程</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="使用 Hibernate 创建 Maven Swing 应用程序 - NetBeans IDE 教程 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 使用 Hibernate 创建 Maven Swing 应用程序 - NetBeans IDE 教程">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans (incubating)</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/nb100/nb100.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Just released!</div>
            <h1 syle='font-size: 2rem'>Apache NetBeans 10.0</h1>
            <p><a class="button success" href="/download/nb100/nb100.html">Read more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">使用 Hibernate 创建 Maven Swing 应用程序 - NetBeans IDE 教程</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. You can <a href="/kb/docs/contributing.html">help us review it.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_创建数据库">创建数据库</a></li>
<li><a href="#_配置_maven">配置 Maven</a>
<ul class="sectlevel2">
<li><a href="#_查看_maven_资源库">查看 Maven 资源库</a></li>
</ul>
</li>
<li><a href="#_创建_maven_应用程序">创建 Maven 应用程序</a>
<ul class="sectlevel2">
<li><a href="#_选择原型">选择原型</a></li>
<li><a href="#_修改项目属性">修改项目属性</a></li>
</ul>
</li>
<li><a href="#_添加_hibernate_文件和依赖关系">添加 Hibernate 文件和依赖关系</a>
<ul class="sectlevel2">
<li><a href="#_创建_hibernate_配置文件">创建 Hibernate 配置文件</a></li>
<li><a href="#_修改_hibernate_配置文件">修改 Hibernate 配置文件</a></li>
<li><a href="#_创建_code_hibernateutil_java_code_帮助文件">创建  <code>HibernateUtil.java</code>  帮助文件</a></li>
</ul>
</li>
<li><a href="#_生成_hibernate_映射文件和_java_类">生成 Hibernate 映射文件和 Java 类</a>
<ul class="sectlevel2">
<li><a href="#_创建逆向工程文件">创建逆向工程文件</a></li>
<li><a href="#_通过数据库创建_hibernate_映射文件和_pojo">通过数据库创建 Hibernate 映射文件和 POJO</a></li>
</ul>
</li>
<li><a href="#_创建应用程序_gui">创建应用程序 GUI</a>
<ul class="sectlevel2">
<li><a href="#_创建_jframe_窗体">创建 JFrame 窗体</a></li>
<li><a href="#_在窗体中添加元素">在窗体中添加元素</a></li>
</ul>
</li>
<li><a href="#_在_hql_查询编辑器中创建查询">在 HQL 查询编辑器中创建查询</a></li>
<li><a href="#_在窗体中添加查询">在窗体中添加查询</a></li>
<li><a href="#_运行_maven_项目">运行 Maven 项目</a>
<ul class="sectlevel2">
<li><a href="#_下载解决方案项目">下载解决方案项目</a></li>
</ul>
</li>
<li><a href="#_单独创建_pojo_和映射文件">单独创建 POJO 和映射文件</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>在本教程中，您将使用 NetBeans IDE 通过 Maven 原型创建 Java Swing 应用程序。该应用程序使用 Hibernate 框架作为持久层来检索关系数据库中的 POJO (plain old Java object) 对象。本教程演示了 IDE 中的向导将如何帮助您创建所需的 Hibernate 文件并将 Hibernate 依赖关系添加到 POM。创建 Java 对象并将应用程序配置为使用 Hibernate 后，您将创建一个 GUI 界面，用于搜索并显示数据。</p>
</div>
<div class="paragraph">
<p>NetBeans IDE 中完全集成了对 Maven 的支持，并且 Maven 3 已随 IDE 捆绑提供。在新建项目向导中，可以从捆绑的 Maven 原型或者从远程资源库中的原型创建应用程序。使用 Maven 资源库浏览器，可以浏览本地和远程 Maven 资源库，检查工件以及将项目依赖关系添加到项目的 POM 中。</p>
</div>
<div class="paragraph">
<p>要使用 Ant 构建此应用程序，请参见<a href="hibernate-java-se.html">在 Java Swing 应用程序中使用 Hibernate</a>。</p>
</div>
<div class="paragraph">
<p>要构建 Maven Java EE 应用程序，请参见<a href="../javaee/maven-entapp.html">使用 Maven 创建企业应用程序</a>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 7.2、7.3、7.4 和 8.0</div>
</div>
<div class="paragraph">
<p><strong>要学习本教程，您需要具备以下软件和资源。</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://download.netbeans.org/">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2、7.3、7.4、8.0、Java 包</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://maven.apache.org/">Maven</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 2.09 或更高</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.mysql.com/">MySQL 数据库服务器</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 5.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sakila 数据库</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">更新中心上可用的插件</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>在开始本教程之前，您可以先阅读下面这些文档。</p>
</div>
<div class="paragraph">
<p>您可以下载<a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/DVDStoreAdmin-Maven.zip">已完成项目的 zip 档案文件</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建数据库">创建数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本教程使用名为  <code>sakila</code>  的 MySQL 数据库。当您安装 IDE 时，样例数据库并未包括在内，因此您需要先创建数据库才能完成本教程。</p>
</div>
<div class="paragraph">
<p>Sakila 数据库是一个免费的样例 MySQL 数据库，可从 MySQL 站点获取。要创建 sakila 数据库，可使用 "Plugins"（插件）管理器下载并安装 "Sakila Sample Database"（Sakila 样例数据库）插件。安装好插件之后，您可以在 "Services"（服务）窗口中创建 sakila 数据库。sakila 数据库已添加到 "Create MySQL Database"（创建 MySQL 数据库）对话框的数据库列表中。</p>
</div>
<div class="paragraph">
<p>有关配置 IDE 使用 MySQL 的详细信息，请参见<a href="../ide/mysql.html">连接 MySQL 数据库</a>教程。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>打开 "Plugins"（插件）管理器，并安装 "Sakila Sample Database"（Sakila 样例数据库）插件。</p>
</li>
<li>
<p>安装插件之后，启动 MySQL 数据库，方法是在 "Services"（服务）窗口中展开 "Databases"（数据库）节点，右键单击 MySQL 服务器节点并选择 "Start"（启动）。</p>
</li>
<li>
<p>右键单击 MySQL 服务器节点并选择 "Create Database"（创建数据库）。</p>
</li>
<li>
<p>在 "Create MySQL Database"（创建 MySQL 数据库）对话框的 "New Database Name"（新数据库名称）下拉列表中选择 "Sakila" 数据库。单击 "OK"（确定）。
image::images/create-sakila-mysql.png[title=""Create MySQL Database"（创建 MySQL 数据库）对话框的屏幕快照"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "OK"（确定）后，IDE 将运行脚本以创建 Sakila 数据库，并填充数据库表。您可以在 "Output"（输出）窗口中查看运行脚本的结果。此时，还会在 MySQL 服务器节点下方添加 Sakila 数据库的节点。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Sakila" 节点，然后选择 "Connect"（连接）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Connect"（连接）后，"Databases"（数据库）节点下面将列出 Sakila 数据库连接节点 ( <code>jdbc:mysql://localhost:3306/sakila [<em>username</em> on Default]</code> )。打开连接时，可通过展开该连接节点查看数据库中数据。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_配置_maven">配置 Maven</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Maven 与 IDE 捆绑在一起，并在安装 IDE 时进行安装，但如果这是您首次创建 Maven 项目，则需要在 "Options"（选项）窗口中检查 Maven 配置设置。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 IDE 中打开“选项”窗口（“工具”&gt;“选项”；在 Mac 上为 "NetBeans" &gt;“首选项”）。</p>
</li>
<li>
<p>在 "Options"（选项）窗口中选择 "Java" 类别，然后单击 "Maven" 标签。</p>
</li>
<li>
<p>确认指定了 Maven Home 目录。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可以使用与 IDE 捆绑在一起的 Maven 版本，也可以指定 Maven 在本地的安装位置（要求为 2.0.9 或更高版本）。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "OK"（确定）以关闭 "Options"（选项）窗口。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>注：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>在 IDE 中启用 Java 后，会自动启用 Maven 支持。您将需要启用 Java EE 插件（如果尚未启用）。</p>
</li>
<li>
<p>在 NetBeans IDE 7.1 和 IDE 的早期版本中，"Options"（选项）窗口的 "Maven" 标签位于 "Miscellaneous"（其他）类别下。</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_查看_maven_资源库">查看 Maven 资源库</h3>
<div class="paragraph">
<p>Maven 用于构建所有项目的工件均存储在本地 Maven 资源库中。如果某一工件被声明为项目依赖关系，则会将其从已注册的某个远程资源库下载到您的本地资源库中。</p>
</div>
<div class="paragraph">
<p>默认情况下，已注册一些常见的索引 Maven 资源库，并将其列在资源库浏览器中。已注册的资源库包含构建项目所需的大多数公共工件。大多数情况下，无需注册任何其他资源库，除非项目需要使用只包含在专用资源库中的工件。</p>
</div>
<div class="paragraph">
<p>在 "Services"（服务）窗口中，可以浏览本地和远程 Maven 资源库和执行即时更新检查。本地或远程资源库中的所有工件都可以作为项目依赖关系进行添加。在 "Service"（服务）窗口中，可以展开 "Local repository"（本地资源库）节点以查看本地存在的工件。远程资源库节点下列出的工件可以作为项目依赖关系进行添加，但并非所有这些工件都在本地存在。仅当这些工件声明为项目依赖关系时，才会将其添加到本地资源库。</p>
</div>
<div class="paragraph">
<p>要浏览和更新 Maven 资源库，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "Window"（窗口）&gt; "Services"（服务）以打开 "Services"（服务）窗口。</p>
</li>
<li>
<p>在 "Services"（服务）窗口中展开 "Maven Repositories"（Maven 资源库）节点以查看资源库。</p>
</li>
<li>
<p>展开资源库节点以查看工件。</p>
</li>
<li>
<p>右键单击资源库节点并在弹出菜单中选择 "Update Index"（更新索引）以更新资源库。
image::images/maven-repositories.png[title=""Services"（服务）窗口中的 "Maven Repositories"（Maven 资源库）"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>当将光标置于某个工件上时，IDE 将显示包含其坐标的工具提示。可以双击工件的 JAR 文件以查看有关该工件的其他详细信息。</p>
</div>
<div class="paragraph">
<p>在 "Services"（服务）窗口中右键单击 "Maven Repositories"（Maven 资源库）并选择 "Find"（查找）可搜索工件。</p>
</div>
<div class="paragraph">
<p>有关管理 Maven 类路径依赖关系和在 IDE 中使用 Maven 资源库的详细信息，请参见 <a href="http://wiki.netbeans.org/MavenBestPractices#section-MavenBestPractices-DependencyManagement">NetBeans IDE 中的 Apache Maven 最佳做法</a>的<a href="http://wiki.netbeans.org/MavenBestPractices">依赖关系管理</a>部分。</p>
</div>
<div class="paragraph">
<p><strong>NetBeans IDE 7.1 和 IDE 较早版本的注释。</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>选择 "Window"（窗口）&gt; "Other"（其他）&gt; "Maven Repositories Browser"（Maven 资源库浏览器）以查看 Maven 资源库。</p>
</li>
<li>
<p>可以使用 Maven 资源库浏览器的工具栏中的按钮来更新索引和搜索工件。</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_maven_应用程序">创建 Maven 应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本教程中，您将创建一个简单的 Java Swing 应用程序项目 DVDStoreAdmin。您将通过某个捆绑的 Maven 原型创建项目，然后修改默认项目设置。</p>
</div>
<div class="sect2">
<h3 id="_选择原型">选择原型</h3>
<div class="paragraph">
<p>使用新建项目向导可以通过 Maven 原型创建 Maven 项目。IDE 包含一些常用 NetBeans 项目类型的原型，但是您也可以在该向导中找到并选择远程资源库中的原型。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从主菜单中选择 "File"（文件）&gt; "New Project"（新建项目）（Ctrl-Shift-N 组合键；在 Mac 上为 ⌘-Shift-N 组合键），以打开新建项目向导。</p>
</li>
<li>
<p>从 "Maven" 类别中选择 "Java Application"（Java 应用程序）。单击 "Next"（下一步）。
image::images/maven-project-wizard.png[title="新建项目向导中的 "Maven Archetypes"（Maven 原型）"]</p>
</li>
<li>
<p>键入 <strong>DVDStoreAdmin</strong> 作为项目名称并设置项目位置。</p>
</li>
<li>
<p>修改默认的组 ID 和版本（可选）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>构建项目时，组 ID 和版本将作为工件在本地资源库中的坐标使用。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成）后，IDE 将创建 Maven 项目并在 "Projects"（项目）窗口中打开该项目。IDE 将自动在  <code>com.mycompany.dvdstoreadmin</code>  包中创建类  <code>App.java</code> 。您可以删除  <code>App.java</code> ，因为应用程序不需要使用该类。</p>
</div>
<div class="paragraph">
<p>*注：*如果这是首次创建 Maven 项目，则 Maven 需要将一些必需的插件和工件下载到本地资源库中。这可能会花费一些时间。</p>
</div>
</div>
<div class="sect2">
<h3 id="_修改项目属性">修改项目属性</h3>
<div class="paragraph">
<p>使用向导创建 Maven 项目时，默认项目属性是基于原型的。在某些情况下，您可能需要根据自己所用的系统及项目的要求对默认属性进行修改。例如，对于本项目，由于项目使用标注，因此您需要确认将源代码级别设置为 1.5 或更高版本。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击项目节点，然后选择 "Properties"（属性）。</p>
</li>
<li>
<p>在 "Properties"（属性）窗口中选择 "Sources"（源）类别。</p>
</li>
<li>
<p>确认在下拉列表中选择的 "Source/Binary Format"（源代码/二进制格式）为 1.5 或更高版本。</p>
</li>
<li>
<p>从 "Encoding"（编码）属性的下拉列表中选择 "UTF-8"。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_添加_hibernate_文件和依赖关系">添加 Hibernate 文件和依赖关系</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要添加对 Hibernate 的支持，您需要使 Hibernate 库可用，方法是在 POM 中将所需工件声明为依赖关系。IDE 提供的向导可以帮助您创建在项目中需要的 Hibernate 文件。您可以使用 IDE 中的向导来创建 Hibernate 配置文件和实用程序帮助类。如果您使用向导创建 Hibernate 配置文件，IDE 将自动更新 POM，以将 Hibernate 依赖关系添加到项目中。</p>
</div>
<div class="paragraph">
<p>您可以在 "Projects"（项目）窗口中将依赖关系添加到项目，也可以直接编辑  <code>pom.xml</code> 。要在 "Projects"（项目）窗口中添加依赖关系，请右键单击 "Projects"（项目）窗口中的 "Dependencies"（依赖关系）节点，然后从弹出菜单中选择 "Add Dependency"（添加依赖关系）以打开 "Add Dependency"（添加依赖关系）对话框。添加依赖关系时，IDE 将更新 POM 并将本地尚不存在的任何所需工件下载到本地资源库。</p>
</div>
<div class="paragraph">
<p>要直接编辑  <code>pom.xml</code> ，请在 "Projects"（项目）窗口中展开 "Project Files"（项目文件）节点，然后双击  <code>pom.xml</code>  以打开该文件。</p>
</div>
<div class="sect2">
<h3 id="_创建_hibernate_配置文件">创建 Hibernate 配置文件</h3>
<div class="paragraph">
<p>Hibernate 配置文件 ( <code>hibernate.cfg.xml</code> ) 包含关数据库连接、资源映射和其他连接属性的信息。在使用向导创建 Hibernate 配置文件时，您可以从 IDE 的注册数据库连接列表中选择数据库连接。生成配置文件时，IDE 会根据所选的数据库连接自动添加连接详细信息和方言信息。IDE 还会自动修改 POM 以添加所需的 Hibernate 依赖关系。创建配置文件之后，您可以使用多视图编辑器来编辑文件，也可以直接在 XML 编辑器中编辑 XML 文件。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Services"（服务）窗口中的 Sakila 数据库连接，然后选择 "Connect"（连接）。</p>
</li>
<li>
<p>在 "Projects"（项目）窗口中右键单击 "Source Packages"（源包）节点，并选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>从 "Hibernate" 类别中选择 Hibernate 配置向导。单击 "Next"（下一步）。</p>
</li>
<li>
<p>保留默认文件名 ( <code>hibernate.cfg</code> )。</p>
</li>
<li>
<p>单击 "Browse"（浏览）并指定  <code>src/main/resources</code>  目录作为位置（如果尚未指定）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>在 "Database Connection"（数据库连接）下拉列表中，选择 sakila 连接。单击 "Finish"（完成）。
image::images/hib-config.png[title="用于选择数据库连接的对话框"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成）后，IDE 在编辑器中打开  <code>hibernate.cfg.xml</code> 。配置文件包含关于单一数据库的信息。</p>
</div>
<div class="paragraph">
<p>如果在 "Projects"（项目）窗口中展开 "Dependencies"（依赖关系）节点，则可以看到 IDE 已添加了所需的 Hibernate 工件。IDE 会在 "Dependencies"（依赖关系）节点下列出编译项目所需的所有直接依赖关系和传递依赖关系。作为直接依赖关系（项目的 POM 中指定的依赖关系）的工件以彩色 JAR 图标表示。作为传递依赖关系的工件（该工件是一个或多个直接依赖关系的依赖关系）以灰色显示。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-project-libs.png" alt="maven project libs" width="Projects"（项目）窗口中的 "Libraries"（库）节点下的依赖关系"">
</div>
<div class="title">Figure 2. </div>
</div>
<div class="paragraph">
<p>通过右键单击某个 JAR 并选择 "View Artifact Details"（查看工件详细信息），可以查看工件的详细信息。工件查看器包含一些标签，其中提供了有关选定工件的详细信息。例如，"Basic"（基本）标签提供了有关工件坐标和可用版本的详细信息。"Graph"（图形）标签提供了选定工件的依赖关系的可视表示。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-artifacts-viewer.png" alt="maven artifacts viewer" width="Graphs"（图形）标签或工件查看器"">
</div>
<div class="title">Figure 3. 显示依赖关系的 </div>
</div>
<div class="paragraph">
<p>您也可以使用 "Graph"（图形）标签发现并解决依赖关系间的版本冲突问题。</p>
</div>
</div>
<div class="sect2">
<h3 id="_修改_hibernate_配置文件">修改 Hibernate 配置文件</h3>
<div class="paragraph">
<p>在本练习中，您将编辑  <code>hibernate.cfg.xml</code>  中指定的默认属性来启用 SQL 语句的调试日志记录。本练习为可选。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Design"（设计）标签中打开  <code>hibernate.cfg.xml</code> 。可以通过展开 "Projects"（项目）窗口的 "Configuration Files"（配置文件）节点并双击  <code>hibernate.cfg.xml</code>  来打开该文件。</p>
</li>
<li>
<p>在 "Optional Properties"（可选属性）下，展开 "Configuration Properties"（配置属性）节点。</p>
</li>
<li>
<p>单击 "Add"（添加）以打开 "Add Hibernate Property"（添加 Hibernate 属性）对话框。</p>
</li>
<li>
<p>在此对话框中，选择  <code>hibernate.show_sql</code>  属性并将值设置为  <code>true</code> 。单击 "OK"（确定）。这将启用 SQL 语句的调试日志记录。
image::images/add-property-showsql.png[title="显示 hibernate.show_sql 属性的设置值的 "Add Hibernate Property"（添加 Hibernate 属性）对话框"]</p>
</li>
<li>
<p>单击 "Miscellaneous Properties"（其他属性）节点下的 "Add"（添加），然后选择 "Property Name"（属性名称）下拉列表中的  <code>hibernate.query.factory_class</code> 。</p>
</li>
<li>
<p>在文本字段中键入 <strong>org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory</strong>。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*不要从下拉列表中选择值。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-factoryclass-4.png" alt="add property factoryclass 4" width="Add Hibernate Property"（添加 Hibernate 属性）对话框"">
</div>
<div class="title">Figure 4. 显示 hibernate.query.factory_class 属性的设置值的 </div>
</div>
<div class="paragraph">
<p>如果单击编辑器中的 XML 标签，则可以在 XML 视图中看到此文件。您的文件应看起来类似于以下内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;hibernate-configuration&gt;
    &lt;session-factory name="session1"&gt;
        &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name="hibernate.connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt;
        &lt;property name="hibernate.connection.url"&gt;jdbc:mysql://localhost:3306/sakila&lt;/property&gt;
        &lt;property name="hibernate.connection.username"&gt;root&lt;/property&gt;
        &lt;property name="hibernate.connection.password"&gt;######&lt;/property&gt;
        &lt;property name="hibernate.show_sql"&gt;true&lt;/property&gt;
        &lt;property name="hibernate.query.factory_class"&gt;org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory&lt;/property&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存对该文件所做的更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>运行项目时，您将能够在 IDE 的 "Output"（输出）窗口中看到输出的 SQL 查询。</p>
</div>
</div>
<div class="sect2">
<h3 id="_创建_code_hibernateutil_java_code_帮助文件">创建  <code>HibernateUtil.java</code>  帮助文件</h3>
<div class="paragraph">
<p>要使用 Hibernate，您需要创建一个 helper 类，该类处理启动并访问 Hibernate 的  <code>SessionFactory</code>  以获取 "Session"（会话）对象。该类将调用 Hibernate 的  <code>configure()</code>  方法，加载  <code>hibernate.cfg.xml</code>  配置文件，然后构建  <code>SessionFactory</code>  来获取会话对象。</p>
</div>
<div class="paragraph">
<p>在此部分，使用新建文件向导创建 helper 类  <code>HibernateUtil.java</code> 。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Source Packages"（源包）节点并选择 "New"（新建）&gt; "Other"（其他），打开新建文件向导。</p>
</li>
<li>
<p>从 "Categories"（类别）列表中选择 "Hibernate"，从 "File Types"（文件类型）列表中选择 HibernateUtil.java。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>HibernateUtil</strong> 作为类名，并键入 <strong>sakila.util</strong> 作为包名。单击 "Finish"（完成）。
image::images/maven-hibutil-wizard.png[title="Hibernate 实用程序向导"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时  <code>HibernateUtil.java</code>  将在编辑器中打开。由于不需要编辑该文件，因此可以关闭该文件。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_生成_hibernate_映射文件和_java_类">生成 Hibernate 映射文件和 Java 类</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本教程中，您将使用 POJO  <code>Actor.java</code>  表示数据库中的 ACTOR 表的数据。该类为表中的列指定字段并使用简单的 setter 和 getter 检索和编写数据。要将  <code>Actor.java</code>  映射到 ACTOR 表，您可以使用 Hibernate 映射文件或使用类中的注释。</p>
</div>
<div class="paragraph">
<p>您可以使用逆向工程向导和 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导，基于所选的数据库表创建多个 POJO 和映射文件。或者，也可以使用 IDE 中的相应向导帮助您从头创建各个 POJO 和映射文件。</p>
</div>
<div class="paragraph">
<p>*注：*要为多个表创建文件时，您很可能希望使用这些向导。在本教程中，您只需创建一个 POJO 和一个映射文件，因此单独创建各文件相当简单。本教程的末尾介绍了<a href="#10">单独创建 POJO 和映射文件</a>的步骤。</p>
</div>
<div class="sect2">
<h3 id="_创建逆向工程文件">创建逆向工程文件</h3>
<div class="paragraph">
<p>要使用通过数据库生成 POJO 和映射文件向导，您需要首先在  <code>src/main/resources</code>  目录（在其中创建了  <code>hibernate.cfg.xml</code> ）中创建  <code>reveng.xml</code>  逆向工程文件。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Source Packages"（源包）节点并选择 "New"（新建）&gt; "Other"（其他），打开新建文件向导。</p>
</li>
<li>
<p>从 "Categories"（类别）列表中选择 "Hibernate"，然后从 "File Types"（文件类型）列表中选择 Hibernate 逆向工程向导。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>hibernate.reveng</strong> 作为文件名。</p>
</li>
<li>
<p>指定 * <code>src/main/resources</code> * 作为位置。单击 "Next"（下一步）。</p>
</li>
<li>
<p>在 "Available Tables"（可用表）窗格中选择 <strong>actor</strong>，然后单击 "Add"（添加）。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>该向导将生成  <code>hibernate.reveng.xml</code>  逆向工程文件。可将该逆向工程文件关闭，因为无需对其进行编辑。</p>
</div>
<div class="paragraph">
<p>*注：*此项目需要 MySQL 连接器 jar 库（例如， <code>mysql-connector-jar-5.1.13.jar</code> ）。如果在 "Dependencies"（依赖关系）节点下面未将适当的 JAR 作为项目依赖关系列出，则可以右键单击 "Dependencies"（依赖关系）节点并选择 "Add Dependency"（添加依赖关系）以添加依赖关系。</p>
</div>
</div>
<div class="sect2">
<h3 id="_通过数据库创建_hibernate_映射文件和_pojo">通过数据库创建 Hibernate 映射文件和 POJO</h3>
<div class="paragraph">
<p>"Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导生成基于数据库表的文件。使用该向导时，IDE 将基于  <code>hibernate.reveng.xml</code>  中指定的数据库表生成 POJO 和映射文件，然后将映射条目添加到  <code>hibernate.cfg.xml</code> 。使用向导时可选择希望 IDE 生成的文件（比如，只生成 POJO）并选择代码生成选项（例如，生成使用 EJB 3 标注的代码）。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击 "Source Packages"（源包）节点，并选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>在 "Hibernate" 类别中选择 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>从 "Hibernate Configuration File"（Hibernate 配置文件）下拉列表中选择  <code>hibernate.cfg.xml</code> （如果未将其选定）。</p>
</li>
<li>
<p>从 "Hibernate Reverse Engineering File"（Hibernate 逆向工程文件）下拉列表中选择  <code>hibernate.reveng.xml</code> （如果未将其选定）。</p>
</li>
<li>
<p>确保选中了 <strong>Domain Code</strong>（域代码）和 <strong>Hibernate XML Mappings</strong>（Hibernate XML 映射）选项。</p>
</li>
<li>
<p>键入 <strong>sakila.entity</strong> 作为包名。单击 "Finish"（完成）。
image::images/mapping-pojos-wizard.png[title=""Generate Hibernate Mapping Files and POJOs"（生成 Hibernate 映射文件和 POJO）向导"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 将在  <code>src/main/java/sakila/entity</code>  目录中生成包含所有必需字段的 POJO  <code>Actor.java</code> 。IDE 还会在  <code>src/main/resources/sakila/entity</code>  目录中生成 Hibernate 映射文件，并将映射条目添加到  <code>hibernate.cfg.xml</code> 。</p>
</div>
<div class="paragraph">
<p>您已经创建了 POJO 和所需的 Hibernate 相关文件，现在，您可以为应用程序创建一个简单的 Java GUI 前端。您还将创建并添加一个 HQL 查询，用于查询数据库以检索数据。在此过程中，我们还将使用 HQL 编辑器来构建和测试查询。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建应用程序_gui">创建应用程序 GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，您将创建一个简单的 JFrame 窗体，并添加一些字段用于输入和显示数据。您还将添加一个按钮，用于触发检索数据的数据库查询。</p>
</div>
<div class="paragraph">
<p>如果您不知道如何使用 GUI 构建器创建窗体，可以阅读<a href="gui-functionality.html">构建 GUI 应用程序简介</a>教程。</p>
</div>
<div class="sect2">
<h3 id="_创建_jframe_窗体">创建 JFrame 窗体</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击项目节点，然后选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>从 "Swing GUI Forms"（Swing GUI 窗体）类别中选择 "JFrame Form"（JFrame 窗体）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>DVDStoreAdmin</strong> 作为类名，并键入 <strong>sakila.ui</strong> 作为包名。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 将创建类并在编辑器的 "Design"（设计）视图中打开 JFrame 窗体。</p>
</div>
</div>
<div class="sect2">
<h3 id="_在窗体中添加元素">在窗体中添加元素</h3>
<div class="paragraph">
<p>现在，您需要在窗体中添加 UI 元素。在编辑器中的 "Design"（设计）视图中打开窗体后，"Palette"（组件面板）出现在 IDE 的右侧。在窗体中添加元素的方法是将 "Palette"（组件面板）中的元素拖至窗体区域。将元素添加到窗体之后，您需要修改元素 "Variable Name"（变量名称）属性的默认值。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从 "Palette"（组件面板）中拖出一个 "Label"（标签）元素，并将文本更改为 <strong>Actor Profile</strong>。</p>
</li>
<li>
<p>从 "Palette"（组件面板）中拖出一个 "Label"（标签）元素，并将文本更改为 <strong>First Name</strong>。</p>
</li>
<li>
<p>拖放一个 "Text Field"（文本字段）元素到 "First Name" 标签旁边，并删除默认文本。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>删除默认文本后，文本字段将折叠起来。您可以稍后调整文本字段的大小，以调整窗体元素的对齐方式。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从 "Palette"（组件面板）中拖出一个 "Label"（标签）元素，并将文本更改为 <strong>Last Name</strong>。</p>
</li>
<li>
<p>拖放一个 "Text Field"（文本字段）元素到 "Last Name" 标签旁边，并删除默认文本。</p>
</li>
<li>
<p>从 "Palette"（组件面板）中拖出一个 "Button"（按钮）元素，并将文本更改为 <strong>Query</strong>。</p>
</li>
<li>
<p>从 "Palette"（组件面板）中拖放一个 "Table"（表）元素到窗体中。</p>
</li>
<li>
<p>根据下表中的值更改以下 UI 元素的 "Variable Name"（变量名称）值。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可以更改元素的 "Variable Name"（变量名称）值，方法是右键单击 "Design"（设计）视图中的元素并选择 "Change Variable Name"（更改变量名称）。或者，您可以直接在 "Inspector"（检查器）窗口中更改变量名称。</p>
</div>
<div class="paragraph">
<p>您不需要为 "Label"（标签）元素指定变量名称。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">元素</th>
<th class="tableblock halign-left valign-top">变量名称</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"First Name" 文本字段</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>firstNameTextField</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Last Name" 文本字段</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lastNameTextField</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Query" 按钮</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryButton</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">表</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultTable</code></p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>调整文本字段的大小并对齐窗体元素。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可以对文本字段启用 "Horizontal Resizable"（可水平调整大小）属性，以确保文本字段的大小可随窗口进行调整且元素间距保持不变。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存所做的更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在 "Design"（设计）视图中，您的窗体应与下图类似。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-jframe-form.png" alt="hib jframe form">
</div>
<div class="title">Figure 5. 编辑器设计视图中的 GUI 窗体</div>
</div>
<div class="paragraph">
<p>现在，您已经创建了窗体。接下来，您需要创建为窗体元素指定活动的代码。在下一练习中，您将根据 Hibernate 查询语言构建查询来检索数据。构建查询之后，您将在窗体中添加一些方法，用于在单击 "Query" 按钮时调用适当的查询。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_在_hql_查询编辑器中创建查询">在 HQL 查询编辑器中创建查询</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在 IDE 中，您可以使用 HQL 查询编辑器根据 Hibernate 查询语言来构建和测试查询。键入查询时，编辑器将显示等价的（经过转换的）SQL 查询。单击工具栏中的 "Run HQL Query"（运行 HQL 查询）按钮后，IDE 将执行查询并在编辑器底部显示结果。</p>
</div>
<div class="paragraph">
<p>在本练习中，您将使用 HQL 编辑器构建简单的 HQL 查询，用于根据姓氏和名字查询演员的详细信息。将查询添加到类中之前，您需要使用 HQL 查询编辑器测试连接运行正常，且查询生成了预期的结果。在运行该查询之前，您首先需要对应用程序进行编译。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击项目节点，然后选择 "Build"（构建）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Build"（构建）后，IDE 会将所需的工件下载到您本地的 Maven 资源库。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中的 "Other Sources"（其他源）节点下展开  <code>&lt;默认包&gt;</code>  源包节点。</p>
</li>
<li>
<p>右键单击  <code>hibernate.cfg.xml</code>  配置文件，然后选择 "Run HQL Query"（运行 HQL 查询）以打开 HQL 编辑器。</p>
</li>
<li>
<p>通过在 HQL 查询编辑器中键入  <code>from Actor</code>  来测试连接。单击工具栏中的 "Run HQL Query"（运行 HQL 查询）按钮 (image::images/run_hql_query_16.png[title=""Run HQL Query"（运行 HQL 查询）按钮"])。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Run HQL Query"（运行 HQL 查询）按钮之后，您应该能在 HQL 查询编辑器的底部窗格中看到查询结果。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-query-hqlresults.png" alt="hib query hqlresults">
</div>
<div class="title">Figure 6. 显示 HQL 查询结果的 HQL 查询编辑器</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 HQL 查询编辑器中键入以下查询，然后单击 "Run HQL Query"（运行 HQL 查询）查询搜索字符串为 "PE" 时的查询结果。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">from Actor a where a.firstName like 'PE%'</code></pre>
</div>
</div>
<div class="paragraph">
<p>该查询返回姓氏以 'PE' 开头的演员详细信息列表。</p>
</div>
<div class="paragraph">
<p>如果您单击结果上方的 SQL 按钮，您应该能看到与以下等价的 SQL 查询。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">select actor0_.actor_id as col_0_0_ from sakila.actor actor0_ where (actor0_.first_name like 'PE%' )</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>打开一个新的 HQL 查询编辑器标签，在编辑器窗格中键入以下查询。单击 "Run HQL Query"（运行 HQL 查询）按钮。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">from Actor a where a.lastName like 'MO%'</code></pre>
</div>
</div>
<div class="paragraph">
<p>该查询返回名字以 'MO' 开头的演员详细信息列表。</p>
</div>
<div class="paragraph">
<p>测试表明，查询返回了预期结果。下一步需要在应用程序中实现查询，以便单击窗体中的 "Query" 按钮能调用正确的查询。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_在窗体中添加查询">在窗体中添加查询</h2>
<div class="sectionbody">
<div class="paragraph">
<p>现在，您需要修改  <code>DVDStoreAdmin.java</code> ，添加一些查询字符串并创建一些方法，用于构建和调用合并输入变量的查询。您还需要修改按钮事件处理程序，以调用正确的查询，并添加一个用于在表中显示查询结果的方法。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>打开  <code>DVDStoreAdmin.java</code>  并单击 "Source"（源）标签。</p>
</li>
<li>
<p>将以下查询字符串（粗体）添加到类中。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public DVDStoreAdmin() {
    initComponents();
}

*private static String QUERY_BASED_ON_FIRST_NAME="from Actor a where a.firstName like '";
private static String QUERY_BASED_ON_LAST_NAME="from Actor a where a.lastName like '";*</code></pre>
</div>
</div>
<div class="paragraph">
<p>可以将 HQL 查询编辑器标签中的查询复制到文件中，然后再修改代码。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法，以根据用户输入字符串创建查询。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void runQueryBasedOnFirstName() {
    executeHQLQuery(QUERY_BASED_ON_FIRST_NAME + firstNameTextField.getText() + "%'");
}

private void runQueryBasedOnLastName() {
    executeHQLQuery(QUERY_BASED_ON_LAST_NAME + lastNameTextField.getText() + "%'");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>这些方法调用一个名称为  <code>executeHQLQuery()</code>  的方法，并通过结合查询字符串与用户输入的搜索字符串来创建查询。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加  <code>executeHQLQuery()</code>  方法。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void executeHQLQuery(String hql) {
    try {
        Session session = HibernateUtil.getSessionFactory().openSession();
        session.beginTransaction();
        Query q = session.createQuery(hql);
        List resultList = q.list();
        displayResult(resultList);
        session.getTransaction().commit();
    } catch (HibernateException he) {
        he.printStackTrace();
    }
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``executeHQLQuery()``  方法调用 Hibernate 来执行选定的查询。该方法利用  ``HibernateUtil.java``  实用程序类来获取 Hibernate 会话。</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复您的导入，为 Hibernate 库（ <code>org.hibernate.Query</code> ,  <code>org.hibernate.Session</code> ）和  <code>java.util.List</code>  添加导入语句。</p>
</li>
<li>
<p>切换到 "Design"（设计）视图并双击 "Query" 按钮，创建一个 "Query" 按钮事件处理程序。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE 将创建  <code>queryButtonActionPerformed</code>  方法并在 "Source"（源）视图中显示该方法。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Source"（源）视图中修改  <code>queryButtonActionPerformed</code>  方法，添加以下代码，以便查询能在用户单击按钮时正确运行。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void queryButtonActionPerformed(java.awt.event.ActionEvent evt) {
    *if(!firstNameTextField.getText().trim().equals("")) {
        runQueryBasedOnFirstName();
    } else if(!lastNameTextField.getText().trim().equals("")) {
        runQueryBasedOnLastName();
    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法，在 JTable 中显示结果。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void displayResult(List resultList) {
    Vector&lt;String&gt; tableHeaders = new Vector&lt;String&gt;();
    Vector tableData = new Vector();
    tableHeaders.add("ActorId");
    tableHeaders.add("FirstName");
    tableHeaders.add("LastName");
    tableHeaders.add("LastUpdated");

    for(Object o : resultList) {
        Actor actor = (Actor)o;
        Vector&lt;Object&gt; oneRow = new Vector&lt;Object&gt;();
        oneRow.add(actor.getActorId());
        oneRow.add(actor.getFirstName());
        oneRow.add(actor.getLastName());
        oneRow.add(actor.getLastUpdate());
        tableData.add(oneRow);
    }
    resultTable.setModel(new DefaultTableModel(tableData, tableHeaders));
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复导入（Ctrl+Shift+I 组合键）以添加  <code>java.util.Vector</code> ，然后保存所做的更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>保存窗体之后，您可以运行项目。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_运行_maven_项目">运行 Maven 项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>现在您已完成了编码工作，接下来可以构建项目并启动应用程序了。在 IDE 中构建 Maven 项目时，Maven 将读取项目的 POM 以识别项目依赖关系。要构建项目，指定为依赖关系的所有工件都必须位于本地 Maven 资源库中。如果某个所需的工件不在本地资源库中，Maven 将先从远程资源库中检出该工件，然后再尝试构建并运行项目。构建项目后，Maven 会将构建的二进制文件作为工件安装到本地资源库中。</p>
</div>
<div class="paragraph">
<p><strong>注：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>如果 IDE 需要检出任何项目依赖关系，则首次构建并运行项目可能要花费一些时间。之后的构建过程将会加快。</p>
</li>
<li>
<p>要运行此应用程序，首先需要指定“主类”。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>要编译并启动此应用程序，请执行以下任务。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Projects"（项目）窗口中的项目节点，然后选择 "Properties"（属性）。</p>
</li>
<li>
<p>在 "Project Properties"（项目属性）对话框中选择 "Run"（运行）类别。</p>
</li>
<li>
<p>键入 <strong>sakila.ui.DVDStoreAdmin</strong> 作为主类。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>或者，您可以单击 "Browse"（浏览）按钮并在对话框中选择主类。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/browse-main-class.png" alt="browse main class" width="Browse Main Classes"（浏览主类）对话框中设置主类"">
</div>
<div class="title">Figure 7. 在 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击主工具栏中的 "Run Project"（运行项目）以启动应用程序。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在 IDE 中对 Maven 项目调用 "Run"（运行）操作时，IDE 将运行与 "Run"（运行）操作关联的 Maven 目标。IDE 具有绑定到 IDE 操作的默认目标，这些目标依据项目包而定。在项目 "Properties"（属性）窗口的 "Actions"（操作）窗格中，可以查看绑定到 "Run"（运行）操作的目标。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-projectproperties.png" alt="maven projectproperties" width="Actions"（操作）窗格"">
</div>
<div class="title">Figure 8. DVDStoreAdmin 项目属性窗口的 </div>
</div>
<div class="paragraph">
<p>在项目 "Properties"（属性）窗口的 "Actions"（操作）窗格中，可以定制操作的绑定目标。</p>
</div>
<div class="paragraph">
<p>启动应用程序时，GUI 窗体打开。在 "First Name" 或 "Last Name" 字段中键入搜索字符串，并单击 "Query" 来搜索演员并查看详细信息。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/application-run.png" alt="application run">
</div>
<div class="title">Figure 9. 显示结果的 DVDStoreAdmin 应用程序</div>
</div>
<div class="paragraph">
<p>如果您查看 IDE 的 "Output"（输出）窗口，您可以看到检索显示结果的 SQL 查询。</p>
</div>
<div class="sect2">
<h3 id="_下载解决方案项目">下载解决方案项目</h3>
<div class="paragraph">
<p>您可以采用下列方法下载本教程的解决方案（作为一个项目）。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>下载<a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/DVDStoreAdmin-Maven.zip">已完成项目的 zip 档案文件</a>。</p>
</li>
<li>
<p>通过执行以下步骤从 NetBeans 样例检出项目源代码：</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从主菜单中选择 "Team"（团队开发）&gt; "Subversion" &gt; "Checkout"（检出）。</p>
</li>
<li>
<p>在 "Checkout"（检出）对话框中，输入以下资源库 URL：
 <code><a href="https://svn.netbeans.org/svn/samples~samples-source-code" class="bare">https://svn.netbeans.org/svn/samples~samples-source-code</a></code>
单击 "Next"（下一步）。</p>
</li>
<li>
<p>单击 "Browse"（浏览）以打开 "Browse Repostiory Folders"（浏览资源库文件夹）对话框。</p>
</li>
<li>
<p>展开根节点，然后选择 <strong>samples/java/DVDStoreAdmin-Maven</strong>。单击 "OK"（确定）。</p>
</li>
<li>
<p>指定用于存储源代码的本地文件夹（本地文件夹必须为空）。</p>
</li>
<li>
<p>单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 会将本地文件夹初始化为 Subversion 资源库，并检出项目源代码。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在完成检出操作后将会显示一个对话框，在该对话框中单击 "Open Project"（打开项目）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>注：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>从 Kenai 检出源代码的步骤仅适用于 NetBeans IDE 6.7 和 6.8。</p>
</li>
<li>
<p>需要 Subversion 客户端以从 Kenai 检出源代码。有关安装 Subversion 的更多信息，请参见 <a href="../ide/subversion.html">NetBeans IDE 中的 Subversion 指南</a>中有关<a href="../ide/subversion.html#settingUp">设置 Subversion</a> 的部分。</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_单独创建_pojo_和映射文件">单独创建 POJO 和映射文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>由于 POJO 是一个简单的 Java 类，因此您可以使用新建 Java 类向导创建类，然后在源代码编辑器中编辑该类，添加必要的字段以及 getter 和 setter 方法。创建 POJO 之后，您可以使用相应的向导创建一个将类映射到表的 Hibernate 映射文件，并将映射信息添加到  <code>hibernate.cfg.xml</code> 。从头开始创建映射文件时，您需要在 XML 编辑器中将字段映射到列。</p>
</div>
<div class="paragraph">
<p>*注：*此练习是可选的，说明了如何使用 "Hibernate Mapping Files and POJOs from Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导创建 POJO 和映射文件。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Projects"（项目）窗口中的 "Source Packages"（源包）节点并选择 "New"（新建）&gt; "Java Class"（Java 类）以打开新建 Java 类向导。</p>
</li>
<li>
<p>在该向导中，键入*类名*作为类名，键入 <strong>sakila.entity</strong> 作为包名。单击 "Finish"（完成）。</p>
</li>
<li>
<p>对类进行以下更改（显示为粗体）以实现“可串行化”接口并为表列添加字段。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public class Actor *implements Serializable* {
    *private Short actorId;
    private String firstName;
    private String lastName;
    private Date lastUpdate;*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>为字段生成 getter 和 setter 方法，方法是将光标放置在源代码编辑器中，按下 Alt-Insert 并选择 "Getter and Setter"（Getter 和 Setter）。</p>
</li>
<li>
<p>在 "Generate Getters and Setters"（生成 Getter 和 Setter）对话框中，选择所有字段并单击 "Generate"（生成）。
image::images/getters-setters.png[title=""Generate Getters and Setters"（生成 getter 和 setter）对话框"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在 "Generate Getters and Setters"（生成 Getter 和 Setter）对话框中，您可以使用键盘中的向上箭头将所选项目移动到 Actor 节点中，然后按空格键选择 Actor 中的所有字段。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复导入并保存更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>为表创建 POJO 之后，您需要为  <code>Actor.java</code>  创建一个 Hibernate 映射文件。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击  <code>sakila.entity</code>  源包节点，然后选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>从 "Hibernate" 类别中选择 "Hibernate Mapping Wizard"（Hibernate 映射向导）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>Actor.hbm</strong> 作为文件名，并将 "Folder"（文件夹）设置为 <strong>src/main/resources/sakila/entity</strong>。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>sakila.entity.Actor</strong> 作为要映射的类。</p>
</li>
<li>
<p>从 "Database Table"（数据库表）下拉列表中选择 <strong>actor</strong>（如果尚未将其选定）。单击 "Finish"（完成）。
image::images/mapping-wizard.png[title="生成 Hibernate 映射文件向导"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时将在源代码编辑器中打开 Hibernate 映射文件  <code>Actor.hbm.xml</code> 。IDE 还会自动在  <code>hibernate.cfg.xml</code>  中添加一个映射资源条目。您可以通过在  <code>hibernate.cfg.xml</code>  "Design"（设计）视图或在 XML 视图中展开 "Mapping"（映射）节点来查看条目详细信息。XML 视图中的  <code>mapping</code>  条目如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">        &lt;mapping resource="sakila/entity/Actor.hbm.xml"/&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>对  <code>Actor.hbm.xml</code>  执行以下更改（黑体），将  <code>Actor.java</code>  中的字段映射到 ACTOR 表中的列。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;hibernate-mapping&gt;
  &lt;class name="sakila.entity.Actor" *table="actor"&gt;
    &lt;id name="actorId" type="java.lang.Short"&gt;
      &lt;column name="actor_id"/&gt;
      &lt;generator class="identity"/&gt;
    &lt;/id&gt;
    &lt;property name="firstName" type="string"&gt;
      &lt;column length="45" name="first_name" not-null="true"/&gt;
    &lt;/property&gt;
    &lt;property name="lastName" type="string"&gt;
      &lt;column length="45" name="last_name" not-null="true"/&gt;
    &lt;/property&gt;
    &lt;property name="lastUpdate" type="timestamp"&gt;
      &lt;column length="19" name="last_update" not-null="true"/&gt;
    &lt;/property&gt;
  &lt;/class&gt;*
&lt;/hibernate-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>在修改映射文件时，可以使用编辑器中的代码完成功能完成各个值。</p>
</div>
<div class="paragraph">
<p>*注：*默认情况下，生成的  <code>class</code>  元素具有一个结束标记。因为需要在打开和关闭  <code>class</code>  元素标记之间添加属性元素，所以需要进行以下更改（显示为粗体）。进行更改之后，可以在  <code>class</code>  标记之间使用代码完成。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;hibernate-mapping&gt;
  &lt;class name="sakila.entity.Actor" *table="actor"&gt;
  &lt;/class&gt;*
&lt;/hibernate-mapping&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击工具栏中的 "Validate XML"（验证 XML）按钮并保存更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果要进一步定制应用程序，单独创建 POJO 和 Hibernate 映射文件可能是一种非常方便的方法。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Creating%20a%20Maven%20Project">发送有关此教程的反馈意见</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关创建 Swing GUI 应用程序的附加信息，请参见以下教程。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="quickstart-gui.html">在 NetBeans IDE 中设计 Swing GUI</a></p>
</li>
<li>
<p><a href="gui-functionality.html">构建 GUI 应用程序简介</a></p>
</li>
<li>
<p><a href="../../trails/matisse.html">Java GUI 应用程序学习资源</a></p>
</li>
</ul>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/incubator-netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/incubator-netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/maven-hib-java-se_zh_CN.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1>About</h1>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                    <li><a href="https://incubator.apache.org/projects/netbeans.html">Incubation Status</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                    <li><a href="/community/who.html">Who is who</a></li>
                    <li><a href="/community/nekobean.html">NekoBean</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/netcat.html">NetCAT - Community Acceptance Testing</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/help/getting-started.html">Platform videos</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb100/nb100.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html#releases">Releases</a></li>
                    <ul>
                        <li><a href="/download/nb100/nb100.html">Apache NetBeans 10.0</a></li>
                        <li><a href="/download/nb90/nb90.html">Apache NetBeans 9.0</a></li>
                    </ul>
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2019 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <p><a href="https://incubator.apache.org/" alt="Apache Incubator"><img src='/images/incubator_feather_egg_logo_bw_crop.png' title='Apache Incubator'></img></a></p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache NetBeans is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
            <p>Apache Incubator, Apache, Apache NetBeans, NetBeans, the Apache feather logo, the Apache NetBeans logo, and the Apache Incubator project logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
