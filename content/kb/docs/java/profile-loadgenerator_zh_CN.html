
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 NetBeans IDE 中的负载生成器</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Using a Load Generator in NetBeans IDE">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Using a Load Generator in NetBeans IDE">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">使用 NetBeans IDE 中的负载生成器</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/profile-loadgenerator_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_入门指南">入门指南</a>
<ul class="sectlevel2">
<li><a href="#_先决条件">先决条件</a></li>
<li><a href="#_本教程所需要的软件">本教程所需要的软件</a></li>
</ul>
</li>
<li><a href="#_安装_jmeter_插件">安装 JMeter 插件</a></li>
<li><a href="#_使用_jmeter_负载测试脚本">使用 JMeter 负载测试脚本</a>
<ul class="sectlevel2">
<li><a href="#_创建新的负载测试脚本">创建新的负载测试脚本</a></li>
<li><a href="#_编辑负载测试脚本">编辑负载测试脚本</a></li>
<li><a href="#_启动负载测试脚本">启动负载测试脚本</a></li>
<li><a href="#_停止和重新启动负载测试脚本">停止和重新启动负载测试脚本</a></li>
</ul>
</li>
<li><a href="#_其他资源">其他资源</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>测试应用程序的性能时，在有典型负载的情况下进行测试是很有用的。如果在开发环境中运行应用程序，则可能很难做到这一点。要模拟在有负载的情况下运行的应用程序，一种方法是使用负载生成器脚本。本文档概述了 IDE 提供的负载生成器支持。</p>
</div>
<div class="paragraph">
<p>IDE 依赖于集成第三方工具，而自身不提供负载生成器运行时。NetBeans IDE 支持用于重放负载测试脚本的 Apache JMeter 负载测试工具（<a href="http://jakarta.apache.org/jmeter">主页</a>）。要在 IDE 中使用 JMeter 工具，需要先从更新中心下载所需的插件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 7.2、7.3、7.4 和 8.0</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_入门指南">入门指南</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_先决条件">先决条件</h3>
<div class="paragraph">
<p>本文档假定您具备以下技术的一些基本知识或编程经验：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java 编程</p>
</li>
<li>
<p>NetBeans IDE</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_本教程所需要的软件">本教程所需要的软件</h3>
<div class="paragraph">
<p>在学习本教程之前，您需要在计算机上安装以下软件：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JMeter 工具包和负载生成器插件</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">可从 NetBeans 更新中心下载</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish 应用服务器</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.x、4.x</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>注：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>性能分析工具与 NetBeans IDE 捆绑在一起，无需进行特定的设置，即可开始对应用程序进行性能分析。</p>
</li>
<li>
<p>要添加对 JMeter 负载测试工具的支持，请使用插件管理器从更新中心下载 JMeter 工具包和负载生成器插件。</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_安装_jmeter_插件">安装 JMeter 插件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>您可以轻松地添加对 JMeter 负载生成器的支持，方法是从 NetBeans 更新中心下载并安装 <strong>JMeter 工具包*和*负载生成器插件</strong>。</p>
</div>
<div class="paragraph">
<p>要下载插件，请执行以下操作：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从主菜单中选择 "Tools"（工具）&gt; "Plugins"（插件）以打开插件管理器。</p>
</li>
<li>
<p>单击 "Available Plugins"（可用插件）标签，然后选中 JMeter 工具包和负载生成器插件的复选框。单击 "Install"（安装）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/generator-plugin.png" alt="generator plugin">
</div>
<div class="title">Figure 2. 插件管理器中的负载生成器插件</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>逐步执行安装程序，以下载并安装插件，然后单击 "Finish"（完成）。单击 "Close"（关闭），以关闭插件管理器。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>安装了插件之后，会将 "Load Testing Scripts"（负载测试脚本）类别添加到新建文件向导中。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_使用_jmeter_负载测试脚本">使用 JMeter 负载测试脚本</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JMeter 插件支持可与 IDE 的性能分析工具进行紧密集成。通过 JMeter 插件，可以从 IDE 中轻松创建并运行 JMeter 负载测试脚本。</p>
</div>
<div class="paragraph">
<p>要使用负载生成器脚本，可以为特定项目创建一个脚本，然后根据项目负载的类型修改该脚本，该负载可能放在运行应用程序的服务器上。运行脚本时，该脚本会在服务器上放置负载，以模拟在典型条件下运行的应用程序的行为。此后，可以测试应用程序的性能，得到的测试结果可能与在典型条件下运行的应用程序的性能更接近。</p>
</div>
<div class="sect2">
<h3 id="_创建新的负载测试脚本">创建新的负载测试脚本</h3>
<div class="paragraph">
<p>下载并安装了插件之后，将在新建文件向导中创建一个新类别。使用新建文件向导，可以在项目中创建负载脚本文件。</p>
</div>
<div class="paragraph">
<p>要创建新的负载测试脚本，请执行以下操作：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在项目窗口中，右键单击项目节点，然后选择 "New"（新建）&gt; "Other"（其他）。</p>
</li>
<li>
<p>在 "Categories"（类别）窗格中，展开 "Load Testing Scripts"（负载测试脚本），选择 "JMeter Plans"（JMeter 计划），然后在 "File Types"（文件类型）窗格中，选择 "New JMeter Plan"（新建 JMeter 计划）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入脚本的名称，然后单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>创建新脚本时，IDE 会将该脚本放在 "Projects"（项目）窗口中 "Load Generator Scripts"（负载生成器脚本）节点的下方。在 "Files"（文件）窗口中，可以看到 IDE 将脚本保存在  <code>jmeter</code>  目录中。如果已在 IDE 外部创建负载测试脚本，则可创建  <code>jmeter</code>  目录，然后将脚本添加到该目录中，以便从 IDE 中运行该脚本。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-plan.png" alt="new plan">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_编辑负载测试脚本">编辑负载测试脚本</h3>
<div class="paragraph">
<p>通过 JMeter 外部编辑器，可以根据应用程序的要求修改脚本。创建负载测试脚本或向项目中添加脚本后，可以调用外部编辑器，方法是：在 "Projects"（项目）窗口中右键单击脚本，然后选择 <strong>External Edit</strong>（外部编辑）。</p>
</div>
<div class="paragraph">
<p>有关编辑 JMeter 测试脚本的详细信息，请参见 <a href="http://jakarta.apache.org/jmeter/usermanual/index.html">JMeter 用户手册</a>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jmeter-externaledit.png" alt="jmeter externaledit">
</div>
<div class="title">Figure 3. 项目结构中的 JMeter 负载测试脚本</div>
</div>
</div>
<div class="sect2">
<h3 id="_启动负载测试脚本">启动负载测试脚本</h3>
<div class="paragraph">
<p>负载测试脚本可采用以下方式启动：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>在独立模式下</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>在 <strong>Services</strong>（服务）窗口中，右键单击 "Load Generators"（负载生成器）节点，然后选择 <strong>"JMeter" &gt; "Start"（启动）</strong>。执行此操作后，将打开一个浏览对话框，您可以在其中指定要运行的脚本。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jmeter-services.png" alt="jmeter services">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>在 "Select Profiling Task"（选择性能分析任务）窗口中</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>对 Web 应用程序进行性能分析时，可以在 "Select Profiling Task"（选择性能分析任务）窗口中指定要运行的负载测试脚本。选定的脚本正好在浏览器窗口打开前启动。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jmeter-profilewindow72.png" alt="jmeter profilewindow72">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_停止和重新启动负载测试脚本">停止和重新启动负载测试脚本</h3>
<div class="paragraph">
<p>您可以在*输出*窗口或*服务*窗口中停止和重新启动负载测试脚本。</p>
</div>
<div class="paragraph">
<p>加载脚本之后，将在 *"Output"（输出）窗口*中打开 "JMeter" 标签。该窗口中会显示负载生成器的当前状态。"Output"（输出）窗口的左旁注中提供了一些用于启动、停止或重新启动脚本的控件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jmeter-output.png" alt="jmeter output" width="Output"（输出）窗口"">
</div>
<div class="title">Figure 4. 显示负载生成器状态的 </div>
</div>
<div class="paragraph">
<p>负载生成器的当前状态还显示在 *"Services"（服务）窗口*中。要停止和重新启动脚本，可以选择 "JMeter" 节点下方的某个节点，然后从弹出式菜单中选择所需项。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jmeter-services2.png" alt="jmeter services2" width="Services"（服务）窗口"">
</div>
<div class="title">Figure 5. 显示负载生成器状态的 </div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_其他资源">其他资源</h2>
<div class="sectionbody">
<div class="paragraph">
<p>此基本概述介绍了如何在 IDE 中使用 JMeter 负载测试脚本。有关为应用程序开发负载测试脚本的信息，请参见以下资源：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://jakarta.apache.org/jmeter">Apache JMeter 负载测试工具</a></p>
</li>
<li>
<p><a href="http://jakarta.apache.org/jmeter/usermanual/index.html">JMeter 用户手册</a>
<a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Using%20a%20Load%20Generator">发送有关此教程的反馈意见</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="../web/quickstart-webapps.html">Web 应用程序开发简介</a></p>
</li>
<li>
<p><a href="profiler-intro.html">分析 Java 应用程序简介</a></p>
</li>
<li>
<p><a href="../../trails/java-ee.html">Java EE 和 Java Web 学习资源</a></p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/profile-loadgenerator_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
