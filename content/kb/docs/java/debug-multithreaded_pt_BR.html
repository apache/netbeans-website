
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Depurando Aplicações Multithread no NetBeans IDE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Depurando Aplicações Multithread no NetBeans IDE - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Depurando Aplicações Multithread no NetBeans IDE">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Depurando Aplicações Multithread no NetBeans IDE</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/debug-multithreaded_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_fazendo_download_de_projetos_de_amostra">Fazendo Download de Projetos de Amostra</a></li>
<li><a href="#_abrindo_os_projetos">Abrindo os Projetos</a>
<ul class="sectlevel2">
<li><a href="#_executando_o_projeto_gallery">Executando o Projeto Gallery</a></li>
<li><a href="#_executando_o_projeto_deadlock">Executando o Projeto Deadlock</a></li>
</ul>
</li>
<li><a href="#_depurando_os_projetos_de_amostra">Depurando os Projetos de Amostra</a>
<ul class="sectlevel2">
<li><a href="#_suspendendo_threads">Suspendendo Threads</a></li>
<li><a href="#_alternando_threads">Alternando Threads</a></li>
<li><a href="#_detectando_deadlocks">Detectando Deadlocks</a></li>
</ul>
</li>
<li><a href="#_consulte_também">Consulte Também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este documento descreve como usar a janela Depuração no NetBeans IDE para depurar aplicações multithread. O tutorial também demonstra como usar o IDE para detectar deadlocks em uma aplicação.</p>
</div>
<div class="paragraph">
<p>A janela Depuração simplifica o processo de depuração integrando em uma janela as informações sobre sessões de depuração, threads de aplicações e pilhas de chamadas de threads. A janela Depuração permite que você exiba facilmente o status dos threads de aplicações para suspender e retomar qualquer um dos threads na sessão.</p>
</div>
<div class="paragraph">
<p>Este tutorial usa dois projetos de amostra para demonstrar como trabalhar com a janela Depuração. Para concluir este tutorial, primeiro faça o download e abra os projetos Gallery e Deadlock.</p>
</div>
<div class="paragraph">
<p>Assista ao <a href="debug-multithreaded-screencast.html">Vídeo de Depuração de uma Aplicação Multithread no NetBeans IDE</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3, 7.4 e 8.0</div>
</div>
<div class="paragraph">
<p><strong>Para seguir este tutorial, são necessários os recursos e o software a seguir.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Development Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 7 ou 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">Projeto Gallery e Projeto Deadlock</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_fazendo_download_de_projetos_de_amostra">Fazendo Download de Projetos de Amostra</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Você pode fazer o download dos projetos de amostra usados neste tutorial das seguintes formas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Faça download <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">de um arquivo compactado zip do projeto finalizado</a>.</p>
</li>
<li>
<p>Faça o check-out do código-fonte do projeto das Amostras do NetBeans ao executar as etapas a seguir:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha Equipe &gt; Subversion &gt; Efetuar check-out no menu principal.</p>
</li>
<li>
<p>Na caixa de diálogo Efetuar Check-out, insira o Repositório URL a seguir:
 <code><a href="https://svn.netbeans.org/svn/samples~samples-source-code" class="bare">https://svn.netbeans.org/svn/samples~samples-source-code</a></code>
Clique em Próximo.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Procurar para abrir a caixa de diálogo Procurar Pastas do Repositório.</p>
</li>
<li>
<p>Expanda o nó raiz e selecione <strong>samples/java/debugging-samples</strong>. Clique em OK.</p>
</li>
<li>
<p>Especifique a Pasta Local para o códigos-fonte (a pasta local precisa estar vazia).</p>
</li>
<li>
<p>Clique em Finalizar.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o IDE inicializa a pasta local como um repositório Subversion e verifica os códigos-fonte do projeto.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Abrir Projeto na caixa de diálogo exibida quando o check-out for concluído.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Observação.</strong> Para saber mais sobre como efetuar check-out do Subversion, consulte a seção <a href="../ide/subversion.html#settingUp">Configurando o Subversion</a> no <a href="../ide/subversion.html">Guia do Subversion no NetBeans IDE</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abrindo_os_projetos">Abrindo os Projetos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial, você usará duas aplicações para demonstrar o suporte do IDE para a depuração de aplicações multithread. Neste exercício, você abrirá e executará os dois projetos no IDE. Depois de executar os projetos, será necessário depurar cada um deles.</p>
</div>
<div class="sect2">
<h3 id="_executando_o_projeto_gallery">Executando o Projeto Gallery</h3>
<div class="paragraph">
<p>A aplicação Gallery é uma aplicação Java Swing simples que reproduz imagens animadas. A aplicação tem dois botões que permitem adicionar e remover imagens animadas. Neste exercício, você executará a aplicação Gallery.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Faça download e expanda o arquivo compactado <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">+ <code>debugging-samples.zip</code> +</a> no seu sistema local.</p>
</li>
<li>
<p>Escolha Arquivo &gt; Abrir no menu principal.</p>
</li>
<li>
<p>Localize e selecione o projeto Gallery no diretório de depuração de amostras. Clique em Abrir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Abrir, o IDE abrirá e exibirá o projeto na janela Projetos. Se você expandir o nó do projeto na janela Projetos, poderá observar que o projeto é uma aplicação Java Swing simples.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Executar para iniciar a aplicação Gallery.</p>
</li>
<li>
<p>Na aplicação Gallery, clique em 'Mais' para adicionar imagens e clique em 'Menos' para remover as imagens.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-gallery-app.png" alt="debugging gallery app">
</div>
<div class="title">Figure 2. Aplicação Gallery</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Feche a janela da aplicação Gallery.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O projeto Gallery é uma aplicação multithread simples que você irá depurar neste tutorial.</p>
</div>
</div>
<div class="sect2">
<h3 id="_executando_o_projeto_deadlock">Executando o Projeto Deadlock</h3>
<div class="paragraph">
<p>A aplicação Deadlock contém um método  <code>main</code>  que inicia um thread, executado durante 500000 milissegundos. O método  <code>main</code>  inicia dois threads que são impressos na janela de Saída quando finalizados.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha Arquivo &gt; Abrir no menu principal.</p>
</li>
<li>
<p>Localize e selecione o projeto Deadlock no diretório de amostras de depuração. Clique em Abrir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Abrir, o IDE abrirá e exibirá o projeto na janela Projetos. Se você expandir o nó do projeto na janela Projetos, observará que o projeto é uma aplicação Java simples.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Executar para iniciar a aplicação Deadlock.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Executar, a janela de Saída abre e exibe a saída a seguir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">run:
Application started
MyThread2 successfully finished.
MyThread1 successfully finished</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Permite que a aplicação seja finalizada normalmente (cinco minutos).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando a aplicação Deadlock for finalizada, será exibido o seguinte na janela de Saída.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Main thread finished</code></pre>
</div>
</div>
<div class="paragraph">
<p>O projeto Deadlock é uma aplicação Java simples com dois threads. Quando você depurar a aplicação, criará um deadlock para ilustrar como o IDE pode ajudá-lo a detectar deadlock.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_depurando_os_projetos_de_amostra">Depurando os Projetos de Amostra</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O projeto Gallery é uma aplicação Java Swing simples que exibe imagens animadas. Você adiciona e remove as imagens clicando nos botões da aplicação. Clicar no botão "Mais" inicia um novo thread que exibe e anima uma imagem. Clicar no botão "Menos" interrompe o thread mais recente, interrompendo a animação e removendo a imagem.</p>
</div>
<div class="sect2">
<h3 id="_suspendendo_threads">Suspendendo Threads</h3>
<div class="paragraph">
<p>Neste exercício, você começa a depuração da aplicação Gallery e adiciona imagens para iniciar alguns threads da aplicação. Quando você inicia uma sessão de depuração, o IDE abre a janela Depuração no painel esquerdo do IDE. A janela Depuração exibe uma lista dos threads na sessão.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no projeto Gallery na janela Projetos e escolha Depurar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Depurar, o IDE inicia a aplicação Gallery e abre as janelas de depuração default. O IDE abre automaticamente a janela Depuração no lado esquerdo da janela principal e abre a Console do Depurador na janela de Saída.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique três vezes em "Mais" na aplicação Gallery para iniciar três threads que exibem imagens animadas.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Se você observar a janela Depuração, poderá verificar que um novo thread foi iniciado para cada animação.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-start.png" alt="debugging start">
</div>
<div class="title">Figure 3. Janela de Depuração</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Suspenda dois threads clicando no botão "Suspender thread" à direita do thread, na janela Depuração.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando um thread é suspenso, o ícone do thread é alterado para indicar o novo estado. Você pode expandir o nó thread para exibir a pilha de chamadas do thread. Você pode clicar com o botão direito do mouse nos itens na janela Depuração para abrir um menu pop-up com os comandos de depuração.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-start-suspend.png" alt="debugging start suspend">
</div>
<div class="title">Figure 4. Depurando janela com dois threads suspensos</div>
</div>
<div class="paragraph">
<p>Se você observar a aplicação Gallery, poderá verificar que, quando você suspendeu os threads, a animação desses threads foi interrompida.</p>
</div>
<div class="paragraph">
<p>A janela Depuração permite que você exiba rapidamente e altere o status dos threads na sessão. Por default, a janela Depuração exibe os botões Retomar e Suspender no lado direito da janela. É possível ocultar os botões e personalizar ainda mais a exibição da janela Depuração usando a barra de ferramentas na parte inferior da janela Depuração. Se você estiver executando várias sessões de depuração, poderá usar a lista drop-down na parte superior da janela Depuração para escolher qual sessão será exibida na janela.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-window-toolbar.png" alt="debugging window toolbar">
</div>
<div class="title">Figure 5. Barra de ferramentas de depuração</div>
</div>
</div>
<div class="sect2">
<h3 id="_alternando_threads">Alternando Threads</h3>
<div class="paragraph">
<p>Este exercício demonstra o que acontece quando você está avançando passo a passo na aplicação e um thread diferente da aplicação atinge um ponto de interrupção. Neste exercício você definirá um ponto de interrupção do método e avançará o passo a passo pela aplicação. Enquanto estiver avançando passo a passo pela aplicação, você iniciará um novo thread que também atingirá o ponto de interrupção. O IDE informa quando isso ocorre, exibindo uma notificação na janela Depuração. Em seguida, você irá alternar entre os threads.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela da aplicação Galeria, clique em 'Menos' ou 'Mais' até que apenas duas ou três animações sejam exibidas na janela.</p>
</li>
<li>
<p>Na janela Projetos do IDE, expanda o pacote  <code>gallery</code>  e clique duas vezes em  <code>Gallery.java</code>  para abrir o arquivo no editor.</p>
</li>
<li>
<p>Insira um ponto de interrupção do método em  <code>Gallery.java</code>  no início do método  <code>run</code>  clicando na margem esquerda, na linha 175.</p>
</li>
<li>
<p>Clique em "Mais" na aplicação Gallery para iniciar um novo thread que atingirá o ponto de interrupção do método.</p>
</li>
<li>
<p>Clique em Fazer Step Over (F8) e comece a avançar passo a passo pelo método até que o Contador do Programa alcance a linha 191.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Você observará que o Contador do Programa na margem do editor indica sua posição à medida que você avança passo a passo pelo método.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em "Mais" na aplicação Gallery para iniciar um novo thread que atingirá o ponto de interrupção do método.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando o novo thread atingir o ponto de interrupção do método, uma notificação de Nova Ocorrência de Ponto de Interrupção atingida será exibida na janela Depuração, informando que outro thread atingiu um ponto de interrupção enquanto você avançava passo a passo pelo método.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-newbreakpointhit.png" alt="debugging newbreakpointhit">
</div>
<div class="title">Figure 6. Notificação de Nova Ocorrência de Ponto de Interrupção</div>
</div>
<div class="paragraph">
<p>Quando você estiver avançando passo a passo por um thread, e um ponto de interrupção for atingido em outro thread, o IDE oferecerá a opção de alternar para o outro thread ou continuar a avançar passo a passo pelo thread atual. Você pode clicar no botão de seta na notificação de Nova Ocorrência de Ponto de Interrupção para alternar para o thread que encontrou o ponto de interrupção. Você pode alternar para o novo thread a qualquer momento selecionando o thread na janela de notificação. Avançar passo a passo pelo thread do ponto de interrupção atual retoma o thread atual, porém o status de outros threads da aplicação permanecem inalterados.</p>
</div>
<div class="paragraph">
<p><strong>Observação.</strong> Se você verificar a janela Depuração você poderá ver que o thread atual (thread_jirka) é indicado por uma barra verde na margem. O thread que chamou a notificação atingindo o ponto de interrupção (Thread_Roman) é indicado por uma barra amarela e o ícone do thread indica que o thread está suspenso por um ponto de interrupção.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-current-suspended.png" alt="debugging current suspended">
</div>
<div class="title">Figure 7. Notificação de Nova Ocorrência de Ponto de Interrupção</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique na seta, na notificação na notificação de Nova Ocorrência de Ponto de Interrupção atingida, para alternar o thread atual para o novo thread (Thread_Roman).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando alternar para o novo thread, você observará o seguinte:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>O contador do programa se move para a posição na linha 175 no novo thread atual (Thread_Roman).</p>
</li>
<li>
<p>Uma anotação "thread suspenso" ficará visível na margem, na linha 191, indicando que um thread (Thread_Jirka) está suspenso nessa linha.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-suspendedannot.png" alt="debugging editor suspendedannot">
</div>
<div class="title">Figure 8. Editor que mostra as anotações de depuração</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Fazer Step Over algumas vezes para avançar passo a passo pelo novo thread atual (Thread_Roman).</p>
</li>
<li>
<p>Clique com o botão direito do mouse na anotação "thread suspenso" na margem do editor e escolha Definir como Thread Atual &gt; Thread_Jirka para voltar ao thread suspenso.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-setcurrent.png" alt="debugging editor setcurrent">
</div>
<div class="title">Figure 9. Editor mostrando a pop-up Definir como Thread Atual</div>
</div>
<div class="paragraph">
<p>Se preferir, você pode chamar o Seletor de Thread Atual (Alt+Shift+T; Ctrl+Shift+T no Mac) e alternar para qualquer um dos threads da aplicação.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-thread-chooser.png" alt="debugging thread chooser">
</div>
<div class="title">Figure 10. Aplicação Gallery</div>
</div>
<div class="paragraph">
<p>Quando você voltar para o Thread_Jirka, a anotação do thread suspenso será exibida ao lado da linha onde o Thread_Roman foi suspenso. Você pode retomar o Thread_Roman clicando em Retomar, na janela Depuração.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-suspendedannot2.png" alt="debugging editor suspendedannot2">
</div>
<div class="title">Figure 11. Editor que mostra as anotações de depuração</div>
</div>
<div class="paragraph">
<p>A janela Depuração permite que você exiba e controle com muita precisão os estados dos threads. O depurador gerencia os threads da aplicação para simplificar o fluxo de trabalho de depuração e para evitar que o processo de depuração crie deadlocks. Neste exercício, você observou o seguinte comportamento durante a depuração de uma aplicação no IDE.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quando um thread atinge um ponto de interrupção, somente o thread do ponto de interrupção é suspenso.</p>
</li>
<li>
<p>Ao avançar passo a passo pela aplicação, o thread atual não é afetado quando outros threads atingem os pontos de interrupção.</p>
</li>
<li>
<p>O passo a passo retoma somente o thread atual. Quando a etapa é concluída, somente o thread atual é suspenso.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Você pode sair da aplicação Gallery. No próximo exercício, você irá depurar a aplicação Deadlock e usará o IDE para ajudar a detectar um deadlock.</p>
</div>
</div>
<div class="sect2">
<h3 id="_detectando_deadlocks">Detectando Deadlocks</h3>
<div class="paragraph">
<p>O IDE pode ajudar a identificar possíveis situações de deadlock pesquisando automaticamente em todos os threads suspensos. Quando um deadlock é detectado, o IDE exibe uma notificação na janela Depuração e identifica os threads envolvidos.</p>
</div>
<div class="paragraph">
<p>Para demonstrar a detecção de deadlocks do IDE, você executará o projeto de amostra Deadlock no depurador e criará uma situação de deadlock.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expanda o pacote  <code>myapplication</code>  e abra o  <code>Thread1.java</code>  e  <code>Thread2.java</code>  no editor de código-fonte.</p>
</li>
<li>
<p>Defina um ponto de interrupção em  <code>Thread1.java</code> , na linha 20, e em  <code>Thread2.java</code> , na linha 20</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Para definir o ponto de interrupção, clique na margem do editor de código-fonte, próximo à linha onde você deseja definir o ponto de interrupção. A anotação do ponto de interrupção é exibida na margem esquerda, perto da linha. Se você abrir a janela Pontos de Interrupção (Alt-Shift-5; Ctrl+Shift+5 no Mac), poderá verificar que os dois pontos de interrupção estão definidos e ativados.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-setbkpt.png" alt="debug deadlock setbkpt">
</div>
<div class="title">Figure 12. Editor que mostra o ponto de interrupção definido na linha 20</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no projeto Deadlock, na janela Projetos, e escolha Depurar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O método  <code>main</code>  executará os dois threads e ambos serão suspensos em um dos pontos de interrupção. Você pode visualizar os threads suspensos pelos pontos de interrupção na janela Depuração.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Depuração, retome os threads suspensos ( <code>MyThread1</code>  e  <code>MyThread2</code> ) clicando nos botões Retomar à direita dos threads suspensos na janela Depuração.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-resume.png" alt="debug deadlock resume">
</div>
<div class="title">Figure 13. Retomando threads suspensos na janela Depuração</div>
</div>
<div class="paragraph">
<p>A retomada dos threads  <code>MyThread1</code>  e  <code>MyThread2</code>  criará o estado de deadlock.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha Depurar\Verificar Deadlock no menu principal para verificar se há deadlock nos threads suspensos.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-detected.png" alt="debug deadlock detected">
</div>
<div class="title">Figure 14. Retomando threads suspensos na janela Depuração</div>
</div>
<div class="paragraph">
<p>Se você verificar a aplicação e detectar um deadlock, uma mensagem será exibida na janela Depuração que o informará sobre o deadlock. Você pode observar que os threads no deadlock são indicados com uma barra vermelha na margem esquerda da janela Depuração.</p>
</div>
<div class="paragraph">
<p>Este tutorial foi uma introdução básica a algumas funcionalidades de depuração do IDE. A janela Depuração permite que você suspenda e retome facilmente os threads ao depurar uma aplicação. Isso pode ser extremamente útil quando você estiver depurando aplicações multithread.</p>
</div>
<div class="paragraph">
<p><a href="https://netbeans.org/about/contact_form.html?to=3&amp;subject=Feedback:%20Debugging%20Multithreaded%20Applications">Enviar Feedback neste Tutorial</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte Também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter mais informações sobre o desenvolvimento e teste de aplicações Java no NetBeans IDE, veja os recursos a seguir:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Demonstração: <a href="debug-multithreaded-screencast.html">Depurando uma Aplicação Multithread no NetBeans IDE</a></p>
</li>
<li>
<p>Demonstração: <a href="debug-stepinto-screencast.html">Ação Visual Step Into no Depurador do NetBeans</a></p>
</li>
<li>
<p>Demonstração: <a href="debug-deadlock-screencast.html">Detecção de Bloqueio usando o Depurador do NetBeans</a></p>
</li>
<li>
<p>Demonstração: <a href="debug-evaluator-screencast.html">Usando o Avaliador de Snippet do Código no Depurador do NetBeans</a></p>
</li>
<li>
<p><a href="../../trails/java-se.html">Trilha de Aprendizado da Programação Java e IDE Básica</a></p>
</li>
<li>
<p><a href="junit-intro.html">Escrevendo Testes JUnit</a></p>
</li>
<li>
<p><a href="profiler-intro.html">Introdução à Criação de Perfil de Aplicações Java</a></p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/debug-multithreaded_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
