
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>打包和分发 Java 桌面应用程序</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="打包和分发 Java 桌面应用程序 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 打包和分发 Java 桌面应用程序">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">打包和分发 Java 桌面应用程序</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/javase-deploy_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_创建可执行的_jar_文件">创建可执行的 JAR 文件</a>
<ul class="sectlevel2">
<li><a href="#_创建基于现有源代码的项目">创建基于现有源代码的项目</a></li>
<li><a href="#_配置项目">配置项目</a></li>
<li><a href="#_构建项目和创建_jar_文件">构建项目和创建 JAR 文件</a></li>
</ul>
</li>
<li><a href="#_运行和分发_jar_文件">运行和分发 JAR 文件</a>
<ul class="sectlevel2">
<li><a href="#_在_ide_中运行应用程序">在 IDE 中运行应用程序</a></li>
<li><a href="#_在_ide_外部运行应用程序">在 IDE 外部运行应用程序</a></li>
<li><a href="#_将应用程序分发给其他用户">将应用程序分发给其他用户</a></li>
</ul>
</li>
<li><a href="#_启动_java_应用程序">启动 Java 应用程序</a>
<ul class="sectlevel2">
<li><a href="#_从命令行中启动应用程序">从命令行中启动应用程序</a></li>
<li><a href="#_通过脚本启动应用程序">通过脚本启动应用程序</a></li>
</ul>
</li>
<li><a href="#_打包应用程序以通过_java_web_start_进行部署">打包应用程序以通过 Java Web Start 进行部署</a></li>
<li><a href="#_疑难解答提示">疑难解答提示</a>
<ul class="sectlevel2">
<li><a href="#_指定_jar_文件关联">指定 JAR 文件关联</a></li>
<li><a href="#_设置_path_环境变量">设置 PATH 环境变量</a></li>
</ul>
</li>
<li><a href="#_后续步骤">后续步骤</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>很多初级程序员提出的一个问题是：“既然我已经在 IDE 中创建了应用程序，如何在 IDE 外部通过命令行正常运行该应用程序呢？”。同样，有人可能会问：“如何将该应用程序分发给其他用户，而无需为其提供整个 IDE？”。</p>
</div>
<div class="paragraph">
<p>这些问题的答案虽然相对简单，但也未必显而易见。本文档为您介绍了使用 IDE 来准备要分发和部署的应用程序的基础知识，从而对上述问题进行了解答。此外，本文档还提供了配置系统时可能需要用到的信息（或可能需要向应用程序用户传达的信息）。我们将介绍几种不同的应用程序部署方法，方便用户通过以下方式访问应用程序：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>双击应用程序的 Java 档案 (JAR) 文件。</p>
</li>
<li>
<p>从命令行调用应用程序。</p>
</li>
<li>
<p>通过脚本文件调用应用程序。</p>
</li>
<li>
<p>使用 Java Web Start。</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp.png" alt="netbeans stamp">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 8.0</div>
</div>
<div class="paragraph">
<p> </p>
</div>
<div class="paragraph">
<p><strong>要学完本教程，您需要具备下表所列的软件和资源。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip">部署教程源文件</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_创建可执行的_jar_文件">创建可执行的 JAR 文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>此部分教程介绍了如何在 IDE 中创建可分发应用程序，然后从 IDE 外部运行该应用程序。我们将以可执行的 <a href="http://download.oracle.com/javase/tutorial/deployment/jar/run.html">JAR</a> 文件的形式打包应用程序。</p>
</div>
<div class="paragraph">
<p>JAR 文件是一个档案文件，可能包含多个文件和文件夹。JAR 文件类似于 zip 文件，但 JAR 文件可以包含用于分发 Java 应用程序的其他属性。这些属性包括对 JAR 文件进行数字签名、额外的压缩以及多平台兼容性等。</p>
</div>
<div class="paragraph">
<p>在本练习中，您将创建一个 IDE 项目，然后将两个预先编写的 Java 源文件放到该项目中。然后，您将编译类并构建可执行的 JAR 文件。此后，您将了解如何从 IDE 外部运行 JAR 文件。</p>
</div>
<div class="paragraph">
<p>本教程中使用的类实现了 <a href="http://www.gnu.org/software/grep/">GNU grep</a> 实用程序的功能，该实用程序可用于在文本文件中搜索文本或正则表达式模式。该项目包含命令行和 GUI 版本的应用程序，方便您了解不同的应用程序运行方法。</p>
</div>
<div class="sect2">
<h3 id="_创建基于现有源代码的项目">创建基于现有源代码的项目</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>下载 <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip">DeploymentTutorial.zip</a> 文件，并将其内容解压缩到您的系统上。
该 zip 档案包含应用程序的源文件以及本教程中要使用的其他几个文件。</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 NetBeans IDE 中，选择“文件”&gt;“新建项目”。</p>
</li>
<li>
<p>在“选择类别”页的 "Java" 类别中，选择“基于现有源代码的 Java 项目”，然后单击“下一步”。</p>
</li>
<li>
<p>在向导的“名称和位置”页中，键入  <code>AnotherGrep</code>  作为项目名称，然后指定项目的位置。
单击 "Next"（下一步）。</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>项目文件夹_不必_与将要导入项目的源文件位于相同的位置。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在向导的“现有源代码”页中，指定项目中要包含的源文件。
单击“源包文件夹”字段右侧的“添加文件夹”按钮。导航至刚在系统上解压缩的  <code>DeploymentTutorial</code>  文件夹，展开该文件夹，选择  <code>src</code>  文件夹，然后单击“打开”。此时将向“源包文件夹”字段中添加  <code>src</code>  文件夹。</p>
</li>
<li>
<p>单击“完成”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*举例来说，如果要在导入到项目时排除某些源文件，请单击“下一步”打开最后一个“包括和排除”窗口。在本示例中，我们希望使用  <code>src</code>  文件夹中的所有源文件，因此，只需单击“完成”完成“新建项目”向导中的工作即可。</p>
</div>
<div class="paragraph">
<p>项目将在 IDE 中打开，并显示在“项目”窗口中。您可以展开项目的“源包”节点以浏览项目内容，其中应显示名为  <code>Grep</code>  和  <code>xGrep</code>  的类。 <code>Grep.java</code>  是应用程序的控制台版本。 <code>xGrep.java</code>  是应用程序的 GUI 版本，它使用  <code>Grep.java</code>  中定义的方法。</p>
</div>
</div>
<div class="sect2">
<h3 id="_配置项目">配置项目</h3>
<div class="paragraph">
<p>您需要执行几个配置步骤，例如：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>选择要用于编译源文件的 Java 平台。</p>
</li>
<li>
<p>设置项目的主类。通过执行此操作，您可以确保在构建项目时创建的 JAR 文件是可执行文件。</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_验证_java_平台">验证 Java 平台</h4>
<div class="paragraph">
<p>我们的项目需要在 Java 7 或 Java 8 平台上进行编译和运行。因此，您需要确保将 Java 7 或 Java 8 分别用作此项目的平台。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击项目节点，选择“属性”。</p>
</li>
<li>
<p>在“库”标签上，确保“Java 平台”为 "JDK 1.7"（或 "JDK 1.8"）。</p>
</li>
<li>
<p>在“源”标签上的“源代码/二进制格式”中，选择 "JDK 7"（或 "JDK 8"）。</p>
</li>
<li>
<p>单击“确定”以关闭“属性”窗口。</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_设置主类">设置主类</h4>
<div class="paragraph">
<p>要使用户能够轻松运行 JAR 文件（通过双击 JAR 文件或在命令行中键入  <code>java -jar AnotherGrep.jar</code> ），必须在 JAR 的_清单文件_中指定一个主类。（清单是 JAR 文件的标准部分，其中包含有关 JAR 文件的信息，在要运行应用程序时，这对  <code>java</code>  启动程序非常有用。）主类将作为  <code>java</code>  启动程序运行应用程序的入口点。</p>
</div>
<div class="paragraph">
<p>在构建项目时，IDE 将构建 JAR 文件并包含清单。在设置项目的主类时，请确保在清单中指定主类。</p>
</div>
<div class="paragraph">
<p>要设置项目的主类，请执行以下操作：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击项目节点，选择“属性”。</p>
</li>
<li>
<p>选择“运行”类别并在“主类”字段中输入  <code>anothergrep.xGrep</code> 。</p>
</li>
<li>
<p>单击“确定”。关闭“项目属性”对话框。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在本教程后面构建项目时，将构建清单并在其中包含以下条目：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Main-Class: anothergrep.xGrep</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_构建项目和创建_jar_文件">构建项目和创建 JAR 文件</h3>
<div class="paragraph">
<p>现在，您已准备好源文件并配置了项目，接下来便可构建项目了。</p>
</div>
<div class="paragraph">
<p>要构建项目，请执行以下操作：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>选择“运行”&gt;“构建项目”(AnotherGrep)。
或者，也可以在“项目”窗口中右键单击项目节点，然后选择“构建”。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>在构建项目时：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>将  <code>build</code>  和  <code>dist</code>  文件夹添加到项目文件夹（以下称为 <em>PROJECT_HOME</em> 文件夹）中。</p>
</li>
<li>
<p>将所有源都编译成  <code>.class</code>  文件，并将这些文件放置在  <code><em>PROJECT_HOME</em>/build</code>  文件夹中。</p>
</li>
<li>
<p>在  <code><em>PROJECT_HOME</em>/dist</code>  文件夹中创建包含项目的 JAR 文件。</p>
</li>
<li>
<p>如果您已为该项目指定了任何库（除了 JDK 之外），则在  <code>dist</code>  文件夹中将创建一个  <code>lib</code>  文件夹。这些库将被复制到  <code>dist/lib</code>  中。</p>
</li>
<li>
<p>将更新 JAR 中的清单文件以包含一些条目，它们用于指定主类以及项目类路径中的任何库。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*注：*您可以在 IDE 的“文件”窗口中查看清单的内容。构建了项目后，切换到“文件”窗口并导航至  <code>dist/AnotherGrep.jar</code> 。展开 JAR 文件的节点，展开  <code>META-INF</code>  文件夹，然后双击  <code>MANIFEST.MF</code>  以便在源代码编辑器中显示清单。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Main-Class: anothergrep.xGrep</code></pre>
</div>
</div>
<div class="paragraph">
<p>（要查找有关清单文件的详细信息，请参见 Java 教程中的<a href="http://java.sun.com/docs/books/tutorial/deployment/jar/manifestindex.html">本章</a>。）</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_运行和分发_jar_文件">运行和分发 JAR 文件</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_在_ide_中运行应用程序">在 IDE 中运行应用程序</h3>
<div class="paragraph">
<p>在 IDE 中开发应用程序时，通常需要在分发之前测试和完善这些应用程序。您可以轻松测试所开发的应用程序，只需从 IDE 中运行该应用程序即可。</p>
</div>
<div class="paragraph">
<p>要在 IDE 中运行  <code>AnotherGrep</code>  项目，请在“项目”窗口中右键单击项目节点，然后选择“运行”。</p>
</div>
<div class="paragraph">
<p>此时会打开 xGrep 窗口。您可以单击“浏览”按钮，选择一个文件从中搜索文本模式。在“搜索模式”字段中，键入要匹配的文本或正则表达式模式，然后单击“搜索”。每个匹配结果将显示在 xGrep 窗口的“输出”区域中。</p>
</div>
<div class="paragraph">
<p><a href="http://www.gnu.org/software/grep/manual/html_node/Regular-Expressions.html#Regular-Expressions">此处</a>和很多其他地方提供了可在此应用程序中使用的正则表达式的相关信息。</p>
</div>
</div>
<div class="sect2">
<h3 id="_在_ide_外部运行应用程序">在 IDE 外部运行应用程序</h3>
<div class="paragraph">
<p>在完成应用程序开发后，您可能需要在分发应用程序之前确保应用程序也可以在 IDE 外部正常运行。</p>
</div>
<div class="paragraph">
<p>通过执行以下步骤，您可以在 IDE 外部运行应用程序：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在系统的文件管理器中（例如，在 Windows XP 系统的“我的电脑”窗口中）导航至  <code><em>PROJECT_HOME</em>/dist</code> ，然后双击  <code>AnotherGrep.jar</code>  文件。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>xGrep 窗口一打开，您就知道应用程序已成功启动。</p>
</div>
<div class="paragraph">
<p>如果 xGrep 窗口没有打开，则说明您的系统可能没有在 JAR 文件和 Java 运行时环境之间设置文件关联。请参见下面的 <a href="#troubleshooting">JAR 文件关联疑难解答</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="_将应用程序分发给其他用户">将应用程序分发给其他用户</h3>
<div class="paragraph">
<p>现在，您已验证了应用程序可以在 IDE 外部运行，接下来便可分发应用程序了。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>将应用程序的 JAR 文件发送给要使用应用程序的用户。应用程序用户应该能够通过双击 JAR 文件来运行应用程序。如果这些用户无法使用这种方法，请为他们提供下面的 <a href="#troubleshooting">JAR 文件关联疑难解答</a>部分中的信息。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*注：*如果应用程序依赖于 JDK 中包含的库以外的其他库，您还需要将这些库包括在分发中（本示例不需要这样做）。在 IDE 中开发应用程序时，这些库的相对路径将添加到 JAR 清单文件的  <code>classpath</code>  条目中。如果启动时在指定的类路径（即相对路径）中找不到这些额外的库，应用程序将无法启动。
创建一个包含应用程序 JAR 文件和库的 zip 档案，并将该 zip 文件提供给用户。告诉用户解压缩该 zip 文件，并确保 JAR 文件和库 JAR 文件位于相同的文件夹中。运行应用程序 JAR 文件。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_启动_java_应用程序">启动 Java 应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本练习的目标是，介绍一些可以从命令行中启动应用程序的方法。</p>
</div>
<div class="paragraph">
<p>本练习介绍了如何使用以下两种方法启动 Java 应用程序：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>从命令行中运行  <code>java</code>  命令。</p>
</li>
<li>
<p>使用脚本调用 JAR 文件中的类。</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_从命令行中启动应用程序">从命令行中启动应用程序</h3>
<div class="paragraph">
<p>可通过使用  <code>java</code>  命令，从命令行中启动应用程序。如果要运行可执行的 JAR 文件，请在该命令中使用  <code>-jar</code>  选项。</p>
</div>
<div class="paragraph">
<p>例如，要运行 AnotherGrep 应用程序，您需要执行以下步骤：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>打开一个终端窗口。在 Microsoft Windows 系统上，选择“开始”&gt;“运行”，在“打开”字段中键入  <code>cmd</code> ，然后单击“确定”以完成此操作。</p>
</li>
<li>
<p>转至  <code><em>PROJECT_HOME</em>/dist</code>  文件夹（使用  <code>cd</code>  命令）。</p>
</li>
<li>
<p>键入以下行以运行应用程序的主类：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">java -jar AnotherGrep.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果执行了这些步骤，但应用程序没有运行，则可能需要执行以下操作之一：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在该过程的第三步中，添加  <code>java</code>  二进制文件的完整路径。例如，您可以键入类似下面的内容，具体取决于 JDK 或 JRE 所在位置：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">C:\Program Files\Java\jdk1.7.0_51\bin\java -jar AnotherGrep.jar</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>将 Java 二进制文件添加到 PATH 环境变量中，这样就不必从命令行中指定  <code>java</code>  二进制文件的路径。请参见<a href="#path">设置 PATH 环境变量</a>。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_通过脚本启动应用程序">通过脚本启动应用程序</h3>
<div class="paragraph">
<p>如果要分发的应用程序是控制台应用程序，您可能会发现可通过脚本方便地启动应用程序，尤其是应用程序需要较长时间才能运行并需要使用复杂参数时。在本节中，将使用 Grep 程序的控制台版本，您需要在其中将参数（搜索模式和文件列表）传递给 JAR 文件，该文件将在我们的脚本中调用。为了减少在命令行中键入的内容，将使用一个适合运行测试应用程序的简单脚本。</p>
</div>
<div class="paragraph">
<p>首先，您需要将应用程序中的主类更改为控制台版本的类，然后重新构建 JAR 文件：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 IDE 的“项目”窗口中，右键单击项目节点 ( <code>AnotherGrep</code> )，然后选择“属性”。</p>
</li>
<li>
<p>选择“运行”节点，然后将“主类”属性更改为  <code>anothergrep.Grep</code> （来自  <code>anothergrep.xGrep</code> ）。单击“确定”，以关闭“项目属性”窗口。</p>
</li>
<li>
<p>再次右键单击项目节点，然后选择“清理并构建项目”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在完成这些步骤后，将重新构建 JAR 文件，并更改 JAR 文件清单的  <code>Main-Class</code>  属性，使之指向  <code>anothergrep.Grep</code> 。</p>
</div>
<div class="sect3">
<h4 id="_bash_脚本用于_unix_和_linux_计算机"><a href="http://www.gnu.org/software/bash/bash.html">BASH</a> 脚本&#8201;&#8212;&#8201;用于 UNIX 和 Linux 计算机</h4>
<div class="paragraph">
<p>在您的系统上，解压 <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip">DeploymentTutorial.zip</a> 文件内容的文件夹中包含一个  <code>grep.sh</code>  BASH 脚本。请查看该脚本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#!/bin/bash
                    java -jar dist/AnotherGrep.jar $@</code></pre>
</div>
</div>
<div class="paragraph">
<p>第一行声明应使用哪个 shell 解释该脚本。第二行执行 IDE 在  <code><em>PROJECT_HOME</em>/dist</code>  文件夹中创建的 JAR 文件。 <code>$@</code>  仅复制所有给定参数，并用引号将每个参数引起来。</p>
</div>
<div class="paragraph">
<p>该脚本假定 Java 二进制文件是 PATH 环境变量的一部分。如果该脚本无法正常运行，请参见<a href="#path">设置 PATH 环境变量</a>。</p>
</div>
<div class="paragraph">
<p>可以在<a href="http://www.gnu.org/software/bash/manual/bashref.html">此处</a>找到有关 BASH 脚本的详细信息。</p>
</div>
</div>
<div class="sect3">
<h4 id="_用于_windows_计算机的_bat_脚本">用于 Windows 计算机的 .bat 脚本</h4>
<div class="paragraph">
<p>在 Microsoft Windows 系统上，您每次只能将 9 个参数传递给批处理文件。如果超过 9 个参数，则需要多次执行 JAR 文件。</p>
</div>
<div class="paragraph">
<p>处理这种情况的脚本可能如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">                @echo off
                set jarpath="dist/AnotherGrep.jar"
                set pattern="%1"
                shift
                :loop
                  if "%1" == "" goto :allprocessed
                  set files=%1 %2 %3 %4 %5 %6 %7 %8 %9
                  java -jar %jarpath% %pattern% %files%
                  for %%i in (0 1 2 3 4 5 6 7 8) do shift
                goto :loop

                :allprocessed</code></pre>
</div>
</div>
<div class="paragraph">
<p>该脚本以  <code>grep.bat</code>  形式包含在系统用来解压缩 <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJava%252FDeploymentTutorial.zip">DeploymentTutorial.zip</a> 文件内容的文件夹中，因此，您可以试用一下该脚本。</p>
</div>
<div class="paragraph">
<p>这 9 个参数在批处理文件中用  <code>%&lt;ARG_NUMBER&gt;</code>  表示，其中  <code>&lt;ARG_NUMBER&gt;</code>  必须在  <code>&lt;0-9&gt;</code>  之间。 <code>%0</code>  是为脚本名称保留的。</p>
</div>
<div class="paragraph">
<p>您可以看到每次（一个循环）只能将 9 个参数传递给程序。 <code>for</code>  语句以 9 为单位变换参数，以便为下一个循环准备参数。在  <code>if</code>  语句检测到空文件参数（没有要处理的其他文件）后，将结束循环。</p>
</div>
<div class="paragraph">
<p>可以在<a href="http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/batch.mspx">此页</a>上找到有关批处理脚本的详细信息。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_打包应用程序以通过_java_web_start_进行部署">打包应用程序以通过 Java Web Start 进行部署</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java Web Start 是一项通过单击从 Web 浏览器运行 Java 应用程序的技术。有关打包应用程序以通过 Java Web Start 进行部署的详细信息，请参见<a href="../../73/java/javase-jws.html">在 NetBeans IDE 中启用 Java Web Start</a>。在这里，我们只提供使应用程序可通过 Java Web Start 进行部署而需执行的基本步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在“项目”窗口中右键单击项目节点，然后选择“属性”。</p>
</li>
<li>
<p>在“项目属性”窗口的 "Web Start" 标签上，选中“启用 Web Start”复选框。</p>
</li>
<li>
<p>从“代码库”下拉列表中选择“本地执行”（因为我们仅测试本地执行）。</p>
</li>
<li>
<p>单击“定制”通过在“签名”对话框中指定详细信息对应用程序进行签名。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*从 2013 年 4 月的 Java SE 7 Update 21 开始，鼓励使用可信证书对所有 Java 小应用程序和 Web Start 应用程序进行签名。有关详细信息，请参见 <a href="http://www.oracle.com/technetwork/java/javase/tech/java-code-signing-1915323.html">Java 小应用程序和 Web Start - 代码签名</a>。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将所有其他设置保留默认值，然后单击“确定”。</p>
</li>
<li>
<p>右键单击项目节点，然后选择“清理并构建”。
此 IDE 命令将删除以前编译的所有文件和构建输出，重新编译应用程序，然后使用新设置构建项目。</p>
</li>
<li>
<p>在 IDE 外部，打开  <code><em>PROJECT_HOME</em>/dist</code>  文件夹，然后在浏览器中打开  <code>launch.html</code>  文件。
此时将打开包含“启动”按钮的测试 HTML 页。</p>
</li>
<li>
<p>单击“启动”按钮以打开应用程序。
您可以看到已加载 Java 并启动了应用程序。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*某些浏览器先将您重定向到 Java 下载页。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_疑难解答提示">疑难解答提示</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_指定_jar_文件关联">指定 JAR 文件关联</h3>
<div class="paragraph">
<p>在大多数系统上，您只需双击 JAR 文件即可执行可执行的 JAR 文件。如果在双击 JAR 文件时未执行任何操作，则可能是由于以下两个原因之一造成的：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JAR 文件类型可能尚未与该系统上的 Java 运行时环境 (JRE) 关联。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果 JAR 文件类型与 JRE 关联，则代表该文件的图标应包含 Java 徽标。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JAR 文件类型与 JRE 关联，但在双击该图标时传递给 JRE 的命令中不包含  <code>-jar</code>  选项。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*注：*有时，您安装的软件（例如，用于处理 zip 文件的软件）会切换 JAR 文件关联。</p>
</div>
<div class="paragraph">
<p>JAR 文件类型与  <code>java</code>  启动程序的关联方法取决于操作系统。</p>
</div>
<div class="paragraph">
<p>*注：*确保在系统上安装了某个 JRE 版本。您应该使用 1.4.2 或更高版本。如果未安装 Java，则无法启动 Java 应用程序。（如果安装了 JDK，则还会安装 JRE。不过，如果将程序分发给非程序员，该用户不一定安装了 JRE 或 JDK。）</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在 Windows XP 上，可通过选择“开始”&gt;“控制面板”&gt;“添加/删除程序”检查安装的 Java 版本（例如，您将会看到 Java&#8482; 7 Update 51）。</p>
</li>
<li>
<p>在 Windows Vista 或 7 上，可通过选择“开始”&gt;“控制面板”&gt;“程序和组件”检查安装的 Java 版本（例如，您将会看到 Java&#8482; 7 Update 51）。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果系统上没有 Java，则可以从 <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE 下载站点</a>获取 JRE 版本的 Java。</p>
</div>
<div class="paragraph">
<p>如果在系统上安装了 Java，但文件关联无效，请继续执行下面的步骤以在 Microsoft Windows 上添加 JAR 文件关联：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择“开始”&gt;“控制面板”。</p>
</li>
<li>
<p>（仅适用于 Windows Vista。）单击“控制面板”&gt;“程序”。</p>
</li>
<li>
<p>对于 Windows XP，双击“文件夹选项”，然后选择“文件类型”标签。
对于 Windows Vista 或 Windows 7，单击“默认程序”并选择“将文件类型或协议与程序关联”。</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在“已注册的文件类型”列表中，选择“JAR 文件”。</p>
</li>
<li>
<p>（在 Windows XP 上，在对话框的详细信息部分中）单击“更改程序”。</p>
</li>
<li>
<p>在“打开方式”对话框中，选择 "Java Platform SE Binary"。</p>
</li>
<li>
<p>单击“确定”以退出“打开方式”对话框。</p>
</li>
<li>
<p>单击“关闭”以退出“文件夹选项”对话框（在 Windows XP 上）或“将文件类型或协议与特定程序关联”对话框（在 Windows 7 上）。</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*如果 JAR 文件与系统上的 Java Platform SE Binary 关联，但双击时仍不执行 JAR 文件，则可能需要在文件关联中指定  <code>-jar</code>  选项。</p>
</div>
<div class="paragraph">
<p>在 Microsoft Windows XP 上的文件关联中指定  <code>-jar</code>  选项：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择“开始”&gt;“控制面板”。</p>
</li>
<li>
<p>对于 Windows XP，双击“文件夹选项”，然后选择“文件类型”标签。</p>
</li>
<li>
<p>在“已注册的文件类型”列表中，选择“JAR 文件”。</p>
</li>
<li>
<p>在对话框的“详细信息”部分中，单击“高级”。</p>
</li>
<li>
<p>在“编辑文件类型”对话框中，单击“编辑”。</p>
</li>
<li>
<p>在“用于执行操作的应用程序”文本字段中，将以下内容添加到 JRE 路径末尾：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"> -jar "%1" %*</code></pre>
</div>
</div>
<div class="paragraph">
<p>此时，该字段应包含类似下面的文本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">"C:\Program Files\Java\jre1.7.0_51\bin\javaw.exe" -jar "%1" %*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击“确定”以退出“编辑这种类型的操作”对话框。</p>
</li>
<li>
<p>单击“确定”以退出“编辑文件类型”对话框。</p>
</li>
<li>
<p>单击“关闭”以退出“文件夹选项”对话框。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*从 Windows Vista 开始，可以通过 RegEdit 编辑高级文件关联。有关详细信息，请参见<a href="http://technet.microsoft.com/en-us/magazine/ee914604.aspx">“文件类型”对话框有什么变化？</a>一文。</p>
</div>
<div class="paragraph">
<p>对于 UNIX 和 Linux 系统，更改文件关联的步骤取决于所使用的桌面环境（如 GNOME 或 KDE）。请查看桌面环境的首选项设置或查阅桌面环境文档。</p>
</div>
</div>
<div class="sect2">
<h3 id="_设置_path_环境变量">设置 PATH 环境变量</h3>
<div class="paragraph">
<p>如果不指向系统上的 JDK 或 JRE 位置就无法在系统上运行 Java 类或 JAR 文件，则可能需要修改系统的  <code>PATH</code>  变量值。</p>
</div>
<div class="paragraph">
<p>如果要在 Microsoft Windows 系统上运行，设置 PATH 变量的步骤取决于所使用的 Windows 版本。</p>
</div>
<div class="paragraph">
<p>下面是在 Windows XP 系统上设置  <code>PATH</code>  变量的步骤：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择“开始”&gt;“控制面板”，然后双击“系统”。</p>
</li>
<li>
<p>在“系统属性”对话框中，单击“高级”标签。</p>
</li>
<li>
<p>单击“环境变量”标签。</p>
</li>
<li>
<p>在用户变量列表中，选择  <code>PATH</code> ，然后单击“编辑”。</p>
</li>
<li>
<p>将 JRE 位置添加到路径列表末尾。该列表中的位置以分号 (;) 分隔。
例如，如果 JRE 位于 <code>C:\Program Files\Java\jdk1.7.0_51</code>，则需要在 PATH 变量的结尾添加以下内容：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">C:\Program Files\Java\jdk1.7.0_51\bin</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击“确定”以退出“环境变量”对话框，然后单击“确定”以退出“系统属性”对话框。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果要在 UNIX 或 Linux 系统上运行，则如何修改 PATH 变量取决于所使用的 shell 程序。有关详细信息，请查阅所使用的 shell 的文档。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Packaging%20and%20Distributing%20Java%20Desktop%20Applications">发送有关此教程的反馈意见</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_后续步骤">后续步骤</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关使用 NetBeans IDE 的更多信息，请参见 NetBeans 网站上的<a href="https://netbeans.org/kb">文档和支持</a>页。</p>
</div>
<div class="paragraph">
<p>要了解 Java 应用程序开发的 IDE 工作流的详细信息（包括类路径管理），请参见<a href="javase-intro.html">开发常规 Java 应用程序</a>。</p>
</div>
<div class="paragraph">
<p>有关 NetBeans IDE 中的构建功能的信息，请参见_使用 NetBeans IDE 开发应用程序_中的<a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG510">构建 Java 项目</a>。</p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/javase-deploy_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
