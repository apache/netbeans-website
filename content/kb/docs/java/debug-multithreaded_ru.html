
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Отладка многопоточных приложений в IDE NetBeans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Отладка многопоточных приложений в IDE NetBeans - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Отладка многопоточных приложений в IDE NetBeans">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.4</h1>
            <p><a class="button success" href="/download/nb124/nb124.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Отладка многопоточных приложений в IDE NetBeans</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/debug-multithreaded_ru.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_загрузка_примеров_проектов">Загрузка примеров проектов</a></li>
<li><a href="#_открытие_проектов">Открытие проектов</a>
<ul class="sectlevel2">
<li><a href="#_запуск_проекта_gallery">Запуск проекта "Gallery"</a></li>
<li><a href="#_запуск_проекта_deadlock">Запуск проекта "Deadlock"</a></li>
</ul>
</li>
<li><a href="#_отладка_примеров_проектов">Отладка примеров проектов</a>
<ul class="sectlevel2">
<li><a href="#_приостановка_потоков_выполнения">Приостановка потоков выполнения</a></li>
<li><a href="#_переключение_потоков_выполнения">Переключение потоков выполнения</a></li>
<li><a href="#_обнаружение_взаимоблокировок">Обнаружение взаимоблокировок</a></li>
</ul>
</li>
<li><a href="#_дополнительные_сведения">Дополнительные сведения</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>В этом документе описывается использование окна 'Отладка' в IDE NetBeans для отладки многопоточных приложений. В данном руководстве также представлены способы использования среды IDE для обнаружения взаимоблокировок в приложении.</p>
</div>
<div class="paragraph">
<p>Процесс отладки значительно упрощен, поскольку вся информация о сеансах отладки, потоках выполнения и стеках вызовов потоков выполнения представлена в одном окне "Debugging". В окне "Debugging" удобно просматривать состояние потоков выполнения, а также приостанавливать и возобновлять выполнение любого потока в сеансе.</p>
</div>
<div class="paragraph">
<p>С целью демонстрации работы с окном "Debugging" в данном руководстве используются два примера проектов. В соответствии с указаниями в этом руководстве сначала загрузите, а затем откройте проекты "Gallery" и "Deadlock".</p>
</div>
<div class="paragraph">
<p>Просмотрите видео <a href="debug-multithreaded-screencast.html">Отладка многопоточных приложений в IDE NetBeans</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. Содержимое этой страницы применимо к IDE NetBeans 7.2, 7.3, 7.4 и 8.0</div>
</div>
<div class="paragraph">
<p><strong>Для работы с этим учебным курсом требуется следующее программное обеспечение и ресурсы.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Программное обеспечение или материал</th>
<th class="tableblock halign-left valign-top">Требуемая версия</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">версия 7 или 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">Проекты "Gallery" и "Deadlock"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_загрузка_примеров_проектов">Загрузка примеров проектов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Простые проекты, используемые в этом руководстве, можно загрузить следующими способами.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Загрузите <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">архив завершенного проекта в формате zip</a>.</p>
</li>
<li>
<p>Выполните проверку исходных файлов проекта на выходе из примеров NetBeans, выполнив перечисленные ниже действия.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите в главном меню "Группа &gt; Subversion &gt; Проверить".</p>
</li>
<li>
<p>В диалоговом окне "Проверка" введите следующий URL-адрес репозитория:
 <code><a href="https://svn.netbeans.org/svn/samples~samples-source-code" class="bare">https://svn.netbeans.org/svn/samples~samples-source-code</a></code>
Нажмите кнопку "Далее".</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите кнопку Browse ("Обзор") для открытия диалогового окна Browse Repository Folders ("Обзор папок репозитория").</p>
</li>
<li>
<p>Разверните корневой узел и выберите <strong>samples/java/debugging-samples</strong>. Нажмите кнопку "ОК".</p>
</li>
<li>
<p>Укажите локальную папку для исходных файлов (папка должна быть пустой).</p>
</li>
<li>
<p>Нажмите кнопку 'Готово'.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>После нажатия кнопки "Готово" среда IDE инициализирует локальную папку в качестве репозитория Subversion и выполняет проверку исходных файлов проекта на выходе.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните команду "Открыть проект" в диалоговом окне, которое появится после завершения проверки.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Дополнительные сведения об изъятии для использования источников с помощью Subversion см. в разделе <a href="../ide/subversion.html#settingUp">Настройка Subversion</a> в <a href="../ide/subversion.html">Руководстве по Subversion в IDE NetBeans</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_открытие_проектов">Открытие проектов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для демонстрации отладки многопоточных приложений в среде IDE в данном руководстве используются два приложения. В этом упражнении необходимо открыть и затем запустить два проекта в среде IDE. После запуска проектов можно перейти к отладке каждого из них.</p>
</div>
<div class="sect2">
<h3 id="_запуск_проекта_gallery">Запуск проекта "Gallery"</h3>
<div class="paragraph">
<p>Приложение "Gallery" представляет собой простое приложение Java Swing для воспроизведения анимированных изображений. В приложении имеются две кнопки, позволяющие добавлять и удалять анимированные изображения. В этом упражнении будет выполнен запуск приложения "Gallery".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Загрузите и распакуйте архив <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/debugging-samples.zip">+ <code>debugging-samples.zip</code> +</a> в локальной системе.</p>
</li>
<li>
<p>В главном меню выберите "File &gt; Open".</p>
</li>
<li>
<p>В каталоге примеров приложений для отладки найдите и выберите проект "Gallery". Нажмите кнопку Open ("Открыть").</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При выборе "Open" в среде IDE проект будет открыт и выведен на экран в окне "Projects". После развертывания узла проекта в окне "Projects" видно, что он представляет собой простое приложение на Java для Swing.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для запуска приложения "Gallery" щелкните правой кнопкой мыши узел проекта и выберите "Run".</p>
</li>
<li>
<p>В приложении "Gallery" нажмите кнопку "More" для добавления изображений и "Less" для удаления изображений.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-gallery-app.png" alt="debugging gallery app">
</div>
<div class="title">Figure 2. Приложение &quot;Gallery&quot;.</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Закройте окно приложения "Gallery".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Проект Gallery представляет собой простое многопоточное приложение, процесс отладки которого описывается в данном руководстве.</p>
</div>
</div>
<div class="sect2">
<h3 id="_запуск_проекта_deadlock">Запуск проекта "Deadlock"</h3>
<div class="paragraph">
<p>Приложение "Deadlock" содержит метод запуска потока выполнения  <code>main</code> , который выполняется в течение 500 000 миллисекунд. Этот метод  <code>main</code>  запускает два потока выполнения, результаты которых отображаются в окне "Output".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В главном меню выберите "File &gt; Open".</p>
</li>
<li>
<p>В каталоге примеров приложений для отладки найдите и выберите проект "Deadlock". Нажмите кнопку Open ("Открыть").</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При выборе "Open" в среде IDE проект будет открыт и выведен на экран в окне "Projects". После развертывания узла проекта в окне "Projects" видно, что он представляет собой простое приложение Java.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для запуска приложения "Deadlock" щелкните правой кнопкой мыши узел проекта и выберите "Run".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При нажатии кнопки "Run" откроется окно "Output", в котором отображается следующая выходная информация.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">run:
Application started
MyThread2 successfully finished.
MyThread1 successfully finished</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Пусть приложение нормально завершит работу (пять минут).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>По завершении работы приложения "Deadlock" в окне "Output" должна отображаться следующая информация.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Main thread finished</code></pre>
</div>
</div>
<div class="paragraph">
<p>Проект "Deadlock" является простым приложением Java с двумя потоками выполнения. После отладки приложения будет создана взаимоблокировка с целью демонстрации возможностей среды IDE по обнаружению взаимоблокировок.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_отладка_примеров_проектов">Отладка примеров проектов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Проект "Gallery" представляет собой простое приложение Java Swing для воспроизведения анимированных изображений. Добавление и удаление изображений в приложении осуществляется путем нажатия соответствующих кнопок. При нажатии кнопки "More" запускается новый поток выполнения, который выводит на экран и анимирует изображение. При нажатии кнопки "Less" останавливается самый новый поток выполнения, в результате чего анимация останавливается и изображение удаляется.</p>
</div>
<div class="sect2">
<h3 id="_приостановка_потоков_выполнения">Приостановка потоков выполнения</h3>
<div class="paragraph">
<p>В этом упражнении выполняется запуск отладки приложения "Gallery" и добавляются несколько изображений для запуска нескольких потоков приложения. После запуска сеанса отладки в левой области окна IDE открывается окно "Debugging". В окне "Debugging" отображается список потоков выполнения данного сеанса.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши проект "Gallery" в окне "Projects" и выберите "Debug".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После нажатия кнопки "Debug" в среде IDE запускается приложение "Gallery", и открываются окна отладки по умолчанию. Окно "Debugging" автоматически открывается в левой области главного окна, а окно "Debugger Console" – в окне "Output".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Трижды нажмите кнопку "More" в приложении "Gallery" для запуска трех потоков выполнения для воспроизведения анимированных изображений.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В окне "Debugging" отобразится процесс запуска новых потоков выполнения для каждой анимации.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-start.png" alt="debugging start">
</div>
<div class="title">Figure 3. Окно отладки</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Приостановите два потока выполнения путем нажатия кнопки "Suspend thread" справа от каждого потока в окне "Debugging".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Если поток выполнения приостановлен, соответствующий значок изменится, отражая его новое состояние. Для просмотра стека вызовов потока выполнения можно развернуть узел этого потока. Щелкните правой кнопкой мыши элементы в окне 'Отладка', чтобы открыть всплывающее меню с командами отладки.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-start-suspend.png" alt="debugging start suspend">
</div>
<div class="title">Figure 4. Окно отладки с двумя отложенными потоками</div>
</div>
<div class="paragraph">
<p>При просмотре приложения "Gallery" видно, что после приостановки потоков выполнения анимация для этих потоков прервалась.</p>
</div>
<div class="paragraph">
<p>Окно "Debugging" позволяет быстро просматривать и изменять состояние потоков выполнения в сеансе. По умолчанию в окне "Debugging" кнопки "Resume" и "Suspend" располагаются в правой области окна. Эти кнопки можно скрыть, после чего настроить вид окна "Debugging" с помощью панели инструментов в нижней области этого окна. При выполнении нескольких сеансов отладки для выбора сеанса, который должен отображаться в окне, можно использовать раскрывающийся список в верхней области окна "Debugging".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-window-toolbar.png" alt="debugging window toolbar">
</div>
<div class="title">Figure 5. Панель инструментов окна отладки</div>
</div>
</div>
<div class="sect2">
<h3 id="_переключение_потоков_выполнения">Переключение потоков выполнения</h3>
<div class="paragraph">
<p>В данном упражнении демонстрируются результаты последовательного выполнения приложения, если при этом другой поток приложения достигает точки останова. В этом упражнении описывается установка точки останова для метода и последовательное выполнение приложения. В процессе последовательного выполнения приложения будет запущен новый поток выполнения, который также достигнет точки останова. Когда это произойдет, на экран будет выведено уведомление в окне "Debugging". После этого следует выполнить переключение между потоками выполнения.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне приложения 'Галерея' нажимайте 'Больше' или 'Меньше' до тех пор, пока на экране не будут отображаться две или три анимации.</p>
</li>
<li>
<p>В окне 'Проекты' IDE разверните пакет  <code>галереи</code>  и дважды щелкните  <code>Gallery.java</code> , чтобы открыть файл в редакторе.</p>
</li>
<li>
<p>В файле  <code>Gallery.java</code>  вставьте точку останова в начало метода  <code>run</code>  путем щелчка в левой части строки 175.</p>
</li>
<li>
<p>Нажмите кнопку "More" в приложении "Gallery" для запуска нового потока выполнения, который должен достичь точки останова.</p>
</li>
<li>
<p>Нажмите Step Over ("По оператору с обходом процедур") (F8) и исполняйте метод по оператору, пока счетчик строк кода не достигнет строки 191.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В счетчике строк кода в поле редактора отображается текущее положение в коде при пошаговом выполнении метода.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите кнопку "More" в приложении "Gallery" для запуска нового потока выполнения, который должен достичь точки останова.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Когда новый поток выполнения достигнет точки останова, установленной в методе, в окне "Debugging" появится уведомление "New Breakpoint Hit", информирующее о том, что еще один поток выполнения достиг точки останова в процессе последовательного выполнения метода.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-newbreakpointhit.png" alt="debugging newbreakpointhit">
</div>
<div class="title">Figure 6. Уведомление 'Достижение новой точки останова'</div>
</div>
<div class="paragraph">
<p>Когда в процессе последовательного выполнения потока другой поток выполнения достигает точки останова, в среде IDE предлагается возможность выбора: переключение на другой поток выполнения или продолжение пооператорного выполнения текущего потока. Для переключения на поток выполнения, достигший точки останова, в уведомлении "New Breakpoint Hit" можно нажать кнопку со стрелкой. На новый поток выполнения можно переключиться в любой момент путем выбора потока в окне уведомления. При выборе пооператорного выполнения текущего потока, достигшего точки останова, возобновляется текущий поток выполнения, однако состояние других потоков приложения остается неизменным.</p>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> В окне "Debugging" отобразится текущий поток (Thread_Jirka), который указывается с помощью зеленой полосы на границы. Поток выполнения, инициировавший уведомление при достижении точки останова (Thread_Roman), отмечен желтой полосой, а значок этого потока указывает на то, что данный поток выполнения приостановлен, поскольку достигнута точка останова.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-current-suspended.png" alt="debugging current suspended">
</div>
<div class="title">Figure 7. Уведомление 'Достижение новой точки останова'</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для переключения между текущим потоком выполнения и новым потоком (Thread_Roman) в уведомлении "New Breakpoint Hit" нажмите кнопку со стрелкой.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После переключения на новый поток выполнения на экране можно увидеть следующее:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Счетчик команд переместился в позицию, соответствующую строке 175 в новом текущем потоке выполнения (Thread_Roman).</p>
</li>
<li>
<p>В поле строки 191 появилась аннотация приостановки потока, указывающая на то, что поток выполнения (Thread_Jirka) приостановлен на этой строке.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-suspendedannot.png" alt="debugging editor suspendedannot">
</div>
<div class="title">Figure 8. Редактор, в котором отображаются аннотации отладки</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для пошагового выполнения нового текущего потока (Thread_Roman) несколько раз нажмите "Обход процедур".</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши аннотацию приостановки потока в поле редактора и выберите "Set as Current Thread &gt; Thread_Jirka" для обратного переключения на приостановленный поток.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-setcurrent.png" alt="debugging editor setcurrent">
</div>
<div class="title">Figure 9. Редактор, в котором отображается всплывающее окно 'Задан как текущий поток'</div>
</div>
<div class="paragraph">
<p>Также можно вызвать окно 'Средство выбора текущего потока' (Alt+Shift+T; Ctrl+Shift+T на Mac) и переключиться на любой из потоков приложения.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-thread-chooser.png" alt="debugging thread chooser">
</div>
<div class="title">Figure 10. Приложение &quot;Gallery&quot;.</div>
</div>
<div class="paragraph">
<p>При обратном переключении на поток Thread_Jirka напротив строки, на которой был приостановлен поток Thread_Roman, появится аннотация приостановки потока. Возобновить поток Thread_Roman можно путем нажатия кнопки "Resume" в окне "Debugging".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debugging-editor-suspendedannot2.png" alt="debugging editor suspendedannot2">
</div>
<div class="title">Figure 11. Редактор, в котором отображаются аннотации отладки</div>
</div>
<div class="paragraph">
<p>Окно "Debugging" обеспечивает точное представление и контроль состояний потоков выполнения. Отладчик управляет потоками приложения, что упрощает процесс отладки и предотвращает возникновение взаимоблокировок. В этом упражнении были рассмотрены следующие принципы отладки приложения в среде IDE.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Когда поток выполнения достигает точки останова, приостанавливается только этот поток.</p>
</li>
<li>
<p>Если в процессе пооператорного выполнения приложения точки останова достигают другие потоки приложения, это не влияет на текущий поток выполнения.</p>
</li>
<li>
<p>При пооператорном выполнении приложения возобновляется только текущий поток выполнения. После выполнения оператора приостанавливается только текущий поток выполнения.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Теперь можно выйти из приложения "Gallery". В следующем упражнении будет выполнена отладка приложения "Deadlock" и продемонстрировано использование среды IDE для обнаружения взаимоблокировки.</p>
</div>
</div>
<div class="sect2">
<h3 id="_обнаружение_взаимоблокировок">Обнаружение взаимоблокировок</h3>
<div class="paragraph">
<p>Среда IDE может использоваться для идентификации потенциальных ситуаций взаимоблокировки путем автоматического поиска взаимоблокировок по всем приостановленным потокам выполнения. При обнаружении взаимоблокировки в среде IDE на экран выводится соответствующее уведомление в окне "Debugging", в котором указаны задействованные потоки выполнения.</p>
</div>
<div class="paragraph">
<p>Для изучения процесса обнаружения взаимоблокировки в среде IDE необходимо запустить в отладчике демонстрационный проект "Deadlock" и создать ситуацию взаимоблокировки.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Разверните пакет  <code>myapplication</code>  и откройте файлы  <code>Thread1.java</code>  и  <code>Thread2.java</code>  в редакторе исходного кода.</p>
</li>
<li>
<p>Установите точку останова для  <code>Thread1.java</code>  в строке 20 и для  <code>Thread2.java</code>  в строке 20.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Для установки точки останова в поле редактора исходного кода щелкните поле напротив строки, в которой требуется установить точку останова. В левом поле напротив этой строки появится аннотация точки останова. Если открыть окно 'Точки останова' (Alt-Shift-5; Ctrl+Shift+5 на Mac), можно увидеть две установленные и активированные точки останова.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-setbkpt.png" alt="debug deadlock setbkpt">
</div>
<div class="title">Figure 12. В редакторе отображаются точки останова, заданные в строке 20</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Щелкните правой кнопкой мыши проект "Deadlock" в окне "Projects" и выберите "Debug".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При вызове метода  <code>main</code>  будут запущены эти два потока выполнения, при этом оба потока будут приостановлены в одной из точек останова. Потоки, приостановленные в точках останова, можно просмотреть в окне "Debugging".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне "Debugging" возобновите приостановленные потоки выполнения ( <code>MyThread1</code>  и  <code>MyThread2</code> ) путем нажатия кнопки "Resume" справа от приостановленных потоков.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-resume.png" alt="debug deadlock resume">
</div>
<div class="title">Figure 13. Восстановление приостановленных потоков в окне &quot;Отладка&quot;.</div>
</div>
<div class="paragraph">
<p>Возобновление потоков выполнения  <code>MyThread1</code>  и  <code>MyThread2</code>  приведет к возникновению ситуации взаимоблокировки.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выберите в главном меню команду "Debug\Check for Deadlock" для проверки приостановленных потоков выполнения на наличие взаимоблокировок.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/debug-deadlock-detected.png" alt="debug deadlock detected">
</div>
<div class="title">Figure 14. Восстановление приостановленных потоков в окне &quot;Отладка&quot;.</div>
</div>
<div class="paragraph">
<p>Если в ходе проверки приложения обнаружена взаимоблокировка, в окне "Debugging" появится сообщение, информирующее об этой ситуации. Потоки выполнения, находящиеся во взаимоблокировке, отмечаются красной полосой в левом поле окна "Debugging".</p>
</div>
<div class="paragraph">
<p>Настоящий учебный курс является общим введением в некоторые из функций отладки в среде IDE. Окно "Debugging" позволяет без труда приостанавливать и возобновлять потоки выполнения при отладке приложений. Это очень удобно при отладке многопоточных приложений.</p>
</div>
<div class="paragraph">
<p><a href="https://netbeans.org/about/contact_form.html?to=3&amp;subject=Feedback:%20Debugging%20Multithreaded%20Applications">Отправить отзыв по этому учебному курсу</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_дополнительные_сведения">Дополнительные сведения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Дополнительные сведения о разработке и тестировании приложений в IDE NetBeans см. следующие ресурсы:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Демонстрация: <a href="debug-multithreaded-screencast.html">Отладка многопоточного приложения в IDE NetBeans</a></p>
</li>
<li>
<p>Демонстрация: <a href="debug-stepinto-screencast.html">+ визуальная операция Step Into в отладчике NetBeans+</a></p>
</li>
<li>
<p>Демонстрация: <a href="debug-deadlock-screencast.html">обнаружение взаимоблокировки с помощью отладчика NetBeans</a></p>
</li>
<li>
<p>Демонстрация: <a href="debug-evaluator-screencast.html">использование блока оценки фрагмента кода в отладчике NetBeans</a></p>
</li>
<li>
<p><a href="../../trails/java-se.html">Учебная карта по основам среды IDE и программирования на языке Java</a></p>
</li>
<li>
<p><a href="junit-intro.html">Написание тестов JUnit</a></p>
</li>
<li>
<p><a href="profiler-intro.html">Введение в профилирование приложений, написанных на Java</a></p>
</li>
</ul>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/debug-multithreaded_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
