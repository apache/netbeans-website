
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Usando o Hibernate em uma Aplicação Java Swing - Tutorial do NetBeans IDE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Usando o Hibernate em uma Aplicação Java Swing - Tutorial do NetBeans IDE - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Usando o Hibernate em uma Aplicação Java Swing - Tutorial do NetBeans IDE">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Usando o Hibernate em uma Aplicação Java Swing - Tutorial do NetBeans IDE</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/hibernate-java-se_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_criando_o_banco_de_dados">Criando o Banco de Dados</a></li>
<li><a href="#_criando_o_projeto_da_aplicação_java_swing">Criando o Projeto da Aplicação Java Swing</a></li>
<li><a href="#_adicionando_o_suporte_do_hibernate_ao_projeto">Adicionando o Suporte do Hibernate ao Projeto</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_arquivo_de_configuração_do_hibernate">Criando o Arquivo de Configuração do Hibernate</a></li>
<li><a href="#_modificando_o_arquivo_de_configuração_do_hibernate">Modificando o Arquivo de Configuração do Hibernate</a></li>
<li><a href="#_criando_o_arquivo_de_ajuda_hibernateutil_java">Criando o Arquivo de Ajuda  <code>HibernateUtil.java</code></a></li>
</ul>
</li>
<li><a href="#_gerando_arquivos_de_mapeamento_hibernate_e_classes_java">Gerando Arquivos de Mapeamento Hibernate e Classes Java</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_arquivo_de_engenharia_reversa">Criando o Arquivo de Engenharia Reversa</a></li>
<li><a href="#_criando_arquivos_de_mapeamento_hibernate_e_pojos_de_um_banco_de_dados">Criando Arquivos de Mapeamento Hibernate e POJOs de um Banco de Dados</a></li>
</ul>
</li>
<li><a href="#_criando_a_gui_da_aplicação">Criando a GUI da Aplicação</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_form_jframe">Criando o Form JFrame</a></li>
<li><a href="#_adicionando_elementos_ao_form">Adicionando Elementos ao Form</a></li>
</ul>
</li>
<li><a href="#_criando_a_consulta_no_editor_de_consultas_hql">Criando a consulta no Editor de Consultas HQL</a></li>
<li><a href="#_adicionando_a_consulta_ao_form">Adicionando a Consulta ao Form</a></li>
<li><a href="#_executando_o_projeto">Executando o Projeto</a>
<ul class="sectlevel2">
<li><a href="#_fazendo_download_do_projeto_da_solução">Fazendo Download do Projeto da Solução</a></li>
</ul>
</li>
<li><a href="#_criando_pojos_e_arquivos_de_mapeamento_individualmente">Criando POJOs e Arquivos de Mapeamento Individualmente</a></li>
<li><a href="#_consulte_também">Consulte Também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial, você usa o NetBeans IDE para criar e implantar uma aplicação Java Swing que exibe dados de um banco de dados. A aplicação usa o framework do Hibernate como camada de persistência para recuperar POJOs (objetos Java antigos e simples) de um banco de dados relacional.</p>
</div>
<div class="paragraph">
<p>O Hibernate é o framework que fornece ferramentas para o mapeamento relacional de objeto (ORM). O tutorial demonstra o suporte para o framework do Hibernate no IDE e como usar os assistentes para criar os arquivos necessários do Hibernate. Depois de criar objetos Java e configurar a aplicação usar o Hibernate, você cria uma interface GUI para a pesquisa e exibição dos dados.</p>
</div>
<div class="paragraph">
<p>Neste tutorial, você constrói uma aplicação de administração corporativa para a <a href="../web/hibernate-webapp.html">aplicação Web de Loja de DVDs</a>. Este tutorial abrange como criar uma aplicação que permita a consulta do perfil de um ator com base na correspondência com o primeiro ou último nome. Se você desejar, poderá ampliar a aplicação para consultar os detalhes de um filme e adicionar/atualizar/deletar itens. Este tutorial usa o MySQL e o banco de dados Sakila, mas você pode usar qualquer servidor de banco de dados compatível com aplicações Hibernate. O banco de dados Sakila é um banco de dados de amostra que pode ser obtido por download no site MySQL. As informações para a definição do banco de dados Sakila são fornecidas nas seções a seguir.</p>
</div>
<div class="paragraph">
<p>Antes de começar este tutorial, talvez você queira se familiarizar com a documentação a seguir.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A documentação do Hibernate em <a href="http://www.hibernate.org/">hibernate.org</a>.</p>
</li>
<li>
<p><a href="gui-functionality.html">Introdução à Construção de GUIs</a></p>
</li>
<li>
<p>Tutorial <a href="../ide/mysql.html">Estabelecendo Conexão com um Banco de Dados MySQL</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para construir esta aplicação usando o Maven, consulte <a href="maven-hib-java-se.html">Criando uma Aplicação Maven Swing usando o Hibernate</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3, 7.4 e 8.0</div>
</div>
<div class="paragraph">
<p><strong>Para seguir este tutorial, são necessários os recursos e o software a seguir.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java 7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://java.sun.com/javase/downloads/index.jsp">JDK (Java Development Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 7 ou 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.mysql.com/">Servidor de banco de dados MySQL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 5.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Banco de Dados Sakila</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plug-in disponível na central de atualização</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Você pode fazer download <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/DVDStoreAdmin-Ant.zip">de um arquivo compactado zip do projeto finalizado</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_banco_de_dados">Criando o Banco de Dados</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este tutorial usa um banco de dados MySQL chamado  <code>sakila</code> . O banco de dados de amostra não é incluído quando você instala o IDE, portanto você precisa criar o banco de dados primeiro para seguir este tutorial.</p>
</div>
<div class="paragraph">
<p>O banco de dados Sakila é uma amostra gratuita do banco de dados MySQL, disponível no site MySQL. Para criar o banco de dados sakila, você pode fazer o download e instalar o plug-in Banco de Dados de Amostra do Sakila usando o Gerenciador de plug-ins. Depois de instalar o plug-in, você pode criar o banco de dados sakila da janela Serviços. O banco de dados sakila é adicionado à lista de bancos de dados na caixa de diálogo Criar banco de dados MySQL.</p>
</div>
<div class="paragraph">
<p>Para obter mais informações sobre a configuração do IDE para trabalhar com o MySQL, consulte o tutorial <a href="../ide/mysql.html">Estabelecendo Conexão com um Banco de Dados MySQL</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra o Gerenciador de plug-ins e instale o plug-in Banco de Dados de Amostra do Sakila.</p>
</li>
<li>
<p>Depois de instalar o plug-in, inicie o servidor do banco de dados MySQL ampliando o nó Banco de dados na janela Serviços, clicando com o botão direito do mouse no nó Servidor MySQL e escolhendo Iniciar.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó Servidor MySQL e escolha Criar Banco de Dados.</p>
</li>
<li>
<p>Selecione o banco de dados Sakila na lista drop-down Novo Nome de Banco de Dados, na caixa de diálogo Criar Banco de Dados MySQL. Clique em OK.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-sakila-mysql.png" alt="create sakila mysql">
</div>
<div class="title">Figure 2. Tela da caixa de diálogo Criar Banco de Dados MySQL</div>
</div>
<div class="paragraph">
<p>Quando você clicar em OK, um nó do Salkila será exibido sob o nó Servidor MySQL.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do Sakila e escolha Conectar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Conectar, um nó de conexão do banco de dados do banco de dados Sakila ( <code>jdbc:mysql://localhost:3306/sakila [<em>nome de usuário</em> em Default]</code> ) será apresentado no nó Bancos de Dados. Quando uma conexão for aberta, você poderá exibir os dados no banco de dados ampliando o nó de conexão.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_projeto_da_aplicação_java_swing">Criando o Projeto da Aplicação Java Swing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste exercício você cria um projeto da aplicação Java Swing simples chamado DVDStoreAdmin.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto (Ctrl-Shift-N). Selecione Aplicação Java na categoria Java e clique em Próximo.</p>
</li>
<li>
<p>Insira <strong>DVDStoreAdmin</strong> para o nome do projeto e defina a sua localização.</p>
</li>
<li>
<p>Desmarque a opção Usar Pasta Dedicada, se ela estiver selecionada.
Para este tutorial, não é necessário copiar as bibliotecas do projeto em uma pasta dedicada, pois você não precisará compartilhar bibliotecas com outros usuários.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Desmarque Criar Classe Principal. Clique em Finalizar.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o IDE criará o projeto da aplicação Java. O projeto não tem uma classe principal. Você criará um form e o definirá como classe principal.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adicionando_o_suporte_do_hibernate_ao_projeto">Adicionando o Suporte do Hibernate ao Projeto</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para adicionar suporte ao HIbernate em um projeto J2SE, é necessário adicionar a biblioteca Hibernate ao projeto. A biblioteca Hibernate está incluída no IDE e pode ser adicionada a qualquer projeto clicando com o botão direito do mouse no nó "Bibliotecas" da janela Projetos, escolhendo "Adicionar Biblioteca" e selecionando a biblioteca Hibernate na caixa de diálogo Adicionar Biblioteca.</p>
</div>
<div class="paragraph">
<p>O IDE inclui assistentes para ajudá-lo a criar os arquivos Hibernate necessários em seu projeto. É possível usar os assistentes no IDE para criar um arquivo de configuração Hibernate e uma classe de ajuda do utilitário. Se você criar o arquivo de configuração Hibernate usando um assistente, o IDE adicionará automaticamente as bibliotecas Hibernate ao projeto.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_arquivo_de_configuração_do_hibernate">Criando o Arquivo de Configuração do Hibernate</h3>
<div class="paragraph">
<p>O arquivo de configuração Hibernate ( <code>hibernate.cfg.xml</code> ) contém informações sobre a conexão do banco de dados, os mapeamentos de recursos e outras propriedades da conexão. Ao criar um arquivo de configuração Hibernate usando um assistente, você especifica a conexão do banco de dados de uma lista de conexões de bancos de dados registradas no IDE. Durante a geração do arquivo de configuração, o IDE adiciona automaticamente os detalhes da conexão e as informações de dialeto com base na conexão de banco de dados selecionada. O IDE também adiciona automaticamente a biblioteca Hibernate ao classpath do projeto. Depois de criar o arquivo de configuração, você pode editar o arquivo usando o editor de múltipla exibição, ou editar o XML diretamente no editor XML.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó Pacotes de Código-fonte na janela Projetos e escolha Novo &gt; Outro para abrir o assistente para Novo Arquivo.</p>
</li>
<li>
<p>Selecione o Assistente Configuração do Hibernate a partir da categoria Hibernate. Clique em Próximo.</p>
</li>
<li>
<p>Mantenha as definições default no painel Nome e Localização (se desejar criar o arquivo no diretório  <code>src</code> ). Clique em Próximo.</p>
</li>
<li>
<p>Selecione a conexão sakila na lista drop-down Conexão do Banco de Dados. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-config.png" alt="hib config">
</div>
<div class="title">Figure 3. Caixa de diálogo para selecionar conexão de banco de dados</div>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o IDE abrirá o  <code>hibernate.cfg.xml</code>  no editor de código-fonte. O IDE cria o arquivo de configuração na raiz do classpatch contextual da aplicação (na janela Arquivos, WEB-INF/classes). Na janela Projetos, o arquivo está localizado no pacote de código-fonte  <code>&lt;pacote default&gt;</code> . O arquivo de configuração contém informações sobre um único banco de dados. Se planeja conectar a vários bancos de dados, você pode criar vários arquivos de configuração no projeto, um para cada servidor de banco de dados; porém, por default, a classe utilitário de ajuda usará o arquivo  <code>hibernate.cfg.xml</code>  que está na localização-raiz.</p>
</div>
<div class="paragraph">
<p>Se você expandir o nó Bibliotecas na janela Projetos, observará que o IDE acrescentou os arquivos JAR do Hibernate obrigatórios e o JAR do conector MySQL.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-libraries-config.png" alt="hib libraries config">
</div>
<div class="title">Figure 4. Tela da janela Projetos mostrando bibliotecas do Hibernate</div>
</div>
<div class="paragraph">
<p><strong>Observação.</strong> O NetBeans IDE 8.0 vem com as bibliotecas do Hibernate 4. As versões mais antigas do IDE vinham com o Hibernate 3.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modificando_o_arquivo_de_configuração_do_hibernate">Modificando o Arquivo de Configuração do Hibernate</h3>
<div class="paragraph">
<p>Neste exercício, você editará as propriedades default especificadas em  <code>hibernate.cfg.xml</code>  para ativar o log de depuração para instruções SQL.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra  <code>hibernate.cfg.xml</code>  na guia Desenho. Você pode abrir o arquivo expandindo o nó Arquivos de Configuração na janela Projetos e clicando duas vezes em  <code>hibernate.cfg.xml</code> .</p>
</li>
<li>
<p>Expanda o nó Propriedades da Configuração em Propriedades Opcionais.</p>
</li>
<li>
<p>Clique em Adicionar para abrir a caixa de diálogo Adicionar Propriedade do Hibernate.</p>
</li>
<li>
<p>Na caixa de diálogo, selecione a propriedade  <code>hibernate.show_sql</code>  e defina o valor para  <code>true</code> . Clique em OK. Isso ativa o log de depuração das instruções SQL.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-showsql.png" alt="add property showsql">
</div>
<div class="title">Figure 5. Caixa de diálogo Adicionar Propriedade Hibernate que mostra o valor de definição de hibernate.show_sql</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Adicionar no nó Propriedades Diversas e selecione  <code>hibernate.query.factory_class</code>  na lista drop-down Nome da Propriedade.</p>
</li>
<li>
<p>Digite <strong>org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory</strong> como Valor da Propriedade.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Esta é a classe translator factory usada no Hibernate 4 que acompanha o IDE.</p>
</div>
<div class="paragraph">
<p>Clique em OK.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-factoryclass-4.png" alt="add property factoryclass 4">
</div>
<div class="title">Figure 6. Caixa de diálogo Adicionar Propriedade Hibernate que mostra o valor de definição de hibernate.query.factory_class</div>
</div>
<div class="paragraph">
<p>Se você estiver usando o NetBeans IDE 7.4 ou anterior, selecione <strong>org.hibernate.hql.classic.ClassicQueryTranslatorFactory</strong> como Valor da Propriedade na caixa de diálogo. O NetBeans IDE 7.4 e anterior eram fornecidos com o Hibernate 3.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-factoryclass.png" alt="add property factoryclass">
</div>
<div class="title">Figure 7. Caixa de diálogo Adicionar Propriedade Hibernate que mostra o valor de definição de hibernate.query.factory_class</div>
</div>
<div class="paragraph">
<p>Se clicar na guia XML no editor, você pode ver o arquivo na view XML. O arquivo deve ter uma aparência semelhante a esta:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;hibernate-configuration&gt;
    &lt;session-factory name="session1"&gt;
        &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name="hibernate.connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt;
        &lt;property name="hibernate.connection.url"&gt;jdbc:mysql://localhost:3306/sakila&lt;/property&gt;
        &lt;property name="hibernate.connection.username"&gt;root&lt;/property&gt;
        &lt;property name="hibernate.connection.password"&gt;######&lt;/property&gt;
        &lt;property name="hibernate.show_sql"&gt;true&lt;/property&gt;
        &lt;property name="hibernate.query.factory_class"&gt;org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory&lt;/property&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Salve as alterações feitas no arquivo.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Após você criar o form e defini-lo como a classe principal você poderá ver a consulta SQL impressa na janela de Saída do IDE quando você executar o projeto.</p>
</div>
</div>
<div class="sect2">
<h3 id="_criando_o_arquivo_de_ajuda_hibernateutil_java">Criando o Arquivo de Ajuda  <code>HibernateUtil.java</code></h3>
<div class="paragraph">
<p>Para usar o Hibernate, é necessário criar uma classe de ajuda que lide com a inicialização e que acesse o  <code>SessionFactory</code>  do Hibernate para obter um objeto de Sessão. A classe chama o método  <code>configure()</code>  do Hibernate, carrega o arquivo de configuração  <code>hibernate.cfg.xml</code>  e, em seguida, constrói o  <code>SessionFactory</code>  para obter o objeto de Sessão.</p>
</div>
<div class="paragraph">
<p>Nesta seção, você usa o assistente para Novo Arquivo a fim de criar a classe helper  <code>HibernateUtil.java</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó dos Pacote de Códigos-fonte e selecione Novo &gt; Outro para abrir o assistente para Novo Arquivo.</p>
</li>
<li>
<p>Selecione Hibernate na lista Categorias e HibernateUtil.java na lista Tipos de Arquivo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-util.png" alt="hib util">
</div>
<div class="title">Figure 8. O assistente Novo Arquivo que mostram como criar HibernateUtil</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira <strong>HibernateUtil</strong> como nome da classe e <strong>sakila.util</strong> como nome do pacote. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o  <code>HibernateUtil.java</code>  será aberto no editor. Você pode fechar o arquivo porque não precisa editá-lo.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gerando_arquivos_de_mapeamento_hibernate_e_classes_java">Gerando Arquivos de Mapeamento Hibernate e Classes Java</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial você usa um POJO (objeto Java antigo e simples), o  <code>Actor.java</code> , para representar os dados na tabela ACTOR do banco de dados. A classe especifica os campos para as colunas nas tabelas e usa setters e getters simples para recuperar e gravar dados. Para mapear o  <code>Actor.java</code>  para a tabela ACTOR, você pode usar um arquivo de mapeamento do Hibernate ou usar anotações na classe.</p>
</div>
<div class="paragraph">
<p>Você pode usar o assistente Engenharia Reversa e os Arquivos de Mapeamento do Hibernate e POJOs obtidos de um assistente de banco de dados para criar múltiplos POJOs e arquivos de mapeamento com base nas tabelas selecionadas do banco de dados. Como alternativa, você pode usar assistentes no IDE para ajudar a criar POJOs individuais e arquivos de mapeamento a partir do rascunho.</p>
</div>
<div class="paragraph">
<p><strong>Observações.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ao criar arquivos para múltiplas tabelas, você provavelmente desejará usar os assistentes. Neste tutorial, você só precisa criar um POJO e um arquivo de mapeamento, portanto, é muito mais fácil criar os arquivos individualmente. Você pode consultar as etapas para a <a href="#10">criação dos POJOs e arquivos de mapeamento individualmente</a> no final deste tutorial.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_criando_o_arquivo_de_engenharia_reversa">Criando o Arquivo de Engenharia Reversa</h3>
<div class="paragraph">
<p>O arquivo de engenharia reversa ( <code>hibernate.reveng.xml</code> ) é um arquivo XML que pode ser usado para modificar as definições default usadas ao gerar arquivos Hibernate a partir dos metadados do banco de dados especificado em  <code>hibernate.cfg.xml</code> . O assistente gera o arquivo com as definições default básicas. Você pode modificar o arquivo para especificar explicitamente o esquema do banco de dados que será utilizado, para filtrar as tabelas que não serão usadas e para especificar como os tipos JDBC são mapeados para tipos Hibernate.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó dos Pacote de Códigos-fonte e selecione Novo &gt; Outro para abrir o assistente para Novo Arquivo.</p>
</li>
<li>
<p>Selecione Hibernate na lista Categorias e o assistente Engenharia Reversa do Hibernate a partir da lista Tipos de Arquivos. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>hibernate.reveng</strong> como o nome do arquivo.</p>
</li>
<li>
<p>Mantenha o default * <code>src</code> * como a Localização. Clique em Próximo.</p>
</li>
<li>
<p>Selecione <strong>actor</strong> no painel Tabelas Disponíveis e clique em Adicionar. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O assistente gera um arquivo de engenharia reversa  <code>hibernate.reveng.xml</code> . Você pode fechar o arquivo de engenharia reversa porque não precisará editar o arquivo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_criando_arquivos_de_mapeamento_hibernate_e_pojos_de_um_banco_de_dados">Criando Arquivos de Mapeamento Hibernate e POJOs de um Banco de Dados</h3>
<div class="paragraph">
<p>Os Arquivos de Mapeamento do Hibernate e os POJOs obtidos de um Assistente de Banco de Dados geram arquivos com base em tabelas em um banco de dados. Quando você usa o assistente, o IDE gera POJOs e os arquivos de mapeamento com base nas tabelas do banco de dados especificadas em  <code>hibernate.reveng.xml</code>  e, a seguir, adiciona as entradas do mapeamento no  <code>hibernate.cfg.xml</code> . Quando usa o assistente, você pode escolher os arquivos que deseja que o IDE gere (somente os POJOs, por exemplo) e selecionar as opções de geração de código (gerar código que use anotações EJB 3, por exemplo).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó Pacotes de Código-fonte na janela Projetos e escolha Novo &gt; Outro para abrir o assistente para Novo Arquivo.</p>
</li>
<li>
<p>Selecione Arquivos de Mapeamento do Hibernate e POJOs provenientes de um Banco de Dados na categoria Hibernate. Clique em Próximo.</p>
</li>
<li>
<p>Selecione  <code>hibernate.cfg.xml</code>  na lista drop-down Arquivo de Configuração Hibernate, caso não esteja selecionado.</p>
</li>
<li>
<p>Selecione  <code>hibernate.reveng.xml</code>  na lista drop-down Arquivo de Engenharia Reversa Hibernate, caso não esteja selecionado.</p>
</li>
<li>
<p>Certifique-se de que as opções <strong>Código do Domínio</strong> e <strong>Mapeamentos XML do Hibernate</strong> estejam selecionadas.</p>
</li>
<li>
<p>Insira <strong>sakila.entity</strong> para o nome do Pacote. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mapping-pojos-wizard-ant.png" alt="mapping pojos wizard ant">
</div>
<div class="title">Figure 9. Gerar assistente Arquivos de Mapeamento Hibernar e POJOs</div>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o IDE gera o POJO  <code>Actor.java</code>  com todos os campos necessários, gerando também um arquivo de mapeamento Hibernate e adicionando a entrada de mapeamento ao  <code>hibernate.cfg.xml</code> .</p>
</div>
<div class="paragraph">
<p>Agora que você tem o POJO e os arquivos necessários relacionados ao Hibernate, poderá criar um front-end simples de GUI Java para a aplicação. Você também poderá criar e adicionar uma consulta HQL que pesquise o banco de dados para recuperar os dados. Nesse processo, também usamos o editor HQL para construir e testar a consulta.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_a_gui_da_aplicação">Criando a GUI da Aplicação</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste exercício, você criará um form JFrame simples com alguns campos para a entrada e exibição de dados. Você também adicionará um botão que irá disparar uma consulta do banco de dados para recuperar os dados.</p>
</div>
<div class="paragraph">
<p>Se você não estiver familiarizado com o uso do GUI Builder para criar forms, talvez queira examinar o tutorial <a href="gui-functionality.html">Introdução à Construção de GUIs</a>.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_form_jframe">Criando o Form JFrame</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto na janela Projetos e escolha Novo &gt; Outro para abrir o assistente para Novo Arquivo.</p>
</li>
<li>
<p>Selecione Form JFrame na categoria Forms de GUI Swing. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>DVDStoreAdmin</strong> como Nome da Classe e insira <strong>sakila.ui</strong> como Pacote. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o IDE criará a classe e abrirá o Form JFrame na view Design do editor.</p>
</div>
</div>
<div class="sect2">
<h3 id="_adicionando_elementos_ao_form">Adicionando Elementos ao Form</h3>
<div class="paragraph">
<p>Agora você precisa adicionar os elementos de UI ao form. Quando o form estiver aberto na view Design do editor, a Paleta será exibida no lado esquerdo do IDE. Para adicionar um elemento ao form, arraste o elemento da Paleta para a área do form. Depois de adicionar um elemento ao form, será necessário modificar o valor default da propriedade Nome da variável desse elemento.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Arraste um elemento Label da Paleta e altere o texto para <strong>ActorProfile</strong>.</p>
</li>
<li>
<p>Arraste um elemento Label da Paleta e altere o texto para <strong>First Name</strong>.</p>
</li>
<li>
<p>Arraste um elemento Campo de Texto perto do label Nome e delete o texto default.</p>
</li>
<li>
<p>Arraste um elemento Label da Paleta e altere o texto para <strong>Sobrenome</strong>.</p>
</li>
<li>
<p>Arraste um elemento Campo de texto para perto do label Sobrenome e delete o texto default.</p>
</li>
<li>
<p>Arraste um elemento de Botão da Paleta e altere o texto para <strong>Consulta</strong>.</p>
</li>
<li>
<p>Arraste um elemento Tabela da Paleta para dentro do form.</p>
</li>
<li>
<p>Modifique os valores do Nome da Variável dos seguintes elementos da UI de acordo com os valores na tabela a seguir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Você pode modificar o valor do Nome da Variável de um elemento clicando com o botão direito do mouse no elemento na view Design e, em seguida, escolhendo Alterar Nome da Variável. De modo alternativo, você pode alterar o Nome da Variável diretamente na janela Inspetor.</p>
</div>
<div class="paragraph">
<p>Você não precisa designar os valores do Nome da Variável aos elementos do Label.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Elemento</th>
<th class="tableblock halign-left valign-top">Nome da Variável</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Campo de texto Nome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>firstNameTextField</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">campo de texto Sobrenome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lastNameTextField</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Botão Consulta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryButton</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tabela</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultTable</code></p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Na view Design, seu form deve parecer com a imagem a seguir.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-jframe-form.png" alt="hib jframe form">
</div>
<div class="title">Figure 10. Form GUI na View Design do editor</div>
</div>
<div class="paragraph">
<p>Agora que você tem um form, precisa criar o código para designar eventos aos elementos do form. No próximo exercício, você construirá consultas com base na Linguagem de Consulta Hibernate para recuperar dados. Depois de construir as consultas, você adicionará métodos ao form para chamar a consulta apropriada quando o botão Consulta for pressionado.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_a_consulta_no_editor_de_consultas_hql">Criando a consulta no Editor de Consultas HQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No IDE, você pode construir e testar consultas com base no Idioma de consulta do Hibernate (HQL) usando o Editor de Consultas HQL. À medida que você insere a consulta, o editor mostra a consulta SQL equivalente (traduzida). Quando você clicar no botão "Executar Consulta HQL" na barra de ferramentas, o IDE executará a consulta e mostrará os resultados na parte inferior do editor.</p>
</div>
<div class="paragraph">
<p>Neste exercício, o Editor HQL é utilizado para construir consultas HQL simples que recuperam uma lista de detalhes de atores com base na correspondência do nome ou sobrenome. Antes de adicionar a consulta à classe, você utilizará o Editor de Consulta HQL para testar se a conexão está funcionando corretamente e se a consulta produz os resultados desejados. Antes de executar a pesquisa, é preciso compilar a aplicação.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Construir.</p>
</li>
<li>
<p>Amplie o nó de pacote de código-fonte &lt;pacote default&gt; na janela Projetos.</p>
</li>
<li>
<p>Clique com o botão direito do mouse em  <code>hibernate.cfg.xml</code>  e escolha Executar Consulta HQL para abrir o Editor HQL.</p>
</li>
<li>
<p>Teste a conexão inserindo  <code>from Actor</code>  no Editor de Consultas HQL. Clique no botão Executar Consulta HQL ( <span class="image"><img src="images/run_hql_query_16.png" alt="run hql query 16" title="Botão Executar Consulta HQL"></span> ) na barra de ferramentas.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Executar Consulta HQL, deverá visualizar os resultados da consulta no painel inferior do Editor de Consultas HQL.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-query-hqlresults.png" alt="hib query hqlresults">
</div>
<div class="title">Figure 11. Hql Editor de Consulta mostrando resultados da consulta HQL</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Digite a consulta a seguir no Editor de Consultas HQL e clique em Executar consulta HQL para verificar os resultados da consulta quando a string de pesquisa for "PE".</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">from Actor a where a.firstName like 'PE%'</code></pre>
</div>
</div>
<div class="paragraph">
<p>A consulta retorna uma lista de detalhes de atores para aos atores cujos nomes começam com "PE".</p>
</div>
<div class="paragraph">
<p>Ao clicar no botão SQL acima dos resultados, você deverá ver a seguinte consulta SQL equivalente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">select actor0_.actor_id as col_0_0_ from sakila.actor actor0_ where (actor0_.first_name like 'PE%' )</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra uma nova guia do Editor de Consulta HQL e insira a consulta a seguir no painel do editor. Clique em Executar Consulta HQL.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">from Actor a where a.lastName like 'MO%'</code></pre>
</div>
</div>
<div class="paragraph">
<p>A consulta retorna uma lista de detalhes de atores para os atores cujos sobrenomes começam com "MO".</p>
</div>
<div class="paragraph">
<p>Testar as consultas mostra que as elas retornam os resultados desejados. A próxima etapa é implementar as consultas na aplicação de modo que a consulta apropriada seja chamada clicando-se no botão Consulta no form.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adicionando_a_consulta_ao_form">Adicionando a Consulta ao Form</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Agora você precisa modificar o  <code>DVDStoreAdmin.java</code>  para adicionar as strings de consulta e criar os métodos para construir e chamar uma consulta que incorpore as variáveis de entrada. Você também precisa modificar o handler de eventos do botão para chamar a consulta correta e adicionar um método para exibir os resultados da consulta na tabela.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra  <code>DVDStoreAdmin.java</code>  e clique na guia Código-fonte.</p>
</li>
<li>
<p>Adicione as seguintes strings de consulta (em negrito) à classe.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public DVDStoreAdmin() {
    initComponents();
}

*private static String QUERY_BASED_ON_FIRST_NAME="from Actor a where a.firstName like '";
private static String QUERY_BASED_ON_LAST_NAME="from Actor a where a.lastName like '";*</code></pre>
</div>
</div>
<div class="paragraph">
<p>É possível copiar as consultas das guias do Editor de Consulta HQL para o campo e, em seguida, modificar o código.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione os métodos a seguir para criar a consulta com base na string de entrada do usuário.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void runQueryBasedOnFirstName() {
    executeHQLQuery(QUERY_BASED_ON_FIRST_NAME + firstNameTextField.getText() + "%'");
}

private void runQueryBasedOnLastName() {
    executeHQLQuery(QUERY_BASED_ON_LAST_NAME + lastNameTextField.getText() + "%'");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esses métodos chamam o método  <code>executeHQLQuery()</code>  e cria a consulta combinando a string de consulta com o usuário que inseriu a string de pesquisa.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione o método  <code>executeHQLQuery()</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void executeHQLQuery(String hql) {
    try {
        Session session = HibernateUtil.getSessionFactory().openSession();
        session.beginTransaction();
        Query q = session.createQuery(hql);
        List resultList = q.list();
        displayResult(resultList);
        session.getTransaction().commit();
    } catch (HibernateException he) {
        he.printStackTrace();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O método  <code>executeHQLQuery()</code>  chama o Hibernate para executar a consulta selecionada. Esse método usa a classe de utilitário  <code>HibernateUtil.java</code>  para obter a Sessão Hibernate.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no Editor e escolha Corrigir Importações (ctrl-shift-i; ⌘-shift-i em mac) para gerar instruções de importação para as bibliotecas de Hibernação ( <code>org.hibernate.query</code> ,  <code>org.hibernate.session</code> ) e  <code>java.util.list</code> . Salve as alterações.</p>
</li>
<li>
<p>Crie um handler de eventos do botão Consulta alternando para a view Design e clicando duas vezes no botão Consulta.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O IDE cria o método  <code>queryButtonActionPerformed</code>  e exibe o método na view Código-fonte.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifique o método  <code>queryButtonActionPerformed</code>  na view Código-fonte adicionando o código a seguir de modo que uma consulta seja executada quando o usuário clicar no botão.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void queryButtonActionPerformed(java.awt.event.ActionEvent evt) {
    *if(!firstNameTextField.getText().trim().equals("")) {
        runQueryBasedOnFirstName();
    } else if(!lastNameTextField.getText().trim().equals("")) {
        runQueryBasedOnLastName();
    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione o método a seguir para exibir os resultados na JTable.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void displayResult(List resultList) {
    Vector&lt;String&gt; tableHeaders = new Vector&lt;String&gt;();
    Vector tableData = new Vector();
    tableHeaders.add("ActorId");
    tableHeaders.add("FirstName");
    tableHeaders.add("LastName");
    tableHeaders.add("LastUpdated");

    for(Object o : resultList) {
        Actor actor = (Actor)o;
        Vector&lt;Object&gt; oneRow = new Vector&lt;Object&gt;();
        oneRow.add(actor.getActorId());
        oneRow.add(actor.getFirstName());
        oneRow.add(actor.getLastName());
        oneRow.add(actor.getLastUpdate());
        tableData.add(oneRow);
    }
    resultTable.setModel(new DefaultTableModel(tableData, tableHeaders));
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no editor e escolha Corrigir Importações (Ctrl-Shift-I; ⌘-Shift-I no Mac) para gerar uma instrução de importação para  <code>java.util.Vector</code>  e  <code>java.util.List</code> . Salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depois de salvar o form, você pode executar o projeto.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_executando_o_projeto">Executando o Projeto</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Agora que a codificação foi finalizada, é possível iniciar a aplicação. Antes de executar o projeto, é preciso especificar a Classe Principal da aplicação na caixa de diálogo propriedades do projeto. Se nenhuma Classe Principal tiver sido especificada, será solicitado que você execute a aplicação.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto na janela Projetos e escolha Propriedades.</p>
</li>
<li>
<p>Selecione a categoria Executar, na caixa de diálogo Propriedades do Projeto.</p>
</li>
<li>
<p>Insira <strong>sakila.ui.DVDStoreAdmin</strong> como a Classe Principal. Clique em OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>De modo alternativo, você pode clicar no botão Procurar e escolher a classe principal na caixa de diálogo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/browse-main-class.png" alt="browse main class">
</div>
<div class="title">Figure 12. Definindo a Classe Principal na caixa de diálogo Procurar Classes Principais</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Executar Projeto principal na barra de ferramentas principal para iniciar a aplicação.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Insira uma string de pesquisa no campo de texto Nome ou Sobrenome e clique em Consulta para pesquisar um ator e exibir os detalhes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/application-run.png" alt="application run">
</div>
<div class="title">Figure 13. Aplicação Dvdstoreadmin mostrando os resultados</div>
</div>
<div class="paragraph">
<p>Se você observar a janela de Saída do IDE, poderá visualizar a consulta SQL que recuperou os resultados exibidos.</p>
</div>
<div class="sect2">
<h3 id="_fazendo_download_do_projeto_da_solução">Fazendo Download do Projeto da Solução</h3>
<div class="paragraph">
<p>Você pode fazer o download da solução para este projeto como um projeto das seguintes formas.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Faça download <a href="https://netbeans.org/projects/samples/downloads/download/Samples/Java/DVDStoreAdmin-Ant.zip">de um arquivo compactado zip do projeto finalizado</a>.</p>
</li>
<li>
<p>Faça o check-out do código-fonte do projeto das Amostras do NetBeans ao executar as etapas a seguir:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha Equipe &gt; Subversion &gt; Efetuar check-out no menu principal.</p>
</li>
<li>
<p>Na caixa de diálogo Efetuar Check-out, insira o Repositório URL a seguir:
 <code><a href="https://svn.netbeans.org/svn/samples~samples-source-code" class="bare">https://svn.netbeans.org/svn/samples~samples-source-code</a></code>
Clique em Próximo.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Procurar para abrir a caixa de diálogo Procurar nas Pastas do Repositório:</p>
</li>
<li>
<p>Expanda o nó-raiz e selecione <strong>samples/java/DVDStoreAdmin-Ant</strong>. Clique em OK.</p>
</li>
<li>
<p>Especifique a Pasta Local para o códigos-fonte (a pasta local precisa estar vazia).</p>
</li>
<li>
<p>Clique em Finalizar.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o IDE inicializa a pasta local como um repositório Subversion e verifica os códigos-fonte do projeto.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Abrir Projeto na caixa de diálogo exibida quando o check-out for concluído.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Observação.</strong> É necessário um cliente Subversion para verificar os códigos-fonte. Para saber mais sobre a instalação do Subversion, consulte a seção <a href="../ide/subversion.html#settingUp">Configurando o Subversion</a> no <a href="../ide/subversion.html">Guia do Subversion no NetBeans IDE</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_pojos_e_arquivos_de_mapeamento_individualmente">Criando POJOs e Arquivos de Mapeamento Individualmente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Como um POJO é uma classe Java simples, você pode usar o assistente Nova Classe Java para criar a classe e, em seguida, editar a classe no editor de código-fonte para adicionar os campos, getters e setters necessários. Depois de criar o POJO, use um assistente para criar um arquivo de mapeamento do Hibernate para associar a classe à tabela e adicionar informações de mapeamento ao  <code>hibernate.cfg.xml</code> . Quando você cria um arquivo de mapeamento a partir do rascunho, é necessário mapear os campos às colunas no editor XML.</p>
</div>
<div class="paragraph">
<p><strong>Observação.</strong> Esse exercício é opcional e descreve como criar o arquivo de mapeamento e POJO que você criou com o assistente Hibernar Arquivos de Mapeamento e POJOs do Banco de Dados.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó Pacotes de Códigos-fonte na janela Projetos e escolha Novo &gt; Classe Java para abrir o assistente Nova Classe Java.</p>
</li>
<li>
<p>No assistente, insira <strong>Ator</strong> para o nome da classe e <strong>sakila.entity</strong> para o pacote. Clique em Finalizar.</p>
</li>
<li>
<p>Faça as seguintes alterações (exibidas em negrito) nas classes para implementar a interface serializável e adicionar campos nas colunas da tabela.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Actor *implements Serializable* {
    *private Short actorId;
    private String firstName;
    private String lastName;
    private Date lastUpdate;*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no Editor e escolha Inserir Código (Alt-Insert; Ctrl-I em Mac) e selecione getter e setter no menu pop-up para gerar getters e setters para os campos.</p>
</li>
<li>
<p>Na caixa de diálogo Gerar Getters e Setters, selecione todos os campos e clique em Gerar.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getters-setters.png" alt="getters setters">
</div>
<div class="title">Figure 14. Caixa de diálogo Gerar Getters e Setters</div>
</div>
<div class="paragraph">
<p>Na caixa de diálogo Gerar Getters e Setters, você pode usar a seta para cima no teclado para mover o item selecionado para o nó Ator e pressionar a barra de espaços para selecionar todos os campos em Ator.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Corrija as importações e salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depois de criar o POJO para a tabela, você desejará criar um arquivo de mapeamento do Hibernate para  <code>Actor.java</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó de pacotes de código-fonte  <code>sakila.entity</code> , na janela Projetos, e escolha Novo &gt; Outro para abrir o assistente Novo Arquivo.</p>
</li>
<li>
<p>Selecione o Arquivo de Mapeamento do Hibernate na categoria Hibernate. Clique em Próximo.</p>
</li>
<li>
<p>Insira <strong>Actor.hbm</strong> como Nome do Arquivo e verifique se a Pasta é <strong>src/sakila/entity</strong>. Clique em Próximo.</p>
</li>
<li>
<p>Insira <strong>sakila.entity.Actor</strong> para Classe a Mapear e selecione <strong>actor</strong> na lista drop-down Tabela do Banco de Dados. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mapping-wizard.png" alt="mapping wizard">
</div>
<div class="title">Figure 15. Assistente Gerar Arquivos de Mapeamento de Hibernação</div>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o arquivo de mapeamento do Hibernate  <code>Actor.hbm.xml</code>  será aberto no editor de código-fonte. O IDE também adiciona automaticamente uma entrada para o recurso de mapeamento para  <code>hibernate.cfg.xml</code> . Você pode exibir os detalhes da entrada ampliando o nó Mapeamento, na view Design do  <code>hibernate.cfg.xml</code>  ou na view XML. A entrada  <code>mapeamento</code>  na view XML será semelhante a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">        &lt;mapping resource="sakila/entity/Actor.hbm.xml"/&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Associe os campos  <code>Actor.java</code>  às colunas na tabela ACTOR fazendo as seguintes alterações (em negrito) no  <code>Actor.hbm.xml</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;hibernate-mapping&gt;
  &lt;class name="sakila.entity.Actor" *table="actor"&gt;
    &lt;id name="actorId" type="java.lang.Short"&gt;
      &lt;column name="actor_id"/&gt;
      &lt;generator class="identity"/&gt;
    &lt;/id&gt;
    &lt;property name="firstName" type="string"&gt;
      &lt;column length="45" name="first_name" not-null="true"/&gt;
    &lt;/property&gt;
    &lt;property name="lastName" type="string"&gt;
      &lt;column length="45" name="last_name" not-null="true"/&gt;
    &lt;/property&gt;
    &lt;property name="lastUpdate" type="timestamp"&gt;
      &lt;column length="19" name="last_update" not-null="true"/&gt;
    &lt;/property&gt;
  &lt;/class&gt;*
&lt;/hibernate-mapping&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Você pode usar a funcionalidade autocompletar código no editor para completar os valores ao modificar o arquivo de mapeamento.</p>
</div>
<div class="paragraph">
<p>*Observação: *Por default, o elemento  <code>class</code>  gerado tem uma tag de fechamento. Como você precisa adicionar elementos de propriedade entre as tags de abertura e fechamento do elemento  <code>class</code> , é necessário fazer as alterações a seguir (exibidas em negrito). Depois de fazer as alterações, você poderá usar a funcionalidade autocompletar código entre as tags  <code>class</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;hibernate-mapping&gt;
  &lt;class name="sakila.entity.Actor" *table="actor"&gt;
  &lt;/class&gt;*
&lt;/hibernate-mapping&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique no botão Validar XML na barra de ferramentas e salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A criação de POJOs individuais e arquivos de mapeamento do Hibernate pode ser um modo conveniente de personalizar ainda mais sua aplicação.</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Using%20Hibernate%20in%20a%20Java%20Swing%20Application">Enviar Feedback neste Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte Também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter informações adicionais sobre a criação de aplicações GUI do Swing, consulte os tutoriais a seguir.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="quickstart-gui.html">Projetando uma GUI Swing no NetBeans IDE</a></p>
</li>
<li>
<p><a href="gui-functionality.html">Introdução à Construção de GUIs</a></p>
</li>
<li>
<p><a href="../../trails/matisse.html">Trilha de Aprendizado das Aplicações de GUI do Java</a></p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/java/hibernate-java-se_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
