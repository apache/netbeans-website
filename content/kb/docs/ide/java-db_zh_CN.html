
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 Java DB (Derby) 数据库</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="使用 Java DB (Derby) 数据库 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 使用 Java DB (Derby) 数据库">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">使用 Java DB (Derby) 数据库</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/ide/java-db_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_配置数据库">配置数据库</a></li>
<li><a href="#_在_netbeans_ide_中注册数据库">在 NetBeans IDE 中注册数据库</a></li>
<li><a href="#_启动服务器并创建数据库">启动服务器并创建数据库</a></li>
<li><a href="#_连接到数据库">连接到数据库</a></li>
<li><a href="#_创建表">创建表</a>
<ul class="sectlevel2">
<li><a href="#_使用_create_table创建表对话框">使用 "Create Table"（创建表）对话框</a></li>
<li><a href="#_使用_sql_编辑器">使用 SQL 编辑器：</a></li>
</ul>
</li>
<li><a href="#_添加表数据">添加表数据</a>
<ul class="sectlevel2">
<li><a href="#_运行_sql_语句">运行 SQL 语句</a></li>
<li><a href="#_使用_sql_编辑器_2">使用 SQL 编辑器</a></li>
</ul>
</li>
<li><a href="#_删除表">删除表</a></li>
<li><a href="#_使用外部_sql_脚本">使用外部 SQL 脚本</a></li>
<li><a href="#_重新创建来自其他数据库的表">重新创建来自其他数据库的表</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>本文档说明了如何在 NetBeans IDE 中设置与 <a href="http://www.oracle.com/technetwork/java/javadb/overview/index.html">Java DB</a> 数据库的连接。在建立连接之后，即可开始在 IDE 中使用该数据库，您可以执行的操作包括创建表、用数据填充表、运行 SQL 语句和查询等。</p>
</div>
<div class="paragraph">
<p>Java DB 数据库是 Sun 支持的 <a href="http://db.apache.org/derby/">Apache Derby</a> 版本。Java DB 是完全事务型、安全且基于标准的数据库服务器，它全部采用 Java 编写，并且完全支持 SQL、JDBC API 和 Java EE 技术。Java DB 数据库与 <a href="http://glassfish.dev.java.net/">GlassFish</a> 应用服务器打包在一起，也包含在 <a href="http://download.oracle.com/javase/6/">JDK 6</a> 中。有关 Java DB 数据库的详细信息，请查阅<a href="http://www.oracle.com/technetwork/java/javadb/documentation/index.html">正式文档</a>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 7.2、7.3、7.4 和 8.0</div>
</div>
<div class="paragraph">
<p><strong>要学习本教程，您需要具备以下软件和资源。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2、7.3、7.4、8.0、Java EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java DB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 10.4.x、10.5.x</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>注：</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java DB 是在安装 JDK 7 或 JDK 8 时安装的（在 Mac OS X 上除外）。如果使用的是 Mac OS X，则可以手动下载并安装 <a href="http://www.oracle.com/technetwork/java/javadb/downloads/index.html">Java DB</a>，也可以使用通过 Java EE 版的 NetBeans IDE 安装程序安装的 Java DB。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_配置数据库">配置数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果您在 NetBeans IDE 安装中注册了 GlassFish Server，则将自动注册 Java DB。因此，可以向下跳转至<a href="#starting">启动服务器并创建数据库</a>。</p>
</div>
<div class="paragraph">
<p>如果您单独下载了 GlassFish Server，并需要获取有关在 NetBeans IDE 中对其进行注册的帮助，请参见 IDE 的“帮助目录”（F1 键）中的*注册 GlassFish Server 实例*。</p>
</div>
<div class="paragraph">
<p>如果仅下载了 Java DB 本身，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>运行自解压文件。将在与该文件相同的位置创建一个名为 "javadb" 的文件夹。如果仅下载了 Java DB，并且希望将该数据库服务器放在与其解压缩位置不同的位置中，现在应重新对其定位。</p>
</li>
<li>
<p>在系统上，创建一个新目录，作为数据库服务器的各实例的主目录。例如，可以在 Java DB 根目录 (javadb) 或其他任意位置创建此文件夹。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在继续执行下一步操作之前，应了解 Java DB 根目录的各个组成部分，这一点很重要：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>demo</code>  子目录包含演示程序。</p>
</li>
<li>
<p><code>bin</code>  子目录包含用于执行实用程序和设置环境的脚本。</p>
</li>
<li>
<p><code>javadoc</code>  子目录包含通过源代码注释生成的 API 文档。</p>
</li>
<li>
<p><code>docs</code>  子目录包含 Java DB 文档。</p>
</li>
<li>
<p><code>lib</code>  子目录包含 Java DB jar 文件。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_在_netbeans_ide_中注册数据库">在 NetBeans IDE 中注册数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>配置了数据库之后，执行以下步骤在 IDE 中注册 Java DB。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Services"（服务）窗口中，右键单击 "Java DB Database"（Java DB 数据库）节点，然后选择 "Properties"（属性），以打开 "Java DB Settings"（Java DB 设置）对话框。</p>
</li>
<li>
<p>在 "Java DB Installation"（Java DB 安装）文本字段中，输入在上一步中指定的 Java DB 根目录 (javadb) 的路径。</p>
</li>
<li>
<p>对于 "Database Location"（数据库位置），请使用默认位置（如果已提供位置）。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>例如，在 Windows 计算机上，默认位置可能类似于  <code>C:\Documents and Settings\username\.netbeans-derby</code> 。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/javadb-props.png" alt="javadb props">
</div>
<div class="title">Figure 2. Java DB 服务器和数据库的默认设置示例</div>
</div>
<div class="paragraph">
<p>*注：*如果 "Database Location"（数据库位置）字段为空，将需要设置数据库所在目录的路径。将需要为数据库创建目录（如果不存在）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_启动服务器并创建数据库">启动服务器并创建数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在 "Services"（服务）窗口中右键单击 "Java DB" 节点时，将显示 Java DB 数据库菜单选项。通过这些上下文菜单项，可以启动和停止数据库服务器、创建新的数据库实例，以及在 IDE 中注册数据库服务器（如以上步骤所示）。要启动数据库服务器，请执行以下操作：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Services"（服务）窗口中，右键单击 "Java DB" 节点，然后选择 "Start Server"（启动服务器）。请注意 "Output"（输出）窗口中的以下输出内容，该内容指示服务器已经启动：</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-start-db.png" alt="output start db">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>右键单击 "Java DB" 节点，然后选择 "Create Database"（创建数据库），以打开 "Create Java DB Database"（创建 Java DB 数据库）对话框。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>键入  <code>contact</code>  作为数据库名称。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>键入  <code>nbuser</code>  作为用户名和口令。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/javadb-createdb.png" alt="javadb createdb">
</div>
</div>
<div class="paragraph">
<p><strong>注：</strong>"Database Location"（数据库位置）是从 GlassFish 安装 Java DB 期间设置的默认位置。如果单独安装了 Java DB，则此位置可能会有所不同。</p>
</div>
<div class="paragraph">
<p>在创建数据库之后，如果在 "Services"（服务）窗口中展开 "Databases"（数据库）节点，您可以看到 IDE 已创建数据库连接，并且该数据库已添加到 "Java DB" 节点下的列表中。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_连接到数据库">连接到数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>到目前为止，已在 IDE 中成功启动了数据库服务器并创建了一个名为  <code>contact</code>  的数据库实例。在 IDE 的 "Services"（服务）窗口中，可以对数据库结构执行以下常见任务。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>创建、删除和修改表</p>
</li>
<li>
<p>用数据填充表</p>
</li>
<li>
<p>查看表格数据</p>
</li>
<li>
<p>执行 SQL 语句和查询</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>要开始使用  <code>contact</code>  数据库，需要创建到该数据库的连接。要连接至  <code>contact</code>  数据库，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Services"（服务）窗口中展开 "Databases"（数据库）节点，然后找到新数据库和数据库连接节点。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>数据库连接节点 (<span class="image"><img src="images/connection-node-icon.png" alt="connection node icon"></span>) 显示在 "Databases"（数据库）节点下。数据库名称显示在 "Java DB" 节点下。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/services-window.png" alt="services window">
</div>
</div>
<div class="paragraph">
<p>*注：*您还将看到作为默认数据库方案的 <code>sample [app on APP]</code> 数据库连接。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 <strong>contact</strong> 数据库连接节点 ( <code>jdbc:derby://localhost:1527/contact [nbuser on NBUSER]</code> )，然后选择 "Connect"（连接）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>"connection node"（连接节点）图标将完全显示出来 (<span class="image"><img src="images/connection-node-icon.png" alt="connection node icon"></span>)，这表示连接成功。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>为数据库创建适当的显示名称，方法是右键单击数据库连接节点 ( <code>jdbc:derby://localhost:1527/contact [nbuser on NBUSER]</code> )，然后选择 "Rename"（重命名）。在文本字段中键入  <code>Contact DB</code> ，然后单击 "OK"（确定）。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建表">创建表</h2>
<div class="sectionbody">
<div class="paragraph">
<p>刚创建的  <code>contact</code>  数据库当前为空。该数据库尚未包含任何表或数据。在 NetBeans IDE 中，可以通过下列任一方法添加数据库表：使用 "Create Table"（创建表）对话框，或输入 SQL 语句并从 SQL 编辑器中直接运行该语句。要了解这两种方法的具体操作步骤，请参见以下部分：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#createTable">使用 "Create Table"（创建表）对话框</a></p>
</li>
<li>
<p><a href="#sqlEditor">使用 SQL 编辑器</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_使用_create_table创建表对话框">使用 "Create Table"（创建表）对话框</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>展开  <code>Contact DB</code>  连接节点，您会看到其中有若干方案子节点。app 方案是适用于本教程的唯一方案。右键单击 APP 节点，然后选择 "Set as Default Schema."（设置为默认方案）。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>展开 APP 节点，请注意，该节点下面有三个子文件夹："Tables"（表）、"Views"（视图）和 "Procedures"（过程）。右键单击 "Tables"（表）节点，然后选择 "Create Table"（创建表）以打开 "Create Table"（创建表）对话框。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在 "Table Name"（表名称）文本字段中，键入  <code>FRIENDS</code> 。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击 "Add Column"（添加列）。随即出现 "Add Column"（添加列）对话框。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>在列的 "Name"（名称）中，输入  <code>id</code> 。对于数据 "Type"（类型），从下拉列表中选择  <code>INTEGER</code> 。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>在 "Constraints"（约束）下，选中 "Primary Key"（主键）复选框以将此列指定为表的主键。关系数据库中的所有表都必须包含主键。请注意，在选中 "Primary Key"（主键）复选框时，还将会自动选中 "Index"（索引）和 "Unique"（唯一）复选框，而 "Null"（空值）复选框则会取消选中。这是因为主键用于标识数据库中的唯一行，并且默认情况下用作表索引。由于必须标识所有行，因此主键不能包含 <code>空</code> 值。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-column.png" alt="add column">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>接下来，重复执行此过程，以便指定下表中所示的字段：</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key（键）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Index（索引）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null（空值）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique（唯一）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Column Name（列名）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Type（数据类型）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size（大小）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firstName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lastName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nickName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[选中]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">friendSince</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>您将创建一个名为  <code>FRIENDS</code>  的表，其中为每条联系人记录包含以下数据：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>名字</strong></p>
</li>
<li>
<p><strong>姓氏</strong></p>
</li>
<li>
<p><strong>昵称</strong></p>
</li>
<li>
<p><strong>交友开始日期</strong></p>
</li>
<li>
<p><strong>电子邮件地址</strong></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-table-friends.png" alt="create table friends">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在确保 "Create Table"（创建表）对话框包含与上图所示相同的内容后，单击 "OK"（确定）。IDE 会在数据库中生成  <code>FRIENDS</code>  表，并且您可以看到 "Tables"（表）节点下显示一个新的  <code>FRIENDS</code>  表节点 (<span class="image"><img src="images/table-node.png" alt="table node"></span>)。在表节点下将列出从主键 (<span class="image"><img src="images/primary-key-icon.png" alt="primary key icon"></span>) 开始的各个列 (字段)。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/friends-table.png" alt="friends table">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使用_sql_编辑器">使用 SQL 编辑器：</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Service"（服务）窗口中，右键单击  <code>Contact DB</code>  连接节点或该节点下的 "Tables"（表）节点，然后选择 "Execute Command"（执行命令）。会在 SQL 编辑器的主窗口中打开一个空画布。</p>
</li>
<li>
<p>在 SQL 编辑器中输入以下查询。这是将要创建的 COLLEAGUES 表的表定义：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">CREATE TABLE "COLLEAGUES" (
    "ID" INTEGER not null primary key,
    "FIRSTNAME" VARCHAR(30),
    "LASTNAME" VARCHAR(30),
    "TITLE" VARCHAR(10),
    "DEPARTMENT" VARCHAR(20),
    "EMAIL" VARCHAR(60)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>*请注：*SQL 编辑器中形成的语句和查询将以结构化查询语言进行解析。SQL 遵循严格的语法规则，在 IDE 的编辑器中工作时应先熟悉一下这些规则。根据不同的数据库管理系统，SQL 语法也会有所不同。有关详细的准则，请参见《<a href="http://www.oracle.com/technetwork/java/javadb/documentation/index.html">JavaDB 参考手册</a>》。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击编辑器顶部任务栏中的 "Run SQL"（运行 SQL）(<span class="image"><img src="images/run-sql-button.png" alt="run sql button"></span>) 按钮（Ctrl-Shift-E 组合键）以执行查询。在 "Output"（输出）窗口（Ctrl-4 组合键）中，将显示一条消息，指示已成功执行该语句。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/run-query.png" alt="run query">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要验证更改，请在 "Services"（服务）窗口中右键单击  <code>Contact DB</code>  连接节点，然后选择 "Refresh"（刷新）。此操作会将运行时 UI 组件更新为指定数据库的当前状态。当从 NetBeans IDE 中的 SQL 编辑器运行查询时，必须执行此步骤。您会看到，现在新的 COLLEAGUES 表节点 (<span class="image"><img src="images/table-node.png" alt="table node"></span>) 显示在 "Services"（服务）窗口中的 "Tables"（表）下。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_添加表数据">添加表数据</h2>
<div class="sectionbody">
<div class="paragraph">
<p>现在，您已在  <code>contact</code>  数据库中创建了一个或多个表，接下来可以开始用数据填充表。您可以使用多种方法向表中添加记录。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在 SQL 编辑器中<a href="#sqlstatement">编写 SQL 句</a>，为表方案中的每个字段提供值。</p>
</li>
<li>
<p><a href="#usesqleditor">使用 SQL 编辑器</a>将记录添加到表中。</p>
</li>
<li>
<p><a href="#using">使用外部 SQL 脚本</a>将记录导入到表中。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>阅读下节，了解如何使用用数据填充  <code>FRIENDS</code>  表的所有方法。</p>
</div>
<div class="sect2">
<h3 id="_运行_sql_语句">运行 SQL 语句</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Services"（服务）窗口中展开  <code>Contact DB</code>  节点下的 "Tables"（表），右键单击  <code>FRIENDS</code>  表，然后选择 "Execute Command"（执行命令）以打开 "SQL Editor"（SQL 编辑器）窗口。</p>
</li>
<li>
<p>在 SQL 编辑器中，输入以下语句。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="sql">INSERT INTO APP.FRIENDS VALUES (1,'Theodore','Bagwell','T-Bag','2004-12-25','tbag@foxriver.com')</code></pre>
</div>
</div>
<div class="paragraph">
<p>键入时可以使用 SQL 编辑器代码完成。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 SQL 编辑器中单击鼠标右键，然后选择 "Run Statement"（运行语句）。"Output"（输出）窗口将显示一条消息，指示已成功执行该语句。</p>
</li>
<li>
<p>要验证是否已将新记录添加到  <code>FRIENDS</code>  表中，请在 "Services"（服务）窗口中右键单击  <code>FRIENDS</code>  表节点，然后选择 "View Data"（查看数据）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>选择 "View Data"（查看数据）时，在 SQL 编辑器的上方窗格中自动生成一个查询，用于选择表中的所有数据。在 SQL 编辑器的下方窗格中显示该语句的结果。在这种情况下， <code>FRIENDS</code>  表将显示在下方窗格中。请注意，已添加了一个新行，其中包含刚通过 SQL 语句提供的数据。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-record.png" alt="new record">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使用_sql_编辑器_2">使用 SQL 编辑器</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击  <code>FRIENDS</code>  表节点并选择 "View Data"（查看数据）（如果在上一部分的最后一步中没有执行此操作）。</p>
</li>
<li>
<p>单击 "Insert Record"（插入记录）( <code>Alt-I</code> ) 按钮以添加一行。
即会显示 "Insert Record"（插入记录）对话框。</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击每个单元并输入记录。注意，对于“日期”数据类型的单元，可以从日历中选择一个日期。完成后单击 "OK"（确定）。</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-records.png" alt="insert records">
</div>
</div>
<div class="paragraph">
<p>在 SQL 编辑器中，可以通过单击行表头对结果进行排序、修改和删除现有记录，并查看编辑器中正在执行操作的 SQL 脚本（通过弹出式菜单显示 SQL 脚本命令）。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_删除表">删除表</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在下一步中，将使用外部 SQL 脚本创建一个新的  <code>COLLEAGUES</code>  表。但是，在上文的<a href="#sqlEditor">使用 SQL 编辑器</a>部分中刚创建了一个  <code>COLLEAGUES</code>  表。要确保 SQL 脚本确实创建一个新表，现在可以删除已创建的  <code>COLLEAGUES</code>  表。要删除数据库表，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在“服务”窗口中展开数据库连接节点下的“表”节点。</p>
</li>
<li>
<p>右键单击要删除的表，然后选择“删除”。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_使用外部_sql_脚本">使用外部 SQL 脚本</h2>
<div class="sectionbody">
<div class="paragraph">
<p>从外部 SQL 脚本中发出命令是管理数据库的一种常用方式。您可能已在其他位置创建了 SQL 脚本，并希望将其导入到 NetBeans IDE 中，以对指定的数据库运行该脚本。</p>
</div>
<div class="paragraph">
<p>在本练习中，该脚本将创建一个名为  <code>COLLEAGUES</code>  的新表，并使用数据填充它。执行以下步骤以在  <code>contact</code>  数据库中运行该脚本。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将 <a href="https://netbeans.org/project_downloads/usersguide/colleagues.sql">colleagues.sql</a> 下载到本地系统</p>
</li>
<li>
<p>从 IDE 的主菜单中选择 "File"（文件）&gt; "Open"（打开）。在文件浏览器中，导航至  <code>colleagues.sql</code>  文件的保存位置，然后单击 "Open"（打开）。将自动在 SQL 编辑器中打开该脚本。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>或者，也可以复制 <a href="https://netbeans.org/project_downloads/usersguide/colleagues.sql">colleagues.sql</a> 的内容，打开 SQL 编辑器，然后将该文件的内容粘贴到 SQL 编辑器。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>确保从编辑器顶部工具栏的 "Connection"（连接）下拉框中选择了连接到  <code>Contact DB</code> 。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/conn-drop-down.png" alt="conn drop down">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "SQL Editor"（SQL 编辑器）任务栏中的 "Run SQL"（运行 SQL）(<span class="image"><img src="images/run-sql-button.png" alt="run sql button"></span>) 按钮。将对选定的数据库执行该脚本，并在 "Output"（输出）窗口中生成任何反馈。</p>
</li>
<li>
<p>要验证更改，请在 "Services"（服务）窗口中右键单击  <code>Contact DB</code>  连接节点，然后选择 "Refresh"（刷新）。请注意，在 "Services"（服务）窗口中的  <code>contact</code>  下面将显示通过 SQL 脚本创建的新  <code>COLLEAGUES</code>  表的表节点。</p>
</li>
<li>
<p>要查看新表中包含的数据，请右键单击  <code>COLLEAGUES</code>  表并选择 "View Data"（查看数据）。通过这种方法，还可以将表格数据与 SQL 脚本中包含的数据进行比较，以查看它们是否匹配。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_重新创建来自其他数据库的表">重新创建来自其他数据库的表</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果您有一个来自其他数据库的表，并希望通过 NetBeans IDE 在所使用的数据库中重新创建该表，IDE 为此提供了非常方便的工具。首先，需要在 IDE 中注册第二个数据库，其过程与本教程开始部分描述的过程类似。就本教程而言，请使用与 Java DB 一起打包的  <code>sample</code>  数据库。此过程实质上分两部分执行：首先“抓取”选定表的表定义，然后在选择的数据库中重新创建该表，具体操作如下所示：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>连接至  <code>sample</code>  数据库，方法是：在 "Services"（服务）窗口中右键单击 "Databases"（数据库）节点下的连接节点，然后选择 "Connect"（连接）（用户名和口令分别为  <code>app</code> ）。
2.
展开  <code>sample</code>  数据库连接下的 "Tables"（表）节点，右键单击  <code>CUSTOMER</code>  表节点，然后选择 "Grab Structure"（抓取结构）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grab-structure.png" alt="grab structure">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在打开的 "Grab Table"（抓取表）对话框中，指定计算机上的某一位置，以保存将要创建的抓取文件。单击 "Save"（保存）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>抓取文件记录选定表的定义。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>展开  <code>Contact DB</code>  数据库连接下的 "APP schema"（APP 方案）节点，右键单击 "Tables"（表）节点，然后选择 "Recreate Table"（重新创建表）以打开 "Recreate Table"（重新创建表）对话框。</p>
</li>
<li>
<p>在 "Recreate Table"（重新创建表）对话框中，导航到  <code>CUSTOMER</code>  抓取文件的保存位置，然后单击 "Open"（打开）以便打开 "Name the Table"（命名表）对话框。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/recreate-table.png" alt="recreate table">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>此时，可以更改表名称或编辑表定义。否则，请单击 "OK"（确定），以在  <code>contact</code>  数据库中立即创建表。 <code>Contact</code>  DB 连接节点下将显示新的  <code>CUSTOMER</code>  表节点。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-customer-node.png" alt="new customer node">
</div>
</div>
<div class="paragraph">
<p>如果查看新  <code>CUSTOMER</code>  表中的数据，您将会发现数据库中没有任何记录，但该表的结构与抓取的表结构相同。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20With%20Java%20DB">请将您的反馈意见发送给我们</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>以下内容是对“使用 Java DB (Derby) 数据库”教程的总结。本教程演示了如何在 NetBeans IDE 中设置 Java DB 数据库连接。接着，演示了如何在 IDE 的“服务”窗口中创建、查看、修改和删除表。此外，本教程还演示了如何使用 SQL 编辑器向表中添加数据，以及如何在 IDE 中使用来自其他数据库的定义重新创建表。</p>
</div>
<div class="paragraph">
<p>有关更多相关的高级教程，请参见以下资源：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="mysql.html">连接 MySQL 数据库</a>。演示了如何在 NetBeans IDE 中配置和连接 MySQL 数据库。</p>
</li>
<li>
<p><a href="../web/mysql-webapp.html">使用 MySQL 数据库创建简单的 Web 应用程序</a>。说明如何创建连接 MySQL 数据库服务器的简单 Web 应用程序。</p>
</li>
<li>
<p><a href="https://netbeans.apache.org/tutorials/nbm-crud.html">NetBeans 平台 CRUD 应用程序教程。</a>说明如何将 Java DB 数据库集成到 NetBeans 平台应用程序中。</p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/ide/java-db_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
