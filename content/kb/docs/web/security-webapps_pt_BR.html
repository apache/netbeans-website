
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Protegendo uma aplicação Web no NetBeans IDE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Protegendo uma aplicação Web no NetBeans IDE - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Protegendo uma aplicação Web no NetBeans IDE">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Protegendo uma aplicação Web no NetBeans IDE</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/web/security-webapps_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_instalando_e_configurando_o_ambiente_de_trabalho">Instalando e Configurando o Ambiente de Trabalho</a></li>
<li><a href="#_criando_a_aplicação_web">Criando a Aplicação Web</a>
<ul class="sectlevel2">
<li><a href="#_criando_os_diretórios_seguros">Criando os Diretórios Seguros</a></li>
<li><a href="#_criando_a_página_de_índice_jsp">Criando a Página de Índice JSP</a></li>
<li><a href="#_criando_um_form_de_log_in_obrigatório_para_tomcat_e_opcional_para_glassfish_ou_weblogic_server">Criando um Form de Log-in (obrigatório para Tomcat e opcional para GlassFish ou WebLogic Server)</a></li>
</ul>
</li>
<li><a href="#_criando_usuários_no_servidor_de_destino">Criando Usuários no Servidor de Destino</a>
<ul class="sectlevel2">
<li><a href="#_definindo_usuários_no_glassfish_server">Definindo Usuários no GlassFish Server</a></li>
<li><a href="#_definindo_atribuições_e_usuários_no_servidor_web_tomcat">Definindo Atribuições e Usuários no Servidor Web Tomcat</a></li>
<li><a href="#_definindo_usuários_e_grupos_no_weblogic_server">Definindo Usuários e Grupos no WebLogic Server</a></li>
</ul>
</li>
<li><a href="#_configurando_o_método_de_log_in">Configurando o Método de Log-in</a>
<ul class="sectlevel2">
<li><a href="#_log_in_básico">Log-in Básico</a></li>
<li><a href="#_log_in_com_form">Log-in com Form</a></li>
</ul>
</li>
<li><a href="#_configurando_os_descritores_de_implantação_de_servidor">Configurando os Descritores de Implantação de Servidor</a>
<ul class="sectlevel2">
<li><a href="#_configurando_o_descritor_de_implantação_do_glassfish_server">Configurando o Descritor de Implantação do GlassFish Server</a></li>
<li><a href="#_configurando_o_descritor_de_implantação_do_weblogic_server">Configurando o Descritor de Implantação do WebLogic Server</a></li>
</ul>
</li>
<li><a href="#_implantando_e_executando_a_aplicação">Implantando e Executando a Aplicação</a></li>
<li><a href="#_resumo">Resumo</a></li>
<li><a href="#_consulte_também">Consulte Também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Contribuição de Dan Kolar, Manutenção de James Branam e Jeff Rubinoff</p>
</div>
<div class="paragraph">
<p>Este documento lhe orienta a respeito dos conceitos básicos da adição de segurança a uma aplicação Web implantada em um servidor Oracle GlassFish Open Source Edition, Oracle WebLogic ou Apache Tomcat.</p>
</div>
<div class="paragraph">
<p>Este documento mostra como configurar a autenticação de segurança usando uma janela de log-in básico e usando também um form de log-in em uma página Web. Este documento guia você pelas etapas de criação de usuários no servidor Tomcat e no GlassFish Server. Depois de criar os usuários, você cria as atribuições de segurança, definindo as propriedades de segurança no descritor de implantação. Este documento também mostra como usar a autenticação JDBC para proteger sua aplicação durante a implantação do GlassFish Server.</p>
</div>
<div class="paragraph">
<p><strong>Duração esperada: _40 _minutos</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3, 7.4 e 8.0</div>
</div>
<div class="paragraph">
<p><strong>Para seguir este tutorial, são necessários os recursos e o software a seguir.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versão Java EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Developer Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versão 7 ou 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plataforma Java EE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java EE 6 ou 7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Travel Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Não é Obrigatório</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Servidor de aplicações ou Web compatível com Java EE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Servidor Web Tomcat 7.x ou 8.x, Oracle WebLogic 11g ou
GlassFish Server Open Source Edition 4.x</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_instalando_e_configurando_o_ambiente_de_trabalho">Instalando e Configurando o Ambiente de Trabalho</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Instale e inicie o NetBeans IDE. Você pode seguir este tutorial usando o servidor Tomcat fornecido ou o GlassFish Server.</p>
</div>
<div class="paragraph">
<p>Verifique se o servidor está instalado e se há uma instância do servidor registrada no IDE. Você pode usar o Gerenciador de Servidores para registrar uma instância do servidor instalado. (Selecione Ferramentas &gt; Servidores &gt; Adicionar Servidor. Selecione “GlassFish Server &lt;número da versão&gt;” ou “Tomcat &lt;número da versão&gt;” e clique em Próximo. Clique em Procurar e localize o diretório de instalação do servidor de aplicações. Clique em Finalizar.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_a_aplicação_web">Criando a Aplicação Web</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste exercício, você primeiro cria o projeto de aplicação Web e a estrutura do diretório. Em seguida, você cria alguns arquivos  <code>html</code>  simples em cada um dos diretórios seguros. A aplicação Web utiliza uma autenticação de log-in básico para acessar os diretórios seguros. Se quiser usar um form de log-in para autenticação, você pode adicionar uma página  <code>jsp</code>  com o form.</p>
</div>
<div class="sect2">
<h3 id="_criando_os_diretórios_seguros">Criando os Diretórios Seguros</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto (Ctrl-Shift-N), selecione Aplicação Web na categoria Java Web e clique em Próximo.</p>
</li>
<li>
<p>Chame o projeto de  <code>WebApplicationSecurity</code> . Aceite as definições default.</p>
</li>
<li>
<p>(Opcional) Marque a caixa de seleção Utilizar Pasta Dedicada para Armazenamento de Bibliotecas e especifique o local da pasta de bibliotecas. Consulte <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG455">Compartilhando uma Biblioteca com Outros Usuários</a> em <em>Desenvolvendo Aplicações com o NetBeans IDE</em> para obter mais informações sobre essa opção.</p>
</li>
<li>
<p>Clique em Próximo.</p>
</li>
<li>
<p>Selecione o servidor no qual deseja implantar a aplicação. Somente os servidores registrados com o IDE serão listados. Clique em Próximo.</p>
</li>
<li>
<p>Não é necessário adicionar um framework; portanto, clique em Finalizar.</p>
</li>
<li>
<p>Se você criou uma aplicação EE 6, vá à janela Projetos do IDE, clique com o botão direito do mouse no nó do projeto e selecione Novo &gt; Outro &gt; Web &gt; Descritor de Implantação Padrão (web.xml). Aceite todos os defaults e percorra o assistente.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> este tutorial mostra como configurar a segurança no descritor de implantação, mas as aplicações EE 6 e EE 7 usam anotações em vez de um descritor de implantação, por padrão.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Se estiver usando um GlassFish ou WebLogic Server e o NetBeans IDE 7.0.1 ou posterior, você precisará gerar um descritor específico para o servidor. Clique com o botão direito do mouse no nó do projeto e selecione Novo &gt; Outro &gt; GlassFish &gt; Descritor do GlassFish ou Novo &gt; Outro &gt; WebLogic &gt; Descritor do WebLogic. A caixa de diálogo Criar Descritor Específico do Servidor será aberta. Aceite todos os defaults e clique em Finalizar. O descritor específico do servidor, chamado  <code>glassfish-web.xml</code>  ou  <code>weblogic.xml</code> , aparecerá no projeto na pasta Arquivos de Configuração.</p>
</li>
<li>
<p>Na janela Projetos do IDE, clique com o botão direito do mouse em Páginas Web e selecione Novo &gt; Outro.</p>
</li>
<li>
<p>No assistente de Novo Arquivo, selecione Outro como Categoria e Pasta como o Tipo de Arquivo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>.
No assistente de Nova Pasta, chame a pasta de secureAdmin e clique em Finalizar.</p>
</div>
<div class="paragraph">
<p>A pasta secureAdmin será exibida na janela Projetos da pasta Páginas Web.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Repita as três últimas etapas para criar outra pasta chamada secureUser.</p>
</li>
<li>
<p>Crie um novo arquivo  <code>html</code>  na pasta secureUser, clicando com o botão direito do mouse na janela Projetos e selecionando Novo &gt; Outros.</p>
</li>
<li>
<p>Selecione o tipo de arquivo HTML na categoria Outro. Clique em Próximo.</p>
</li>
<li>
<p>Chame o novo arquivo de pageU e clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o arquivo  <code>pageU.html</code>  é aberto no Editor de Código-Fonte.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>No Editor de Código-Fonte, substitua o código existente em  <code>pageU.html</code>  pelo código a seguir:[html-tag]<mark>&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;</mark></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">User secure area[html-tag]#&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;#User Secure Area[html-tag]#&lt;/h1&gt;
   &lt;/body&gt;
&lt;/html&gt;#</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse na pasta secureAdmin e crie um novo arquivo  <code>html</code>  chamado pageA.</p>
</li>
<li>
<p>No Editor de Código-Fonte, substitua o código existente em  <code>pageA.html</code>  pelo código a seguir:[html-tag]<mark>&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;</mark></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">Admin secure area[html-tag]#&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;#Admin secure area[html-tag]#&lt;/h1&gt;
   &lt;/body&gt;
&lt;/html&gt;#</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_criando_a_página_de_índice_jsp">Criando a Página de Índice JSP</h3>
<div class="paragraph">
<p>Agora você criará a página de índice JSP contendo links para as áreas seguras. Quando o usuário clicar no link, será solicitado que ele forneça o nome de usuário e a senha. Se você estiver utilizando um log-in básico, esses dados serão solicitados na janela de log-in do browser default. Se você estiver utilizando uma página de form de log-in, o usuário informará o nome de usuário e a senha em um form.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra  <code>index.jsp</code>  no Editor de Código-Fonte e adicione os seguintes links a  <code>pageA.html</code>  e  <code>pageU.html</code> :[jsp-html-tag]<mark>&lt;p&gt;</mark></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">Request a secure Admin page [jsp-html-tag]#&lt;a# [jsp-html-argument]#href=#[jsp-xml-value]#"secureAdmin/pageA.html"#[jsp-html-tag]#&gt;#here![jsp-html-tag]#&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;#Request a secure User page [jsp-html-tag]#&lt;a# [jsp-html-argument]#href=#[jsp-xml-value]#"secureUser/pageU.html"# [jsp-html-tag]#&gt;#here![jsp-html-tag]#&lt;/a&gt;&lt;/p&gt;#</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Salve as alterações.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_criando_um_form_de_log_in_obrigatório_para_tomcat_e_opcional_para_glassfish_ou_weblogic_server">Criando um Form de Log-in (obrigatório para Tomcat e opcional para GlassFish ou WebLogic Server)</h3>
<div class="paragraph">
<p>Se você quiser usar um form de log-in em vez do log-in básico, crie uma página  <code>jsp</code>  contendo o form. Em seguida, especifique o log-in e as páginas de erro ao <a href="#Basic_login_config">configurar o método de log-in</a>.</p>
</div>
<div class="paragraph">
<p><strong>Importante:</strong> Os usuários do Tomcat devem criar um form de log-in.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse na pasta Páginas Web e selecione Novo &gt; JSP.</p>
</li>
<li>
<p>Defina o nome do arquivo como  <code>login</code> , deixe os outros campos com seu valor default e clique em Finalizar.</p>
</li>
<li>
<p>No Editor de Código-Fonte, insira o código a seguir entre as tags  <code>&lt;body&gt;</code>  de  <code>login.jsp</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;[jsp-html-tag]#form# [jsp-html-argument]#action=#[jsp-xml-value]#"j_security_check"# [jsp-html-argument]#method=#[jsp-xml-value]#"POST"#[jsp-html-tag]#&gt;#
   Username:[jsp-html-tag]#&lt;input# [jsp-html-argument]#type=#[jsp-xml-value]#"text"# [jsp-html-argument]#name=#[jsp-xml-value]#"j_username"#[jsp-html-tag]#&gt;&lt;br&gt;#
   Password:[jsp-html-tag]#&lt;input# [jsp-html-argument]#type=#[jsp-xml-value]#"password"# [jsp-html-argument]#name=#[jsp-xml-value]#"j_password"#[jsp-html-tag]#&gt;
   &lt;input# [jsp-html-argument]#type=#[jsp-xml-value]#"submit"# [jsp-html-argument]#value=#[jsp-xml-value]#"Login"#[jsp-html-tag]#&gt;
&lt;/form&gt;#</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie um novo arquivo  <code>html</code>  chamado  <code>loginError.html</code>  na pasta Páginas Web. Trata-se de uma página de erro simples.</p>
</li>
<li>
<p>No Editor de Código-Fonte, substitua o código existente em  <code>loginError.html</code>  pelo código a seguir:[html-tag]<mark>&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;</mark></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">Login Test: Error logging in[html-tag]#&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;#Error Logging In[html-tag]#&lt;/h1&gt;
        &lt;br/&gt;
    &lt;/body&gt;
&lt;/html&gt;#</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_usuários_no_servidor_de_destino">Criando Usuários no Servidor de Destino</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para poder usar a segurança da autenticação de usuário/senha (log-in básico ou log-in com base em form) em aplicações Web, os usuários e suas atribuições apropriadas devem ser definidos no servidor de destino. Para fazer log-in em um servidor, a conta do usuário precisa existir nesse servidor.</p>
</div>
<div class="paragraph">
<p>A forma como você define os usuários e as atribuições varia de acordo com o servidor de destino especificado. Neste tutorial, os usuários  <code>admin</code>  e  <code>user</code>  são usados para testar a configuração da segurança. Você precisa confirmar que esses usuários existem nos respectivos servidores, e que as atribuições apropriadas estejam designadas aos usuários.</p>
</div>
<div class="sect2">
<h3 id="_definindo_usuários_no_glassfish_server">Definindo Usuários no GlassFish Server</h3>
<div class="paragraph">
<p>Para este cenário, você precisará usar a Console de Administração do GlassFish Server para criar dois novos usuários chamados  <code>user</code>  e  <code>admin</code> . O usuário chamado  <code>user</code>  terá acesso limitado à aplicação, enquanto que o  <code>admin</code>  terá privilégios de administração.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra a Console de Administração na janela Serviços do IDE e clique com o botão da direita do mouse em Servidores &gt; GlassFish Server &gt; Exibir Console de Administração do Domínio. A página de log-in do GlassFish Server será aberta na janela do browser. Você deverá fazer log-in usando o nome de usuário e a senha de administrador para acessar a Console de Administração.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Observação: *O Servidor de Aplicações deve estar em execução antes de você acessar a Console de Administração. Para iniciar o servidor, clique com o botão direito do mouse no nó do GlassFish Server e selecione Iniciar.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na Console de Administração, vá até Configurações &gt; server-config &gt; Segurança &gt; Realms &gt; Arquivo. O painel Editar Realm será aberto.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/edit-realm.png" alt="edit realm">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique no botão Gerenciar Usuários na parte superior do painel Editar Realm. O painel Usuários do Arquivo será aberto.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/file-users.png" alt="file users">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Novo. O painel Novo Usuário do Realm do Arquivo será aberto. Digite  <code>user</code>  como o ID de usuário e  <code>userpw01</code>  como a senha. Clique em OK.</p>
</li>
<li>
<p>Siga as etapas anteriores para criar um usuário chamado  <code>admin</code>  com a senha  <code>adminpw1</code>  no realm  <code>file</code> .</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_definindo_atribuições_e_usuários_no_servidor_web_tomcat">Definindo Atribuições e Usuários no Servidor Web Tomcat</h3>
<div class="paragraph">
<p>Para Tomcat 7, crie um usuário com a atribuição de script de gerência e uma senha para esse usuário ao registrar o servidor no NetBeans IDE.</p>
</div>
<div class="paragraph">
<p>Os usuários e as atribuições básicas para o servidor Tomcat estão em  <code>tomcat-users.xml</code> . Você encontra  <code>tomcat-users.xml</code>  no diretório  <code><em>&lt;CATALINA_BASE&gt;</em>\conf</code> .</p>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Você encontra a localização CATALINA_BASE clicando com o botão direito do mouse no nó do servidor Tomcat na janela Serviços e selecionando Propriedades. As Propriedades do Servidor serão abertas. A localização de CATALINA_BASE encontra-se na guia Conexão.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tomcat-properties.png" alt="] image::images/catalina-base.png[">
</div>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Se você usar o Tomcat 6 fornecido com versões mais antigas do IDE, este servidor terá o usuário  <code>ide</code>  definido com uma senha e as atribuições de administrador e gerenciador. A senha do usuário  <code>ide</code>  é gerada quando o Tomcat 6 é instalado. Você pode alterar a senha do usuário  <code>ide</code>  ou copiar a senha em  <code>tomcat-users.xml</code> .</p>
</div>
<div class="paragraph">
<p><strong>Para adicionar usuários ao Tomcat:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra  <code><em>&lt;CATALINA_BASE&gt;</em>/conf/tomcat-users.xml</code>  em um editor.</p>
</li>
<li>
<p>Adicione uma atribuição chamada  <code>AdminRole</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;role rolename="AdminRole"/&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione uma atribuição chamada  <code>UserRole</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;role rolename="UserRole"/&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione um usuário chamado  <code>admin</code>  com a senha  <code>adminpw1</code>  e a atribuição  <code>AdminRole</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;user username="admin" password="adminpw1" roles="AdminRole"/&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione um usuário chamado  <code>user</code>  com a senha  <code>userpw01</code>  e a atribuição  <code>UserRole</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;user username="user" password="userpw01" roles="UserRole"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O arquivo  <code>tomcat-users.xml</code>  terá a seguinte aparência:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;tomcat-users&gt;
&lt;!--
  &lt;role rolename="tomcat"/&gt;
  &lt;role rolename="role1"/&gt;
  &lt;user username="tomcat" password="tomcat" roles="tomcat"/&gt;
  &lt;user username="both" password="tomcat" roles="tomcat,role1"/&gt;
  &lt;user username="role1" password="tomcat" roles="role1"/&gt;
--&gt;
...
&lt;role rolename="AdminRole"/&gt;
&lt;role rolename="UserRole"/&gt;
&lt;user username="user" password="userpw01" roles="UserRole"/&gt;
&lt;user username="admin" password="adminpw1" roles="AdminRole"/&gt;
[User with manager-script role, defined when Tomcat 7 was registered with the IDE]
...
&lt;/tomcat-users&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_definindo_usuários_e_grupos_no_weblogic_server">Definindo Usuários e Grupos no WebLogic Server</h3>
<div class="paragraph">
<p>Para este cenário, é necessário primeiro usar a Console de Administração do WebLogic Server para criar dois novos usuários chamados  <code>user</code>  e  <code>admin</code> . Adicione esses usuários aos grupos  <code>userGroup</code>  e  <code>adminGroup</code> , respectivamente. Posteriormente, você designará atribuições de segurança a esses grupos. O  <code>userGroup</code>  terá acesso limitado à aplicação, enquanto que o  <code>adminGroup</code>  terá privilégios de administração.</p>
</div>
<div class="paragraph">
<p>As instruções gerais sobre como adicionar usuários e grupos ao servidor WebLogic se encontram na <a href="http://download.oracle.com/docs/cd/E21764_01/apirefs.1111/e13952/taskhelp/security/ManageUsersAndGroups.html">Ajuda On-Line da Console de Administração</a> do WebLogic.</p>
</div>
<div class="paragraph">
<p><strong>Para adicionar os usuários “user” e “admin” e os grupos ao WebLogic:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra a Console de Administração na janela Serviços do IDE e clique com o botão direito do mouse em Servidores &gt; WebLogic Server &gt; Exibir Console de Administração. A página de log-in do GlassFish Server será aberta na janela do browser. Você deverá fazer log-in usando o nome de usuário e a senha de administrador para acessar a Console de Administração.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Observação: *O Servidor de Aplicações deve estar em execução antes de você acessar a Console de Administração. Para iniciar o servidor, clique com o botão direito do mouse no nó do WebLogic Server e selecione Iniciar.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>No painel esquerdo, selecione Realms de Segurança. A página Resumo de Realms de Segurança será aberta.</p>
</li>
<li>
<p>Na página Resumo de Realms de Segurança, selecione o nome do realm (o realm default é “myrealm”). A página Definições de Nome do Realm será aberta.</p>
</li>
<li>
<p>Na página Definições de Nome do Realm, selecione Usuários e Grupos &gt; Usuários. A tabela Usuários será exibida.</p>
</li>
<li>
<p>Na tabela Usuários, clique em Novo. A página Criar Novo Usuário será aberta.</p>
</li>
<li>
<p>Digite no nome “user” e na senha “userpw01”. Opcionalmente, digite uma descrição. Aceite o Provedor de Autenticação default.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wl-admin-newuser.png" alt="wl admin newuser">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em OK. Retorne para a tabela Usuários.</p>
</li>
<li>
<p>Clique em Novo e adicione um usuário chamado “admin” e a senha “admin1”.</p>
</li>
<li>
<p>Abra a guia Grupos. A tabela Grupos será exibida.</p>
</li>
<li>
<p>Clique em Novo. A janela Criar um Novo Grupo será aberta.</p>
</li>
<li>
<p>Defina o nome do grupo como userGroup. Aceite o provedor default e clique em OK. Você retornará para a tabela Grupos.</p>
</li>
<li>
<p>Clique em Novo e crie o grupo adminGroup.</p>
</li>
<li>
<p>Abra a guia Usuários para o próximo procedimento.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Agora, adicione o usuário  <code>admin</code>  ao  <code>adminGroup</code>  e o usuário  <code>user</code>  ao  <code>userGroup</code> .</p>
</div>
<div class="paragraph">
<p><strong>Para adicionar usuários a grupos:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na guia Usuários, clique no usuário  <code>admin</code> . A página Definições do usuário será aberta.</p>
</li>
<li>
<p>Na página Definições, abra a guia Grupos.</p>
</li>
<li>
<p>Nos Grupos Pai: Disponível: tabela, selecione  <code>adminGroup</code> .</p>
</li>
<li>
<p>Clique na seta para a direita, &gt;. O  <code>adminGroup</code>  será exibido nos Grupos Pais: Selecionado: tabela.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wl-admin-usersettings.png" alt="wl admin usersettings">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Salvar.</p>
</li>
<li>
<p>Retorne à guia Usuários.</p>
</li>
<li>
<p>Clique no usuário  <code>user</code>  e adicione-o ao  <code>userGroup</code> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configurando_o_método_de_log_in">Configurando o Método de Log-in</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ao configurar o método de log-in da aplicação, você pode usar a janela de log-in fornecida pelo browser para autenticação de log-in básico. Como alternativa, você pode criar uma página Web com um form de log-in. Ambos os tipos de configuração de log-in são baseadas na autenticação de usuário/senha.</p>
</div>
<div class="paragraph">
<p>Para configurar o log-in, crie <em>restrições de segurança</em> e designe atribuições a elas. As restrições de segurança definem um conjunto de arquivos. Quando você designa uma atribuição a uma restrição, os usuários com essa atribuição passam a ter acesso aos conjuntos de arquivos definidos pela restrição. Por exemplo, neste tutorial você designa a atribuição AdminRole à restrição AdminConstraint e as atribuições UserRole e AdminRole à restrição UserConstraint. Isso significa que os usuários com a AdminRole têm acesso aos arquivos de Administrador e arquivos de Usuário, mas os usuários com a UserRole têm acesso somente ao arquivos de Usuário.</p>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Não é um caso comum conceder o acesso separado da atribuição de administrador para arquivos de usuário. Uma alternativa é designar somente a UserRole à UserConstraint e, no lado do servidor, conceder a AdminRole a <strong>usuários</strong> específicos que também são administradores. Você deve decidir como o acesso será concedido caso a caso.</p>
</div>
<div class="paragraph">
<p>Configure o método de log-in para a aplicação, configurando  <code>web.xml</code> . O arquivo  <code>web.xml</code>  pode ser encontrado no diretório Arquivos de Configuração da janela Projetos.</p>
</div>
<div class="sect2">
<h3 id="_log_in_básico">Log-in Básico</h3>
<div class="paragraph">
<p>Quando você utiliza a configuração de log-in básico, a janela de log-in é fornecida pelo browser. É necessário ter um nome de usuário e uma senha válidos para acessar o conteúdo seguro.</p>
</div>
<div class="paragraph">
<p>As seguintes etapas mostram como configurar um log-in básico para GlassFish Servers e WebLogic Servers. Usuários Tomcat precisam usar o <a href="#form-login">log-in com form</a>.</p>
</div>
<div class="paragraph">
<p><strong>Para configurar o log-in básico:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, expanda o nó Arquivos de Configuração do projeto e clique duas vezes em  <code>web.xml</code> . O arquivo  <code>web.xml</code>  será aberto no Editor Visual.</p>
</li>
<li>
<p>Clique em Segurança na barra de ferramentas para abrir o arquivo na view Segurança.</p>
</li>
<li>
<p>Expanda o nó Configuração de Log-in e defina a Configuração de Log-in como Básico.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*Observação: *Se você quiser usar um form, selecione Form em vez de Básico e especifique o log-in e as páginas de erro de log-in.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira um nome de realm, dependendo do seu servidor.</p>
<div class="ulist">
<ul>
<li>
<p><strong>GlassFish:</strong> Especifique  <code>file</code>  como o Nome do Realm. Este é o nome default do realm onde você criou os usuários no GlassFish Server.</p>
</li>
<li>
<p><strong>Tomcat:</strong> Não especifique um nome de realm.</p>
</li>
<li>
<p><strong>WebLogic:</strong> Especifique o nome do realm. O realm default é  <code>myrealm</code> .</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/security-roles.png" alt="security roles">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expanda o nó Atribuições de Segurança e clique em Adicionar para adicionar um nome de atribuição.</p>
</li>
<li>
<p>Adicione as Seguintes Atribuições de Segurança:</p>
<div class="ulist">
<ul>
<li>
<p><code>AdminRole</code> . Os usuários adicionados a esta atribuição terão acesso ao diretório  <code>secureAdmin</code>  do servidor.</p>
</li>
<li>
<p><code>UserRole</code> . Os usuários adicionados a esta atribuição terão acesso ao diretório  <code>secureUser</code>  do servidor.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Cuidado:</strong> os nomes de atribuição no GlassFish devem começar com letra maiúscula.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie e configure um restrição de segurança chamada  <code>AdminConstraint</code> , fazendo o seguinte:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Adicionar Restrição de Segurança. Será exibida uma seção para a nova restrição de segurança.</p>
</li>
<li>
<p>Indique  <code>AdminConstraint</code>  para o Nome de View da nova restrição de segurança.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/admin-constraint.png" alt="admin constraint">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Add. A caixa de diálogo Adicionar Recurso da Web é aberta.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>.
Na caixa de diálogo Adicionar Recurso da Web, defina o Nome do Recurso como  <code>Admin</code>  e o Padrão de URL como  <code>/secureAdmin/*</code>  e clique em OK. A caixa de diálogo é fechada.</p>
</div>
<div class="paragraph">
<p><strong>Observação: * Ao utilizar um asterisco (</strong>), você permite que o usuário tenha acesso a todos os arquivos dessa pasta.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/addwebresource.png" alt="addwebresource">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Ativar Restrição de Autenticação e clique em Editar. A caixa de diálogo Editar Nomes de Atribuições será aberta.</p>
</li>
<li>
<p>Na caixa de diálogo Editar Nomes de Atribuições, selecione AdminRole no painel esquerdo, clique em Adicionar e em OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depois de concluídas as etapas acima, o resultado deverá ser semelhante à figura a seguir:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/constraints.png" alt="constraints">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie e configure uma restrição de segurança chamada  <code>UserConstraint</code> , fazendo o seguinte:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Adicionar restrição de segurança para criar uma nova restrição de segurança.</p>
</li>
<li>
<p>Indique  <code>UserConstraint</code>  para o Nome de View da nova restrição de segurança.</p>
</li>
<li>
<p>Clique em Adicionar para adicionar uma Coleção de Recursos da Web.</p>
</li>
<li>
<p>Na caixa de diálogo Adicionar Recurso da Web, defina o Nome do Recurso como  <code>User</code>  e o Padrão de URL como  <code>/secureUser/*</code>  e clique em OK.</p>
</li>
<li>
<p>Selecione Ativar Restrição de Autenticação e clique em Editar para editar o campo Nome da Atribuição.</p>
</li>
<li>
<p>Na caixa de diálogo Editar Nomes de Atribuições, selecione AdminRole e UserRole no painel esquerdo, clique em Adicionar e em OK.
Observação: Você também pode definir o time-out da sessão em web.xml. Para definir o time-out, clique na guia Geral do Editor Visual e especifique quanto tempo você deseja que a sessão dure. O default é 30 minutos.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_log_in_com_form">Log-in com Form</h3>
<div class="paragraph">
<p>A utilização de um form para log-in permite que você personalize o conteúdo das páginas de log-in e de erro. As etapas para configurar a autenticação usando um form são as mesmas para a configuração do log-in básico, com a diferença que você especifica as <a href="#loginform">páginas de log-in e de erro</a> criadas.</p>
</div>
<div class="paragraph">
<p>As seguintes etapas mostram como configurar um form para log-in</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, clique duas vezes em  <code>web.xml</code>  localizado no diretório  <code>Web Pages/WEB-INF</code>  para abrir o arquivo no Editor Visual.</p>
</li>
<li>
<p>Clique em Segurança na barra de ferramentas para abrir o arquivo na view Segurança e expanda o nó Configuração de Log-in.</p>
</li>
<li>
<p>Defina a Configuração de Log-in como Form.</p>
</li>
<li>
<p>Defina a Página de Log-in com Form, clicando em Procurar e localizando  <code>login.jsp</code> .
5.
Defina a Página de Erro de Form, clicando em Procurar e localizando  <code>loginError.html</code> .</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/login-forms.png" alt="login forms">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insira um nome de realm, dependendo do seu servidor.</p>
<div class="ulist">
<ul>
<li>
<p><strong>GlassFish:</strong> Especifique  <code>file</code>  como o Nome do Realm. Este é o nome default do realm onde você criou os usuários no GlassFish Server.</p>
</li>
<li>
<p><strong>Tomcat:</strong> Não especifique um nome de realm.</p>
</li>
<li>
<p><strong>WebLogic:</strong> Especifique o nome do realm. O realm default é  <code>myrealm</code> .</p>
</li>
</ul>
</div>
</li>
<li>
<p>Expanda o nó Atribuições de Segurança e clique em Adicionar para adicionar um nome de atribuição.</p>
</li>
<li>
<p>Adicione as Seguintes Atribuições de Segurança:</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Atribuição Servidor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descrição</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AdminRole</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Os usuários adicionados a esta atribuição terão acesso ao diretório  <code>secureAdmin</code>  do servidor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UserRole</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Os usuários adicionados a esta atribuição terão acesso ao diretório  <code>secureUser</code>  do servidor.</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie e configure um restrição de segurança chamada  <code>AdminConstraint</code> , fazendo o seguinte:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Adicionar restrição de segurança para criar uma nova restrição de segurança.</p>
</li>
<li>
<p>Especifique  <code>AdminConstraint</code>  para o Nome de View da nova restrição de segurança.</p>
</li>
<li>
<p>Clique em Adicionar para adicionar uma Coleção de Recursos da Web.
4.
Na caixa de diálogo Adicionar Recurso da Web, defina o Nome do Recurso como  <code>Admin</code>  e o Padrão de URL como  <code>/secureAdmin/*</code>  e clique em OK.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Observação: * Ao utilizar um asterisco (</strong>), você permite que o usuário tenha acesso a todos os arquivos dessa pasta.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/addwebresource.png" alt="addwebresource">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Ativar Restrição de Autenticação e clique em Editar. A caixa de diálogo Editar Nomes de Atribuições será aberta.</p>
</li>
<li>
<p>Na caixa de diálogo Editar Nomes de Atribuições, selecione AdminRole no painel esquerdo, clique em Adicionar e em OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depois de concluídas as etapas acima, o resultado deverá ser semelhante à figura a seguir:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/constraints.png" alt="constraints">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie e configure uma restrição de segurança chamada  <code>UserConstraint</code> , fazendo o seguinte:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique em Adicionar restrição de segurança para criar uma nova restrição de segurança.</p>
</li>
<li>
<p>Indique  <code>UserConstraint</code>  para o Nome de View da nova restrição de segurança.</p>
</li>
<li>
<p>Clique em Adicionar para adicionar uma Coleção de Recursos da Web.</p>
</li>
<li>
<p>Na caixa de diálogo Adicionar Recurso da Web, defina o Nome do Recurso como  <code>User</code>  e o Padrão de URL como  <code>/secureUser/*</code>  e clique em OK.</p>
</li>
<li>
<p>Selecione Ativar Restrição de Autenticação e clique em Editar para editar o campo Nome da Atribuição.</p>
</li>
<li>
<p>Na caixa de diálogo Editar Nomes de Atribuições, selecione AdminRole e UserRole no painel esquerdo, clique em Adicionar e em OK.
Observação: Você também pode definir o time-out da sessão em web.xml. Para definir o time-out, clique na guia Geral do Editor Visual e especifique quanto tempo você deseja que a sessão dure. O default é 30 minutos.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configurando_os_descritores_de_implantação_de_servidor">Configurando os Descritores de Implantação de Servidor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se você estiver implantando sua aplicação em um GlassFish Server ou WebLogic Server, será necessário configurar o descritor de implantação de servidor para mapear as atribuições de segurança definidas em  <code>web.xml</code> . O descritor de implantação de servidor está listado no nó Arquivos de Configuração do seu projeto na janela Projetos.</p>
</div>
<div class="sect2">
<h3 id="_configurando_o_descritor_de_implantação_do_glassfish_server">Configurando o Descritor de Implantação do GlassFish Server</h3>
<div class="paragraph">
<p>O descritor de implantação do GlassFish Server é chamado de  <code>glassfish-web.xml</code> . O descritor de implantação de servidor se encontra na pasta Arquivos de Configuração. Se não for esse o caso, crie o descritor clicando com o botão direito do mouse no nó do projeto e selecionando Novo &gt; Outro &gt; GlassFish &gt; Descritor de Implantação do GlassFish. Aceite todos os defaults.</p>
</div>
<div class="paragraph">
<p>Observe que os valores inseridos em  <code>web.xml</code>  serão exibidos em  <code>glassfish-web.xml</code> . O IDE pega esses valores do  <code>web.xml</code>  para você.</p>
</div>
<div class="paragraph">
<p><strong>Para configurar o descritor de implantação do GlassFish:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, expanda o nó Arquivos de Configuração do projeto e clique duas vezes em  <code>glassfish-web.xml</code> . O descritor de implantação do  <code>glassfish-web.xml</code>  será aberto em um editor especial tabulado para descritores de implantação do GlassFish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Em versões do GlassFish Server anteriores à 3.1, esse arquivo é chamado  <code>sun-web.xml</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione a guia Segurança para revelar as atribuições de segurança.</p>
</li>
<li>
<p>Selecione o nó da atribuição de segurança AdminRole para abrir o painel Mapeamento de Atribuição de Segurança.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>.
Clique em Adicionar principal e especifique  <code>admin</code>  como o nome principal. Clique em OK.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-principal.png" alt="add principal">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione o nó da atribuição de segurança UserRole para abrir o painel Mapeamento de Atribuição de Segurança.</p>
</li>
<li>
<p>Clique em Adicionar Principal e especifique  <code>user</code>  como o nome principal. Clique em OK</p>
</li>
<li>
<p>Salve as alterações em  <code>glassfish-web.xml</code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Também é possível exibir e editar o  <code>glassfish-web.xml</code>  no editor de XML clicando na guia XML. Se você abrir o  <code>glassfish-web.xml</code>  no editor XML, você verá que o  <code>glassfish-web.xml</code>  possui as seguintes informações de mapeamento de atribuição de segurança:</p>
</div>
<div class="paragraph">
<p><span class="xml-tag">&lt;security-role-mapping&gt;
    &lt;role-name&gt;</span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">AdminRole[xml-tag]#&lt;/role-name&gt;
    &lt;principal-name&gt;#admin[xml-tag]#&lt;/principal-name&gt;
&lt;/security-role-mapping&gt;
&lt;security-role-mapping&gt;
    &lt;role-name&gt;#UserRole[xml-tag]#&lt;/role-name&gt;
    &lt;principal-name&gt;#user[xml-tag]#&lt;/principal-name&gt;
&lt;/security-role-mapping&gt;#</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configurando_o_descritor_de_implantação_do_weblogic_server">Configurando o Descritor de Implantação do WebLogic Server</h3>
<div class="paragraph">
<p>O descritor de implantação do WebLogic é chamado de  <code>weblogic.xml</code> . Atualmente, o <a href="#gf-dd">suporte para descritores de implantação do GlassFish</a> do IDE não se estende aos descritores de implantação do WebLogic. Portanto, você precisa fazer todas as alterações no  <code>weblogic.xml</code>  manualmente.</p>
</div>
<div class="paragraph">
<p>O descritor de implantação do WebLogic Server se encontra na pasta Arquivos de Configuração. Se não for esse o caso, crie o descritor clicando com o botão direito do mouse no nó do projeto e selecionando Novo &gt; Outro &gt; WebLogic &gt; Descritor de Implantação do WebLogic. Aceite todos os defaults.</p>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Para obter mais informações sobre a segurança de aplicações Web no WebLogic, incluindo segurança declarativa e programática, consulte <a href="http://download.oracle.com/docs/cd/E21764_01/web.1111/e13711/thin_client.htm">Oracle Fusion Middleware Programming Security for Oracle WebLogic Server.</a>.</p>
</div>
<div class="paragraph">
<p><strong>Para configurar o descritor de implantação do WebLogic:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, expanda o nó Arquivos de Configuração do projeto e clique duas vezes em  <code>weblogic.xml</code> . O descritor de implantação do  <code>weblogic.xml</code>  será aberto no Editor.</p>
</li>
<li>
<p>Dentro do elemento  <code>&lt;weblogic-web-app&gt;</code> , digite ou cole os seguintes elementos de designação de atribuição de segurança:[xml-tag]<mark>&lt;security-role-assignment&gt;
&lt;role-name&gt;</mark></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">AdminRole[xml-tag]#&lt;/role-name&gt;
    &lt;principal-name&gt;#adminGroup[xml-tag]#&lt;/principal-name&gt;
&lt;/security-role-assignment&gt;
&lt;security-role-assignment&gt;
    &lt;role-name&gt;#UserRole[xml-tag]#&lt;/role-name&gt;
    &lt;principal-name&gt;#userGroup[xml-tag]#&lt;/principal-name&gt;
&lt;/security-role-assignment&gt;#</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Salve as alterações em  <code>weblogic.xml</code> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implantando_e_executando_a_aplicação">Implantando e Executando a Aplicação</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Na janela Projetos, clique com o botão direito do mouse no nó do projeto e selecione Executar.</p>
</div>
<div class="paragraph">
<p><strong>Observação:</strong> Por default, o projeto foi criado com a funcionalidade Compilar ao Salvar ativado, então, não é necessário compilar o código primeiro para executar a aplicação no IDE. Para obter mais informações sobre a funcionalidade Compile on Save, consulte <a href="http://www.oracle.com/pls/topic/lookup?ctx=nb8000&amp;id=NBDAG510">Building Java Projects</a> no <em>Developing Applications with NetBeans IDE User&#8217;s Guide</em>.</p>
</div>
<div class="paragraph">
<p>Após a construção e a implantação da aplicação no servidor, a página inicial será aberta no seu Web browser. Selecione a área segura que deseja acessar, clicando em <strong>admin</strong> ou <strong>user</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deploy1.png" alt="deploy1">
</div>
</div>
<div class="paragraph">
<p>Após o fornecimento de usuário e senha, existem três resultados possíveis:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A senha deste usuário está correta e o usuário tem privilégios para o conteúdo protegido &#8594; a página de conteúdo protegido será exibida</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deploy2.png" alt="deploy2">
</div>
</div>
<div class="paragraph">
<p>*
A senha deste usuário está incorreta &#8594; A página de erro será exibida</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deploy3.png" alt="deploy3">
</div>
</div>
<div class="paragraph">
<p>*
A senha deste usuário está correta, mas o usuário não tem direito a acessar o conteúdo protegido &#8594; o browser exibe Erro 403 O acesso ao recurso solicitado foi negado</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deploy4.png" alt="deploy4">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo">Resumo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial, você criou uma aplicação Web protegida. Você editou as definições de segurança usando os editores de Descritor web.xml e glassfish-web.xml, criando páginas Web com log-ins seguros e diversas identidades.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte Também</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="quickstart-webapps.html">Introdução ao Desenvolvimento de Aplicações Web</a></p>
</li>
<li>
<p><a href="../../trails/java-ee.html">Trilha de Aprendizado do Java EE e Java Web</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">link:/about/contact_form.html?to=3&amp;subject=Feedback: Securing a Web Application[Enviar Feedback neste Tutorial]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/web/security-webapps_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
