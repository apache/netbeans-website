
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>在 Web 应用程序中使用 Hibernate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="在 Web 应用程序中使用 Hibernate - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 在 Web 应用程序中使用 Hibernate">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">在 Web 应用程序中使用 Hibernate</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/web/hibernate-webapp_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_创建数据库">创建数据库</a></li>
<li><a href="#_创建_web_应用程序项目">创建 Web 应用程序项目</a></li>
<li><a href="#_修改_hibernate_配置文件">修改 Hibernate 配置文件</a></li>
<li><a href="#_创建_hibernateutil_java_帮助文件">创建  <code>HibernateUtil.java</code>  帮助文件</a></li>
<li><a href="#_生成_hibernate_映射文件和_java_类">生成 Hibernate 映射文件和 Java 类</a>
<ul class="sectlevel2">
<li><a href="#_创建_hibernate_逆向工程文件">创建 Hibernate 逆向工程文件</a></li>
<li><a href="#_创建_hibernate_映射文件和_pojo">创建 Hibernate 映射文件和 POJO</a></li>
</ul>
</li>
<li><a href="#_创建_filmhelper_java_helper_类">创建  <code>FilmHelper.java</code>  Helper 类</a>
<ul class="sectlevel2">
<li><a href="#_创建类">创建类</a></li>
<li><a href="#_使用_hql_查询列举影片名称并检索演员">使用 HQL 查询列举影片名称并检索演员</a></li>
<li><a href="#_添加额外的_helper_方法">添加额外的 helper 方法</a></li>
</ul>
</li>
<li><a href="#_创建_jsf_受管_bean">创建 JSF 受管 Bean</a></li>
<li><a href="#_创建_web_页面">创建 Web 页面</a>
<ul class="sectlevel2">
<li><a href="#_创建_template_xhtml">创建  <code>template.xhtml</code></a></li>
<li><a href="#_修改_index_xhtml">修改  <code>index.xhtml</code></a></li>
<li><a href="#_创建_browse_xhtml">创建  <code>browse.xhtml</code></a></li>
</ul>
</li>
<li><a href="#_运行项目">运行项目</a>
<ul class="sectlevel2">
<li><a href="#_下载解决方案项目">下载解决方案项目</a></li>
<li><a href="#_疑难解答">疑难解答</a></li>
</ul>
</li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>在本教程中，您将使用 NetBeans IDE 创建和部署显示数据库中数据的 Web 应用程序。Web 应用程序将 Hibernate 框架用作持久性层，以便检索简单的传统 Java 对象 (POJO)，并将其存储到关系数据库中。</p>
</div>
<div class="paragraph">
<p>Hibernate 是一个为对象关系映射 (ORM) 提供工具的框架。本教程介绍了如何向 IDE 添加对 Hibernate 框架的支持，以及如何创建所需的 Hibernate 文件。在创建 Java 对象并配置应用程序以使用 Hibernate 后，创建一个 JSF 受管 Bean 和 JSF 2.0 页面以显示数据。</p>
</div>
<div class="paragraph">
<p>在开始本教程之前，您可能需要熟悉以下文档。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.hibernate.org/">hibernate.org</a> 上的 Hibernate 文档</p>
</li>
<li>
<p><a href="quickstart-webapps.html">Web 应用程序开发简介</a></p>
</li>
<li>
<p><a href="jsf20-intro.html">JavaServer Faces 2.x 简介</a></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-74-73-72.png" alt="netbeans stamp 74 73 72">
</div>
<div class="title">Figure 1. 此页上的内容适用于 NetBeans IDE 7.2、7.3 和 7.4</div>
</div>
<div class="paragraph">
<p><strong>要学习本教程，您需要具备以下软件和资源。</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.1、7.2、7.3、7.4、Java EE 版本</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 6 或 7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server Open Source Edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.x 或 4.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.mysql.com/">MySQL 数据库服务器</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 5.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sakila 数据库</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">更新中心上可用的插件</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>您可以下载<a href="https://netbeans.org/projects/samples/downloads/download/Samples/JavaEE/DVDStoreEE6.zip">已完成项目的 zip 档案文件</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建数据库">创建数据库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本教程使用一个名为  <code>sakila</code>  的 MySQL 数据库，这是一个免费的 MySQL 数据库，可从 MySQL 网站获得。安装 IDE 时并未包含 sakila 数据库，因此首先需要创建该数据库，以继续学习本教程。</p>
</div>
<div class="paragraph">
<p>要创建 sakila 数据库，可使用 "Plugins"（插件）管理器下载并安装 "Sakila Sample Database"（Sakila 样例数据库）插件。安装该插件后，sakila 数据库将添加到 "Create MySQL Database"（创建 MySQL 数据库）对话框的数据库列表中。</p>
</div>
<div class="paragraph">
<p>有关配置 IDE 使用 MySQL 的详细信息，请参见<a href="../ide/mysql.html">连接 MySQL 数据库</a>教程。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>打开 "Plugins"（插件）管理器，并安装 "Sakila Sample Database"（Sakila 样例数据库）插件。</p>
</li>
<li>
<p>安装插件后，在 "Services"（服务）窗口展开 "Databases"（数据库）节点以启动 MySQL 数据库，右键单击 MySQL 服务器节点并选择 "Start"（启动）。</p>
</li>
<li>
<p>右键单击 MySQL 服务器节点并选择 "Create Database"（创建数据库）。</p>
</li>
<li>
<p>在 "Create MySQL Database"（创建 MySQL 数据库）对话框的 "New Database Name"（新数据库名称）下拉列表中选择 "Sakila" 数据库。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/create-sakila-mysql.png" alt="create sakila mysql" width="Create MySQL Database"（创建 MySQL 数据库）对话框的屏幕快照"">
</div>
<div class="title">Figure 2. </div>
</div>
<div class="paragraph">
<p>单击 "OK"（确定），MySQL 服务器节点下随即出现一个 Sakila 节点。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Sakila" 节点，然后选择 "Connect"（连接）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Connect"（连接）后，"Databases"（数据库）节点下面将列出 Sakila 数据库连接节点 ( <code>jdbc:mysql://localhost:3306/sakila [<em>username</em> on Default]</code> )。打开连接时，可通过展开该连接节点查看数据库中数据。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_web_应用程序项目">创建 Web 应用程序项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，您将创建一个 Web 应用程序项目并为该项目添加 Hibernate 库。创建该项目时，请在新建项目向导的 "Frameworks"（框架）面板中选择 "Hibernate"，并指定数据库。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从主菜单中，选择 "File"（文件）&gt; "New Project"（新建项目）（Ctrl-Shift-N 组合键；在 Mac 上为 ⌘-Shift-N 组合键）。从 "Java Web" 类别中选择 "Web Application"（Web 应用程序），然后单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>DVDStore</strong> 作为项目名称，并设置项目位置。</p>
</li>
<li>
<p>取消选中 "Use Dedicated Folder"（使用专用文件夹）选项（如果该选项处于选中状态）。单击 "Next"（下一步）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>（对于本教程，没有理由将项目库复制到指定文件夹，因为您将需要与其他用户共享库）。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将服务器设置为 "GlassFish Server"，并将 Java EE 版本设置为 "Java EE 6 Web" 或 "Java EE 7 Web"。单击 "Next"（下一步）。</p>
</li>
<li>
<p>选中 "JavaServer Faces" 复选框并使用默认 JSF 2.x 库。</p>
</li>
<li>
<p>在框架列表中选中 "Hibernate" 复选框。</p>
</li>
<li>
<p>从 "Database Connection"（数据库连接）下拉列表中选择 sakila 数据库。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>注：</strong> 如果向导的 "Frameworks"（框架）面板中没有 sakila 数据库这一选项，请查看该连接是否列在 "Services"（服务）窗口的 "Databases"（数据库）节点下。如果此处没有该连接，则需要创建数据库连接。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-newwebapp.png" alt="hib newwebapp" width="Frameworks"（框架）面板，其中显示向项目中添加 Hibernate 支持"">
</div>
<div class="title">Figure 3. 新建项目向导的 </div>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 将创建 Web 应用程序项目，并在编辑器中打开  <code>hibernate.cfg.xml</code>  文件和  <code>index.xhtml</code> 。</p>
</div>
<div class="paragraph">
<p>如果展开 "Projects"（项目）窗口中的 "Libraries"（库）节点，则可以看到 IDE 已向项目中添加了 Hibernate 库。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-libraries.png" alt="hib libraries" width="Projects"（项目）窗口的屏幕快照"">
</div>
<div class="title">Figure 4. 显示 Hibernate 库的 </div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_修改_hibernate_配置文件">修改 Hibernate 配置文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>创建使用 Hibernate 框架的新项目时，IDE 会自动在应用程序的上下文类路径的根路径（"Files"（文件）窗口中的  <code>src/java</code> ）上创建  <code>hibernate.cfg.xml</code>  配置文件。该文件位于 "Projects"（项目）窗口的 "Source Packages"（源包）节点下的  <code>&lt;默认包&gt;</code>  中。该配置文件包含有关数据库连接、资源映射和其他连接属性的信息。您可以使用多视图编辑器编辑该文件或直接在 XML 编辑器中编辑 XML。</p>
</div>
<div class="paragraph">
<p>在本练习中，您将编辑在  <code>hibernate.cfg.xml</code>  中指定的默认属性，以启用 SQL 语句的调试日志记录以及 Hibernate 的会话上下文管理。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Design"（设计）标签中打开  <code>hibernate.cfg.xml</code> 。可以通过展开 "Projects"（项目）窗口中 "Source Packages"（源包）下的  <code>&lt;default package&gt;</code>  节点并双击  <code>hibernate.cfg.xml</code>  来打开该文件。</p>
</li>
<li>
<p>在多视图 XML 编辑器中，展开 "Configuration Properties"（可选属性）下的 "Configuration Properties"（配置属性）节点。</p>
</li>
<li>
<p>单击 "Add"（添加）以打开 "Add Hibernate Property"（添加 Hibernate 属性）对话框。</p>
</li>
<li>
<p>在此对话框中，选择  <code>hibernate.show_sql</code>  属性并将值设置为  <code>true</code> 。这将启用 SQL 语句的调试日志记录。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-showsql.png" alt="add property showsql" width="Add Hibernate Property"（添加 Hibernate 属性）对话框"">
</div>
<div class="title">Figure 5. 显示 hibernate.show_sql 属性的设置值的 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>展开 "Miscellaneous Properties"（其他属性）节点并单击 "Add"（添加）。</p>
</li>
<li>
<p>在此对话框中，选择  <code>properties hibernate.current_session_context_class</code>  并将值设置为  <code>thread</code>  以启用 Hibernate 的自动会话上下文管理。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-sessioncontext.png" alt="add property sessioncontext" width="Add Hibernate Property"（添加 Hibernate 属性）对话框"">
</div>
<div class="title">Figure 6. 显示为 hibernate.current_session_context_class 属性设置值的 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Miscellaneous Properties"（其他属性）节点下再次单击 "Add"（添加），然后在 "Property Name"（属性名称）下拉列表中选择  <code>hibernate.query.factory_class</code> 。</p>
</li>
<li>
<p>选择 <strong>org.hibernate.hql.classic.ClassicQueryTranslatorFactory</strong> 作为属性值。单击 "OK"（确定）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-property-factoryclass.png" alt="add property factoryclass" width="Add Hibernate Property"（添加 Hibernate 属性）对话框"">
</div>
<div class="title">Figure 7. 显示 hibernate.query.factory_class 属性的设置值的 </div>
</div>
<div class="paragraph">
<p>如果单击编辑器中的 XML 标签，则可以在 XML 视图中看到此文件。文件应如下所示（三个新属性以粗体显示）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;hibernate-configuration&gt;
    &lt;session-factory name="session1"&gt;
        &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name="hibernate.connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt;
        &lt;property name="hibernate.connection.url"&gt;jdbc:mysql://localhost:3306/sakila&lt;/property&gt;
        &lt;property name="hibernate.connection.username"&gt;root&lt;/property&gt;
        &lt;property name="hibernate.connection.password"&gt;######&lt;/property&gt;
        *&lt;property name="hibernate.show_sql"&gt;true&lt;/property&gt;
        &lt;property name="hibernate.current_session_context_class"&gt;thread&lt;/property&gt;
        &lt;property name="hibernate.query.factory_class"&gt;org.hibernate.hql.classic.ClassicQueryTranslatorFactory&lt;/property&gt;*
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存对该文件所做的更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>由于不需要再次编辑该文件，因此可以关闭该文件。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_hibernateutil_java_帮助文件">创建  <code>HibernateUtil.java</code>  帮助文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要使用 Hibernate，您需要创建一个 helper 类，该类处理启动并访问 Hibernate 的  <code>SessionFactory</code>  以获取 "Session"（会话）对象。该类调用  <code>configure()</code>  并加载  <code>hibernate.cfg.xml</code>  配置文件，然后构建  <code>SessionFactory</code>  以获取 "Session"（会话）对象。</p>
</div>
<div class="paragraph">
<p>在此部分，使用新建文件向导创建 helper 类  <code>HibernateUtil.java</code> 。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击 "Source Packages"（源包）节点并选择 "New"（新建）&gt; "Other"（其他），打开新建文件向导。</p>
</li>
<li>
<p>从 "Categories"（类别）列表中选择 "Hibernate"，从 "File Types"（文件类型）列表中选择 HibernateUtil.java。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>HibernateUtil</strong> 作为类名，并键入 <strong>dvdrental</strong> 作为包名。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hibernate-util-wizard.png" alt="hibernate util wizard" width="HibernateUtil" 向导的屏幕快照"">
</div>
<div class="title">Figure 8. </div>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时  <code>HibernateUtil.java</code>  将在编辑器中打开。由于不需要编辑该文件，因此可以关闭该文件。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_生成_hibernate_映射文件和_java_类">生成 Hibernate 映射文件和 Java 类</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本教程中，您将使用一个 POJO（简单传统 Java 对象）来表示您将要用到的数据库中的每个表中的数据。Java 类指定表的列字段，并使用简单的 setter 和 getter 方法检索数据和写数据。要将该 POJO 映射到表，可使用 Hibernate 映射文件或使用类标注。</p>
</div>
<div class="paragraph">
<p>您可以使用 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导根据数据库表创建多个 POJO 和映射文件。使用该向导时，选择希望从中创建 POJO 和映射文件的所有表，IDE 然后根据该数据库表生成文件并将映射条目添加到  <code>hibernate.cfg.xml</code> 。使用向导时可选择希望 IDE 生成的文件（比如，只生成 POJO）并选择代码生成选项（例如，生成使用 EJB 3 标注的代码）。</p>
</div>
<div class="paragraph">
<p>*注：*IDE 还具有可帮助您从头创建各个 POJO 和映射文件的向导。</p>
</div>
<div class="sect2">
<h3 id="_创建_hibernate_逆向工程文件">创建 Hibernate 逆向工程文件</h3>
<div class="paragraph">
<p>如果要使用 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导，您首先需要创建一个  <code>hibernate.reveng.xml</code>  逆向工程文件。"Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导需要  <code>hibernate.reveng.xml</code>  和  <code>hibernate.cfg.xml</code> 。</p>
</div>
<div class="paragraph">
<p>通过使用逆向工程文件，您可以更好地控制数据库映射策略。Hibernate 逆向工程向导创建一个具有默认配置的逆向工程文件，可以在 XML 编辑器中编辑该文件。</p>
</div>
<div class="paragraph">
<p>要创建 Hibernate 逆向工程文件，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击 "Source Packages"（源包）节点，并选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>从 "Hibernate" 类别中选择 Hibernate 逆向工程向导。单击 "Next"（下一步）。</p>
</li>
<li>
<p>指定  <code>hibernate.reveng</code>  作为文件名，指定  <code>src/java</code>  作为文件夹。单击 "Next"（下一步）。</p>
</li>
<li>
<p>在 "Configuration File"（配置文件）下拉列表中选择  <code>hibernate.cfg.xml</code> （如果尚未选定）。</p>
</li>
<li>
<p>从 "Available Tables"（可用表）中选择以下表，并单击 "Add"（添加）将表添加到 "Selected Tables"（选定的表）。</p>
<div class="ulist">
<ul>
<li>
<p>actor</p>
</li>
<li>
<p>category</p>
</li>
<li>
<p>film</p>
</li>
<li>
<p>film_actor</p>
</li>
<li>
<p>film_category</p>
</li>
<li>
<p>language</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成）。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hibernate-reveng-wizard.png" alt="hibernate reveng wizard">
</div>
<div class="title">Figure 9. 新建 Hibernate 逆向工程向导</div>
</div>
<div class="paragraph">
<p>该向导生成一个  <code>hibernate.reveng.xml</code>  逆向工程文件，并在编辑器中打开该文件。可将该逆向工程文件关闭，因为无需对其进行编辑。</p>
</div>
<div class="paragraph">
<p>有关使用  <code>hibernate.reveng.xml</code>  文件的详细信息，请参见以下指南中的<a href="http://docs.jboss.org/tools/2.1.0.Beta1/hibernatetools/html/reverseengineering.html">第 5 章“控制逆向工程”</a>：<a href="http://docs.jboss.org/tools/2.1.0.Beta1/hibernatetools/html/">《Hibernate 工具参考指南》</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="_创建_hibernate_映射文件和_pojo">创建 Hibernate 映射文件和 POJO</h3>
<div class="paragraph">
<p>可以使用 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）向导来生成文件。该向导可以为您在向导中选择的每个表生成 POJO 和相应的映射文件。映射文件是 XML 文件，其中包含有关如何将表中的列映射到 POJO 中的字段的数据。您需要有  <code>hibernate.reveng.xml</code>  和  <code>hibernate.cfg.xml</code>  文件才能使用该向导。</p>
</div>
<div class="paragraph">
<p>要使用向导创建 POJO 和映射文件，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击 "Source Packages"（源包）节点，并选择 "New"（新建）&gt; "Other"（其他）以打开新建文件向导。</p>
</li>
<li>
<p>在 "Hibernate" 类别中选择 "Hibernate Mapping Files and POJOs from a Database"（通过数据库生成 Hibernate 映射文件和 POJO）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>确保在下拉列表中选择  <code>hibernate.cfg.xml</code>  和  <code>hibernate.reveng.xml</code>  文件。</p>
</li>
<li>
<p>在 "General Settings"（常规设置）选项中选择 <strong>JDK 5 Language Features</strong>（JDK 5 语言功能）。</p>
</li>
<li>
<p>确保选中了 <strong>Domain Code</strong>（域代码）和 <strong>Hibernate XML Mappings</strong>（Hibernate XML 映射）选项。</p>
</li>
<li>
<p>选择 <strong>dvdrental</strong> 作为包名。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hibernate-pojo-wizard2.png" alt="hibernate pojo wizard2" width="Generate Hibernate Mapping Files and POJOs"（生成 Hibernate 映射文件和 POJO）向导"">
</div>
<div class="title">Figure 10. </div>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成）后，IDE 生成 POJO 和 Hibernate 映射文件，并将字段映射到在  <code>hibernate.reveng.xml</code>  中指定的列。IDE 也添加映射条目到  <code>hibernate.cfg.xml</code>  中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;hibernate-configuration&gt;
  &lt;session-factory&gt;
    &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
    &lt;property name="hibernate.connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt;
    &lt;property name="hibernate.connection.url"&gt;jdbc:mysql://localhost:3306/sakila&lt;/property&gt;
    &lt;property name="hibernate.connection.username"&gt;myusername&lt;/property&gt;
    &lt;property name="hibernate.connection.password"&gt;mypassword&lt;/property&gt;
    &lt;property name="hibernate.show_sql"&gt;true&lt;/property&gt;
    &lt;property name="hibernate.current_session_context_class"&gt;thread&lt;/property&gt;
    &lt;property name="hibernate.query.factory_class"&gt;org.hibernate.hql.classic.ClassicQueryTranslatorFactory&lt;/property&gt;
    &lt;mapping resource="dvdrental/FilmActor.hbm.xml"/&gt;
    &lt;mapping resource="dvdrental/Language.hbm.xml"/&gt;
    &lt;mapping resource="dvdrental/Film.hbm.xml"/&gt;
    &lt;mapping resource="dvdrental/Category.hbm.xml"/&gt;
    &lt;mapping resource="dvdrental/Actor.hbm.xml"/&gt;
    &lt;mapping resource="dvdrental/FilmCategory.hbm.xml"/&gt;
  &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>*注：*确认  <code>mapping</code>  元素在  <code>hibernate.cfg.xml</code>  文件中列在  <code>property</code>  元素后面。</p>
</div>
<div class="paragraph">
<p>展开  <code>dvdrental</code>  包查看由向导生成的文件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-projectswindow.png" alt="hib projectswindow" width="Projects"（项目）窗口"">
</div>
<div class="title">Figure 11. 显示生成的 POJO 的 </div>
</div>
<div class="paragraph">
<p>如果要创建 Hibernate 映射文件以将特定表映射到特定类，您可以使用 Hibernate 映射向导。</p>
</div>
<div class="paragraph">
<p>有关使用  <code>hibernate.reveng.xml</code>  文件的详细信息，请参见以下指南中的<a href="http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html">第 5 章“基本 O/R 映射”</a>：<a href="http://docs.jboss.org/hibernate/stable/core/reference/en/html/">《Hibernate 参考文档》</a>。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_filmhelper_java_helper_类">创建  <code>FilmHelper.java</code>  Helper 类</h2>
<div class="sectionbody">
<div class="paragraph">
<p>现在，您将在  <code>dvdrental</code>  包中创建一个 helper 类，将用于在数据库中执行 Hibernate 查询。您将使用“Hibernate 查询语言（HQL）”编辑器来构造并测试用于检索数据的查询。测试了查询后，将在构造并运行查询的 helper 类中创建方法。然后，通过 JSF 受管 Bean 调用 helper 类中的方法。</p>
</div>
<div class="sect2">
<h3 id="_创建类">创建类</h3>
<div class="paragraph">
<p>在此部分，使用新建文件向导在  <code>dvdrental</code>  包中创建 helper 类  <code>FilmHelper.java</code> 。您将通过调用  <code>HibernateUtil.java</code>  中的  <code>getSessionFactory</code>  来创建一个 Hibernate 会话，并创建一些 helper 方法以创建查询来检索数据库中的数据。将从 JSP 页面中调用这些 helper 方法。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击  <code>dvdrental</code>  源包节点，并选择 "New"（新建）&gt; "Java Class"（Java 类）以打开新建文件向导。</p>
</li>
<li>
<p>键入 <strong>FilmHelper</strong> 作为类名。</p>
</li>
<li>
<p>确认已将 <strong>dvdrental</strong> 选作 "Package"（包）。单击 "Finish"（完成）。</p>
</li>
<li>
<p>添加以下代码（粗体），创建一个 Hibernate 会话。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class FilmHelper {

    *Session session = null;

    public FilmHelper() {
        this.session = HibernateUtil.getSessionFactory().getCurrentSession();
    }*

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在编辑器中右键单击并选择 "Fix Imports"（修复导入）（Alt-Shift-I 组合键；在 Mac 上为 ⌘-Shift-I 组合键）以添加任何需要的 import 语句 ( <code>org.hibernate.Session</code> )，并保存更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>现在将修改  <code>FilmHelper.java</code>  以添加查询数据库的方法。</p>
</div>
</div>
<div class="sect2">
<h3 id="_使用_hql_查询列举影片名称并检索演员">使用 HQL 查询列举影片名称并检索演员</h3>
<div class="paragraph">
<p>在本练习中，将创建一个 Hibernate 查询语言 (HQL) 查询，以便查询数据库以从 Film 表中检索影片名称列表。然后，添加一个方法以查询 Actor 和 Film_actor 表，以便获取特定影片中涉及的演员。</p>
</div>
<div class="paragraph">
<p>Film 表包含 1000 条记录，因此检索影片列表的方法应该能够基于  <code>filmId</code>  主键检索记录。您将使用 HQL 编辑器构造和测试 HQL 查询。在创建正确的查询后，将在类中添加一个方法以生成相应的查询。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击项目节点，然后选择 "Clean and Build"（清理并构建）。</p>
</li>
<li>
<p>在 "Projects"（项目）窗口中右键单击  <code>hibernate.cfg.xml</code>  并选择 "Run HQL Query"（运行 HQL 查询）以打开 HQL 查询编辑器。</p>
</li>
<li>
<p>从工具栏的下拉列表中选择 hibernate.cfg。</p>
</li>
<li>
<p>通过在编辑器中键入以下内容并单击工具栏中的 "Run HQL Query"（运行 HQL 查询）按钮 (<span class="image"><img src="images/run_hql_query_16.png" alt="run hql query 16" width="Run HQL Query"（运行 HQL 查询）按钮"" title=""></span>)，测试连接。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">from Film</code></pre>
</div>
</div>
<div class="paragraph">
<p>单击 "Run HQL Query"（运行 HQL 查询）可在 HQL 查询编辑器的底部窗口看到查询结果。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hibernate-hqleditor1.png" alt="hibernate hqleditor1" width="Generate Hibernate Mapping Files and POJOs"（生成 Hibernate 映射文件和 POJO）向导"">
</div>
<div class="title">Figure 12. </div>
</div>
<div class="paragraph">
<p>如果单击 SQL 按钮，可以看到起相同作用的 SQL 查询。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">select film0_.film_id as col_0_0_ from sakila.film film0_</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>键入以下查询在 film id 为 100 到 200 的 Film 表中检索记录。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">from Film as film where film.filmId between 100 and 200</code></pre>
</div>
</div>
<div class="paragraph">
<p>结果窗口中显示了一个记录列表。测试过该查询可返回期待的结果后，可在 helper 类中使用该查询。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将下面的  <code>getFilmTitles</code>  方法添加到  <code>FilmHelper.java</code>  以检索影片，其中 film id 介于变量  <code>startID</code>  和  <code>endID</code>  所指定的特定范围之间。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public List getFilmTitles(int startID, int endID) {
    List&lt;Film&gt; filmList = null;
    try {
        org.hibernate.Transaction tx = session.beginTransaction();
        Query q = session.createQuery ("from Film as film where film.filmId between '"+startID+"' and '"+endID+"'");
        filmList = (List&lt;Film&gt;) q.list();
    } catch (Exception e) {
        e.printStackTrace();
    }
    return filmList;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加下面的  <code>getActorsByID</code>  方法以检索特定影片中的演员。该方法将  <code>filmId</code>  作为输入变量以构造查询。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public List getActorsByID(int filmId){
    List&lt;Actor&gt; actorList = null;
    try {
        org.hibernate.Transaction tx = session.beginTransaction();
        Query q = session.createQuery ("from Actor as actor where actor.actorId in (select filmActor.actor.actorId from FilmActor as filmActor where filmActor.film.filmId='" + filmId + "')");
        actorList = (List&lt;Actor&gt;) q.list();

    } catch (Exception e) {
        e.printStackTrace();
    }

    return actorList;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复导入并保存更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>修复导入时，要选择  <code>java.util.List</code>  和  <code>org.hibernate.Query</code> 。</p>
</div>
</div>
<div class="sect2">
<h3 id="_添加额外的_helper_方法">添加额外的 helper 方法</h3>
<div class="paragraph">
<p>现在将添加一些额外的 helper 方法，创建基于输入变量的查询。可在 HQL 查询编辑器中检查这些查询。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法以根据  <code>filmId</code>  检索类别列表。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public Category getCategoryByID(int filmId){
    List&lt;Category&gt; categoryList = null;
    try {
        org.hibernate.Transaction tx = session.beginTransaction();
        Query q = session.createQuery("from Category as category where category.categoryId in (select filmCat.category.categoryId from FilmCategory as filmCat where filmCat.film.filmId='" + filmId + "')");
        categoryList = (List&lt;Category&gt;) q.list();

    } catch (Exception e) {
        e.printStackTrace();
    }

    return categoryList.get(0);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法以根据  <code>filmId</code>  检索单个影片。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public Film getFilmByID(int filmId){

    Film film = null;

    try {
        org.hibernate.Transaction tx = session.beginTransaction();
        Query q = session.createQuery("from Film as film where film.filmId=" + filmId);
        film = (Film) q.uniqueResult();
    } catch (Exception e) {
        e.printStackTrace();
    }

    return film;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法以根据  <code>langId</code>  检索影片语言。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public String getLangByID(int langId){

    Language language = null;

    try {
        org.hibernate.Transaction tx = session.beginTransaction();
        Query q = session.createQuery("from Language as lang where lang.languageId=" + langId);
        language = (Language) q.uniqueResult();
    } catch (Exception e) {
        e.printStackTrace();
    }

    return language.getName();
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存所做的更改。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_jsf_受管_bean">创建 JSF 受管 Bean</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，将创建一个 JSF 受管 Bean。受管 Bean 中的方法用于显示 JSF 页面中的数据，以及访问 helper 类中的方法以检索记录。JSF 2.0 规范允许在 Bean 类中使用标注以将类标识为 JSF 受管 Bean，以及指定范围和 Bean 名称。</p>
</div>
<div class="paragraph">
<p>要创建受管 Bean，请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>右键单击  <code>dvdrental</code>  源包节点，然后选择 "New"（新建）&gt; "Other"（其他）。</p>
</li>
<li>
<p>从 "JavaServer Faces" 类别中选择 "JSF Managed Bean"（JSF 受管 Bean）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>FilmController</strong> 作为类名。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在调用受管 Bean 中的方法时，将使用 Bean 名称  <code>filmController</code>  作为 JSF 页面  <code>index.xhtml</code>  中的  <code>inputText</code>  和  <code>commandButton</code>  的值。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 <strong>dvdrental</strong> 作为包。</p>
</li>
<li>
<p>键入 <strong>filmController</strong> 作为将用于受管 Bean 的名称。</p>
</li>
<li>
<p>将 "Scope"（范围）设置为 "Session"（会话）。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-newmanagedbean.png" alt="hib newmanagedbean">
</div>
<div class="title">Figure 13. 新建 JSF 受管 Bean 向导</div>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 创建 Bean 类并在编辑器中打开该类。IDE 添加了  <code>@ManagedBean</code>  和  <code>@SessionScoped</code>  标注。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@ManagedBean
@SessionScoped
public class FilmController {

    /** Creates a new instance of FilmController */
    public FilmController() {
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>*注：*请注意，未明确指定受管 Bean 的名称。默认情况下，Bean 的名称与类名相同，并以小写字母开头。如果您希望 Bean 的名称与类名不同，则可将该名称显式指定为  <code>@ManagedBean</code>  标注的参数（例如， <code>@ManagedBean(name="myBeanName"）</code> 。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将以下字段（以粗体显示）添加到类中。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@ManagedBean
@SessionScoped
public class FilmController {
    *int startId;
    int endId;
    DataModel filmTitles;
    FilmHelper helper;
    private int recordCount = 1000;
    private int pageSize = 10;

    private Film current;
    private int selectedItemIndex;*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下代码（以粗体显示），创建 FilmController 实例并检索影片。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    /** Creates a new instance of FilmController */
    public FilmController() {
        *helper = new FilmHelper();
        startId = 1;
        endId = 10;
    }

    public FilmController(int startId, int endId) {
        helper = new FilmHelper();
        this.startId = startId;
        this.endId = endId;
    }

    public Film getSelected() {
        if (current == null) {
            current = new Film();
            selectedItemIndex = -1;
        }
        return current;
    }


    public DataModel getFilmTitles() {
        if (filmTitles == null) {
            filmTitles = new ListDataModel(helper.getFilmTitles(startId, endId));
        }
        return filmTitles;
    }

    void recreateModel() {
        filmTitles = null;
    }*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加用于显示表和导航页面的以下方法。*    public boolean isHasNextPage() {
    if (endId + pageSize &#8656; recordCount) {
        return true;
    }
    return false;
}</p>
<div class="literalblock">
<div class="content">
<pre>public boolean isHasPreviousPage() {
    if (startId-pageSize &gt; 0) {
        return true;
    }
    return false;
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>public String next() {
    startId = endId+1;
    endId = endId + pageSize;
    recreateModel();
    return "index";
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>public String previous() {
    startId = startId - pageSize;
    endId = endId - pageSize;
    recreateModel();
    return "index";
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>public int getPageSize() {
    return pageSize;
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    public String prepareView(){
        current = (Film) getFilmTitles().getRowData();
        return "browse";
    }
    public String prepareList(){
        recreateModel();
        return "index";
    }
*</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>返回 "index" 或 "browse" 的方法将提示 JSF 导航处理程序尝试打开名为  <code>index.xhtml</code>  或  <code>browse.xhtml</code>  的页面。JSF 2.0 规范允许在使用 Facelets 技术的应用程序中使用隐式导航规则。此应用程序中，没有在  <code>faces-config.xml</code>  中配置任何导航规则。导航处理程序将尝试在应用程序中查找合适的页面。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下方法以访问 helper 类，以便检索其他影片详细信息。*    public String getLanguage() {
    int langID = current.getLanguageByLanguageId().getLanguageId().intValue();
    String language = helper.getLangByID(langID);
    return language;
}</p>
<div class="literalblock">
<div class="content">
<pre>public String getActors() {
    List actors = helper.getActorsByID(current.getFilmId());
    StringBuffer totalCast = new StringBuffer();
    for (int i = 0; i &lt; actors.size(); i++) {
        Actor actor = (Actor) actors.get(i);
        totalCast.append(actor.getFirstName());
        totalCast.append(" ");
        totalCast.append(actor.getLastName());
        totalCast.append("  ");
    }
    return totalCast.toString();
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>public String getCategory() {
    Category category = helper.getCategoryByID(current.getFilmId());
    return  category.getName();
}*</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复导入（Ctrl-Shift-I 组合键）并保存更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可以在编辑器中使用代码完成以帮助键入代码。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_web_页面">创建 Web 页面</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，将创建两个 Web 页以显示数据。您将修改 IDE 生成的  <code>index.xhtml</code>  以添加一个表，以便显示数据库中的影片。然后创建  <code>browse.xhtml</code> ，以便在单击表中的 "View" 链接时显示影片的详细信息。还会创建一个 JSF 模板页面以供  <code>index.xhtml</code>  和  <code>browse.xhtml</code>  使用。</p>
</div>
<div class="paragraph">
<p>有关使用 JSF 2.0 和 Facelets 模板的更多信息，请参见 <a href="jsf20-intro.html">JavaServer Faces 2.0 简介</a>。</p>
</div>
<div class="sect2">
<h3 id="_创建_template_xhtml">创建  <code>template.xhtml</code></h3>
<div class="paragraph">
<p>首先，创建 JSF Facelets 模板  <code>template.xhtml</code> ，在创建  <code>index.xhtml</code>  和  <code>browse.xhtml</code>  页面时将使用该模板。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击 DVDStore 项目节点，然后选择 "New"（新建）&gt; "Other"（其他）。</p>
</li>
<li>
<p>在 "JavaServer Faces" 类别中选择 "Facelets Template"（Facelets 模板）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>template</strong> 作为文件名，并选择第一个 CSS 布局样式。</p>
</li>
<li>
<p>单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时  <code>template.xhtml</code>  文件将在编辑器中打开。该模板包含以下默认代码。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h:body&gt;

    &lt;div id="top" class="top"&gt;
        &lt;ui:insert name="top"&gt;Top&lt;/ui:insert&gt;
    &lt;/div&gt;

    &lt;div id="content" class="center_content"&gt;
        &lt;ui:insert name="content"&gt;Content&lt;/ui:insert&gt;
    &lt;/div&gt;

&lt;/h:body&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修改  <code>&lt;ui:insert&gt;</code>  元素，以将生成的默认名称更改为 "body"。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="content" class="center_content"&gt;
        &lt;ui:insert name="*body*"&gt;Content&lt;/ui:insert&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存所做的更改。</p>
<div class="literalblock">
<div class="content">
<pre>``index.xhtml``  和  ``browse.xhtml``  中的  ``&lt;ui:define name="body"&gt;``  元素包含的内容将插入到使用模板中的  ``&lt;ui:insert name="body"&gt;Content&lt;/ui:insert&gt;``  指定的位置。</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_修改_index_xhtml">修改  <code>index.xhtml</code></h3>
<div class="paragraph">
<p>在创建 Web 应用程序时，IDE 将自动生成  <code>index.xhtml</code>  页面。在本练习中，将修改该页面以显示影片名称列表。JSF 页面调用 JSF 受管 Bean FilmController 中的方法以检索影片列表，然后显示一个包含影片名称和说明的表格。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>展开 "Projects"（项目）窗口的 "Web Pages"（Web 页）文件夹，并在编辑器中打开  <code>index.xhtml</code> 。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>新建项目向导生成了以下默认  <code>index.xhtml</code>  页面。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"&gt;
&lt;h:head&gt;
        &lt;title&gt;Facelet Title&lt;/title&gt;
    &lt;/h:head&gt;
    &lt;h:body&gt;
        Hello from Facelets
    &lt;/h:body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修改该页面以使用 JSF  <code>&lt;ui:composition&gt;</code>  和  <code>&lt;ui:define&gt;</code>  元素，并添加  <code>&lt;h:form&gt;</code>  元素。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  *xmlns:ui="http://java.sun.com/jsf/facelets"&gt;
    &lt;ui:composition template="./template.xhtml"&gt;
        &lt;ui:define name="body"&gt;
            &lt;h:form&gt;

            &lt;/h:form&gt;
        &lt;/ui:define&gt;
    &lt;/ui:composition&gt;*
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>开始键入标记时，IDE 将添加  <code>xmlns:ui="http://java.sun.com/jsf/facelets"</code>  标记库声明。</p>
</div>
<div class="literalblock">
<div class="content">
<pre>``&lt;ui:composition&gt;``  和  ``&lt;ui:define&gt;``  元素将与所创建的页面模板结合使用。 ``&lt;ui:composition&gt;``  元素引用此页面将使用的模板的位置。 ``&lt;ui:define&gt;``  元素引用包含的代码将占用的模板位置。</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下导航链接以调用 JSF 受管 Bean 中的  <code>previous</code>  和  <code>next</code>  方法。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">    &lt;ui:define name="body"&gt;
            &lt;h:form&gt;
                *&lt;h:commandLink action="#{filmController.previous}" value="Previous #{filmController.pageSize}" rendered="#{filmController.hasPreviousPage}"/&gt; 
                &lt;h:commandLink action="#{filmController.next}" value="Next #{filmController.pageSize}" rendered="#{filmController.hasNextPage}"/&gt; *
            &lt;/h:form&gt;
    &lt;/ui:define&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加以下  <code>dataTable</code>  元素（以粗体显示）来生成表，以便显示检索到的条目。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">            &lt;h:form styleClass="jsfcrud_list_form"&gt;
                &lt;h:commandLink action="#{filmController.previous}" value="Previous #{filmController.pageSize}" rendered="#{filmController.hasPreviousPage}"/&gt; 
                &lt;h:commandLink action="#{filmController.next}" value="Next #{filmController.pageSize}" rendered="#{filmController.hasNextPage}"/&gt; 
                *&lt;h:dataTable value="#{filmController.filmTitles}" var="item" border="0" cellpadding="2" cellspacing="0" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" rules="all" style="border:solid 1px"&gt;
                    &lt;h:column&gt;
                        &lt;f:facet name="header"&gt;
                            &lt;h:outputText value="Title"/&gt;
                        &lt;/f:facet&gt;
                        &lt;h:outputText value="#{item.title}"/&gt;
                    &lt;/h:column&gt;
                    &lt;h:column&gt;
                        &lt;f:facet name="header"&gt;
                            &lt;h:outputText value="Description"/&gt;
                        &lt;/f:facet&gt;
                        &lt;h:outputText value="#{item.description}"/&gt;
                    &lt;/h:column&gt;
                    &lt;h:column&gt;
                        &lt;f:facet name="header"&gt;
                            &lt;h:outputText value=" "/&gt;
                        &lt;/f:facet&gt;
                        &lt;h:commandLink action="#{filmController.prepareView}" value="View"/&gt;
                    &lt;/h:column&gt;
                &lt;/h:dataTable&gt;
                &lt;br/&gt;*
            &lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存所做的更改。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>现在，index 页面将显示数据库中的影片名称列表。表中的每一行都包含 "View" 链接，用于调用受管 Bean 中的  <code>prepareView</code>  方法。 <code>prepareView</code>  方法返回 "browse" 并打开  <code>browse.xhtml</code> 。</p>
</div>
<div class="paragraph">
<p><strong>注：*键入  <code>&lt;f:facet&gt;</code>  标记时，IDE 将添加  <code>xmlns:f="http://java.sun.com/jsf/core</code>  标记库声明。*确认已在文件中声明标记库。</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_创建_browse_xhtml">创建  <code>browse.xhtml</code></h3>
<div class="paragraph">
<p>现在，将创建  <code>browse.xhtml</code>  页面以显示所选影片的详细信息。可以使用 Facelets 模板客户端向导基于所创建的 JSF Facelets 模板  <code>template.xhtml</code>  创建该页面。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中右键单击 DVDStore 项目节点，然后选择 "New"（新建）&gt; "Other"（其他）。</p>
</li>
<li>
<p>在 "JavaServer Faces" 类别中选择 "Facelets Template Client"（Facelets 模板客户端）。单击 "Next"（下一步）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-faceletsclient.png" alt="hib faceletsclient" width="Facelets Template Client"（Facelets 模板客户端）文件类型"">
</div>
<div class="title">Figure 14. 新建文件向导中的 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>键入 <strong>browse</strong> 作为文件名。</p>
</li>
<li>
<p>通过单击 "Browse"（浏览）打开 "Browse Files"（浏览文件）对话框，以查找页面模板。</p>
</li>
<li>
<p>展开 "Web Pages"（Web 页）文件夹并选择  <code>template.xhtml</code> 。单击 "Select File"（选择文件）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-browsetemplate.png" alt="hib browsetemplate" width="Browse Files"（浏览文件）对话框中选择模板"">
</div>
<div class="title">Figure 15. 在 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 <strong>&lt;ui:composition&gt;</strong> 作为生成的根标记。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时  <code>browse.xhtml</code>  文件将在编辑器中打开，其中包含以下代码。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    template="./template.xhtml"&gt;

    &lt;ui:define name="top"&gt;
        top
    &lt;/ui:define&gt;

    &lt;ui:define name="body"&gt;
        body
    &lt;/ui:define&gt;

&lt;/ui:composition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以看到新文件指定了  <code>template.xhtml</code>  文件，并且  <code>&lt;ui:define&gt;</code>  标记具有属性  <code>name="body"</code></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在  <code>&lt;ui:define&gt;</code>  标记之间添加以下代码（以粗体显示）以创建窗体，并调用受管 Bean FilmController 中的方法以检索数据和填充窗体。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
    template="./template.xhtml"
    *xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"*&gt;

        &lt;ui:define name="top"&gt;
            top
        &lt;/ui:define&gt;

        &lt;ui:define name="body"&gt;
        *
            &lt;h:form&gt;
                &lt;h:panelGrid columns="2"&gt;
                    &lt;h:outputText value="Title:"/&gt;
                    &lt;h:outputText value="#{filmController.selected.title}" title="Title"/&gt;
                    &lt;h:outputText value="Description"/&gt;
                    &lt;h:outputText value="#{filmController.selected.description}" title="Description"/&gt;
                    &lt;h:outputText value="Genre"/&gt;
                    &lt;h:outputText value="#{filmController.category}"/&gt;

                    &lt;h:outputText value="Cast"/&gt;
                    &lt;h:outputText value="#{filmController.actors}"/&gt;


                    &lt;h:outputText value="Film Length"/&gt;
                    &lt;h:outputText value="#{filmController.selected.length} min" title="Film Length"/&gt;

                    &lt;h:outputText value="Language"/&gt;
                    &lt;h:outputText value="#{filmController.language}" title="Film Length"/&gt;

                    &lt;h:outputText value="Release Year"/&gt;
                    &lt;h:outputText value="#{filmController.selected.releaseYear}" title="Release Year"&gt;
                        &lt;f:convertDateTime pattern="MM/dd/yyyy" /&gt;
                    &lt;/h:outputText&gt;
                    &lt;h:outputText value="Rental Duration"/&gt;
                    &lt;h:outputText value="#{filmController.selected.rentalDuration}" title="Rental DUration"/&gt;
                    &lt;h:outputText value="Rental Rate"/&gt;
                    &lt;h:outputText value="#{filmController.selected.rentalRate}" title="Rental Rate"/&gt;
                    &lt;h:outputText value="Replacement Cost"/&gt;
                    &lt;h:outputText value="#{filmController.selected.replacementCost}" title="Replacement Cost"/&gt;
                    &lt;h:outputText value="Rating"/&gt;
                    &lt;h:outputText value="#{filmController.selected.rating}" title="Rating"/&gt;
                    &lt;h:outputText value="Special Features"/&gt;
                    &lt;h:outputText value="#{filmController.selected.specialFeatures}" title="Special Features"/&gt;
                    &lt;h:outputText value="Last Update"/&gt;
                    &lt;h:outputText value="#{filmController.selected.lastUpdate}" title="Last Update"&gt;
                        &lt;f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" /&gt;
                    &lt;/h:outputText&gt;
                &lt;/h:panelGrid&gt;
                &lt;br/&gt;
                &lt;br/&gt;
                &lt;h:commandLink action="#{filmController.prepareList}" value="View All List"/&gt;
                &lt;br/&gt;
            &lt;/h:form&gt;
*
        &lt;/ui:define&gt;
    &lt;/ui:composition&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以看到  <code>browse.xhtml</code>  和  <code>index.xhtml</code>  使用相同的页面模板。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>保存所做的更改。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_运行项目">运行项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>应用程序的基础部分现已完成。现在，您可以运行应用程序以检查其是否正常运行。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在主工具栏中单击 "Run Main Project"（运行主项目）或在 "Projects"（项目）窗口中右键单击 DVDStore 应用程序节点并选择 "Run"（运行）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE 保存所有更改过的文件，构建应用程序并将应用程序部署到服务器。IDE 将打开浏览器窗口并指向 URL  <code><a href="http://localhost:8080/DVDStore/" class="bare">http://localhost:8080/DVDStore/</a></code>  以显示影片列表。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hib-browser1.png" alt="hib browser1">
</div>
<div class="title">Figure 16. 在索引页上显示影片列表的浏览器的屏幕快照</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在浏览器中，单击 "View" 加载  <code>browse.xhtml</code>  以查看影片详细信息。</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_下载解决方案项目">下载解决方案项目</h3>
<div class="paragraph">
<p>您可以采用下列方法下载本教程的解决方案（作为一个项目）。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>下载<a href="https://netbeans.org/projects/samples/downloads/download/Samples/JavaEE/DVDStoreEE6.zip">已完成项目的 zip 档案文件</a>。</p>
</li>
<li>
<p>通过执行以下步骤从 NetBeans 样例检出项目源代码：</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从主菜单中选择 "Team"（团队开发）&gt; "Subversion" &gt; "Checkout"（检出）。</p>
</li>
<li>
<p>在 "Checkout"（检出）对话框中，输入以下资源库 URL：
 <code><a href="https://svn.netbeans.org/svn/samples~samples-source-code" class="bare">https://svn.netbeans.org/svn/samples~samples-source-code</a></code>
单击 "Next"（下一步）。</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Browse"（浏览）以打开 "Browse Repostiory Folders"（浏览资源库文件夹）对话框。</p>
</li>
<li>
<p>展开根目录节点，然后选择 <strong>samples/javaee/DVDStoreEE6</strong>。单击 "OK"（确定）。</p>
</li>
<li>
<p>指定用于存储源代码的 "Local Folder"（本地文件夹）。</p>
</li>
<li>
<p>单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>单击 "Finish"（完成），此时 IDE 会将本地文件夹初始化为 Subversion 资源库，并检出项目源代码。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在完成检出操作后将会显示一个对话框，在该对话框中单击 "Open Project"（打开项目）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注：*有关安装 Subversion 的更多信息，请参见 <a href="../ide/subversion.html">NetBeans IDE 中的 Subversion 指南</a>中有关<a href="../ide/subversion.html#settingUp">设置 Subversion</a> 的部分。</p>
</div>
</div>
<div class="sect2">
<h3 id="_疑难解答">疑难解答</h3>
<div class="paragraph">
<p>教程应用程序出现的大多数问题是由于 GlassFish Server Open Source Edition 与 MySQL 数据库服务器之间的通信发生问题。如果应用程序显示不正确或者您收到服务器错误，您可能需要查看<a href="mysql-webapp.html">使用 MySQL 数据库创建简单 Web 应用程序</a>教程或<a href="../ide/mysql.html">连接到 MySQL 数据库</a>教程的<a href="mysql-webapp.html#troubleshoot">疑难解答</a>部分。</p>
</div>
<div class="paragraph">
<p>如果您是首次部署了使用 MySQL 数据库的应用程序，则在下载和运行解决方案项目时，可能会在 "Output"（输出）窗口中看到以下错误。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    SEVERE: JDBC Driver class not found: com.mysql.jdbc.Driver
    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
	at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1509)

        [...]

	at java.lang.Thread.run(Thread.java:680)

    SEVERE: Initial SessionFactory creation failed.org.hibernate.HibernateException: JDBC Driver class not found: com.mysql.jdbc.Driver
    INFO: cleaning up connection pool: null
    INFO: Domain Pinged: stable.glassfish.org</code></pre>
</div>
</div>
<div class="paragraph">
<p>在浏览器窗口中，您可能会看到  <code>java.lang.ExceptionInInitializerError</code>  以及以下堆栈跟踪。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    java.lang.ExceptionInInitializerError
	at dvdrental.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:28)
	...
    Caused by: org.hibernate.HibernateException: JDBC Driver class not found: com.mysql.jdbc.Driver

	...
    Caused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
	...</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出消息指出未找到 MySQL 数据库的 JDBC 驱动程序。最可能的原因是，您需要将 MySQL JDBC 驱动程序文件添加到 GlassFish Server 安装中。要确认缺少此驱动程序，请导航至本地系统上的  <code><em>GLASSFISH-INSTALL</em>/glassfish/domains/domain1/lib</code>  目录（其中 <em>GLASSFISH-INSTALL</em> 是 GlassFish 安装目录）。如果  <code>domain1/lib</code>  目录不包含 JDBC 驱动程序文件（例如 <code>mysql-connector-java-5.1.13-bin.jar</code>），则您需要将 JDBC 驱动程序复制到此目录中。安装服务器时，未将 MySQL JDBC 驱动程序添加到 GlassFish 安装中。</p>
</div>
<div class="paragraph">
<p>通过执行以下步骤，可以将 MySQL JDBC 驱动程序的副本添加到 GlassFish 安装中。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>下载 <a href="http://dev.mysql.com/downloads/connector/j/">MySQL Connector/J JDBC 驱动程序</a>。</p>
</li>
<li>
<p>提取此驱动程序并将驱动程序文件（例如 <code>mysql-connector-java-5.1.13-bin.jar</code>）复制到 GlassFish 安装的  <code>domain1/lib</code>  目录中。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>或者，当您使用 IDE 创建使用 MySQL 数据库的应用程序时，IDE 也可以在部署项目时自动将捆绑的 MySQL JDBC 驱动程序复制到 GlassFish Server（如果需要）。要确认 IDE 将复制所需的 JDBC 驱动程序，请从主菜单中选择“工具”&gt;“服务器”以打开“服务器管理器”，然后确认为 GlassFish Server 选定了“启用 JDBC 驱动程序部署”选项。</p>
</div>
<div class="paragraph">
<p>在创建并部署使用 MySQL 数据库的 Web 应用程序之后，如果导航至本地 GlassFish 安装的 <code>domain1/lib</code> 目录，您将会看到该目录包含 JDBC 驱动程序文件。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Using%20Hibernate%20in%20a%20Web%20Application">发送有关此教程的反馈意见</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="jsf20-support.html">NetBeans IDE 中的 JSF 2.x 支持</a></p>
</li>
<li>
<p><a href="jsf20-intro.html">JavaServer Faces 2.x 简介</a></p>
</li>
<li>
<p><a href="../../trails/java-ee.html">Java EE 和 Java Web 学习资源</a></p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/web/hibernate-webapp_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
