
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Trabalhando com Eventos no CDI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Trabalhando com Eventos no CDI - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Trabalhando com Eventos no CDI">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Trabalhando com Eventos no CDI</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_injeção_de_dependência_e_contextos">Injeção de Dependência e Contextos</a></li>
<li><a href="#event">Utilizando Eventos</a></li>
<li><a href="#scopes">Tratando Escopos</a></li>
<li><a href="#seealso">Consulte Também</a>
<ul class="sectlevel2">
<li><a href="#_recursos_do_netbeans">Recursos do NetBeans</a></li>
<li><a href="#_recursos_externos">Recursos Externos</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Contribuição de Andy Gibson</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_injeção_de_dependência_e_contextos">Injeção de Dependência e Contextos</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="cdi-intro.html">Introdução ao CDI e ao JSF 2.0</a></p>
</li>
<li>
<p><a href="cdi-inject.html">Trabalhando com Injeção e Qualificadores no CDI</a></p>
</li>
<li>
<p><a href="cdi-validate.html">Aplicando Anotações @Alternative Beans e de Ciclo de Vida</a></p>
</li>
<li>
<p><strong>Trabalhando com Eventos no CDI</strong></p>
<div class="ulist">
<ul>
<li>
<p><a href="#event">Utilizando Eventos</a></p>
</li>
<li>
<p><a href="#scopes">Tratando Escopos</a></p>
</li>
<li>
<p><a href="#seealso">Consulte Também</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-stamp-80-74-73.png" alt="netbeans stamp 80 74 73">
</div>
<div class="title">Figure 1. O conteúdo desta página se aplica ao NetBeans IDE 7.2, 7.3, 7.4 e 8.0</div>
</div>
<div class="paragraph">
<p>A Injeção de Dependência e Contextos (CDI), especificada por <a href="http://jcp.org/en/jsr/detail?id=299">JSR-299</a>, é parte integrante do Java EE 6 e fornece uma arquitetura que permite aos componentes do Java EE, como os servlets, enterprise beans e JavaBeans, existirem dentro do ciclo de vida de uma aplicação com escopos bem definidos. Além disso, os serviços CDI permitem que os componentes do Java EE, como beans de sessão EJB e beans gerenciados do JavaServer Faces (JSF), sejam injetados e interajam de maneira acoplada flexível, disparando e observando eventos.</p>
</div>
<div class="paragraph">
<p>Este tutorial tem base no post do blog de Andy Gibson, intitulado <a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">Getting Started with CDI part 3 – Events</a> (Introdução ao CDI parte 3 - Eventos). Ele demonstra como aproveitar o conceito do Java EE de <em>eventos</em>, em que você produz e se inscreve em (isto é, <em>observa</em>) eventos que ocorrem na sua aplicação, de maneira que o permite manter o código desacoplado entre produtores e observadores. A classe <code>javax.enterprise.event.Event</code> é utilizada para criar eventos e anotação <code>@Observes</code> de CDI para se inscrever em eventos.</p>
</div>
<div class="paragraph">
<p>O NetBeans IDE fornece um suporte incorporado para a Injeção de Dependência e Contextos, incluindo a opção de geração do arquivo de configuração de CDI <code>beans.xml</code> durante a criação do projeto, do editor e do suporte de navegação para anotações, assim como vários assistentes para a criação de artefatos CDI comumente utilizados.</p>
</div>
<div class="paragraph">
<p>Para concluir este tutorial, você precisa dos seguintes recursos e softwares.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versão Java EE 7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Development Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 7 ou 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://glassfish.dev.java.net/">GlassFish Server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source Edition 3.x ou 4.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemo3.zip">cdiDemo3.zip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/d</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>O pacote Java EE do NetBeans IDE inclui também o GlassFish Server Open Source Edition, que é um contêiner compatível com Java EE.</p>
</li>
<li>
<p>É possível fazer download do projeto de amostra de solução para este tutorial em: <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemoComplete.zip">cdiDemoComplete.zip</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event">Utilizando Eventos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No tutorial anterior, <a href="cdi-validate.html">Aplicando Anotações de Ciclo de Vida e de Beans @Alternative</a>, tínhamos uma aplicação que obtinha uma lista de itens, validava-os e agia, de maneira específica, quando um item inválido era encontrado. Vamos dizer que no futuro queremos expandir nosso sistema para tratar todos os tipos de coisas que ocorrem quando encontramos um item inválido. Isso pode variar de um e-mail sendo enviado, alterações feitas a outros dados, como um pedido sendo cancelado ou o armazenamento de uma lista de rejeições em um arquivo ou tabela de banco de dados. Para desacoplar completamente a implementação, podemos utilizar <em>eventos</em> no Java EE. Eventos são gerados pelo <em>produtor</em> de eventos e a inscrição feita pelos <em>observadores</em> de eventos. Como a maior parte do CDI, a produção e inscrição de eventos é segura para tipo e permite que os qualificadores determinem quais eventos os observadores irão observar.</p>
</div>
<div class="paragraph">
<p>Utilizando a aplicação que estamos construindo desde os tutoriais anteriores da série, não precisamos de muitas alterações para implementar isso. Podemos fornecer apenas outra implementação de <code>ItemErrorHandler</code> (criado no <a href="cdi-validate.html">tutorial anterior</a>), que gera um evento toda vez que trata um item. Nomearemos essa classe <code>EventItemHandler</code>, a injetaremos no <code>ItemProcessor</code> e utilizaremos um qualificador `Notify`para selecioná-la para injeção.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-diagram-events.png" alt="cdi diagram events">
</div>
<div class="title">Figure 2. Use a injeção de CDI para acoplar, livremente, as classes na sua aplicação</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Comece extraindo o projeto de início de amostra do arquivo <code>cdiDemo3.zip</code> (Consulte a <a href="#requiredSoftware">tabela que lista os recursos necessários</a> acima.) Abra o projeto no IDE escolhendo Arquivo &gt; Abrir Projeto (Ctrl-Shift-O; ⌘-Shift-O no Mac) e, em seguida, selecionando o projeto no seu local no computador.</p>
</li>
<li>
<p>Crie uma classe denominada <code>EventItemHandler</code>. Clique no botão Novo Arquivo (<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) ou pressione CTRL-N (⌘-N no Mac) para abrir o assistente de Arquivo.</p>
</li>
<li>
<p>Selecione a categoria Java e, em seguida, a Classe Java. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>EventItemHandler</strong> como o nome da classe e, em seguida, digite <strong>exercise4</strong> como o pacote.</p>
</li>
<li>
<p>Clique em Finalizar. A nova classe e o novo pacote são gerados e a classe é aberta no editor.</p>
</li>
<li>
<p>Implemente <strong>EventItemHandler</strong> como se segue.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class EventItemHandler *implements ItemErrorHandler* {

    *@Inject
    private Event&lt;Item&gt; itemEvent;

    @Override
    public void handleItem(Item item) {
        System.out.println("Firing Event");
        itemEvent.fire(item);
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Injetamos uma instância de um <code>Event</code> em que a carga do evento será um <code>Item</code>. A carga do evento são os dados de estado passados do produtor de evento para o observador de evento que, nesse caso, passa o item rejeitado. Quando o item inválido é tratado, nós acionamos o evento e passamos no item inválido que recebemos. Esse handler de item com base em evento é injetado da mesma maneira que qualquer outro handler de item seria e, portanto, podemos colocá-lo ou tirá-lo sempre que precisarmos e também podemos substituí-lo durante os testes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Corrigir todas as importações. Clique com o botão direito do mouse no editor e selecione Corrigir importações ou pressione Ctrl-Shift-I (⌘-Shift-I no Mac). Certifique-se de selecionar <code>javax.enterprise.event.Event</code> como o nome completamente qualificado para a classe <code>Event</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/fix-all-imports.png" alt="fix all imports">
</div>
<div class="title">Figure 3. Clique com o botão direito do mouse no Editor e escolha corrigir importa para chamar a caixa de diálogo Importações de Correção</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Pressione Ctrl-Espaço em <code>Event</code> para exibir a definição Javadoc da classe. O método <code>fire()</code>, utilizado acima, também será definido.#
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/event-javadoc.png" alt="event javadoc" title="Pressione CTRL-Espaço para exibir documentação de Javadoc em classes na API"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Crie um nome qualificador <code>Notify</code>. (Qualificadores foram discutidos em <a href="cdi-inject.html">Trabalhando com Injeção e Qualificadores no CDI</a>.)</p>
</li>
<li>
<p>Clique no botão Novo Arquivo (<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) ou pressione CTRL-N (⌘-N no Mac) para abrir o assistente de Arquivo.</p>
</li>
<li>
<p>Selecione a categoria Injeção de Dependência e Contexto e, em seguida, selecione Tipo de Qualificador. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>Notify</strong> como o nome da classe e, em seguida, digite <strong>exercise4</strong> como o pacote.</p>
</li>
<li>
<p>Clique em Finalizar. O novo qualificador <code>Notify</code> será aberto no editor.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Qualifier
@Retention(RUNTIME)
@Target({METHOD, FIELD, PARAMETER, TYPE})
public @interface Notify {
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione a anotação <code>@Notify</code> a <code>EventItemHandler</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*@Notify*
public class EventItemHandler implements ItemErrorHandler {

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Criamos uma anotação de qualificador <code>@Notify</code> para identificar esse handler de erros para injeção e podemos utilizá-lo em nosso <code>ItemProcessor</code> adicionando-o ao ponto de injeção.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione a anotação <code>@Notify</code> ao ponto de injeção do <code>EventItemHandler</code> no <code>exercise2.ItemProcessor</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    @Inject @Demo
    private ItemDao itemDao;

    @Inject
    private ItemValidator itemValidator;

    @Inject *@Notify*
    private ItemErrorHandler itemErrorHandler;

    public void execute() {
        List&lt;Item&gt; items = itemDao.fetchItems();
        for (Item item : items) {
            if (!itemValidator.isValid(item)) {
                itemErrorHandler.handleItem(item);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>(Utilize a dica do editor para adicionar a instrução de importação para <code>exercise4.Notify</code>.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique no botão Executar Projeto (<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) para executar o projeto.</p>
</li>
<li>
<p>No browser, clique no botão &#8220;Execute&#8221; e, em seguida, retorne para o IDE e examine o log do servidor na janela Saída (Ctrl-4; ⌘-4 no Mac). Como a aplicação que você tem construído atualmente utiliza o <code>DefaultItemDao</code> para configurar quatro <code>Item`s, e, em seguida, aplica o `RelaxedItemValidator</code> nos <code>Iten`s, é esperado ver o acionamento de `itemErrorHandler</code> duas vezes.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window.png" alt="output window">
</div>
<div class="title">Figure 4. Exibir o log do GlassFish Server exibido na janela Saída</div>
</div>
<div class="paragraph">
<p>Atualmente, no entanto, não temos nada observando o evento. Podemos corrigir isso criando um método <em>observador</em> utilizando a anotação <code>@Observes</code>. Essa é a única coisa necessária para observar um evento. Para demonstrar, podemos modificar o <code>FileErrorReporter</code> (criado no <a href="cdi-validate.html">tutorial anterior</a>) para responder a eventos acionados adicionando um método observador que chama seu método <code>handleItem()</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Para fazer nosso <code>FileErrorReporter</code> responder ao evento, adicione o seguinte método à classe.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class FileErrorReporter implements ItemErrorHandler {

    *public void eventFired(@Observes Item item) {
        handleItem(item);
    }*

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>(Utilize a dica do editor para adicionar uma instrução de importação para <code>javax.enterprise.event.Observes</code>.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute o projeto (F6; fn-F6 no Mac) novamente, clique no botão &#8220;Execute&#8221; e, em seguida, retorne para o IDE e examine o log do servidor na janela Saída.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window2.png" alt="output window2">
</div>
<div class="title">Figure 5. Exibir o log do GlassFish Server exibido na janela Saída</div>
</div>
<div class="paragraph">
<p>Você verá que os eventos são acionados nos objetos inválidos como eram anteriormente, mas agora as informações do item estão sendo salvas quando cada evento é acionado. Também é possível notar que os eventos de ciclo de vida estão sendo observados, já que um bean <code>FileErrorReporter</code> é criado e fechado para cada evento acionado. (Consulte <a href="cdi-validate.html">Aplicando Anotações de Ciclo de Vida e de Beans @Alternative</a> para obter uma discussão de anotações de ciclo de vida, como <code>@PostConstruct</code> e <code>@PreDestroy</code>.)</p>
</div>
<div class="paragraph">
<p>Conforme mostrado nas etapas acima, a anotação <code>@Observes</code> fornece uma maneira fácil de observar um evento.</p>
</div>
<div class="paragraph">
<p>Eventos e observadores também podem ser anotados com qualificadores para permitir que os observadores observem apenas eventos específicos de um item. Consulte <a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">Introdução ao CDI parte 3 – Eventos</a> para uma demonstração.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scopes">Tratando Escopos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No estado atual da aplicação, um bean <code>FileErrorReporter</code> é criado toda vez que o evento é criado. Nesse caso, não queremos criar um novo bean toda vez, já que não queremos abrir e fechar o arquivo para cada item. Ainda queremos abrir o arquivo no início do processo e, em seguida, fechá-lo depois que o processo tiver sido concluído. Portanto, precisamos considerar o <em>escopo</em> do bean <code>FileErrorReporter</code>.</p>
</div>
<div class="paragraph">
<p>Atualmente, o bean <code>FileErrorReporter</code> não tem um escopo definido. Quando nenhum escopo é definido, o CDI utiliza o escopo pseudodependente default. Na prática, isso significa que o bean é criado e destruído em um espaço muito pequeno de tempo, normalmente em uma chamada de método. No nosso cenário atual, o bean é criado e destruído pela duração do evento sendo acionado. Para corrigir isso, podemos aumentar o escopo do bean adicionando manualmente uma anotação de escopo. Tornaremos esse bean <code>@RequestScoped</code>, de modo que quando o bean for criado com o primeiro evento sendo acionado, ele continuará a existir pela duração da solicitação. Isso também significa que para todos os pontos de injeção em que esse bean é qualificado para ser injetado, a mesma instância do bean será injetada.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione a anotação <code>@RequestScope</code> e a instrução de importação correspondente para <code>javax.enterprise.context.RequestScoped</code> à classe <code>FileErrorReporter</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*import javax.enterprise.context.RequestScoped;*
...

*@RequestScoped*
public class FileErrorReporter implements ItemErrorHandler { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="tips">Pressione Ctrl-Espaço enquanto digita para chamar o suporte da funcionalidade autocompletar código do editor. Quando você escolhe um item por meio da funcionalidade autocompletar código, todas as instruções de importação associadas serão automaticamente adicionadas à classe.</span></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/code-completion.png" alt="code completion">
</div>
<div class="title">Figure 6. Pressione Ctrl-Espaço ao digitar para chamar sugestões de autocompletar código</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute o projeto (F6; fn-F6 no Mac) novamente, clique no botão &#8220;Execute&#8221; e, em seguida, retorne para o IDE e examine o log do servidor na janela Saída.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window3.png" alt="output window3">
</div>
<div class="title">Figure 7. Exibir o log do GlassFish Server exibido na janela Saída</div>
</div>
<div class="paragraph">
<p>Note que o bean <code>FileErrorReporter</code> é criado apenas quando o primeiro evento é acionado e fechado depois de o evento final ter sido acionado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Firing Event
*INFO: Creating file error reporter*
INFO: Saving exercise2.Item@48ce88f6 [Value=34, Limit=7] to file
INFO: Firing Event
INFO: Saving exercise2.Item@3cae5788 [Value=89, Limit=32] to file
*INFO: Closing file error reporter*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Os eventos são uma ótima maneira de desacoplar partes do sistema de maneira modular, já que os observadores e produtores de eventos não sabem nada um sobre o outro, nem exigem alguma configuração para isso. Você pode adicionar partes de códigos que se inscrevem a eventos, com o produtor de evento desconhecendo o observador. (Sem utilizar eventos, normalmente seria necessário fazer com que o produtor de eventos chamasse o observador manualmente.) Por exemplo, se alguém atualizar o status de um pedido, seria possível adicionar eventos por e-mail para o representante de vendas ou notificar um gerente de conta se um problema de suporte técnico estiver aberto há mais de uma semana. Esses tipos de regras podem ser implementados sem eventos, mas os eventos facilitam o desacoplamento da lógica de negócios. Além disso, não há nenhuma dependência de compilação ou de tempo de construção. Você pode apenas adicionar módulos à sua aplicação e eles começarão, automaticamente, a observar e produzir eventos.</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20with%20Events%20in%20CDI">Enviar Feedback neste Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Consulte Também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter mais informações sobre o CDI e o Java EE, consulte os recursos a seguir.</p>
</div>
<div class="sect2">
<h3 id="_recursos_do_netbeans">Recursos do NetBeans</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cdi-intro.html">Introdução à Injeção de Dependência e Contextos e JSF 2.0</a></p>
</li>
<li>
<p><a href="cdi-inject.html">Trabalhando com Injeção e Qualificadores no CDI</a></p>
</li>
<li>
<p><a href="cdi-validate.html">Aplicando Anotações @Alternative Beans e de Ciclo de Vida</a></p>
</li>
<li>
<p><a href="javaee-gettingstarted.html">Conceitos Básicos sobre Aplicações do Java EE</a></p>
</li>
<li>
<p><a href="../web/jsf20-intro.html">Introdução ao JavaServer Faces 2.0</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_recursos_externos">Recursos Externos</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://blogs.oracle.com/enterprisetechtips/entry/using_cdi_and_dependency_injection">Dica Técnica do Enterprise: Utilizando Injeção de Dependência e de CDI para Java em uma Aplicação JSF 2.0</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/javaee/6/tutorial/doc/gjbnr.html">O Tutorial do Java EE 6, Parte V: Injeção de Dependência e Contextos para a Plataforma Java EE</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR 299: Especificação para Injeção de Dependência e Contextos</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=316">JSR 316: Plataforma Java, Especificação do Enterprise Edition 6</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
