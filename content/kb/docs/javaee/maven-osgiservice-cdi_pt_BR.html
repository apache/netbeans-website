
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Usando o CDI para Injetar Pacotes OSGi como Serviços no NetBeans IDE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Usando o CDI para Injetar Pacotes OSGi como Serviços no NetBeans IDE - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Usando o CDI para Injetar Pacotes OSGi como Serviços no NetBeans IDE">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="/download/nb19/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Usando o CDI para Injetar Pacotes OSGi como Serviços no NetBeans IDE</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/maven-osgiservice-cdi_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_criando_o_projeto_pom_pai">Criando o Projeto POM Pai</a></li>
<li><a href="#_criando_os_projetos_de_pacotes_osgi">Criando os Projetos de Pacotes OSGi</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_pacote_da_interface_mavenhelloserviceapi">Criando o Pacote da Interface MavenHelloServiceApi</a></li>
<li><a href="#_criando_o_pacote_de_implementação_mavenhelloserviceimpl">Criando o Pacote de Implementação MavenHelloServiceImpl</a></li>
<li><a href="#_construindo_e_implantando_os_pacotes_osgi">Construindo e Implantando os Pacotes OSGi</a></li>
</ul>
</li>
<li><a href="#_criando_uma_aplicação_cliente_web">Criando uma Aplicação Cliente Web</a>
<ul class="sectlevel2">
<li><a href="#_configurando_dependências_no_projeto_pom_pai">Configurando dependências no Projeto POM Pai</a></li>
<li><a href="#_criando_a_aplicação_web_mavenhellowebclient">Criando a Aplicação Web MavenHelloWebClient</a></li>
<li><a href="#_construindo_a_aplicação_web_como_um_pacote_osgi">Construindo a aplicação Web como um Pacote OSGi</a></li>
<li><a href="#_implantando_o_pacote_de_aplicação_web">Implantando o Pacote de Aplicação Web</a></li>
</ul>
</li>
<li><a href="#_instalando_e_usando_a_console_de_admnin_do_osgi">Instalando e Usando a Console de Admnin do OSGI</a></li>
<li><a href="#_consulte_também">Consulte Também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este documento demonstra como o suporte integrado para o framework <a href="http://www.osgi.org/Main/HomePage">Open Services Gateway Initiative</a> (OSGi) no NetBeans IDE simplifica o processo de criação de pacotes OSGi e o uso dos pacotes em seus projetos. Neste tutorial, você criará dois pacotes OSGi simples a partir do arquétipo de pacote Maven OSGi e, em seguida, implantará os pacotes no GlassFish Server Open Source Edition 3.1.</p>
</div>
<div class="paragraph">
<p>Depois de criar os pacotes OSGi básicos, você criará uma aplicação cliente Web e usará o CDI para injetar os pacotes como um serviço. A seguir, você implantará a aplicação Web como um pacote no servidor. O tutorial, em seguida, demonstrará como usar a Console de Admin OSGi para trabalhar com pacotes OSGi.</p>
</div>
<div class="paragraph">
<p>Utilizar um pacote OSGi em uma Aplicação Corporativa pode fornecer maior modularidade e flexibilidade em relação à atualização de pacotes individuais. O suporte predefinido para OSGi que acompanha o GlassFish Server torna a incorporação de pacotes na sua aplicação muito fácil.</p>
</div>
<div class="paragraph">
<p>Este tutorial tem base na publicação do blog <a href="http://blogs.oracle.com/arungupta/entry/totd_154_dynamic_osgi_services">+ TOTD #154: Dynamic OSGi services in GlassFish 3.1 - Using CDI and @OSGiService ] e outras entradas do blog que podem ser encontradas no link:http://blog.arungupta.me/[+blog de Arun Gupta</a>. Certifique-se de visitar o blog e ver muitas outras entradas excelentes relacionadas ao trabalho com o OSGi.</p>
</div>
<div class="paragraph">
<p>Além disso, os recursos a seguir contêm uma variedade de informações sobre o uso do OSGi e CDI em aplicações híbridas.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://weblogs.java.net/blog/2009/06/14/developing-hybrid-osgi-java-ee-applications-glassfish">+ Desenvolvendo aplicações Híbridas (OSGi + Java EE) no GlassFish+</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/sivakumart/entry/typesafe_injection_of_dynamic_osgi">+ Injeção segura de serviços OSGi dinâmicos em aplicações Java EE híbridas+</a></p>
</li>
<li>
<p><a href="http://weblogs.java.net/blog/2009/06/04/osgi-enabled-web-applications-inglassfish">+ Aplicações Web compatíveis com OSGi no GlassFish+</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=vaOpJJ-Xm70">+ Vídeo do YouTube: injeção segura de serviços OSGI dinâmicos com o GlassFish 3.1 e CDI +</a></p>
</li>
<li>
<p><a href="http://glassfish.java.net/public/GF-OSGi-Features.pdf">+ Desenvolvimento de Aplicações OSGi usando o GlassFish Server"+</a> [PDF]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Exercícios do Tutorial</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Exercise_1">Criando o Projeto POM pai</a></p>
</li>
<li>
<p><a href="#Exercise_2">Criando os Projetos de Pacotes OSGi</a></p>
</li>
<li>
<p><a href="#Exercise_2a">Criando o Pacote da Interface MavenHelloServiceApi</a></p>
</li>
<li>
<p><a href="#Exercise_2b">Criando o Pacote de Implementação MavenHelloServiceImpl</a></p>
</li>
<li>
<p><a href="#Exercise_2c">Construindo e Implantando os Pacotes OSGi</a></p>
</li>
<li>
<p><a href="#Exercise_3">Criando a Aplicação Cliente Web</a></p>
</li>
<li>
<p><a href="#Exercise_3a">Configurando as Dependências no Projeto POM</a></p>
</li>
<li>
<p><a href="#Exercise_3b">Criando a Aplicação Web MavenHelloWebClient</a></p>
</li>
<li>
<p><a href="#Exercise_3c">Construindo a Aplicação Web como um Pacote</a></p>
</li>
<li>
<p><a href="#Exercise_3d">Implantando o Pacote de Aplicações Web</a></p>
</li>
<li>
<p><a href="#Exercise_4">Instalando e Usando a Console de Admin OSGi</a></p>
</li>
<li>
<p><a href="#Exercise_5">Referências e Leitura Adicional</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Para seguir este tutorial, são necessários os recursos e o software a seguir.</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software ou Recurso</th>
<th class="tableblock halign-left valign-top">Versão Necessária</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://download.netbeans.org/netbeans/7.1/beta/">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versão Java EE 7.2, 7.3, 7.4, 8.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java Development Kit)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versão 7 ou 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlassFish Server Open Source Edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.x ou 4.x</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Pré-requisitos</strong></p>
</div>
<div class="paragraph">
<p>Este tutorial pressupõe que você tenha algum conhecimento básico das tecnologias a seguir, ou alguma experiência de programação com elas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Programação em Java</p>
</li>
<li>
<p>NetBeans IDE</p>
</li>
<li>
<p>Framework Maven</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Antes de começar este tutorial, talvez você queira se familiarizar com a documentação a seguir.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">Melhores Práticas para o Apache Maven no NetBeans IDE</a></p>
</li>
<li>
<p><a href="http://books.sonatype.com/mvnref-book/reference/introduction.html">Capítulo 1. Introdução ao Apache Maven</a> (do <a href="http://books.sonatype.com/mvnref-book/reference/index.html">+Maven: A Referência Completa +</a>)</p>
</li>
<li>
<p><a href="http://www.osgi.org/javadoc/r4v42/">+Framework OSGi +</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_projeto_pom_pai">Criando o Projeto POM Pai</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção você criará o projeto POM pai para os pacotes OSGi que serão criados neste tutorial. Você editará o projeto POM ( <code>pom.xml</code> ) para adicionar elementos de Gerenciamento de Dependências que serão herdados como dependências por projetos filho.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Novo Projeto (Ctrl-Shift-N; ⌘-Shift-N no Mac) no menu principal.</p>
</li>
<li>
<p>Selecione o Projeto POM na categoria Maven.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-newpomproject.png" alt="cdi newpomproject">
</div>
<div class="title">Figure 1. Arquétipo do Projeto POM Maven no Assistente de Novo Projeto</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Digite <strong>MavenOSGiCDIProject</strong> como nome do Projeto. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o IDE cria o projeto POM e abre o projeto na janela Projetos.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expanda o nó dos Arquivos do Projeto na janela Projetos e clique duas vezes em  <code>pom.xml</code>  para abrir o arquivo no editor.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O POM básico do projeto deverá ser similar ao seguinte.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenOSGiCDIProject&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifique o  <code>pom.xml</code>  pai para adicionar os elementos a seguir. Salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenOSGiCDIProject&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    *&lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.osgi&lt;/groupId&gt;
                &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;
                &lt;version&gt;4.2.0&lt;/version&gt;
                &lt;scope&gt;provided&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;*
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Neste exercício, você especificou explicitamente um artefato e a versão do artefato que serão usados no projeto. Ao usar o Gerenciamento de Dependências e especificar os artefatos no POM pai, é possível tornar os POMs nos projetos filho mais simples e garantir que as versões das dependências estejam consistentes no projeto.</p>
</div>
<div class="paragraph">
<p>Para saber mais sobre o uso do Gerenciamento de Dependências, consulte <a href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">Introdução ao Mecanismo de Dependências</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_os_projetos_de_pacotes_osgi">Criando os Projetos de Pacotes OSGi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A categoria Maven no assistente Novos Projetos inclui um arquétipo do Pacote OSGi para a criação de projetos de pacotes OSGi. Quando você cria um projeto de pacote OSGi, o POM gerado declara o JAR  <code>org.osgi.core</code>  como uma dependência e especifica o  <code>plug-in-do-pacote-maven</code>  para a construção do projeto.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_pacote_da_interface_mavenhelloserviceapi">Criando o Pacote da Interface MavenHelloServiceApi</h3>
<div class="paragraph">
<p>Neste exercício, você utilizará o assistente Novo Projeto para criar um projeto de pacote OSGi que fornecerá uma interface simples que será implementada por outros pacotes. Depois de criar o pacote e a interface, você modificará o POM para atualizar a dependência no artefato  <code>org.osgi.core</code>  que foi especificado no projeto POM pai.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto para abrir o assistente de Novo Projeto.</p>
</li>
<li>
<p>Selecione Pacote OSGi na categoria Maven. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-new-osgiproject.png" alt="cdi new osgiproject">
</div>
<div class="title">Figure 2. Arquétipo do Pacote OSGI Maven no assistente de Novo Projeto</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Digite <strong>MavenHelloServiceApi</strong> como Nome do Projeto.</p>
</li>
<li>
<p>Clique em Procurar e selecione o projeto POM <strong>MavenOSGiCDIProject</strong> como o Local. Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Finalizar, o IDE cria o projeto do pacote e abre o projeto na janela Projetos. Se você abrir  <code>pom.xml</code>  para o projeto MavenHelloServiceApi no editor, verá que o elemento  <code>encapsulamento</code>  especifica o  <code>pacote</code>  e que o  <code>plug-in-do-pacote-maven</code>  será usado ao construir o pacote.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;project&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
    &lt;artifactId&gt;MavenOSGiCDIProject&lt;/artifactId&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/parent&gt;

    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenHelloServiceApi&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    *&lt;packaging&gt;bundle&lt;/packaging&gt;*
    &lt;name&gt;MavenHelloServiceApi OSGi Bundle&lt;/name&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.osgi&lt;/groupId&gt;
            &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;
            &lt;version&gt;4.3.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
                *&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;*
                &lt;version&gt;2.3.7&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                    &lt;instructions&gt;
                        &lt;Bundle-Activator&gt;com.mycompany.mavenhelloserviceimpl.Activator&lt;/Bundle-Activator&gt;
                        &lt;Export-Package /&gt;
                    &lt;/instructions&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;

            ...
        &lt;/plugins&gt;
    &lt;/build&gt;

    ...
&lt;project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Você também poderá ver que, ao criar um projeto de pacote OSGi utilizando o arquétipo do Pacote OSGi Maven, o IDE adicionou o artefato  <code>org.osgi.core</code>  como uma dependência por padrão.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto MavenHelloServiceApi na janela Projetos e selecione Propriedades.</p>
</li>
<li>
<p>Selecione a categoria Códigos-fonte na caixa de diálogo Propriedades do Projeto.</p>
</li>
<li>
<p>Defina <strong>Source/Binary Format</strong> como 1.6 e confirme se a <strong>Codificação</strong> é UTF-8. Clique em OK.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó Pacotes de Código-fonte e selecione Novo &gt; Interface Java.</p>
</li>
<li>
<p>Digite <strong>Hello</strong> como Nome da Classe.</p>
</li>
<li>
<p>Selecione <strong>com.mycompany.mavenhelloserviceapi</strong> como o Pacote. Clique em Finalizar.</p>
</li>
<li>
<p>Adicione o método  <code>sayHello</code>  a seguir à interface (em negrito) e salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public interface Hello {
    *String sayHello(String name);*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto na janela Projetos e selecione Construir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depois de construir o projeto, se você abrir a janela Arquivos e expandir o nó do projeto, verá que  <code>MavenHelloServiceApi-1.0-SNAPSHOT.jar</code>  foi criado na pasta de  <code>destino</code> .</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-manifest.png" alt="cdi manifest">
</div>
<div class="title">Figure 3. Exibir o conteúdo do JAR compilado na janela Arquivos</div>
</div>
<div class="paragraph">
<p>O  <code>plug-in-do-pacote-maven</code>  trata da geração do arquivo  <code>MANIFEST.MF</code>  ao construir o projeto. Se abrir o arquivo  <code>MANIFEST.MF</code>  no JAR compilado, você verá que o plug-in gerou um cabeçalho de manifesto que declara os pacotes exportados. Para OSGi, todos os pacotes que você deseja que sejam expostos e estejam disponíveis para outros pacotes devem ser listados no elemento  <code>Exportar-Pacote</code>  no  <code>MANIFEST.MF</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirme se o  <code>MANIFEST.MF</code>  contém o elemento  <code>Export-Package</code>  (o elemento mostrado em <strong>negrito</strong> no exemplo abaixo).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Manifest-Version: 1.0
Bnd-LastModified: 1395049732676
Build-Jdk: 1.7.0_45
Built-By: nb
Bundle-Activator: com.mycompany.mavenhelloserviceapi.Activator
Bundle-ManifestVersion: 2
Bundle-Name: MavenHelloServiceApi OSGi Bundle
Bundle-SymbolicName: com.mycompany.MavenHelloServiceApi
Bundle-Version: 1.0.0.SNAPSHOT
Created-By: Apache Maven Bundle Plugin
*Export-Package: com.mycompany.mavenhelloserviceapi;uses:="org.osgi.frame
 work";version="1.0.0.SNAPSHOT"*
Import-Package: org.osgi.framework;version="[1.6,2)"
Tool: Bnd-1.50.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>O contêiner OSGi lerá o cabeçalho do manifesto  <code>Exportar-Pacote</code>  para determinar as classes no pacote que podem ser acessadas de fora do pacote. Nesse exemplo, as classes no pacote  <code>com.mycompany.mavenhelloserviceapi</code>  estão expostas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Se o  <code> MANIFEST.MF</code>  não contiver o elemento  <code> Export-Package</code> , você precisará ativar o procedimento do plug-in default para o plug-in na janela Propriedades do Projeto e reconstruir o projeto. Na janela Propriedades do Projeto, selecione a categoria Exportar Pacotes e selecione a opção <strong>Default maven-bundle-plugin behavior</strong>. Você pode usar o painel Exportar Pacotes da janela Propriedades do Projeto para especificar explicitamente os pacotes que deverão ser expostos ou especificar os pacotes diretamente em  <code>pom.xml.</code> .
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_criando_o_pacote_de_implementação_mavenhelloserviceimpl">Criando o Pacote de Implementação MavenHelloServiceImpl</h3>
<div class="paragraph">
<p>Neste exercício, você criará o MavenHelloServiceImpl no projeto POM.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selecione Arquivo &gt; Novo Projeto para abrir o assistente de Novo Projeto.</p>
</li>
<li>
<p>Selecione o Pacote OSGi na categoria Maven. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>MavenHelloServiceImpl</strong> como Nome do Projeto.</p>
</li>
<li>
<p>Clique em Procurar e selecione o projeto POM <strong>MavenOSGiCDIProject</strong> como o Local (caso não esteja selecionado). Clique em Finalizar.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó do projeto na janela Projetos e escolha Propriedades.</p>
</li>
<li>
<p>Selecione a categoria Códigos-fonte na caixa de diálogo Propriedades do Projeto.</p>
</li>
<li>
<p>Defina <strong>Source/Binary Format</strong> como 1.6 e confirme se a <strong>Codificação</strong> é UTF-8. Clique em OK.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó Pacotes de Código-fonte na janela Projetos e selecione Novo &gt; Classe Java.</p>
</li>
<li>
<p>Digite <strong>HelloImpl</strong> para o Nome da Classe.</p>
</li>
<li>
<p>Selecione <strong>com.mycompany.mavenhelloserviceimpl</strong> como o Pacote. Clique em Finalizar.</p>
</li>
<li>
<p>Digite o seguinte (em negrito) e salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class HelloImpl *implements Hello {

    public String sayHello(String name) {
        return "Hello " + name;*
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando você implementar  <code>Hello</code> , o IDE exibirá um erro que deverá ser resolvido adicionando o projeto MavenHelloServiceApi como uma dependência.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó Dependências do <strong>MavenHelloServiceImpl</strong> na janela Projetos e selecione Adicionar Dependência.</p>
</li>
<li>
<p>Clique na guia Abrir Projetos na caixa de diálogo Adicionar Biblioteca.</p>
</li>
<li>
<p>Selecione o Pacote OSGi MavenHelloServiceApi. Clique em Add.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-add-dependency.png" alt="cdi add dependency">
</div>
<div class="title">Figure 4. Clique na guia Abrir Projetos na caixa de diálogo Adicionar Biblioteca.</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse na classe  <code>HelloImpl.java</code>  que está aberta no editor e selecione Corrigir Importações (Alt-Shift-I; ⌘-Shift-I no Mac) para adicionar uma instrução de importação para  <code>com.mycompany.mavenhelloserviceapi.Hello</code> . Salve as alterações.</p>
</li>
<li>
<p>Expanda o pacote  <code>com.mycompany.mavenhelloserviceimpl</code>  e clique duas vezes em  <code>Activator.java</code>  para abrir o arquivo no editor.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-activator.png" alt="cdi activator">
</div>
<div class="title">Figure 5. Classe do ativador na janela Projetos</div>
</div>
<div class="paragraph">
<p>O IDE criou automaticamente a classe ativadora do pacote  <code>Activator.java</code>  em seu projeto. Um ativador de pacote é utilizado para gerenciar o ciclo de vida de um pacote. A classe do ativador de pacote é declarada no  <code>MANIFEST.MF</code>  do pacote e é instanciada quando o pacote é iniciado pelo contêiner.</p>
</div>
<div class="paragraph">
<p>Um pacote OSGi não requer uma classe de ativador de pacote, mas é possível utilizar o método  <code>start()</code>  na classe do ativador, por exemplo, para inicializar serviços ou outros recursos necessários para o pacote. Neste exercício, você adicionará algumas linhas de código à classe que imprimirá mensagens na janela de Saída. Isso facilitará a identificação de quando um pacote é iniciado e parado.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifique os métodos  <code>start()</code>  e  <code>stop()</code>  na classe do ativador do pacote para adicionar as linhas a seguir (em negrito).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Activator implements BundleActivator {

    public void start(BundleContext context) throws Exception {
        *System.out.println("HelloActivator::start");
        context.registerService(Hello.class.getName(), new HelloImpl(), null);
        System.out.println("HelloActivator::registration of Hello service successful");*
    }

    public void stop(BundleContext context) throws Exception {
        *context.ungetService(context.getServiceReference(Hello.class.getName()));
        System.out.println("HelloActivator stopped");*
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Você pode ver que a classe do ativador de pacotes importa  <code>org.osgi.framework.BundleActivator</code>  e  <code>org.osgi.framework.BundleContext</code> . Por default, a classe gerada contém dois métodos:  <code>start()</code>  e  <code>stop()</code> . O framework do OSGi invoca os métodos  <code>start()</code>  e  <code>stop()</code>  para iniciar e parar a funcionalidade fornecida pelo pacote. Quando o pacote é iniciado, o componente de serviço fornecido pelo pacote é registrado no registro de serviço do OSGi. Depois que um pacote é registrado, outros pacotes poderão utilizar o registro para pesquisa e, em seguida, utilizar os serviços ativos por meio do contexto do pacote.</p>
</div>
<div class="paragraph">
<p>Ao olhar o POM do projeto, você verá o elemento  <code>&lt;Bundle-Activator&gt;</code>  que especifica o ativador do pacote sob o elemento de configuração do  <code>plug-in-do-pacote-maven</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.3.7&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;configuration&gt;
            &lt;instructions&gt;
                  *&lt;Bundle-Activator&gt;com.mycompany.mavenhelloserviceimpl.Activator&lt;/Bundle-Activator&gt;*
            &lt;/instructions&gt;
      &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando você construir o pacote, o plug-in gerará um Cabeçalho de Manifesto no arquivo de manifesto do pacote no JAR e especificará a classe do Ativador do Pacote. O runtime do OSGi procura pelo cabeçalho  <code>Bundle-Activator</code>  no arquivo do manifesto quando um pacote é implantado.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Corrija as instruções de importação em  <code>Activator.java</code>  para importar  <code>com.mycompany.mavenhelloserviceapi.Hello</code> . Salve as alterações.</p>
</li>
<li>
<p>Expanda o nó Dependências e confirme se o artefato  <code>org.osgi.core</code>  é listado como uma dependência.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remova todas as versões mais antigas do artefato que são listadas no nó Dependências, clicando com o botão direito do mouse no artefato e escolhendo Remover Dependência. As únicas dependências devem ser o projeto MavenHelloServiceApi e o artefato  <code>org.osgi.core</code> .
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-implproject.png" alt="cdi implproject">
</div>
<div class="title">Figure 6. Classe do ativador na janela Projetos</div>
</div>
</div>
<div class="sect2">
<h3 id="_construindo_e_implantando_os_pacotes_osgi">Construindo e Implantando os Pacotes OSGi</h3>
<div class="paragraph">
<p>Neste exercício, você construirá os pacotes OSGi e implantará os pacotes no GlassFish.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó MavenOSGiCDIProject na janela Projetos e selecione Limpar e Construir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você construir o projeto, o IDE criará os arquivos JAR na pasta de  <code>destino</code>  de cada um dos projetos e também instalará o JAR de snapshot no repositório local. Na janela Arquivos, você pode expandir a pasta de  <code>destino</code>  para cada um dos dois projetos de pacotes e ver os dois arquivos compactados JAR ( <code>MavenHelloServiceApi-1.0-SNAPSHOT.jar</code>  e  <code>MavenHelloServiceImpl-1.0-SNAPSHOT.jar</code> ).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inicie o GlassFish Server, se ainda não o tiver feito.</p>
</li>
<li>
<p>Copie o  <code>MavenHelloServiceApi-1.0-SNAPSHOT.jar</code>  para o diretório  <code>glassfish/domains/domain1/autodeploy/bundles/</code>  da instalação do GlassFish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>No log do GlassFish Server, na janela de Saída, você deverá ver uma saída semelhante à mostrada a seguir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Started bundle: file:/glassfish-4.0/glassfish/domains/domain1/autodeploy/bundles/MavenHelloServiceApi-1.0-SNAPSHOT.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clique com o botão direito do mouse no nó do GlassFish Server na janela Serviços e selecione Exibir Log do Servidor de Domínio, se o log do servidor não estiver visível na janela de Saída.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Repita as etapas para copiar o  <code>MavenHelloServiceImpl-1.0-SNAPSHOT.jar</code>  no diretório  <code>autodeploy/bundles</code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>No log do GlassFish Server, você agora deverá ver uma saída semelhante à mostrada a seguir.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: HelloActivator::start
INFO: HelloActivator::registration of Hello service successful
INFO: Started bundle: file:/glassfish-4.0/glassfish/domains/domain1/autodeploy/bundles/MavenHelloServiceImpl-1.0-SNAPSHOT.jar
INFO: Started bundle: file:/glassfish-4.0/glassfish/domains/domain1/autodeploy/bundles/MavenHelloServiceImpl-1.0-SNAPSHOT.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ou então, é possível instalar os pacotes a partir da Console de Admin OSGi do GlassFish. Para obter mais informações, consulte a seção <a href="#Exercise_4">Instalando e Usando a Console de Admin OSGi</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_uma_aplicação_cliente_web">Criando uma Aplicação Cliente Web</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta seção demonstra como criar um cliente Web Java EE que acessa o serviço fornecido pelo pacote OSGi. Você criará um servlet simples em uma aplicação Web e, em seguida, injetará os serviços declarados. Antes de criar o projeto, você adicionará alguns elementos de gerenciamento de dependências ao projeto POM pai.</p>
</div>
<div class="sect2">
<h3 id="_configurando_dependências_no_projeto_pom_pai">Configurando dependências no Projeto POM Pai</h3>
<div class="paragraph">
<p>Neste exercício, você especificará elementos de dependência no projeto POM pai. Você também adicionará um repositório para artefatos que serão utilizados no projeto.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Expanda o nó Arquivos do Projeto do projeto <strong>MavenOSGiCDIProject</strong> na janela Projetos e clique duas vezes em  <code>pom.xml</code>  para abrir o arquivo no editor.</p>
</li>
<li>
<p>Modifique o  <code>pom.xml</code>  pai para adicionar os seguintes elementos de Gerenciamento de Dependências (em negrito). Salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenOSGiCDIProject&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

    ...

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.osgi&lt;/groupId&gt;
                &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;
                &lt;version&gt;4.3.0&lt;/version&gt;
                &lt;scope&gt;provided&lt;/scope&gt;
            &lt;/dependency&gt;
            *&lt;dependency&gt;
                &lt;groupId&gt;org.osgi&lt;/groupId&gt;
                &lt;artifactId&gt;org.osgi.compendium&lt;/artifactId&gt;
                &lt;version&gt;4.2.0&lt;/version&gt;
                &lt;scope&gt;provided&lt;/scope&gt;
            &lt;/dependency&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.glassfish&lt;/groupId&gt;
                &lt;artifactId&gt;osgi-cdi-api&lt;/artifactId&gt;
                &lt;version&gt;3.1-b41&lt;/version&gt;
                &lt;type&gt;jar&lt;/type&gt;
                &lt;scope&gt;provided&lt;/scope&gt;
            &lt;/dependency&gt;*

        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    ...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione os elementos a seguir para adicionar o repositório do GlassFish ao POM. Salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;project&gt;

    ...

    &lt;/dependencyManagement&gt;

    *&lt;repositories&gt;
        &lt;!-- glassfish nexus repo for glassfish dependencies --&gt;
        &lt;repository&gt;
            &lt;id&gt;glassfish-repo-archive&lt;/id&gt;
            &lt;name&gt;Nexus repository collection for Glassfish&lt;/name&gt;
            &lt;url&gt;http://maven.glassfish.org/content/groups/glassfish&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;*
    &lt;modules&gt;
        &lt;module&gt;MavenHelloServiceApi&lt;/module&gt;
        &lt;module&gt;MavenHelloServiceImpl&lt;/module&gt;
    &lt;/modules&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depois de adicionar o repositório do GlassFish ao POM, se você exibir a lista de repositórios no nó Repositórios Maven na janela Serviços, verá que o IDE adicionou automaticamente um nó para o repositório do GlassFish. Por default, o IDE exibe um nó para o repositório Maven Local. Quando um projeto aberto especifica um repositório, o IDE automaticamente adiciona um nó ao repositório no nó Repositórios Maven.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-maven-repositories.png" alt="cdi maven repositories">
</div>
<div class="title">Figure 7. Repositório do GlassFish na janela Repositórios Maven</div>
</div>
<div class="paragraph">
<p>Neste exercício, você adicionou artefatos extras e versões de artefatos que serão utilizados no projeto. Você também adicionou o repositório do GlassFish que contém os artefatos  <code>osgi-cdi-api</code> .</p>
</div>
</div>
<div class="sect2">
<h3 id="_criando_a_aplicação_web_mavenhellowebclient">Criando a Aplicação Web MavenHelloWebClient</h3>
<div class="paragraph">
<p>Primeiro, você criará uma aplicação Web regular e, em seguida, modificará o projeto para torná-lo um pacote OSGi (Pacote de Aplicação Web (WAB)).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha Arquivo &gt; Novo Projeto no menu principal.</p>
</li>
<li>
<p>Selecione Aplicação Web na categoria Maven. Clique em Próximo.</p>
</li>
<li>
<p>Digite <strong>MavenHelloWebClient</strong> como nome do Projeto.</p>
</li>
<li>
<p>Clique em Procurar e selecione o projeto POM <strong>MavenOSGiCDIProject</strong> como o Local (caso não esteja selecionado). Clique em Próximo.</p>
</li>
<li>
<p>Selecione o GlassFish Server como servidor e o Java EE 6 ou Java EE 7 como a versão do Java EE. Clique em Finalizar.</p>
</li>
<li>
<p>Clique com o botão direito do mouse no nó do projeto e selecione Novo &gt; Servlet.</p>
</li>
<li>
<p>Digite <strong>HelloServlet</strong> no Nome da Classe.</p>
</li>
<li>
<p>Selecione  <code>com.mycompany.mavenhellowebclient</code>  como o Pacote. Clique em Finalizar.</p>
</li>
<li>
<p>Delete os métodos default no servlet que foram gerados pelo IDE ( <code>processRequest</code> ,  <code>doGet</code> ,  <code>doPost</code> ,  <code>getServletInfo</code> ).</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Você precisará expandir a pasta do editor para deletar os métodos do HttpServlet.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Digite o código a seguir (em negrito) para injetar o serviço.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@WebServlet(name = "HelloServlet", urlPatterns = {"/HelloServlet"})
public class HelloServlet extends HttpServlet {

    *@Inject
    @OSGiService(dynamic=true)
    Hello hello;*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adicione o método  <code>doGet</code>  a seguir.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        PrintWriter out = response.getWriter();
        out.println(hello.sayHello("Duke"));
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e selecione Novo &gt; Outro.</p>
</li>
<li>
<p>Selecione <strong>beans.xml</strong> na categoria Contextos e Injeção de Dependências. Clique em Próximo.</p>
</li>
<li>
<p>Use o nome de arquivo default ( <code>beans</code> ). Clique em Finalizar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Finalizar, o assistente criará o arquivo  <code>beans.xml</code>  na aplicação Web. O CDI será automaticamente ativado se o  <code>beans.xml</code>  for parte da aplicação.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifique o arquivo  <code>beans.xml</code>  para alterar o valor padrão de  <code>bean-discovery-mode</code>  para  <code>all</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">bean-discovery-mode="*all*"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Salve suas alterações e feche o arquivo.</p>
</div>
<div class="paragraph">
<p>Para obter mais informações sobre as diferenças entre os valores  <code>bean-discovery-mode</code> , consulte as seguintes páginas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://docs.oracle.com/javaee/7/tutorial/doc/cdi-adv001.htm">25.1 Encapsulando Aplicações CDI</a> no Tutorial do Java EE 7</p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/18107858/cdi-inject-fails-on-maven-embedded-glassfish-plugin-org-jboss-weld-exceptions">http://stackoverflow.com/questions/18107858/cdi-inject-fails-on-maven-embedded-glassfish-plugin-org-jboss-weld-exceptions</a></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó Dependências do MavenHelloWebClient na janela Projetos e selecione Adicionar Dependência.</p>
</li>
<li>
<p>Selecione <strong>Provided</strong> como o Escopo.</p>
</li>
<li>
<p>Clique na guia Abrir Projetos na caixa de diálogo Adicionar Biblioteca e selecione <strong>Pacote OSGi MavenHelloServiceApi</strong>. Clique em Add.</p>
</li>
<li>
<p>Clique novamente com o botão direito do mouse no nó Dependências e selecione Adicionar Dependência.</p>
</li>
<li>
<p>Clique na guia Gerenciamento de Dependências na caixa de diálogo Adicionar Biblioteca e selecione o artefato  <code>osgi-cdi-api</code>  que você especificou no projeto POM pai. Clique em Add.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-add-dependency3.png" alt="cdi add dependency3">
</div>
<div class="title">Figure 8. Guia de Gerenciamento de Dependências na caixa de diálogo Adicionar Biblioteca</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse em  <code>HelloServlet.java</code>  no editor e selecione Corrigir Importações (Alt-Shift-I; ⌘-Shift-I no Mac) para adicionar  <code>com.mycompany.mavenhelloserviceapi.Hello</code> ,  <code>javax.inject.Inject</code>  e  <code>org.glassfish.osgicdi.OSGiService</code> . Salve as alterações.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pode ser preciso adicionar manualmente uma instrução de importação para o  <code>com.mycompany.mavenhelloserviceapi.hello</code>  se o IDE não adicionar automaticamente para você.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse em MavenOSGiCDIProject e selecione Limpar e Construir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ao construir o projeto, na janela de Saída, você deverá ver uma saída semelhante à seguinte.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Reactor Summary:

MavenOSGiCDIProject ............................... SUCCESS [0.798s]
MavenHelloServiceApi OSGi Bundle .................. SUCCESS [7.580s]
MavenHelloServiceImpl OSGi Bundle ................. SUCCESS [1.142s]
MavenHelloWebClient ............................... SUCCESS [8.072s]
------------------------------------------------------------------------
BUILD SUCCESS</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Crie a aplicação web manualmente se ela não for criada automaticamente quando você criar o projeto MavenOSGiCDIProject.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Na janela Arquivos, expanda o nó do projeto para a aplicação Web e confirme se o arquivo compactado  <code>MavenHelloWebClient-1.0-SNAPSHOT.war</code>  foi criado no diretório de destino. Se você expandir o arquivo compactado WAR do cliente Web e examinar o  <code>MANIFEST.MF</code> , verá que o manifesto contém linhas similares às seguintes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Manifest-Version: 1.0
Archiver-Version: Plexus Archiver
Created-By: Apache Maven
Built-By: nb
Build-Jdk: 1.7.0_45</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_construindo_a_aplicação_web_como_um_pacote_osgi">Construindo a aplicação Web como um Pacote OSGi</h3>
<div class="paragraph">
<p>Para usar o  <code>@OSGiService</code>  e recuperar pacotes OSGi registrados, é preciso tornar a aplicação Web um pacote que possa acessar o  <code>BundleContext</code> . Para tornar o WAR um pacote OSGi (Pacote de Aplicação Web), adicione os metadados  <code>Web-ContextPath</code>  ao  <code>MANIFEST.MF</code>  no WAR.  Para tanto, especifique o elemento  <code>&lt;Web-ContextPath&gt;</code>  nas instruções do  <code>maven-bundle-plugin</code>  e o manifesto gerado pelo plug-in conterá o elemento. Em seguida, você modificará a configuração do  <code>maven-war-plugin</code>  para instruir o plug-in a adicionar o manifesto que foi gerado pelo  <code>plug-in-do-pacote-maven</code>  ao arquivo compactado WAR.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Na janela Projetos, expanda o nó dos Arquivos de Projeto sob o MavenHelloWebCliente clique duas vezes em  <code>pom.xml</code>  para abrir o arquivo no editor.</p>
</li>
<li>
<p>Adicione a seguinte entrada para adicionar o  <code>plug-in-do-pacote-maven</code>  ao POM.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        *&lt;plugin&gt;
             &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
             &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;
             &lt;version&gt;2.2.0&lt;/version&gt;
             &lt;extensions&gt;true&lt;/extensions&gt;
             &lt;configuration&gt;
                 &lt;supportedProjectTypes&gt;
                     &lt;supportedProjectType&gt;ejb&lt;/supportedProjectType&gt;
                     &lt;supportedProjectType&gt;war&lt;/supportedProjectType&gt;
                     &lt;supportedProjectType&gt;bundle&lt;/supportedProjectType&gt;
                     &lt;supportedProjectType&gt;jar&lt;/supportedProjectType&gt;
                 &lt;/supportedProjectTypes&gt;
                 &lt;instructions&gt;
                     &lt;!-- Specify elements to add to MANIFEST.MF --&gt;
                     &lt;Web-ContextPath&gt;/mavenhellowebclient&lt;/Web-ContextPath&gt;
                     &lt;!-- By default, nothing is exported --&gt;
                     &lt;Export-Package&gt;!*.impl.*, *&lt;/Export-Package&gt;
                 &lt;/instructions&gt;
             &lt;/configuration&gt;
             &lt;executions&gt;
                 &lt;execution&gt;
                     &lt;id&gt;bundle-manifest&lt;/id&gt;
                     &lt;phase&gt;process-classes&lt;/phase&gt;
                     &lt;goals&gt;
                         &lt;goal&gt;manifest&lt;/goal&gt;
                     &lt;/goals&gt;
                 &lt;/execution&gt;
                 &lt;execution&gt;
                     &lt;id&gt;bundle-install&lt;/id&gt;
                     &lt;phase&gt;install&lt;/phase&gt;
                     &lt;goals&gt;
                         &lt;goal&gt;install&lt;/goal&gt;
                     &lt;/goals&gt;
                 &lt;/execution&gt;
             &lt;/executions&gt;
         &lt;/plugin&gt;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modifique os elementos de configuração do  <code>maven-war-plugin</code>  para adicionar informações do pacote ao  <code>MANIFEST.MF</code> . Salve as alterações.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml"> &lt;plugin&gt;
     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
     &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
     &lt;version&gt;2.3&lt;/version&gt;
     &lt;configuration&gt;
         *&lt;archive&gt;
             &lt;!-- add bundle plugin generated manifest to the war --&gt;
             &lt;manifestFile&gt;
                 ${project.build.outputDirectory}/META-INF/MANIFEST.MF
             &lt;/manifestFile&gt;
             &lt;!-- For some reason, adding Bundle-ClassPath in maven-bundle-plugin
             confuses that plugin and it generates wrong Import-Package, etc.
             So, we generate it here.--&gt;
             &lt;manifestEntries&gt;
                 &lt;Bundle-ClassPath&gt;WEB-INF/classes/&lt;/Bundle-ClassPath&gt;
             &lt;/manifestEntries&gt;
         &lt;/archive&gt;*
         &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
     &lt;/configuration&gt;
 &lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique com o botão direito do mouse no nó do projeto MavenHelloWebClient na janela Projetos e selecione Limpar e Construir.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ao expandir o arquivo compactado WAR e abrir o  <code>MANIFEST.MF</code>  no editor, você verá que o  <code>MANIFEST.MF</code>  contém informações adicionais, incluindo a entrada  <code>Web-ContextPath: /mavenhellowebclient</code>  especificada na configuração  <code>maven-bundle-plugin</code>  e entradas de nome de pacote.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Manifest-Version: 1.0
Export-Package: com.mycompany.mavenhellowebclient;uses:="com.mycompany
 .mavenhelloserviceapi,javax.servlet,org.glassfish.osgicdi,javax.injec
 t,javax.servlet.annotation,javax.servlet.http";version="1.0.0.SNAPSHO
 T"
Bundle-ClassPath: WEB-INF/classes/
Built-By: nb
Tool: Bnd-1.50.0
Bundle-Name: MavenHelloWebClient
Created-By: Apache Maven Bundle Plugin
*Web-ContextPath: /mavenhellowebclient*
Build-Jdk: 1.7.0_45
Bundle-Version: 1.0.0.SNAPSHOT
Bnd-LastModified: 1395053424008
Bundle-ManifestVersion: 2
Import-Package: com.mycompany.mavenhelloserviceapi;version="[1.0,2)",j
 avax.inject,javax.servlet,javax.servlet.annotation,javax.servlet.http
 ,org.glassfish.osgicdi;version="[1.0,2)"
Bundle-SymbolicName: com.mycompany.MavenHelloWebClient
Archiver-Version: Plexus Archiver</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para obter mais informações sobre como construir aplicações Web como pacotes OSGi, consulte as páginas seguintes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://weblogs.java.net/blog/2009/06/04/osgi-enabled-web-applications-inglassfish">+ http://weblogs.java.net/blog/2009/06/04/osgi-enabled-web-applications-inglassfish+</a></p>
</li>
<li>
<p><a href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html">+ http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html+</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_implantando_o_pacote_de_aplicação_web">Implantando o Pacote de Aplicação Web</h3>
<div class="paragraph">
<p>Neste exercício, você copiará o pacote da aplicação Web para a pasta  <code>implantação automática/pacotes</code>  na instalação do GlassFish.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navegue até o diretório de  <code>destino</code>  que contém o  <code>MavenHelloWebClient-1.0-SNAPSHOT.war</code> .</p>
</li>
<li>
<p>Copie o  <code>MavenHelloWebClient-1.0-SNAPSHOT.war</code>  na pasta <code>implantação automática/pacotes</code>  da instalação do GlassFish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você copiar o arquivo compactado WAR para o diretório, um resultado semelhante ao mostrado a seguir será exibido no log do GlassFish Server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Started bundle: file:/glassfish-3.1.1/glassfish/domains/domain1/autodeploy/bundles/MavenHelloWebClient-1.0-SNAPSHOT.war
...
INFO: ---- Injection requested for framework service type interface com.mycompany.mavenhelloserviceapi.Hello and annotated with dynamic=true, serviceCriteria=
INFO: WEB0671: Loading application [com.mycompany.MavenHelloWebClient_1.0.0.SNAPSHOT] at [/mavenhellowebclient]
INFO: Registered ServletContext as a service with properties: {osgi.web.symbolicname=com.mycompany.MavenHelloWebClient, osgi.web.version=1.0.0.SNAPSHOT, osgi.web.contextpath=/mavenhellowebclient}</code></pre>
</div>
</div>
<div class="paragraph">
<p>É possível exibir o servlet no browser clicando no link a seguir <a href="http://localhost:8080/mavenhellowebclient/HelloServlet">http://localhost:8080/mavenhellowebclient/HelloServlet</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instalando_e_usando_a_console_de_admnin_do_osgi">Instalando e Usando a Console de Admnin do OSGI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Você pode usar a Console de Admin do OSGi GlassFish para instalar, iniciar e parar os pacotes do OSGi implantados no servidor. Neste exercício, você ativará a Console de Admin do OSGi GlassFish e, em seguida, exibirá a lista de pacotes OSGi registrados.</p>
</div>
<div class="paragraph">
<p>Realize as etapas a seguir para instalar os add-ons do GlassFish necessários para a ativação da Console do OSGi e para exibir os pacotes na Console de Admin do Domínio do GlassFish.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra a Console de Admin do Domínio do GlassFish no browser.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Clique com o botão direito do mouse no nó do GlassFish server na janela Serviços e selecione Exibir Console de Admin de Domínio.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clique na Ferramenta de Atualização na coluna de navegação esquerda.</p>
</li>
<li>
<p>Selecione  <code>glassfish-osgi-gui</code>  na lista de add-ons disponíveis.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Clique em Instalar e aceite a licença.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-glassfish-addons.png" alt="cdi glassfish addons">
</div>
<div class="title">Figure 9. Ferramenta de Atualização da Console de Admin do GlassFish</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reinicie o GlassFish Server.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Importante:</strong> se você estiver executando GlassFish Server 3.1.2.2 você precisará modificar o arquivo  <code>osgi.properties</code>  localizado no diretório  <code><em>GLASSFISH-INSTALL</em>/glassfish/config/</code>  e definir o valor da propriedade  <code>org.osgi.framework.startlevel.beginning</code>  como "2" ( <code>org.osgi.framework.startlevel.beginning=2</code> ).
Consulte o seguinte fórum para obter mais detalhes:
<a href="http://www.java.net/forum/topic/glassfish/glassfish/cannot-start-web-console-glassfish-version-3122">Não é possível iniciar a console Web no Glassfish versão 3.1.2.2</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Abra a Console de Admin novamente e clique em <strong>servidor (Servidor de Admin)</strong> na coluna de navegação esquerda.</p>
</li>
<li>
<p>Clique na guia da Console do OSGi para exibir uma lista de pacotes OSGi implantados.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-glassfish-console.png" alt="cdi glassfish console">
</div>
<div class="title">Figure 10. Guia de Gerenciamento de Dependências na caixa de diálogo Adicionar Biblioteca</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Você poderá ser solicitado a informar o nome de usuário e a senha para exibir a lista de pacotes OSGi. Confirme se a caixa de diálogo de autorização não está oculta se você não vir uma lista de pacotes na guia Console do OSGi. O nome de usuário padrão do servidor GlassFish 4 é  <code>admin</code>  se você instalou o servidor quando instalou o IDE. A senha fica vazia por padrão.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>É possível rolar a lista para baixo para exibir os status dos pacotes OSGi registrados, além de iniciar e parar os pacotes individuais. Se a lista for ordenada por Id (maior para menor), você verá que os três pacotes que foram implantados serão exibidos perto do topo da lista.</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Using%20CDI%20to%20Inject%20OSGi%20Bundles%20as%20Services">Enviar Feedback neste Tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte Também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter mais informações sobre o uso do NetBeans IDE e Maven para desenvolver pacotes OSGi, consulte os seguintes recursos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/OSGiAndNetBeans">OSGi And NetBeans at wiki.netbeans.org</a></p>
</li>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">Melhores Práticas para o Apache Maven no NetBeans IDE</a></p>
</li>
<li>
<p><a href="https://blogs.oracle.com/arungupta/entry/totd_125_creating_an_osgi">TOTD #125: Criando um pacote OSGi utilizando o NetBeans e implantando no GlassFish</a></p>
</li>
<li>
<p><a href="../../trails/java-ee.html">Trilha de Aprendizado do Java EE e Java Web</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para enviar comentários e sugestões, obter suporte e se manter informado sobre os mais recentes desenvolvimentos das funcionalidades de desenvolvimento do Java EE do NetBeans IDE, <a href="../../../community/lists/top.html">inscreva-se na lista de correspondência de nbj2ee</a>.</p>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/maven-osgiservice-cdi_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
