
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 CDI 中的事件</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="使用 CDI 中的事件 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 使用 CDI 中的事件">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.3</h1>
            <p><a class="button success" href="/download/nb123/nb123.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">使用 CDI 中的事件</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_zh_CN.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_上下文和依赖关系注入">上下文和依赖关系注入</a></li>
<li><a href="#event">使用事件</a></li>
<li><a href="#scopes">处理范围</a></li>
<li><a href="#seealso">另请参见</a>
<ul class="sectlevel2">
<li><a href="#_netbeans_资源">NetBeans 资源</a></li>
<li><a href="#_外部资源">外部资源</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>撰稿人：Andy Gibson</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_上下文和依赖关系注入">上下文和依赖关系注入</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="cdi-intro.html">CDI 和 JSF 2.0 入门指南</a></p>
</li>
<li>
<p><a href="cdi-inject.html">使用 CDI 中的注入和限定符</a></p>
</li>
<li>
<p><a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a></p>
</li>
<li>
<p><strong>使用 CDI 中的事件</strong></p>
<div class="ulist">
<ul>
<li>
<p><a href="#event">使用事件</a></p>
</li>
<li>
<p><a href="#scopes">处理范围</a></p>
</li>
<li>
<p><a href="#seealso">另请参见</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR-299</a> 指定的上下文和依赖关系注入 (CDI) 是 Java EE 6 的一个组成部分，提供了一个体系结构，以允许 Java EE 组件（例如 Servlet、企业 Bean 和 JavaBeans）在具有明确定义范围的应用程序生命周期内存在。此外，CDI 服务允许 Java EE 组件（例如 EJB 会话 Bean 和 JavaServer Faces (JSF) 受管 Bean）注入并通过触发和观察事件以松散耦合的方式进行交互。</p>
</div>
<div class="paragraph">
<p>本教程基于 Andy Gibson 发布的博客，标题为：<a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">CDI 入门指南，第 3 部分 - 事件</a>。它演示了如何利用 Java EE <em>事件_的概念，即用一种维护生成器和观察器之间的分离代码的方式，来产生和订阅（即_观察</em>）在应用程序中发生的事件。使用 <code>javax.enterprise.event.Event</code> 类创建事件，并使用 CDI 的 <code>@Observes</code> 标注订阅事件。</p>
</div>
<div class="paragraph">
<p>NetBeans IDE 为上下文和依赖关系注入提供了内置支持，包括在项目创建时构建 <code>beans.xml</code> CDI 配置文件的选项，为标注提供的编辑器和导航支持，以及用于创建常用 CDI 工件的各种向导。</p>
</div>
<div class="paragraph">
<p>要学完本教程，您需要具备以下软件和资源。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2、7.3、7.4、8.0、Java EE 版本</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://glassfish.dev.java.net/">GlassFish Server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source Edition 3.x 或 4.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemo3.zip">cdiDemo3.zip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>NetBeans IDE Java EE 包中还含 GlassFish Server Open Source Edition，后者是与 Java EE 兼容的容器。</p>
</li>
<li>
<p>可以下载本教程的解决方案样例项目：<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemoComplete.zip">cdiDemoComplete.zip</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event">使用事件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在上一教程<a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a>中，我们有一个应用程序，可以获取各项的列表、对各项进行验证并在发现无效项时采取特定操作。假定将来我们要展开系统以在发现无效项时处理发生的所有情况。这可能包括发送电子邮件、更改其他数据（例如取消订单）、或在文件或数据库表中存储拒绝列表。要完全分离实现，我们可以使用 Java EE 中的_事件_。事件由事件_生成器_发出，并由事件_观察器_订阅。与大多数 CDI 一样，事件的创建和订阅是类型安全的，且允许限定符决定观察器将观察哪些事件。</p>
</div>
<div class="paragraph">
<p>使用我们在本系列的上一教程中构建的应用程序，不需要进行任何更改即可实现此功能。我们还提供了 <code>ItemErrorHandler</code>（在<a href="cdi-validate.html">上一教程</a>中创建）的另一个实现，可以在每次处理项时发出事件。我们将此类命名为 <code>EventItemHandler</code>，将其注入 <code>ItemProcessor</code>，并使用 <code>Notify</code> 限定符选择它进行注入。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-diagram-events.png" alt="cdi diagram events">
</div>
<div class="title">Figure 1. 在应用程序中使用 CDI 注入对类进行松散耦合</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>首先，从 <code>cdiDemo3.zip</code> 文件提取样例启动项目（请参见上面的<a href="#requiredSoftware">所需资源列表</a>）。在 IDE 中打开项目，方法是选择 "File"（文件）&gt; "Open Project"（打开项目）（Ctrl-Shift-O 组合键；在 Mac 上为 ⌘-Shift-O 组合键），然后从计算机上的相应位置选择该项目。</p>
</li>
<li>
<p>创建一个类，名为 <code>EventItemHandler</code>。单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</li>
<li>
<p>选择 "Java" 类别，然后选择 "Java Class"（Java 类）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>EventItemHandler</strong> 作为类名，然后输入 <strong>exercise4</strong> 作为包。</p>
</li>
<li>
<p>单击 "Finish"（完成）。新类和包生成，并在编辑器中打开此类。</p>
</li>
<li>
<p>按如下方式实现 <strong>EventItemHandler</strong>。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class EventItemHandler *implements ItemErrorHandler* {

    *@Inject
    private Event&lt;Item&gt; itemEvent;

    @Override
    public void handleItem(Item item) {
        System.out.println("Firing Event");
        itemEvent.fire(item);
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>我们会注入 <code>Event</code> 实例，其中事件有效负载为 <code>Item</code>。事件有效负载是指从事件生成器传递到事件观察器的状态数据，在本例中传递的是已拒绝的项。当处理无效项时，我们会引发事件并传入接收的无效项。此基于事件的项处理程序的插入方式与其他任何项处理程序的方式相同，因此我们可以在任何需要的时候将其换入换出，还可以在测试过程中进行替换。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复所有导入。在编辑器中右键单击并选择 "Fix Imports"（修复导入），或者按 Ctrl-Shift-I 组合键（在 Mac 上按 ⌘-Shift-I 组合键）。请务必选择 <code>javax.enterprise.event.Event</code> 作为 <code>Event</code> 类的全限定名称。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/fix-all-imports.png" alt="fix all imports" width="Fix Imports"（修复导入）以调出 "Fix Imports"（修复导入）对话框"">
</div>
<div class="title">Figure 2. 右键单击编辑器，然后选择 </div>
</div>
<div class="paragraph">
<p><span class="tips">在 <code>Event</code> 上按 Ctrl-空格键以查看该类的 Javadoc 定义。另外，还定义了上面使用的 <code>fire()</code> 方法。</span></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/event-javadoc.png" alt="event javadoc">
</div>
<div class="title">Figure 3. 按 Ctrl-空格键可查看有关 API 中类的 Javadoc 文档</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>创建一个限定符，名为 <code>Notify</code>。（<a href="cdi-inject.html">使用 CDI 中的注入和限定符</a>对限定符进行了介绍。）</p>
</li>
<li>
<p>单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</li>
<li>
<p>选择 "Context and Dependency Injection"（上下文和依赖关系注入）类别，然后选择 "Qualifier Type"（限定符类型）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>输入 <strong>Notify</strong> 作为类名，然后输入 <strong>exercise4</strong> 作为包。</p>
</li>
<li>
<p>单击 "Finish"（完成）。新的 <code>Notify</code> 限定符在编辑器中打开。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Qualifier
@Retention(RUNTIME)
@Target({METHOD, FIELD, PARAMETER, TYPE})
public @interface Notify {
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>将 <code>@Notify</code> 标注添加到 <code>EventItemHandler</code>。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*@Notify*
public class EventItemHandler implements ItemErrorHandler {

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>我们创建了一个 <code>@Notify</code> 限定符标注为注入标识此错误处理程序，并可以通过将其添加到注入点以在我们的 <code>ItemProcessor</code> 中使用。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 <code>exercise2.ItemProcessor</code> 中，将 <code>@Notify</code> 标注添加到 <code>EventItemHandler</code> 的注入点。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    @Inject @Demo
    private ItemDao itemDao;

    @Inject
    private ItemValidator itemValidator;

    @Inject *@Notify*
    private ItemErrorHandler itemErrorHandler;

    public void execute() {
        List&lt;Item&gt; items = itemDao.fetchItems();
        for (Item item : items) {
            if (!itemValidator.isValid(item)) {
                itemErrorHandler.handleItem(item);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>（使用编辑器的提示为 <code>exercise4.Notify</code> 添加 import 语句。）</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Run Project"（运行项目）(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) 按钮以运行项目。</p>
</li>
<li>
<p>在浏览器中，单击 <code>Execute</code> 按钮，然后返回至 IDE，并在 "Output"（输出）窗口（Ctrl-4 组合键；在 Mac 上为 ⌘-4 组合键）中查看服务器日志。因为已构建的应用程序目前使用 <code>DefaultItemDao</code> 设置四个 <code>Item</code>，然后在 <code>Item</code> 上应用 <code>RelaxedItemValidator</code>，您会看到 <code>itemErrorHandler</code> 引发两次。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window.png" alt="output window" width="Output"（输出）窗口中的 GlassFish Server 日志"">
</div>
<div class="title">Figure 4. 查看显示在 </div>
</div>
<div class="paragraph">
<p>目前我们还无法观察事件。不过，可以通过使用 <code>@Observes</code> 标注创建 <em>observer</em> 方法来解决此问题。只需执行此操作即可观察事件。为了进行演示，我们可以通过添加调用其 <code>handleItem()</code> 方法的观察器方法来修改 <code>FileErrorReporter</code>（已在<a href="cdi-validate.html">上一教程</a>中创建），以响应引发事件。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>要使我们的 <code>FileErrorReporter</code> 响应事件，请向类中添加以下方法。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class FileErrorReporter implements ItemErrorHandler {

    *public void eventFired(@Observes Item item) {
        handleItem(item);
    }*

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>（使用编辑器的提示为 <code>javax.enterprise.event.Observes</code> 添加 import 语句。）</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>再次运行项目（F6；在 Mac 上为 fn-F6），单击 <code>Execute</code> 按钮，然后返回至 IDE 并检查 "Output"（输出）窗口中的服务器日志。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window2.png" alt="output window2" width="Output"（输出）窗口中的 GlassFish Server 日志"">
</div>
<div class="title">Figure 5. 查看显示在 </div>
</div>
<div class="paragraph">
<p>可以看到，事件与之前一样会在无效对象上引发，但是现在每次引发事件时都将保存项信息。您可能还会注意到，可以观察生命周期事件，因为为每个引发事件创建和关闭了 <code>FileErrorReporter</code> Bean。（有关诸如 <code>@PostConstruct</code> 和 <code>@PreDestroy</code> 等生命周期标注的讨论，请参见<a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a>。）</p>
</div>
<div class="paragraph">
<p>如以上步骤所示，<code>@Observes</code> 标注提供了一种简单的方式来观察事件。</p>
</div>
<div class="paragraph">
<p>还可以使用限定符标注事件和观察器，使观察器仅能够观察一个项的特定事件。有关演示，请参见 <a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">CDI 入门指南，第 3 部分 - 事件</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scopes">处理范围</h2>
<div class="sectionbody">
<div class="paragraph">
<p>就应用程序的现状而言，每次发出事件时都会创建一个 <code>FileErrorReporter</code> Bean。在这种情况下，我们不希望每次都创建新 Bean，因为我们不希望打开和关闭每个项的文件。但是仍然希望在启动进程时打开文件，然后在进程结束以后关闭文件。因此，需要考虑 <code>FileErrorReporter</code> Bean 的_范围_。</p>
</div>
<div class="paragraph">
<p>目前，<code>FileErrorReporter</code> Bean 没有定义范围。当没有定义范围时，CDI 使用默认的伪依赖型范围。实际上，这意味着在非常短的时间范围内创建和销毁 Bean，通常在方法调用期间进行。在当前方案中，Bean 是在引发事件过程中创建和销毁的。要解决此问题，我们可以通过手动添加范围标注来延长 Bean 的范围。我们会将此 Bean 标注为 <code>@RequestScoped</code>，以便在引发第一个事件过程中创建 Bean 时，此 Bean 在请求过程中一直存在。这还意味着，对于限定注入此 Bean 的任何注入点，将注入同一 Bean 实例。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 <code>FileErrorReporter</code> 中为 <code>javax.enterprise.context.RequestScoped</code> 添加 <code>@RequestScope</code> 标注和相应的 import 语句。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*import javax.enterprise.context.RequestScoped;*
...

*@RequestScoped*
public class FileErrorReporter implements ItemErrorHandler { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="tips">键入时按 Ctrl-空格键以调用编辑器的代码完成支持。通过代码完成选择项时，所有关联 import 语句都会自动添加到类中。</span></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/code-completion.png" alt="code completion">
</div>
<div class="title">Figure 6. 在键入时按 Ctrl-空格键可调用代码完成建议</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>再次运行项目（F6；在 Mac 上为 fn-F6），单击 <code>Execute</code> 按钮，然后返回至 IDE 并检查 "Output"（输出）窗口中的服务器日志。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window3.png" alt="output window3" width="Output"（输出）窗口中的 GlassFish Server 日志"">
</div>
<div class="title">Figure 7. 查看显示在 </div>
</div>
<div class="paragraph">
<p>请注意，仅当引发第一个事件时创建 <code>FileErrorReporter</code> Bean，并在引发最后一个事件以后将其关闭。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Firing Event
*INFO: Creating file error reporter*
INFO: Saving exercise2.Item@48ce88f6 [Value=34, Limit=7] to file
INFO: Firing Event
INFO: Saving exercise2.Item@3cae5788 [Value=89, Limit=32] to file
*INFO: Closing file error reporter*</code></pre>
</div>
</div>
<div class="paragraph">
<p>事件是以模块化方式分离系统各部分的极好方法，因为事件观察器和生成器互相之间并不了解，它们也不需要进行任何配置来了解彼此。可以添加订阅事件生成器不知道观察器事件的代码片段。（如果不使用事件，则通常需要手动让事件生成器调用观察器。）例如，如果有人更新了订单状态，则可以添加一个事件，以电子邮件的形式发送给销售代表，或者如果技术支持问题已存在超过一个星期，则通知客户经理。此类规则可以在没有事件的情况下实现，但事件可以简化分离业务逻辑操作。此外，不存在编译时或构建时依赖关系。您只需要将模块添加到应用程序，这些模块便会自动开始观察和创建事件。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20with%20Events%20in%20CDI">发送有关此教程的反馈意见</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关 CDI 和 Java EE 的详细信息，请参见以下资源。</p>
</div>
<div class="sect2">
<h3 id="_netbeans_资源">NetBeans 资源</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cdi-intro.html">上下文和依赖关系注入以及 JSF 2.0 入门指南</a></p>
</li>
<li>
<p><a href="cdi-inject.html">使用 CDI 中的注入和限定符</a></p>
</li>
<li>
<p><a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a></p>
</li>
<li>
<p><a href="javaee-gettingstarted.html">Java EE 应用程序入门指南</a></p>
</li>
<li>
<p><a href="../web/jsf20-intro.html">JavaServer Faces 2.0 简介</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_外部资源">外部资源</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://blogs.oracle.com/enterprisetechtips/entry/using_cdi_and_dependency_injection">企业技术提示：在 JSF 2.0 应用程序中使用面向 Java 的 CDI 和依赖关系注入</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/javaee/6/tutorial/doc/gjbnr.html">Java EE 6 教程第五部分：面向 Java EE 平台的上下文和依赖关系注入</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR 299：上下文和依赖关系注入规范</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=316">JSR 316：Java Platform、Enterprise Edition 6 规范</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_zh_CN.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
