
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>The NetBeans E-commerce Tutorial - Connecting the Application to the Database</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The NetBeans E-commerce Tutorial - Connecting the Application to the Database - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, The NetBeans E-commerce Tutorial - Connecting the Application to the Database">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">The NetBeans E-commerce Tutorial - Connecting the Application to the Database</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/ecommerce/connect-db.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#sampleData">Adding Sample Data to the Database</a>
<ul class="sectlevel2">
<li><a href="#category">category table</a></li>
<li><a href="#product">product table</a></li>
<li><a href="#_netbeans_gui_support_for_database_tables">NetBeans GUI Support for Database Tables</a></li>
</ul>
</li>
<li><a href="#createConnPoolDataSource">Creating a Connection Pool and Data Source</a></li>
<li><a href="#testConnPoolDataSource">Testing the Connection Pool and Data Source</a>
<ul class="sectlevel2">
<li><a href="#ping">Pinging the Connection Pool</a></li>
<li><a href="#resourceReference">Creating a Resource Reference to the Data Source</a></li>
<li><a href="#query">Querying the Database from a JSP Page</a></li>
</ul>
</li>
<li><a href="#param">Setting Context Parameters</a></li>
<li><a href="#jstl">Working with JSTL</a>
<ul class="sectlevel2">
<li><a href="#indexJSTL">index page</a></li>
<li><a href="#categoryJSTL">category page</a></li>
<li><a href="#_examining_implicit_object_values_using_the_ides_debugger">Examining Implicit Object Values using the IDE&#8217;s Debugger</a></li>
</ul>
</li>
<li><a href="#troubleshoot">Troubleshooting</a></li>
<li><a href="#seeAlso">See Also</a>
<ul class="sectlevel2">
<li><a href="#_netbeans_resources">NetBeans Resources</a></li>
<li><a href="#_mysql_resources">MySQL Resources</a></li>
<li><a href="#_jsp_el_resources">JSP &amp; EL Resources</a></li>
<li><a href="#_jstl_resources">JSTL Resources</a></li>
<li><a href="#_technical_articles_reference_cards">Technical Articles &amp; Reference Cards</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial unit focuses on communication between the database and the application. You begin by adding sample data to the database and explore some of the features provided by the IDE&#8217;s SQL editor. You set up a data source and connection pool on the GlassFish server, and proceed by creating a JSP page that tests the data source by performing a simple query on the database.</p>
</div>
<div class="paragraph">
<p>This unit also addresses how the application retrieves and displays images necessary for web presentation, and how to set context parameters and retrieve their values from web pages. Once you are certain the data source is working correctly, you apply JSTL&#8217;s <code>core</code> and <code>sql</code> tag libraries to retrieve and display category and product images for the <a href="design.html#index">index</a> and <a href="design.html#category">category</a> pages.</p>
</div>
<div class="paragraph">
<p>You can view a live demo of the application that you build in this tutorial: <a href="http://services.netbeans.org/AffableBean/">NetBeans E-commerce Tutorial Demo Application</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Software or Resource</th>
<th class="tableblock halign-left valign-top">Version Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../../../download/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java bundle, 6.8 or 6.9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#glassFish">GlassFish server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3 or Open Source Edition 3.0.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.mysql.com/downloads/mysql/">MySQL database server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 5.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot2.zip">AffableBean project</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">snapshot 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252Fimg.zip">website images</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The NetBeans IDE requires the Java Development Kit (JDK) to run properly. If you do not have any of the resources listed above, the JDK should be the first item that you download and install.</p>
</li>
<li>
<p>The NetBeans IDE Java Bundle includes Java Web and EE technologies, which are required for the application you build in this tutorial.</p>
</li>
<li>
<p>The NetBeans IDE Java Bundle also includes the GlassFish server, which you require for this tutorial. You could <a href="http://glassfish.dev.java.net/public/downloadsindex.html">download the GlassFish server independently</a>, but the version provided with the NetBeans download has the added benefit of being automatically registered with the IDE.</p>
</li>
<li>
<p>You can follow this tutorial unit without having completed previous units. To do so, perform the following three steps:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Set up your MySQL database server.</strong> Follow the steps outlined in: <a href="setup-dev-environ.html#communicate">Communicating with the Database Server</a>.</p>
</li>
<li>
<p><strong>Create the <code>affablebean</code> schema on the database server.</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click on <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252Faffablebean_schema_creation.sql">affablebean_schema_creation.sql</a> and copy (Ctrl-C; ⌘-C on Mac) the entire contents of the file.</p>
</li>
<li>
<p>Open the IDE&#8217;s SQL editor. In the Services window (Ctrl-5; ⌘-5 on Mac), right-click the <code>affablebean</code> database connection ( <span class="image"><img src="images/db-connection-node.png" alt="db connection node"></span> ) node and choose Execute Command. The IDE&#8217;s SQL editor opens.</p>
</li>
<li>
<p>Paste (Ctrl-V; ⌘-V on Mac) the entire contents of the <code>affablebean.sql</code> file into the editor.</p>
</li>
<li>
<p>Click the Run SQL ( <span class="image"><img src="images/run-sql-btn.png" alt="run sql btn"></span> ) button in the editor&#8217;s toolbar. The script runs on your MySQL server. Tables are generated for the <code>affablebean</code> database.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Open the <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot2.zip">project snapshot</a> in the IDE. In the IDE, press Ctrl-Shift-O (⌘-Shift-O on Mac) and navigate to the location on your computer where you unzipped the downloaded file.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sampleData">Adding Sample Data to the Database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Begin by adding sample data to the <code>category</code> and <code>product</code> tables. You can do this using the IDE&#8217;s SQL editor, which allows you to interact directly with the database using native SQL. The IDE&#8217;s SQL support also includes a GUI editor that enables you to add, remove, modify and delete table records.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#category">category table</a></p>
</li>
<li>
<p><a href="#product">product table</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="category">category table</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Services window (Ctrl-5; ⌘-5 on Mac), right-click the <code>category</code> table ( <span class="image"><img src="images/db-table-node.png" alt="db table node"></span> ) node and choose View Data. The SQL editor opens and displays with a GUI representation of the <code>category</code> table in the lower region. Note that the table is empty, as no data has yet been added.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/category-table-empty.png" alt="category table empty">
</div>
<div class="title">Figure 1. Use the SQL editor to view table data in the IDE</div>
</div>
<div class="paragraph">
<p>Also, note that the native SQL query used to generate the GUI representation is displayed in the upper region of the editor: <code>select * from category</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Delete <code>select * from category</code> and enter the following SQL statement:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INSERT INTO `category` (`name`) VALUES ('dairy'),('meats'),('bakery'),('fruit &amp;amp; veg');</code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement inserts four new records, each with a unique entry for the <code>name</code> column. Because the <code>id</code> column was specified as <code>AUTO_INCREMENT</code> when you created the schema, you do not need to worry about supplying a value.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click the Run SQL ( <span class="image"><img src="images/run-sql-btn.png" alt="run sql btn"></span> ) button in the editor&#8217;s toolbar. The SQL statement is executed.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>To confirm that the data has been added, run the <code>select * from category</code> query again. To do so, you can use the SQL History window. Click the SQL History ( <span class="image"><img src="images/sql-history-btn.png" alt="sql history btn"></span> ) button in the editor&#8217;s toolbar and double-click the <code>select * from category</code> entry. The SQL History window lists all SQL statements that you recently executed in the IDE.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Watch the screencast below to see how you can follow the above steps. When typing in the editor, be sure to take advantage of the IDE&#8217;s code completion and suggestion facilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="product">product table</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click the <code>product</code> table ( <span class="image"><img src="images/db-table-node.png" alt="db table node"></span> ) node and choose Execute Command. Choosing the Execute Command menu option in the Services window opens the SQL editor in the IDE.</p>
</li>
<li>
<p>Copy and paste the following <code>INSERT</code> statements into the editor.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">--
-- Sample data for table `product`
--

INSERT INTO `product` (`name`, price, description, category_id) VALUES ('milk', 1.70, 'semi skimmed (1L)', 1);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('cheese', 2.39, 'mild cheddar (330g)', 1);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('butter', 1.09, 'unsalted (250g)', 1);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('free range eggs', 1.76, 'medium-sized (6 eggs)', 1);

INSERT INTO `product` (`name`, price, description, category_id) VALUES ('organic meat patties', 2.29, 'rolled in fresh herbs&lt;br&gt;2 patties (250g)', 2);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('parma ham', 3.49, 'matured, organic (70g)', 2);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('chicken leg', 2.59, 'free range (250g)', 2);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('sausages', 3.55, 'reduced fat, pork&lt;br&gt;3 sausages (350g)', 2);

INSERT INTO `product` (`name`, price, description, category_id) VALUES ('sunflower seed loaf', 1.89, '600g', 3);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('sesame seed bagel', 1.19, '4 bagels', 3);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('pumpkin seed bun', 1.15, '4 buns', 3);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('chocolate cookies', 2.39, 'contain peanuts&lt;br&gt;(3 cookies)', 3);

INSERT INTO `product` (`name`, price, description, category_id) VALUES ('corn on the cob', 1.59, '2 pieces', 4);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('red currants', 2.49, '150g', 4);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('broccoli', 1.29, '500g', 4);
INSERT INTO `product` (`name`, price, description, category_id) VALUES ('seedless watermelon', 1.49, '250g', 4);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Examine the above code and note the following points:
* By examining the <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252Faffablebean_schema_creation.sql">`affablebean` schema generation script</a>, you&#8217;ll note that the <code>product</code> table contains a non-nullable, automatically incremental primary key. Whenever you insert a new record into the table (and don&#8217;t explicitly set the value of the primary key), the SQL engine sets it for you. Also, note that the <code>product</code> table&#8217;s <code>last_update</code> column applies <code>CURRENT_TIMESTAMP</code> as its default value. The SQL engine will therefore provide the current date and time for this field when a record is created.</p>
</div>
<div class="paragraph">
<p>Looking at this another way, if you were to create an <code>INSERT</code> statement that didn&#8217;t indicate which columns would be affected by the insertion action, you would need to account for all columns. In this case, you could enter a <code>NULL</code> value to enable the SQL engine to automatically handle fields that have default values specified. For example, the following statement elicits the same result as the first line of the above code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INSERT INTO `product` VALUES (NULL, 'milk', 1.70, 'semi skimmed (1L)', NULL, 1);</code></pre>
</div>
</div>
<div class="paragraph">
<p>After running the statement, you&#8217;ll see that the record contains an automatically incremented primary key, and the <code>last_update</code> column lists the current date and time.
* The value for the final column, <code>category_id</code>, must correspond to a value contained in the <code>category</code> table&#8217;s <code>id</code> column. Because you have already added four records to the <code>category</code> table, the <code>product</code> records you are inserting reference one of these four records. If you try to insert a <code>product</code> record that references a <code>category_id</code> that doesn&#8217;t exist, a foreign key constraint fails.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click the Run SQL ( <span class="image"><img src="images/run-sql-btn.png" alt="run sql btn"></span> ) button in the editor&#8217;s toolbar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note:</strong> View the Output window (Ctrl-4; ⌘-4 on Mac) to see a log file containing results of the execution.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Right-click the <code>product</code> table ( <span class="image"><img src="images/db-table-node.png" alt="db table node"></span> ) node and choose View Data. You can see 16 new records listed in the table.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/product-table.png" alt="product table">
</div>
<div class="title">Figure 2. Choose View Data from a table node&#8217;s right-click menu to verify sample data</div>
</div>
</div>
<div class="sect2">
<h3 id="_netbeans_gui_support_for_database_tables">NetBeans GUI Support for Database Tables</h3>
<div class="paragraph">
<p>In the Services window, when you right-click a table ( <span class="image"><img src="images/db-table-node.png" alt="db table node"></span> ) node and choose View Data, the IDE displays a visual representation of the table and the data it contains (as depicted in the image above). You can also use this GUI support to add, modify, and delete table data.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Add new records:</strong> To add new records, click the Insert Record ( <span class="image"><img src="images/insert-record-btn.png" alt="insert record btn"></span> ) button. An Insert Records dialog window displays, enabling you to enter new records. When you click OK, the new data is committed to the database, and the GUI representation of the table is automatically updated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Click the Show SQL button within the dialog window to view the SQL statement(s) that will be applied upon initiating the action.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Modify records:</strong> You can make edits to existing records by double-clicking directly in table cells and modifying field entries. Modified entries display as green text. When you are finished editing data, click the Commit Record ( <span class="image"><img src="images/commit-record-btn.png" alt="commit record btn"></span> ) button to commit changes to the actual database. (Similarly, click the Cancel Edits ( <span class="image"><img src="images/cancel-edits-btn.png" alt="cancel edits btn"></span> ) button to cancel any edits you have made.</p>
</li>
<li>
<p><strong>Delete individual records:</strong> Click a row in the table, then click the Delete Selected Record ( <span class="image"><img src="images/delete-selected-record-btn.png" alt="delete selected record btn"></span> ) button. You can also delete multiple rows simultaneously by holding Ctrl (⌘ on Mac) while clicking to select rows.</p>
</li>
<li>
<p><strong>Delete all records:</strong> Deleting all records within a table is referred to as '<em>truncating</em>' the table. Click the Truncate Table ( <span class="image"><img src="images/truncate-table-btn.png" alt="truncate table btn"></span> ) button to delete all records contained in the displayed table.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the displayed data needs to be resynchronized with the actual database, you can click the Refresh Records ( <span class="image"><img src="images/refresh-records-btn.png" alt="refresh records btn"></span> ) button. Note that much of the above-described functionality can also be accessed from the right-click menu within the GUI editor.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="createConnPoolDataSource">Creating a Connection Pool and Data Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From this point onward, you establish connectivity between the MySQL database and the <code>affablebean</code> application through the GlassFish server which it is deployed to. This communication is made possible with the Java Database Connectivity (<a href="http://java.sun.com/products/jdbc/overview.html">JDBC</a>) API. The JDBC API is an integration library contained in the JDK (refer back to the component diagram displayed in the tutorial <a href="intro.html#platform">Introduction</a>). Although this tutorial does not work directly with JDBC programming, the application that we are building does utilize the JDBC API whenever communication is required between the SQL and Java languages. For example, you start by creating a <em>connection pool</em> on the GlassFish server. In order for the server to communicate directly with the the MySQL database, it requires the <a href="http://www.mysql.com/downloads/connector/j/">Connector/J</a> JDBC driver which converts JDBC calls directly into a MySQL-specific protocol. Later in this tutorial unit, when you apply JSTL&#8217;s <a href="http://download.oracle.com/docs/cd/E17802_01/products/products/jsp/jstl/1.1/docs/tlddocs/sql/query.html">`&lt;sql:query&gt;`</a> tags to query the <code>affablebean</code> database, the tags are translated into JDBC <a href="http://download-llnw.oracle.com/javase/6/docs/api/java/sql/Statement.html">`Statement`</a>s.</p>
</div>
<div class="paragraph">
<p>A connection pool contains a group of reusable connections for a particular database. Because creating each new physical connection is time-consuming, the server maintains a pool of available connections to increase performance. When an application requests a connection, it obtains one from the pool. When an application closes a connection, the connection is returned to the pool. Connection pools use a JDBC driver to create physical database connections.</p>
</div>
<div class="paragraph">
<p>A data source (a.k.a. a JDBC resource) provides applications with the means of connecting to a database. Applications get a database connection from a connection pool by looking up a data source using the Java Naming and Directory Interface (<a href="http://www.oracle.com/technetwork/java/overview-142035.html">JNDI</a>) and then requesting a connection. The connection pool associated with the data source provides the connection for the application.</p>
</div>
<div class="paragraph">
<p>In order to enable the application access to the <code>affablebean</code> database, you need to create a connection pool and a data source that uses the connection pool. Use the NetBeans GlassFish JDBC Resource wizard to accomplish this.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> You can also create connection pools and data sources directly on the GlassFish server using the GlassFish Administration Console. However, creating these resources in this manner requires that you manually enter database connection details (i.e., username, password and URL). The benefit of using the NetBeans wizard is that it extracts any connection details directly from an existing database connection, thus eliminating potential connectivity problems.</p>
</div>
<div class="paragraph">
<p>To access the console from the IDE, in the Services window right-click the Servers &gt; GlassFish node and choose View Admin Console. The default username / password is: <code>admin</code> / <code>adminadmin</code>. If you&#8217;d like to set up the connection pool and data source using the GlassFish Administration console, follow steps 3-15 of the <a href="setup.html">NetBeans E-commerce Tutorial Setup Instructions</a>. The setup instructions are provided for later tutorial units.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the New File ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ) button in the IDE&#8217;s toolbar. (Alternatively, press Ctrl-N; ⌘-N on Mac.)</p>
</li>
<li>
<p>Select the <strong>GlassFish</strong> category, then select <strong>JDBC Resource</strong> and click Next.</p>
</li>
<li>
<p>In Step 2 of the JDBC Resource wizard, select the <code>Create New JDBC Connection Pool</code> option. When you do so, three new steps are added to the wizard, enabling you to specify connection pool settings.</p>
</li>
<li>
<p>Enter details to set up the data source:</p>
<div class="ulist">
<ul>
<li>
<p><strong>JNDI Name:</strong> <code>jdbc/affablebean</code>
<span class="tips">By convention, the JNDI name for a JDBC resource begins with the <code>jdbc/</code> string.</span></p>
</li>
<li>
<p><strong>Object Type:</strong> <code>user</code></p>
</li>
<li>
<p><strong>Enabled:</strong> <code>true</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jdbc-resource-gen-attributes.png" alt="jdbc resource gen attributes">
</div>
<div class="title">Figure 3. Create a new connection pool and data source using the JDBC Resource wizard</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Click Next. In Step 3, Additional Properties, you do not need to specify any additional configuration information for the data source.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Click Next. In Step 4, Choose Database Connection, type in <code>AffableBeanPool</code> as the JDBC connection pool name. Also, ensure that the <code>Extract from Existing Connection</code> option is selected, and that the <code>jdbc:mysql://localhost:3306/affablebean</code> connection is listed.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Click Next. In Step 5, Add Connection Pool Properties, specify the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Datasource Classname:</strong> <code>com.mysql.jdbc.jdbc2.optional.MysqlDataSource</code></p>
</li>
<li>
<p><strong>Resource Type:</strong> <code>javax.sql.ConnectionPoolDataSource</code></p>
</li>
<li>
<p><strong>Description:</strong> <em>(Optional)</em> <code>Connects to the affablebean database</code>
Also, note that the wizard extracts and displays properties from the existing connection.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jdbc-resource-conn-pool.png" alt="jdbc resource conn pool">
</div>
<div class="title">Figure 4. Create a new connection pool and data source using the JDBC Resource wizard</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Click Finish. The wizard generates a <code>sun-resources.xml</code> file for the project that contains all information required to set up the connection pool and data source on GlassFish. The <code>sun-resources.xml</code> file is a deployment descriptor specific to the GlassFish application server. When the project next gets deployed, the server will read in any configuration data contained in <code>sun-resources.xml</code>, and set up the connection pool and data source accordingly. Note that once the connection pool and data source exist on the server, your project no longer requires the <code>sun-resources.xml</code> file.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>In the Projects window (Ctrl-1; ⌘-1 on Mac), expand the Server Resources node and double-click the <code>sun-resources.xml</code> file to open it in the editor. Here you see the XML configuration required to set up the connection pool and data source. (Code below is formatted for readability.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;resources&gt;
  &lt;jdbc-resource enabled="true"
                 jndi-name="jdbc/affablebean"
                 object-type="user"
                 pool-name="AffableBeanPool"&gt;
  &lt;/jdbc-resource&gt;

  &lt;jdbc-connection-pool allow-non-component-callers="false"
                        associate-with-thread="false"
                        connection-creation-retry-attempts="0"
                        connection-creation-retry-interval-in-seconds="10"
                        connection-leak-reclaim="false"
                        connection-leak-timeout-in-seconds="0"
                        connection-validation-method="auto-commit"
                        datasource-classname="com.mysql.jdbc.jdbc2.optional.MysqlDataSource"
                        fail-all-connections="false"
                        idle-timeout-in-seconds="300"
                        is-connection-validation-required="false"
                        is-isolation-level-guaranteed="true"
                        lazy-connection-association="false"
                        lazy-connection-enlistment="false"
                        match-connections="false"
                        max-connection-usage-count="0"
                        max-pool-size="32"
                        max-wait-time-in-millis="60000"
                        name="AffableBeanPool"
                        non-transactional-connections="false"
                        pool-resize-quantity="2"
                        res-type="javax.sql.ConnectionPoolDataSource"
                        statement-timeout-in-seconds="-1"
                        steady-pool-size="8"
                        validate-atmost-once-period-in-seconds="0"
                        wrap-jdbc-objects="false"&gt;

    &lt;description&gt;Connects to the affablebean database&lt;/description&gt;
    &lt;property name="URL" value="jdbc:mysql://localhost:3306/affablebean"/&gt;
    &lt;property name="User" value="root"/&gt;
    &lt;property name="Password" value="nbuser"/&gt;
  &lt;/jdbc-connection-pool&gt;
&lt;/resources&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>In the Projects window (Ctrl-1; ⌘-1 on Mac), right-click the <code>AffableBean</code> project node and choose Deploy. The GlassFish server reads configuration data from the <code>sun-resources.xml</code> file and creates the <code>AffableBeanPool</code> connection pool, and <code>jdbc/affablebean</code> data source.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>In the Services window, expand the Servers &gt; GlassFish &gt; Resources &gt; JDBC node. Here you can locate the <code>jdbc/affablebean</code> data source listed under JDBC Resources, and the <code>AffableBeanPool</code> connection pool listed under Connection Pools.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/gf-server-jdbc-resources.png" alt="gf server jdbc resources">
</div>
<div class="title">Figure 5. View data sources and connection pools registered on the server</div>
</div>
<div class="paragraph">
<p>Right-click data source and connection pool nodes to view and make changes to their properties. You can associate a data source with any connection pool registered on the server. You can edit property values for connection pools, and unregister both data sources and connection pools from the server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testConnPoolDataSource">Testing the Connection Pool and Data Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Start by making sure the GlassFish server can successfully connect to the MySQL database. You can do this by pinging the <code>AffableBeanPool</code> connection pool in the GlassFish Administration Console.</p>
</div>
<div class="paragraph">
<p>Then proceed by adding a reference in your project to the data source you created on the server. To do so, you create a <code>&lt;resource-ref&gt;</code> entry in the application&#8217;s <code>web.xml</code> deployment descriptor.</p>
</div>
<div class="paragraph">
<p>Finally, use the IDE&#8217;s editor support for the <a href="http://java.sun.com/products/jsp/jstl/">JSTL</a> <code>sql</code> tag library, and create a JSP page that queries the database and outputs data in a table on a web page.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ping">Pinging the Connection Pool</a></p>
</li>
<li>
<p><a href="#resourceReference">Creating a Resource Reference to the Data Source</a></p>
</li>
<li>
<p><a href="#query">Querying the Database from a JSP Page</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="ping">Pinging the Connection Pool</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the GlassFish server is already running. In the Services window (Ctrl-5; ⌘-5 on Mac), expand the Servers node. Note the small green arrow next to the GlassFish icon ( <span class="image"><img src="images/gf-server-running-node.png" alt="gf server running node"></span> ).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>(If the server is not running, right-click the server node and choose Start.)</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Right-click the server node and choose View Admin Console. The GlassFish Administration Console opens in a browser.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Log into the administration console. The default username / password is: <code>admin</code> / <code>adminadmin</code>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>In the console&#8217;s tree on the left, expand the Resources &gt; JDBC &gt; Connection Pools nodes, then click <code>AffableBeanPool</code>. In the main window, the Edit Connection Pool interface displays for the selected connection pool.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Click the Ping button. If the ping succeeds, the GlassFish server has a working connection to the <code>affablebean</code> database on the MySQL server.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ping-succeeded.png" alt="ping succeeded">
</div>
<div class="title">Figure 6. Ping the connection pool to determine whether it has a physical connection to the database</div>
</div>
<div class="paragraph">
<p>(If the ping fails, see suggestions in the <a href="#troubleshoot">Troubleshooting</a> section below.)</p>
</div>
</div>
<div class="sect2">
<h3 id="resourceReference">Creating a Resource Reference to the Data Source</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, expand the Configuration Files folder and double-click <code>web.xml</code>. A graphical interface for the file displays in the IDE&#8217;s main window.</p>
</li>
<li>
<p>Click the References tab located along the top of the editor. Expand the Resource References heading, then click Add. The Add Resource Reference dialog opens.</p>
</li>
<li>
<p>Enter the following details into the dialog:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Resource Name:</strong> <code>jdbc/affablebean</code></p>
</li>
<li>
<p><strong>Resource Type:</strong> <code>javax.sql.ConnectionPoolDataSource</code></p>
</li>
<li>
<p><strong>Authentication:</strong> <code>Container</code></p>
</li>
<li>
<p><strong>Sharing Scope:</strong> <code>Shareable</code></p>
</li>
<li>
<p><strong>Description:</strong> <em>(Optional)</em> <code>Connects to database for AffableBean application</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-resource-ref-dialog.png" alt="add resource ref dialog">
</div>
<div class="title">Figure 7. Specify resource properties in the Add Resource Reference dialog</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click OK. The new resource is added under the Resource References heading.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/resource-reference.png" alt="resource reference">
</div>
<div class="title">Figure 8. Create a reference to the data source for the application</div>
</div>
<div class="paragraph">
<p>To verify that the resource is now added to the <code>web.xml</code> file, click the XML tab located along the top of the editor. Notice that the following <code>&lt;resource-ref&gt;</code> tags are now included:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;resource-ref&gt;
    &lt;description&gt;Connects to database for AffableBean application&lt;/description&gt;
    &lt;res-ref-name&gt;jdbc/affablebean&lt;/res-ref-name&gt;
    &lt;res-type&gt;javax.sql.ConnectionPoolDataSource&lt;/res-type&gt;
    &lt;res-auth&gt;Container&lt;/res-auth&gt;
    &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
&lt;/resource-ref&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query">Querying the Database from a JSP Page</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new JSP page to test the data source. Click the New File ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ) button. (Alternatively, press Ctrl-N; ⌘-N on Mac.)</p>
</li>
<li>
<p>Select the Web category, then select the JSP file type and click Next.</p>
</li>
<li>
<p>Enter <code>testDataSource</code> as the file name. In the Folder field, type in <code>test</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-jsp-wzd.png" alt="new jsp wzd">
</div>
<div class="title">Figure 9. Enter details to name and place a new JSP page into the project</div>
</div>
<div class="paragraph">
<p>The project does not yet have a folder named <code>test</code> within the Web Pages location (i.e., within the <code>web</code> folder). By entering <code>test</code> into the Folder field, you have the IDE create the folder upon completing the wizard.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click finish. The IDE generates a new <code>testDataSource.jsp</code> file, and places it into the new <code>test</code> folder within the project.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>In the new <code>testDataSource.jsp</code> file, in the editor, place your cursor at the end of the line containing the <code>&lt;h1&gt;</code> tags (line 17). Press Return, then press Ctrl-Space to invoke code suggestions. Choose DB Report from the list of options.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/db-report.png" alt="db report">
</div>
<div class="title">Figure 10. Press Ctrl-Space in editor to invoke code suggestions</div>
</div>
<div class="paragraph">
<p>If line numbers do not display, right-click in the left margin of the editor and choose Show Line Numbers.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>In the Insert DB Report dialog, specify the data source and modify the SQL query to be executed:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Data Source:</strong> <code>jdbc/affablebean</code></p>
</li>
<li>
<p><strong>Query Statement:</strong> <code>SELECT * FROM category, product WHERE category.id = product.category_id</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-db-report.png" alt="insert db report">
</div>
<div class="title">Figure 11. Specify the data source and SQL query to be executed</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Click OK. The dialog adds the <code>taglib</code> directives for the JSTL <code>core</code> and <code>sql</code> libraries to the top of the file:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The dialog also generates template code to display the query results in an HTML table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;sql:query var="result" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category, product
    WHERE category.id = product.category_id
&lt;/sql:query&gt;

&lt;table border="1"&gt;
    &lt;!-- column headers --&gt;
    &lt;tr&gt;
        &lt;c:forEach var="columnName" items="${result.columnNames}"&gt;
            &lt;th&gt;&lt;c:out value="${columnName}"/&gt;&lt;/th&gt;
        &lt;/c:forEach&gt;
    &lt;/tr&gt;
    &lt;!-- column data --&gt;
    &lt;c:forEach var="row" items="${result.rowsByIndex}"&gt;
        &lt;tr&gt;
            &lt;c:forEach var="column" items="${row}"&gt;
                &lt;td&gt;&lt;c:out value="${column}"/&gt;&lt;/td&gt;
            &lt;/c:forEach&gt;
        &lt;/tr&gt;
    &lt;/c:forEach&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Before running the file in a browser, make sure you have enabled the JDBC driver deployment option in NetBeans' GlassFish support. Choose Tools &gt; Servers to open the Servers window. In the left column, select the GlassFish server you are deploying to. In the main column, ensure that the 'Enable JDBC Driver Deployment' option is selected, then click Close.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/servers-window.png" alt="servers window">
</div>
<div class="title">Figure 12. Ensure that the Enable JDBC Driver Deployment option is selected</div>
</div>
<div class="paragraph">
<p>For Java applications that connect to a database, the server requires a JDBC driver to be able to create a communication bridge between the SQL and Java languages. In the case of MySQL, you use the <a href="http://www.mysql.com/downloads/connector/j/">Connector/J</a> JDBC driver. Ordinarily you would need to manually place the driver JAR file into the server&#8217;s <code>lib</code> directory. With the 'Enable JDBC Driver Deployment' option selected, the server performs a check to see whether a driver is needed, and if so, the IDE deploys the driver to the server.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Right-click in the editor and choose Run File (Shift-F6; fn-Shift-F6 on Mac). The <code>testDataSource.jsp</code> file is compiled into a servlet, deployed to the server, then runs in a browser.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Open the Output window (Ctrl-4; ⌘-4 on Mac) and click the 'AffableBean (run)' tab. The output indicates that the driver JAR file (<code>mysql-connector-java-5.1.6-bin.jar</code>) is deployed.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window-mysql-driver.png" alt="output window mysql driver">
</div>
<div class="title">Figure 13. When JDBC Driver Deployment is enabled, the IDE deploys the MySQL driver to GlassFish when required</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Examine <code>testDataSource.jsp</code> in the browser. You see an HTML table listing data contained in the <code>category</code> and <code>product</code> tables.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/test-data-source.png" alt="test data source">
</div>
<div class="title">Figure 14. The JSP page contains data extracted from the 'affablebean' database</div>
</div>
<div class="paragraph">
<p>(If you receive a server error, see suggestions in the <a href="#troubleshoot">Troubleshooting</a> section below.)</p>
</div>
<div class="paragraph">
<p>At this stage, we have set up a working data source and connection pool on the server, and demonstrated that the application can access data contained in the <code>affablebean</code> database.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="param">Setting Context Parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section demonstrates how to configure context parameters for the application, and how to access parameter values from JSP pages. The owner of an application may want to be able to change certain settings without the need to make intrusive changes to source code. Context parameters enable you application-wide access to parameter values, and provide a convenient way to change parameter values from a single location, should the need arise.</p>
</div>
<div class="paragraph">
<p>Setting up context parameters can be accomplished in two steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Listing parameter names and values in the web deployment descriptor</p>
</li>
<li>
<p>Calling the parameters in JSP pages using the <code>initParam</code> object</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The JSP Expression Language (EL) defines <em>implicit objects</em>, which <code>initParam</code> is an example of. When working in JSP pages, you can utilize implicit objects using dot notation and placing expressions within EL delimiters (<code>${&#8230;&#8203;}</code>). For example, if you have an initialization parameter named <code>myParam</code>, you can access it from a JSP page with the expression <code>${initParam.myParam}</code>.</p>
</div>
<div class="paragraph">
<p>For more information on the JSP Expression Language and implicit objects, see the following chapter in the Java EE 6 Tutorial: <a href="http://docs.oracle.com/javaee/6/tutorial/doc/gjddd.html">+ Chapter 6 - Expression Language+</a>.</p>
</div>
<div class="paragraph">
<p>By way of demonstration, you create context parameters for the image paths to category and product images used in the <code>AffableBean</code> project. Begin by adding the provided image resources to the project, then perform the two steps outlined above.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252Fimg.zip">website sample images</a>, and unzip the file to a location on your computer. The unzipped file is an <code>img</code> folder that contains all of the image resources required for the <code>AffableBean</code> application.</p>
</li>
<li>
<p>Import the <code>img</code> folder into the <code>AffableBean</code> project. Copy (Ctrl-C; ⌘-C on Mac) the <code>img</code> folder, then in the IDE&#8217;s Projects window, paste (Ctrl-V; ⌘-V on Mac) the folder into the project&#8217;s Web Pages node.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projects-win-img-folder.png" alt="projects win img folder">
</div>
<div class="title">Figure 15. Import the 'img' folder into the AffableBean project</div>
</div>
<div class="paragraph">
<p>The <code>categories</code> and <code>products</code> folders contain the images that will be displayed in the <a href="design.html#index">index</a> and <a href="design.html#category">category</a> pages, respectively.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Open the project&#8217;s web deployment descriptor. In the Projects window, expand the Configuration Files node and double-click <code>web.xml</code>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click the General tab, then expand Context Parameters and click the Add button.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>In the Add Context Parameter dialog, enter the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Parameter Name:</strong> <code>productImagePath</code></p>
</li>
<li>
<p><strong>Parameter Value:</strong> <code>img/products/</code></p>
</li>
<li>
<p><strong>Description:</strong> <em>(Optional)</em> <code>The relative path to product images</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-context-param-dialog.png" alt="add context param dialog">
</div>
<div class="title">Figure 16. Add initialization parameters using the Add Context Parameter dialog</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Click OK.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Click the Add button again and enter the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Parameter Name:</strong> <code>categoryImagePath</code></p>
</li>
<li>
<p><strong>Parameter Value:</strong> <code>img/categories/</code></p>
</li>
<li>
<p><strong>Description:</strong> <em>(Optional)</em> <code>The relative path to category images</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Click OK. The two context parameters are now listed:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/context-parameters.png" alt="context parameters">
</div>
<div class="title">Figure 17. Context parameters display in the web.xml interface</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Click the XML tab to view the XML content that has been added to the deployment descriptor. The following <code>&lt;context-param&gt;</code> entries have been added:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;context-param&gt;
    &lt;description&gt;The relative path to product images&lt;/description&gt;
    &lt;param-name&gt;productImagePath&lt;/param-name&gt;
    &lt;param-value&gt;img/products/&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
    &lt;description&gt;The relative path to category images&lt;/description&gt;
    &lt;param-name&gt;categoryImagePath&lt;/param-name&gt;
    &lt;param-value&gt;img/categories/&lt;/param-value&gt;
&lt;/context-param&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>To test whether the values for the context parameters are accessible to web pages, open any of the project&#8217;s web pages in the editor and enter EL expressions using the <code>initParam</code> implicit object. For example, open <code>index.jsp</code> and enter the following (New code in <strong>bold</strong>):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="indexLeftColumn"&gt;
    &lt;div id="welcomeText"&gt;
        &lt;p&gt;[ welcome text ]&lt;/p&gt;

        *&lt;!-- test to access context parameters --&gt;
        categoryImagePath: ${initParam.categoryImagePath}
        productImagePath: ${initParam.productImagePath}*
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Run the project. Click the Run Project ( <span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span> ) button. The project&#8217;s index page opens in the browser, and you see the values for the <code>categoryImagePath</code> and <code>productImagePath</code> context parameters displayed in the page.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/context-params-browser.png" alt="context params browser">
</div>
<div class="title">Figure 18. Use 'initParam' with JSP EL delimiters to display context parameter values</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jstl">Working with JSTL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far in this tutorial unit, you&#8217;ve established how to access data from the <code>affablebean</code> database, add image resources to the project, and have set up several context parameters. In this final section, you combine these achievements to plug the product and category images into the application. In order to do so effectively, you need to begin taking advantage of the JavaServer Pages Standard Tag Library (JSTL).</p>
</div>
<div class="paragraph">
<p>Note that you do not have to worry about adding the JSTL JAR file (<code>jstl-impl.jar</code>) to your project&#8217;s classpath because it already exists. When you created the <code>AffableBean</code> project and selected GlassFish as your development server, the libraries contained in the server were automatically added to your project&#8217;s classpath. You can verify this in the Projects window by expanding the <code>AffableBean</code> project&#8217;s Libraries &gt; GlassFish Server 3 node to view all of the libraries provided by the server.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/gf-libraries.png" alt="gf libraries">
</div>
<div class="title">Figure 19. GlassFish libraries are available to your project</div>
</div>
<div class="paragraph">
<p>The <code>jstl-impl.jar</code> file is GlassFish' implementation of JSTL, version 1.2.</p>
</div>
<div class="paragraph">
<p>You can also download the GlassFish JSTL JAR file separately from: <a href="http://jstl.dev.java.net/download.html">http://jstl.dev.java.net/download.html</a></p>
</div>
<div class="paragraph">
<p>Before embarking upon an exercise involving JSTL, one implementation detail needs to first be clarified. Examine the files contained in the <code>categories</code> and <code>products</code> folders and note that the names of the provided image files match the names of the category and product entries found in the database. This enables us to leverage the database data to dynamically call image files within the page. So for example, if the web page needs to access the image for the broccoli product entry, you can make this happen using the following statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">${initParam.productImagePath}broccoli.png</code></pre>
</div>
</div>
<div class="paragraph">
<p>After implementing a JSTL <code><a href="http://java.sun.com/products/jsp/jstl/1.1/docs/tlddocs/c/forEach.html">+forEach+</a></code> loop, you&#8217;ll be able to replace the hard-coded name of the product with an EL expression that dynamically extracts the name of the product from the database, and inserts it into the page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">${initParam.productImagePath}${product.name}.png</code></pre>
</div>
</div>
<div class="paragraph">
<p>Begin by integrating the category images into the index page, then work within the category page so that data pertaining to the selected category is dynamically handled.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#indexJSTL">index page</a></p>
</li>
<li>
<p><a href="#categoryJSTL">category page</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="indexJSTL">index page</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, double-click the <code>index.jsp</code> node to open it in the editor. (If already opened, press Ctrl-Tab to select it in the editor.)</p>
</li>
<li>
<p>At the top of the file, before the first <code>&lt;div&gt;</code> tag, place your cursor on a blank line, then type <code>db</code> and press Ctrl-Space. In the code-completion pop-up window that displays, choose DB Query.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/db-query.png" alt="db query">
</div>
<div class="title">Figure 20. Type 'db', then press Ctrl-Space to invoke code completion suggestions</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Insert DB Query dialog, enter the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Variable Name:</strong> <code>categories</code></p>
</li>
<li>
<p><strong>Scope:</strong> <code>page</code></p>
</li>
<li>
<p><strong>Data Source:</strong> <code>jdbc/affablebean</code></p>
</li>
<li>
<p><strong>Query Statement:</strong> <code>SELECT * FROM category</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-db-query.png" alt="insert db query">
</div>
<div class="title">Figure 21. Specify query details to create an SQL query using JSTL &lt;sql:query&gt; tags</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click OK. The dialog generates an SQL query using JSTL <code>&lt;sql:query&gt;</code> tags. Also, note that the required reference to the <code>sql</code> <code>taglib</code> directive has been automatically inserted at the top of the page. (Changes displayed in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">*&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;*
&lt;%--
    Document   : index
    Created on : Sep 5, 2009, 4:32:42 PM
    Author     : nbuser
--%&gt;

*&lt;sql:query var="categories" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category
&lt;/sql:query&gt;*

            &lt;div id="indexLeftColumn"&gt;
                &lt;div id="welcomeText"&gt;
                    &lt;p&gt;[ welcome text ]&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The SQL query creates a result set which is stored in the <code>categories</code> variable. You can then access the result set using EL syntax, e.g., <code>${categories}</code> (demonstrated below).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Place your cursor at the end of <code>&lt;div id="indexRightColumn"&gt;</code> (line 22), hit return, type <code>jstl</code> then press Ctrl-Space and choose JSTL For Each.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/jstl-for-each.png" alt="jstl for each">
</div>
<div class="title">Figure 22. Type 'jstl', then press Ctrl-Space to invoke code completion suggestions</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>In the Insert JSTL For Each dialog, enter the following details:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Collection:</strong> <code>${categories.rows}</code></p>
</li>
<li>
<p><strong>Current Item of the Iteration:</strong> <code>category</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-jstl-for-each.png" alt="insert jstl for each">
</div>
<div class="title">Figure 23. Specify details to create a 'for each' loop using JSTL &lt;c:forEach&gt; tags</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Click OK. The dialog sets up syntax for a JSTL <code>forEach</code> loop using <code>&lt;c:forEach&gt;</code> tags. Also, note that the required reference to the <code>core</code> <code>taglib</code> directive has been automatically inserted at the top of the page. (Changes displayed in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">*&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;*
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;

    ...

    &lt;div id="indexRightColumn"&gt;
        *&lt;c:forEach var="category" items="categories.rows"&gt;
        &lt;/c:forEach&gt;*
        &lt;div class="categoryBox"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are wondering what <code>rows</code> refers to in the generated code, recall that the <code>categories</code> variable represents a result set. More specifically, <code>categories</code> refers to an object that implements the <code><a href="http://java.sun.com/products/jsp/jstl/1.1/docs/api/javax/servlet/jsp/jstl/sql/Result.html">+javax.servlet.jsp.jstl.sql.Result+</a></code> interface. This object provides properties for accessing the rows, column names, and size of the query’s result set. When using dot notation as in the above example, <code>categories.rows</code> is translated in Java to <code>categories.getRows()</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Integrate the <code>&lt;c:forEach&gt;</code> tags into the page. You can nest the <code>&lt;div class="categoryBox"&gt;</code> tags within the <code>forEach</code> loop so that HTML markup is generated for each of the four categories. Use EL syntax to extract the <code>category</code> table&#8217;s <code>id</code> and <code>name</code> column values for each of the four records. Make sure to delete the other <code>&lt;div class="categoryBox"&gt;</code> tags which exist outside the <code>forEach</code> loop. When you finish, the complete <code>index.jsp</code> file will look as follows. (<code>&lt;c:forEach&gt;</code> tags and contents are displayed in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;
&lt;%--
    Document   : index
    Created on : Sep 5, 2009, 4:32:42 PM
    Author     : nbuser
--%&gt;

&lt;sql:query var="categories" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category
&lt;/sql:query&gt;

            &lt;div id="indexLeftColumn"&gt;
                &lt;div id="welcomeText"&gt;
                    &lt;p&gt;[ welcome text ]&lt;/p&gt;

                    &lt;!-- test to access context parameters --&gt;
                    categoryImagePath: ${initParam.categoryImagePath}
                    productImagePath: ${initParam.productImagePath}
                &lt;/div&gt;
            &lt;/div&gt;

            *&lt;div id="indexRightColumn"&gt;
                &lt;c:forEach var="category" items="${categories.rows}"&gt;
                    &lt;div class="categoryBox"&gt;
                        &lt;a href="category?${category.id}"&gt;

                            &lt;span class="categoryLabelText"&gt;${category.name}&lt;/span&gt;

                            &lt;img src="${initParam.categoryImagePath}${category.name}.jpg"
                                 alt="${category.name}"&gt;
                        &lt;/a&gt;
                    &lt;/div&gt;
                &lt;/c:forEach&gt;
            &lt;/div&gt;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Click the Run Project ( <span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span> ) button. The project&#8217;s index page opens in the browser, and you see the names and images of the four categories.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-category-images.png" alt="index category images">
</div>
<div class="title">Figure 24. 'for each' loop extracts details from the database and utilizes them in the page</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Click any of the four images in the browser. The category page displays.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/category-page.png" alt="category page">
</div>
<div class="title">Figure 25. Category images from index page link to category page</div>
</div>
<div class="paragraph">
<p>To understand how linking takes place between the index and category pages, reexamine the HTML anchor tags within the <code>forEach</code> loop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;a href="category?${category.id}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When a user clicks the image link in the browser, a request for <code>category</code> is sent to the application&#8217;s context root on the server. In your development environment, the URL is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">http://localhost:8080/AffableBean/category</code></pre>
</div>
</div>
<div class="paragraph">
<p>This URL can can be explained in the following manner:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code>: The default location of the GlassFish server on your computer</p>
</li>
<li>
<p><code>/AffableBean</code>: The context root of your deployed application</p>
</li>
<li>
<p><code>/category</code>: The path to the request</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Recall that in <a href="page-views-controller.html#controller">Preparing the Page Views and Controller Servlet</a>, you mapped a request for <code>/category</code> to the <code>ControllerServlet</code>. Currently, the <code>ControllerServlet</code> internally forwards the request to <code>/WEB-INF/view/category.jsp</code>, which is why the category page displays upon clicking an image link.</p>
</div>
<div class="paragraph">
<p>You can verify the application&#8217;s context root by expanding the Configuration Files node in the Projects window, and opening the <code>sun-web.xml</code> file. The <code>sun-web.xml</code> file is a deployment descriptor specific to GlassFish.</p>
</div>
<div class="paragraph">
<p>Also, note that a question mark (<code>?</code>) and category ID are appended to the requested URL.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;a href="category*?${category.id}*"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This forms the <em>query string</em>. As is demonstrated in the next section, you can apply <code>(pageContext.request.queryString}</code> to extract the value of the query string from the request. You can then use the category ID from the query string to determine which category details need to be included in the response.</p>
</div>
</div>
<div class="sect2">
<h3 id="categoryJSTL">category page</h3>
<div class="paragraph">
<p>Three aspects of the category page need to be handled dynamically. The left column must indicate which category is selected, the table heading must display the name of the selected category, and the table must list product details pertaining to the selected category. In order to implement these aspects using JSTL, you can follow a simple, 2-step pattern:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Retrieve data from the database using the JSTL <code>sql</code> tag library.</p>
</li>
<li>
<p>Display the data using the JSTL <code>core</code> library and EL syntax.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Tackle each of the three tasks individually.</p>
</div>
<div class="sect3">
<h4 id="_display_selected_category_in_left_column">Display selected category in left column</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Projects window, double-click the <code>category.jsp</code> node to open it in the editor. (If already opened, press Ctrl-Tab to select it in the editor.)</p>
</li>
<li>
<p>Add the following SQL query to the top of the file.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;sql:query var="categories" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category
&lt;/sql:query&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Either use the Insert DB Query dialog as <a href="#categoryIndex">described above</a>, or use the editor&#8217;s code suggestion and completion facilities by pressing Ctrl-Space while typing.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Between the <code>&lt;div id="categoryLeftColumn"&gt;</code> tags, replace the existing static placeholder content with the following <code>&lt;c:forEach&gt;</code> loop.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="categoryLeftColumn"&gt;

    *&lt;c:forEach var="category" items="${categories.rows}"&gt;

        &lt;c:choose&gt;
            &lt;c:when test="${category.id == pageContext.request.queryString}"&gt;
                &lt;div class="categoryButton" id="selectedCategory"&gt;
                    &lt;span class="categoryText"&gt;
                        ${category.name}
                    &lt;/span&gt;
                &lt;/div&gt;
            &lt;/c:when&gt;
            &lt;c:otherwise&gt;
                &lt;a href="category?${category.id}" class="categoryButton"&gt;
                    &lt;div class="categoryText"&gt;
                        ${category.name}
                    &lt;/div&gt;
                &lt;/a&gt;
            &lt;/c:otherwise&gt;
        &lt;/c:choose&gt;

    &lt;/c:forEach&gt;*

&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above snippet, you access the request&#8217;s query string using <code>pageContext.request.queryString</code>. <code>pageContext</code> is another <a href="http://download.oracle.com/docs/cd/E17477_01/javaee/5/tutorial/doc/bnahq.html#bnaij">implicit object</a> defined by the JSP Expression Language. The EL expression uses the <code><a href="http://java.sun.com/webservices/docs/1.6/api/javax/servlet/jsp/PageContext.html">+PageContext+</a></code> to access the current request (an <code><a href="http://java.sun.com/webservices/docs/1.6/api/javax/servlet/http/HttpServletRequest.html">+HttpServletRequest+</a></code> object). From <code>HttpServletRequest</code>, the <code>getQueryString()</code> method is called to obtain the value of the request&#8217;s query string.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Make sure to add the JSTL <code>core</code> and <code>sql</code> <code>taglib</code> directives to the top of the page. (This is done automatically when using the editor&#8217;s code suggestion and completion facilities.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Run the project. In the browser, navigate to the category page and click the category buttons in the left column. Each time you click, the page refreshes highlighting the selected category.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/category-page-bakery.png" alt="category page bakery">
</div>
<div class="title">Figure 26. Select categories by clicking category buttons in the left column</div>
</div>
<div class="paragraph">
<p>Also, note that the ID of the selected category is displayed in the page&#8217;s URL. (In the above image, the bakery category is selected, and <code>3</code> is appended to the URL in the browser&#8217;s navigation toolbar.)</p>
</div>
<div class="paragraph">
<p>Your servlet container (i.e., GlassFish) converts JSP pages into servlets before running them as part of a project. You can view the generated servlet for a JSP page by right-clicking the page node in the Projects window and choosing View Servlet. Of course, you first need to run the project so that the servlet is generated. Taking the <code>index.jsp</code> file as an example, when you choose View Servlet, the IDE displays a read-only copy of the generated servlet, <code>index_jsp.java</code>, in the editor. The servlet exists on the server at: <code><em>&lt;gf-install-dir&gt;</em>/glassfish/domains/domain1/generated/jsp/AffableBean/org/apache/jsp/index_jsp.java</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examining_implicit_object_values_using_the_ides_debugger">Examining Implicit Object Values using the IDE&#8217;s Debugger</h3>
<div class="paragraph">
<p>You can use the IDE&#8217;s Java debugger to examine values for implicit objects. To do so, set a breakpoint on a line containing JSP or JSTL syntax in a JSP page, then run the debugger. When the debugger suspends on the breakpoint, you can open the Variables window (Window &gt; Debugging &gt; Variables) to inspect values currently held by the application.</p>
</div>
<div class="paragraph">
<p>Taking your current implementation of <code>category.jsp</code> as an example, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set a breakpoint on the line containing:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;c:when test="${category.id == pageContext.request.queryString}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>(To set a breakpoint, click in the left margin of the line. A breakpoint ( <span class="image"><img src="images/breakpoint-icon.png" alt="breakpoint icon"></span> ) icon displays.)</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the IDE&#8217;s main toolbar, click the Debug Project ( <span class="image"><img src="images/debug-project-btn.png" alt="debug project btn"></span> ) button. A debugging session is activated for the project, and the application&#8217;s index page opens in the browser.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click the bakery category in the index page. (You know that the ID for the bakery category is <code>3</code>).</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Return to the IDE, and note that the debugger is suspended on the line containing the breakpoint. When suspended, the margin shows a green arrow on the breakpoint ( <span class="image"><img src="images/debugger-suspended-icon.png" alt="debugger suspended icon"></span> ), and the line displays with green background.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Open the Variables window (Ctrl-Shift-1) and expand the Implicit Objects &gt; pageContext &gt; request &gt; queryString node. Inspect the variable value and note that the value is <code>3</code>, corresponding to the category ID from your selection.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Press the Finish Debugger Session ( <span class="image"><img src="images/finish-debugger-session-btn.png" alt="finish debugger session btn"></span> ) button to terminate the debugger session.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_display_title_heading_above_product_table">Display title heading above product table</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following SQL query to the top of the file, underneath the query you just implemented. (New query is shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;sql:query var="categories" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category
&lt;/sql:query&gt;

*&lt;sql:query var="selectedCategory" dataSource="jdbc/affablebean"&gt;
    SELECT name FROM category WHERE id = ?
    &lt;sql:param value="${pageContext.request.queryString}"/&gt;
&lt;/sql:query&gt;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Use JSP EL syntax to extract the category name from the query and display it in the page. Make the following change to the <code>&lt;p id="categoryTitle"&gt;</code> element. (Displayed in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;p id="categoryTitle"&gt;*${selectedCategory.rows[0].name}*&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the result from the <code>selectedCategory</code> query contains only one item (i.e., user can select only one category), you can retrieve the first row of the result set using <code>selectedCategory*.rows[0]<strong></code>. If a user selects the 'meats' category for example, the returned expression would be <code>{name=meats}</code>. You could then access the category name with <code>${selectedCategory.rows[0]</strong>.name*}</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Save (Ctrl-S; ⌘-S on Mac) changes made to the file.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Return to the browser and refresh the category page. The name of the selected category now displays above the product table.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/category-page-bakery-title.png" alt="category page bakery title">
</div>
<div class="title">Figure 27. The name of the selected category dynamically displays above the product table</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> As demonstrated in this and the previous step, you do not need to explicitly recompile, deploy, and run the project with each change to your code base. The IDE provides a Deploy on on Save feature, which is enabled for Java web projects by default. To verify that the feature is activated, right-click your project node in the Projects window and choose Properties. In the Project Properties window, click the Run category and examine the 'Deploy on Save' option.</p>
</div>
</div>
<div class="sect3">
<h4 id="_display_product_details_within_the_table">Display product details within the table</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following SQL query to the top of the file, underneath the previous queries you implemented. (New query is shown in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;sql:query var="categories" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM category
&lt;/sql:query&gt;

&lt;sql:query var="selectedCategory" dataSource="jdbc/affablebean"&gt;
    SELECT name FROM category WHERE id = ?
    &lt;sql:param value="${pageContext.request.queryString}"/&gt;
&lt;/sql:query&gt;

*&lt;sql:query var="categoryProducts" dataSource="jdbc/affablebean"&gt;
    SELECT * FROM product WHERE category_id = ?
    &lt;sql:param value="${pageContext.request.queryString}"/&gt;
&lt;/sql:query&gt;*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Between the <code>&lt;table id="productTable"&gt;</code> tags, replace the existing static table row placeholders (<code>&lt;tr&gt;</code> tags) with the following <code>&lt;c:forEach&gt;</code> loop. (Changes are displayed in <strong>bold</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;table id="productTable"&gt;

    *&lt;c:forEach var="product" items="${categoryProducts.rows}" varStatus="iter"&gt;

        &lt;tr class="${((iter.index % 2) == 0) ? 'lightBlue' : 'white'}"&gt;
            &lt;td&gt;
                &lt;img src="${initParam.productImagePath}${product.name}.png"
                    alt="${product.name}"&gt;
            &lt;/td&gt;
            &lt;td&gt;
                ${product.name}
                &lt;br&gt;
                &lt;span class="smallText"&gt;${product.description}&lt;/span&gt;
            &lt;/td&gt;
            &lt;td&gt;
                &amp;amp;euro; ${product.price} / unit
            &lt;/td&gt;
            &lt;td&gt;
                &lt;form action="addToCart" method="post"&gt;
                    &lt;input type="hidden"
                           name="productId"
                           value="${product.id}"&gt;
                    &lt;input type="submit"
                           value="add to cart"&gt;
                &lt;/form&gt;
            &lt;/td&gt;
        &lt;/tr&gt;

    &lt;/c:forEach&gt;*

&lt;/table&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in the above snippet an EL expression is used to determine the background color for table rows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">class="${((iter.index % 2) == 0) ? 'lightBlue' : 'white'}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The API documentation for the <code><a href="http://java.sun.com/products/jsp/jstl/1.1/docs/tlddocs/c/forEach.html">+&lt;c:forEach&gt;+</a></code> tag indicates that the <code>varStatus</code> attribute represents an object that implements the <code><a href="http://java.sun.com/products/jsp/jstl/1.1/docs/api/javax/servlet/jsp/jstl/core/LoopTagStatus.html">+LoopTagStatus+</a></code> interface. Therefore, <code>iter.index</code> retrieves the index of the current round of the iteration. Continuing with the expression, <code>(iter.index % 2) == 0)</code> evaluates the remainder when <code>iter.index</code> is divided by <code>2</code>, and returns a boolean value based on the outcome. Finally, an EL conditional operator (<code>? :</code>) is used to set the returned value to <code>lightBlue</code> if true, <code>white</code> otherwise.</p>
</div>
<div class="paragraph">
<p>For a description of JSP Expression Language operators, see the Java EE 5 Tutorial: <a href="http://download.oracle.com/docs/cd/E17477_01/javaee/5/tutorial/doc/bnahq.html#bnaik">JavaServer Pages Technology &gt; Unified Expression Language &gt; Operators</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Save (Ctrl-S; ⌘-S on Mac) changes made to the file.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Return to the browser and refresh the category page. Product details now display within the table for the selected category.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/category-page-bakery-product-table.png" alt="category page bakery product table">
</div>
<div class="title">Figure 28. Product details are dynamically displayed for the selected category</div>
</div>
<div class="paragraph">
<p>You have now completed this tutorial unit. In it, you explored how to connect your application to the database by setting up a connection pool and data source on the server, then referenced the data source from the application. You also created several context parameters, and learned how to access them from JSP pages. Finally, you implemented JSTL tags into the application&#8217;s web pages in order to dynamically retrieve and display database data.</p>
</div>
<div class="paragraph">
<p>You can download and examine <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot3.zip">snapshot 3</a> if you&#8217;d like to compare your work with the solution project. The solution project contains enhancements to the HTML markup and stylesheet in order to properly display all provided images. It also provides welcome page text, and a basic implementation for the page footer.</p>
</div>
<div class="paragraph">
<p><a href="../../../../community/mailing-lists.html">Send Us Your Feedback</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshoot">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are having problems, see the troubleshooting tips below. If you continue to have difficulty, or would like to provide constructive feedback, use the Send us Your Feedback link.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You receive the following exception:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">org.apache.jasper.JasperException: PWC6188: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a <a href="https://bz.apache.org/netbeans/show_bug.cgi?id=188406">known issue</a> for NetBeans IDE 6.9. Try to deploy the project, then access the file by typing its URL in the browser. For example, if you are trying to view <code>testDataSource.jsp</code> in a browser, enter <code>link:http://localhost:8080/AffableBean/test/testDataSource.jsp</code> in the browser&#8217;s URL field directly. Otherwise, add the IDE&#8217;s JSTL 1.1 library to the project. In the Projects window, right-click the Libraries node and choose Add Library. Select JSTL 1.1. For more information, see: <a href="http://forums.netbeans.org/topic28571.html">http://forums.netbeans.org/topic28571.html</a>.
* You receive the following exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">javax.servlet.ServletException: javax.servlet.jsp.JspException: Unable to get connection, DataSource invalid: "java.sql.SQLException: Error in allocating a connection. Cause: Class name is wrong or classpath is not set for : com.mysql.jdbc.jdbc2.optional.MysqlDataSource"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can occur when the MySQL driver has not been added to the domain <code>lib</code> folder. (Note that after adding, it is necessary to restart the server if it is already running.)
* You receive the following exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">javax.servlet.ServletException: javax.servlet.jsp.JspException: Unable to get connection, DataSource invalid: "java.sql.SQLException: No suitable driver found for jdbc/affablebean"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can occur when the <code>jdbc/affablebean</code> resource reference hasn&#8217;t been added to the <code>web.xml</code> deployment descriptor.
* You receive the following exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">javax.servlet.ServletException: javax.servlet.jsp.JspException: Unable to get connection, DataSource invalid: "java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: Access denied for user 'root'@'localhost' (using password: YES)"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can occur when you are using an incorrect username/password combination. Make sure the username and password you use to connect to the MySQL server are correctly set for your connection pool in the <code>sun-resources.xml</code> file. Also, check that the username and password are correctly set for the connection pool in the GlassFish Administration Console.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seeAlso">See Also</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_netbeans_resources">NetBeans Resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../../ide/mysql.html">Connecting to a MySQL Database</a></p>
</li>
<li>
<p><a href="../../web/quickstart-webapps.html">Introduction to Developing Web Applications</a></p>
</li>
<li>
<p><a href="../../web/mysql-webapp.html">Creating a Simple Web Application Using a MySQL Database</a></p>
</li>
<li>
<p><a href="../../ide/database-improvements-screencast.html">Screencast: Database Support in NetBeans IDE</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_mysql_resources">MySQL Resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://dev.mysql.com/librarian/">The MySQL Community Librarian</a></p>
</li>
<li>
<p><a href="http://dev.mysql.com/doc/refman/5.1/en/">MySQL 5.1 Reference Manual</a></p>
</li>
<li>
<p><a href="http://www.mysql.com/why-mysql/java/#howtos">MySQL and Java</a></p>
</li>
<li>
<p><a href="http://forums.mysql.com/">MySQL Forums</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_jsp_el_resources">JSP &amp; EL Resources</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Product Page:</strong> <a href="http://java.sun.com/products/jsp/">JavaServer Pages Technology</a></p>
</li>
<li>
<p><strong>Specification Download:</strong> <a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr245/index.html">JSR 245: JSP and EL 2.2 Maintenance Release</a></p>
</li>
<li>
<p><strong>API Documentation:</strong> <a href="http://java.sun.com/products/jsp/2.1/docs/jsp-2_1-pfd2/index.html">JavaServer Pages 2.1 API Documentation</a></p>
</li>
<li>
<p><strong>Supporting Documentation:</strong> <a href="http://download.oracle.com/docs/cd/E17477_01/javaee/5/tutorial/doc/bnagx.html">Java EE 5 Tutorial - Chapter 5: JavaServer Pages Technology</a></p>
</li>
<li>
<p><strong>Syntax Reference:</strong> <a href="http://java.sun.com/products/jsp/syntax/2.0/syntaxref20.html">JavaServer Pages 2.0 Syntax Reference</a></p>
</li>
<li>
<p><strong>Official Forum:</strong> <a href="http://forums.sun.com/forum.jspa?forumID=45">Web Tier APIs - JavaServer Pages (JSP) and JSTL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_jstl_resources">JSTL Resources</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Product Page:</strong> <a href="http://java.sun.com/products/jsp/jstl/">JavaServer Pages Standard Tag Library</a></p>
</li>
<li>
<p><strong>Specification Download:</strong> <a href="http://jcp.org/aboutJava/communityprocess/final/jsr052/index2.html">JSR 52: JSTL 1.2 Maintenance Release</a></p>
</li>
<li>
<p><strong>Implementation Download:</strong> <a href="http://jstl.dev.java.net/download.html">GlassFish JSTL Project Download</a></p>
</li>
<li>
<p><strong>Tag Library Documentation:</strong> <a href="http://java.sun.com/products/jsp/jstl/1.1/docs/tlddocs/index.html">JSTL 1.1 Tag Reference</a></p>
</li>
<li>
<p><strong>API Documentation:</strong> <a href="http://java.sun.com/products/jsp/jstl/1.1/docs/api/index.html">JSTL 1.1 API Reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_technical_articles_reference_cards">Technical Articles &amp; Reference Cards</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://java.sun.com/developer/technicalArticles/javaserverpages/JSP20/">Developing Web Applications With JavaServer Pages 2.0</a></p>
</li>
<li>
<p><a href="http://java.sun.com/developer/technicalArticles/J2EE/jsp_21/">Web Tier to Go With Java EE 5: Summary of New Features in JSP 2.1 Technology</a></p>
</li>
<li>
<p><a href="http://java.sun.com/products/jsp/reference/techart/unifiedEL.html">Unified Expression Language</a></p>
</li>
<li>
<p><a href="http://today.java.net/pub/a/today/2003/10/07/jstl1.html">Practical JSTL, Part 1</a></p>
</li>
<li>
<p><a href="http://www.ibm.com/developerworks/java/library/j-jstl0520/index.html">A JSTL primer, Part 4: Accessing SQL and XML content</a></p>
</li>
<li>
<p><a href="http://java.sun.com/products/jsp/syntax/2.0/card20.pdf">JavaServer Pages v2.0 Syntax Card</a></p>
</li>
<li>
<p><a href="http://refcardz.dzone.com/refcardz/essential-jsp-expression">Essential JSP Expression Language Reference Card</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/docs/cd/E17409_01/javase/tutorial/jdbc/index.html">The Java Tutorials: JDBC Database Access</a></p>
</li>
<li>
<p><a href="http://java.sun.com/developer/Books/jdbc/">Database Programming with JDBC and Java, Second Edition</a></p>
</li>
<li>
<p><a href="http://refcardz.dzone.com/refcardz/essential-jsp-expression">Essential JSP Expression Language Reference Card</a></p>
</li>
<li>
<p><a href="http://java.sun.com/products/jndi/tutorial/">The JNDI Tutorial</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/ecommerce/connect-db.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
