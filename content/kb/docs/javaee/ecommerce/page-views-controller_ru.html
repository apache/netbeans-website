
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Учебный курс по электронной коммерции в NetBeans. Подготовка представлений страниц и сервлета Controller</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Учебный курс по электронной коммерции в NetBeans. Подготовка представлений страниц и сервлета Controller - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Учебный курс по электронной коммерции в NetBeans. Подготовка представлений страниц и сервлета Controller">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Учебный курс по электронной коммерции в NetBeans. Подготовка представлений страниц и сервлета Controller</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/ecommerce/page-views-controller_ru.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#createProjectFiles">Создание файлов проекта</a>
<ul class="sectlevel2">
<li><a href="#jsp">Создание страниц JSP</a></li>
<li><a href="#css">Создание таблицы стилей</a></li>
</ul>
</li>
<li><a href="#implementHTML">Создание содержимого HTML и CSS</a>
<ul class="sectlevel2">
<li><a href="#_поддержка_правки_html_в_среде_netbeans">Поддержка правки HTML в среде NetBeans</a></li>
<li><a href="#_поддержка_css_в_среде_netbeans">Поддержка CSS в среде NetBeans</a></li>
<li><a href="#tipsTricks">Полезные советы</a></li>
</ul>
</li>
<li><a href="#view">Размещение страниц JSP в папке WEB-INF</a></li>
<li><a href="#jspf">Создание верхнего и нижнего колонтитула</a></li>
<li><a href="#dd">Добавление директивы к дескриптору развертывания</a></li>
<li><a href="#controller">Создание сервлета Controller</a></li>
<li><a href="#implement">Реализация сервлета Controller</a>
<ul class="sectlevel2">
<li><a href="#_изменение_шаблонов_файлов_с_помощью_диспетчера_шаблонов_среды_ide">Изменение шаблонов файлов с помощью диспетчера шаблонов среды IDE</a></li>
</ul>
</li>
<li><a href="#seeAlso">Дополнительные сведения</a>
<ul class="sectlevel2">
<li><a href="#_учебные_курсы_по_среде_netbeans">Учебные курсы по среде NetBeans</a></li>
<li><a href="#_книги_по_среде_netbeans">Книги по среде NetBeans</a></li>
<li><a href="#_внешние_ресурсы">Внешние ресурсы</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="intro.html">Введение</a></p>
</li>
<li>
<p><a href="design.html">Проектирование приложения</a></p>
</li>
<li>
<p><a href="setup-dev-environ.html">Настройка среды разработки</a></p>
</li>
<li>
<p><a href="data-model.html">Проектирование модели данных</a></p>
</li>
<li>
<p><strong>Подготовка представлений страниц и сервлета контроллера</strong></p>
</li>
<li>
<p><a href="connect-db.html">Подключение приложения к базе данных</a></p>
</li>
<li>
<p><a href="entity-session.html">Добавление классов сущностей и сеансных компонентов</a></p>
</li>
<li>
<p><a href="manage-sessions.html">Управление сеансами</a></p>
</li>
<li>
<p><a href="transaction.html">Интеграция транзакционной бизнес-логики</a></p>
</li>
<li>
<p><a href="language.html">Добавление поддержки языков</a></p>
</li>
<li>
<p><a href="security.html">Обеспечение безопасности приложений</a></p>
</li>
<li>
<p><a href="test-profile.html">Тестирование и профилирование</a></p>
</li>
<li>
<p><a href="conclusion.html">Заключение</a></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images_www/articles/68/netbeans-stamp-68-69.png" alt="netbeans stamp 68 69">
</div>
<div class="title">Figure 1. Содержимое на этой странице применимо к IDE NetBeans, версиям 6.8 и 6.9</div>
</div>
<div class="paragraph">
<p>В учебном курсе показано создание файлов проекта в среде IDE и рассмотрены некоторые возможности, применяемые при работе с HTML и CSS. После создания необходимых файлов проекта, начните создание внешнего интерфейса приложения. Для этого поместите файлы JSP в нужные позиции в структуре проекта, создайте верхний и нижний колонтитулы, которые будут применяться ко всем представлениям, и создайте сервлет Controller для обработки входящих запросов.</p>
</div>
<div class="paragraph">
<p>Также в этой главе для приложения будет создан дескриптор веб-развертывания (файл <code>web.xml</code>). Дескриптор развертывания может использоваться для указания конфигурационной информации, считываемой сервером при развертывании. Хотя <a href="http://jcp.org/en/jsr/detail?id=315">спецификации сервлетов версии 3.0</a>, включенные в Java EE 6, позволяют использовать аннотации класса вместо XML, дескриптор развертывания, тем не менее, может потребоваться для настройки определенных элементов приложения. В этой главе в частности будут добавлены директивы для определения верхнего и нижнего колонтитулов и указания, к каким файлам они будут применяться.</p>
</div>
<div class="paragraph">
<p>Одна из целей этого учебного курса — создать страницы JSP, соответствующие представлениям, указанным в проекте приложения. В соответствии с <a href="design.html#mockups">макетами страниц</a> и <a href="design.html#business">блок-схемой процесса</a>, реализация макетов страниц начинается с создания <em>заполнителей</em> всех визуальных и функциональных компонентов. В этом учебном курсе приведено руководство по реализации макета главной страницы. Перечисленные ниже действия можно использовать для создания других страниц по своему усмотрению или можно <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot1.zip">загрузить снимок 1 проекта</a>, на котором представлены макеты всех страниц.</p>
</div>
<div class="paragraph">
<p>Можно просмотреть интерактивную демонстрацию приложения, которое создается в этом учебном курсе: <a href="http://dot.netbeans.org:8080/AffableBean/">Демонстрация приложения электронной коммерции NetBeans</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Программное обеспечение или материал</th>
<th class="tableblock halign-left valign-top">Требуемая версия</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Набор Java, версия 6.8 или 6.9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">версия 6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#glassFish">Сервер GlassFish</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3 или Open Source Edition 3.0.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Примечания:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The IDE NetBeans requires the Java Development Kit (JDK) to run properly. Если указанные материалы не установлены, JDK следует загрузить и установить в первую очередь.</p>
</li>
<li>
<p>The IDE NetBeans Java Bundle includes Java Web and EE technologies, which are required for the application you build in this tutorial.</p>
</li>
<li>
<p>The IDE NetBeans Java Bundle also includes the GlassFish server, which you require for this tutorial. Можно <a href="https://glassfish.dev.java.net/public/downloadsindex.html">загрузить сервер GlassFish отдельно</a>, но версия, предоставляемая с NetBeans, имеет преимущество, так как автоматически зарегистрирована в среде IDE.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="createProjectFiles">Создание файлов проекта</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для создания файлов проекта воспользуйтесь мастером создания файлов среды IDE. Вы можете нажать кнопку 'Создать файл' ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ), нажать Ctrl-N (⌘+N в Mac) или в окне 'Проекты' щелкните правой кнопкой мыши узел папку, в которой будет содержаться новый файл, и выберите папку 'Создать' &gt; [тип_файла]. В следующих подразделах будут созданы страницы JSP и таблица стилей проекта.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jsp">Создание страниц JSP</a></p>
</li>
<li>
<p><a href="#css">Создание таблицы стилей</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="jsp">Создание страниц JSP</h3>
<div class="paragraph">
<p>Начните работу с создания страниц JSP, соответствующих представлениям, отображенным на <a href="design.html#business">блок-схеме</a>.</p>
</div>
<div class="paragraph">
<p>Страница <code>index.jsp</code>, созданная средой IDE, станет главной страницей проекта. Создайте страницы JSP для оставшихся представлений и на время разместите их в корне проекта вместе с <code>index.jsp</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для открытия мастера создания файлов нажмите кнопку 'Создать файл' ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ).</p>
</li>
<li>
<p>Выберите категорию Web, затем элемент JSP и нажмите кнопку "Далее".</p>
</li>
<li>
<p>Введите имя файла &#8220;category&#8221;. Обратите внимание, что в поле "Местоположение" указано значение <code>Web Pages</code>, означающее, что файл будет создан в корневом веб-узле проекта. Это соответствует папке проекта <code>web</code>, что можно позже проверить в окне "Файлы" среды IDE.</p>
</li>
<li>
<p>Нажмите кнопку "Завершить". В среде IDE создается и открывается в редакторе новая страница JSP.</p>
</li>
<li>
<p>Повторите действия 1 - 4 для создания оставшихся страниц <code>cart.jsp</code>, <code>checkout.jsp</code> и <code>confirmation.jsp</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После завершения окно "Проекты" выглядит следующим образом:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projects-win-views.png" alt="projects win views">
</div>
<div class="title">Figure 2. Представления содержатся в папке 'WEB-INF/view/'</div>
</div>
</div>
<div class="sect2">
<h3 id="css">Создание таблицы стилей</h3>
<div class="paragraph">
<p>Создайте файл CSS, содержащий все стили приложения.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне 'Проекты' щелкните правой кнопкой мыши узел 'Веб-страницы' и выберите 'Создать' &gt; 'Папка'.</p>
</li>
<li>
<p>В мастере создания новой папки назовите папку &#8220;css&#8221; и нажмите кнопку "Готово".</p>
</li>
<li>
<p>Щелкните правой кнопкой мыши папку <code>css</code> и выберите в меню "Создать" пункт "Каскадная таблица стилей". (Если пункта "Каскадная таблица стилей" нет, выберите "Прочее". В мастере создания файлов выберите категорию Web, затем "Каскадная таблица стилей" и нажмите кнопку "Далее".)</p>
</li>
<li>
<p>Назовите таблицу стилей <code>affablebean</code> и нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После этого файл <code>affablebean.css</code> отображается в окне "Проекты".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projects-win-css.png" alt="projects win css" width="Проекты" отображается новая папка 'css' и таблица стилей"">
</div>
<div class="title">Figure 3. В окне </div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementHTML">Создание содержимого HTML и CSS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В этом разделе создаются представления страниц для соответствия предлагаемым <a href="design.html#mockups">макетам страниц</a>. Они будут основой, к которой можно добавить динамическое содержимое на последующих стадиях разработки. Для этого используются редакторы HTML и CSS среды IDE, а также дополнительные окна поддержки CSS.</p>
</div>
<div class="paragraph">
<p>*Замечание о совместимости браузеров.*В этом учебном курсе используется браузер Firefox 3 и <em>не</em> гарантируется совместимость разметки страницы с другими современными браузерами. В реальности при работе с технологиями создания внешнего интерфейса (HTML, CSS, JavaScript) необходимо принимать меры для обеспечения корректного отображения веб-страниц во всех версиях браузеров, которые могут использоваться посетителями (как правило, Internet Explorer, Firefox, Safari, Chrome и Opera). При работе в среде IDE можно указать, в каком браузере должно открываться приложение. Выберите в меню "Сервис" пункт "Параметры" (в Mac OS — пункт "Параметры" в меню NetBeans) и под вкладкой "Общее" в окне "Параметры" выберите нужный браузер в выпадающем списке "Веб-браузер". Среда IDE обнаруживает браузеры, установленные в местоположении по умолчанию. Если установленный на компьютере браузер не отображается, нажмите кнопку "Правка" и зарегистрируйте браузер вручную.</p>
</div>
<div class="paragraph">
<p>Подготовка отображения веб-страниц, как правило, итерационный процесс, при котором требуется постоянная обратная связь с потребителем. Следующие действия демонстрируют средства среды IDE на примере <a href="design.html#index">макета главной страницы</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне 'Проекты' дважды щелкните <code>index.jsp</code>, чтобы открыть его в редакторе.</p>
</li>
<li>
<p>Вначале создайте теги <code>&lt;div&gt;</code> для основных областей страницы. Можно создать пять тегов: четыре для основных областей (верхний и нижний колонтитулы, левый и правый столбец) и пятый, содержащий все остальные. Удалите весь текст внутри тегов <code>&lt;body&gt;</code> и замените его на следующий. Новый код показан <strong>полужирным шрифтом</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;body&gt;
    *&lt;div id="main"&gt;
        &lt;div id="header"&gt;
            header
        &lt;/div&gt;

        &lt;div id="indexLeftColumn"&gt;
            left column
        &lt;/div&gt;

        &lt;div id="indexRightColumn"&gt;
            right column
        &lt;/div&gt;

        &lt;div id="footer"&gt;
            footer
        &lt;/div&gt;
    &lt;/div&gt;*
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Добавьте ссылку на таблицу стилей в заголовке страницы и измените текст заголовка.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
    *&lt;link rel="stylesheet" type="text/css" href="css/affablebean.css"&gt;*
    &lt;title&gt;*The Affable Bean*&lt;/title&gt;
&lt;/head&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Откройте в редакторе таблицу стилей <code>affablebean.css</code>. Вначале создайте правила для идентификаторов созданных тегов <code>&lt;div&gt;</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Для указания размеров областей используйте свойства <code>width</code> и <code>height</code>.</p>
</li>
<li>
<p>Чтобы отличать области при просмотре страницы, используйте свойство <code>background</code>.</p>
</li>
<li>
<p>Для горизонтального центрирования четырех областей на странице, можно добавить параметр <code>margin: 20px auto</code> к правилу <code>body</code>. (<code>20px</code> относится к верхнему и нижнему полю; <code>auto</code> создает равные промежутки слева и справа.) Затем добавьте параметр <code>float: left</code> к левому и правому столбцу.</p>
</li>
<li>
<p>В нижнем колонтитуле требуется параметр <code>clear: left</code>, чтобы его верхняя граница отображалась после нижних границ выровненных влево и расположенных выше областей (т.е. левого и правого столбца).</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">body {
    font-family: Arial, Helvetica, sans-serif;
    width: 850px;
    text-align: center;
    margin: 20px auto;
}

#main { background: #eee }

#header {
    height: 250px;
    background: #aaa;
}

#footer {
    height: 60px;
    clear: left;
    background: #aaa;
}

#indexLeftColumn {
    height: 400px;
    width: 350px;
    float: left;
    background: #ccc;
}

#indexRightColumn {
    height: 400px;
    width: 500px;
    float: left;
    background: #eee;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Нажмите кнопку 'Запустить проект' (<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) на главной панели инструментов IDE. Измененные файлы проекта автоматически сохраняются, код Java компилируется, проект упаковывается и развертывается в GlassFish, затем открывается браузер для просмотра текущего состояния страницы приветствия.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-page.png" alt="index page">
</div>
<div class="title">Figure 4. Выполните проект для просмотра текущего состояния страниц</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Теперь создайте заполнитель для компонентов страницы в каждой из четырех видимых областей. Начните с верхнего колонтитула. Согласно <a href="design.html#index">макету страницы приветствия</a>, верхний колонтитул должен содержать следующие компоненты:</p>
<div class="ulist">
<ul>
<li>
<p>Логотип</p>
</li>
<li>
<p>Текст логотипа</p>
</li>
<li>
<p>Корзина покупок (элемент оформления)</p>
</li>
<li>
<p>Переключатель языка
Внесите в файл <code>index.jsp</code> следующие изменения. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="header"&gt;
    *&lt;div id="widgetBar"&gt;

        &lt;div class="headerWidget"&gt;
            [ language toggle ]
        &lt;/div&gt;

        &lt;div class="headerWidget"&gt;
            [ shopping cart widget ]
        &lt;/div&gt;

    &lt;/div&gt;

    &lt;a href="#"&gt;
        &lt;img src="#" id="logo" alt="Affable Bean logo"&gt;
    &lt;/a&gt;

    &lt;img src="#" id="logoText" alt="the affable bean"&gt;*
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В этом коде элемент <code>&lt;div id="widgetBar"&gt;</code> будет содержать переключатель языков и корзину покупок.</p>
</div>
<div class="sect2">
<h3 id="_поддержка_правки_html_в_среде_netbeans">Поддержка правки HTML в среде NetBeans</h3>
<div class="paragraph">
<p>При работе в редакторе пользуйтесь поддержкой HTML среды IDE. В дополнение к обычной подсветке синтаксиса, позволяющей отличать друг от друга теги, атрибуты, значения атрибутов и текст, существует также много других возможностей.</p>
</div>
<div class="paragraph">
<p>При вводе тегов и атрибутов можно нажатием комбинации клавиш CTRL+ПРОБЕЛ вызывать автозавершение кода и документацию. Среда IDE отображает список предположений, из которого можно выбрать вариант, а также окно документации с определением выбранного элемента и примерами кода.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/documentation-popup.png" alt="documentation popup">
</div>
<div class="title">Figure 5. Для просмотра окон автозавершения кода и документации нажмите сочетание клавиш CTRL+ПРОБЕЛ.</div>
</div>
<div class="paragraph">
<p>При обнаружении ошибок в коде в среде IDE отображаются предупреждения, сообщения об ошибках и, в некоторых случаях, предположения. Предупреждения отображаются желтым цветом, а ошибки — красным. Можно навести указатель мыши на выбранную область для просмотра сообщения во всплывающем окне.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/html-hint.png" alt="html hint">
</div>
<div class="title">Figure 6. Наведите указатель мыши дляч просмотра подсказки с предупреждением</div>
</div>
<div class="paragraph">
<p>Также доступно множество комбинаций клавиш. Выберите в основном меню "Справка" пункт "Таблица сочетаний клавиш".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Создайте в таблице стилей правила для новых идентификаторов и классов. После правила <code>header</code> добавьте следующие правила. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#header {
    height: 250px;
    background: #aaa;
}

*#logo {
    height: 155px;
    width: 155px;
    float: left;
    margin-left: 30px;
    margin-top: -20px;
}

#logoText {
    float: left;
    margin: 20px 0 0 70px;
    /* font styles apply to text within alt tags */
    font-family: 'American Typewriter', Courier, monospace;
    font-size: 50px;
    color: #333;
}

#widgetBar {
    height: 50px;
    width: 850px;
    float: right;
    background: #ccc;
}

.headerWidget {
    width: 194px;
    margin: 20px 2px;
    font-size: small;
    float: right;
    line-height: 25px;
    background: #aaa;
}*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для правила <code>logo</code> примените свойства <code>margin-left</code> и <code>margin-top</code> для указания позиции компонента на странице.</p>
</div>
<div class="paragraph">
<p>Если требуются сведения о свойствах в этом коде, поместите курсор на нужное свойство и нажмите комбинацию клавиш CTRL+ПРОБЕЛ для вызова всплывающего окна с документацией.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/css-doc-support.png" alt="css doc support">
</div>
<div class="title">Figure 7. Нажмите Ctrl-Space в свойстве CSS для вызова поддержки документации</div>
</div>
<div class="paragraph">
<p>Чтобы увидеть, как свойство действует на страницу, можно закомментировать его и обновить страницу в браузере. Чтобы закомментировать наведите курсор на строку или выделите блок кода, а затем нажмите Ctrl-/ (⌘-/ в Mac).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Сохраните (Ctrl-S; ⌘-S в Mac) файлы <code>index.jsp</code> и <code>affablebean.css</code>, затем перейдите к браузеру и обновите страницу для просмотра текущего состояния.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Служебная программа 'Развертывать при сохранении' в IDE автоматически активируется для веб-проектов Java. Это означает, что при каждом сохранении файла, он автоматически компилируется (если это класс Java или страница JSP), и выполняется упаковывание и развертывание проекта на сервере. Поэтому при внесении изменений в HTML и CSS нет необходимости вручную перезапускать проект для просмотра обновленной версии в браузере. Просто сохраните файлы, перейдите к браузеру и обновите страницу.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-page2.png" alt="index page2">
</div>
<div class="title">Figure 8. Заполнители для заголовков отображаются при запуске проекта</div>
</div>
<div class="paragraph">
<p>В предыдущих действиях можно уловить закономерность. Для каждой области страницы выполняется три действия.
1. Создание структуры с помощью HTML.
2. Создание набора стилей для определения внешнего вида.
3. Просмотр страницы для анализа результатов этих изменений.
Выполняя эти действия, реализуем компоненты в оставшихся областях.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Создайте заполнители для компонентов в правом столбце. В соответствии с <a href="design.html#index">макетом страницы приветствия</a>, в правом столбце расположены четыре блока одинакового размера.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Создайте структуру четырех блоков. Вставьте следующий текст между тегами <code>&lt;div id="indexRightColumn"&gt;</code>. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="indexRightColumn"&gt;
    *&lt;div class="categoryBox"&gt;
        &lt;a href="#"&gt;
            &lt;span class="categoryLabelText"&gt;dairy&lt;/span&gt;
        &lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="categoryBox"&gt;
        &lt;a href="#"&gt;
            &lt;span class="categoryLabelText"&gt;meats&lt;/span&gt;
        &lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="categoryBox"&gt;
        &lt;a href="#"&gt;
            &lt;span class="categoryLabelText"&gt;bakery&lt;/span&gt;
        &lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="categoryBox"&gt;
        &lt;a href="#"&gt;
            &lt;span class="categoryLabelText"&gt;fruit &amp;amp; veg&lt;/span&gt;
        &lt;/a&gt;
    &lt;/div&gt;*
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Добавьте в файл <code>affablebean.css</code> правила стилей для новых классов <code>categoryBox</code> и <code>categoryLabelText</code>. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#indexRightColumn {
    height: 400px;
    width: 500px;
    float: left;
    background: #eee;
}

*.categoryBox {
    height: 176px;
    width: 212px;
    margin: 21px 14px 6px;
    float: inherit;
    background: #ccc;
}

.categoryLabelText {
    line-height: 150%;
    font-size: x-large;
}*</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_поддержка_css_в_среде_netbeans">Поддержка CSS в среде NetBeans</h3>
<div class="paragraph">
<p>Рассмотрим два окна, которые важно использовать при работе с таблицами стилей. Окно "Предварительный просмотр CSS" позволяет просмотреть правила стилей так, как они отображаются в браузере. Чтобы открыть это окно, выберите в главном меню "Окно" пункт "Прочее", затем "Предварительный просмотр CSS". Если поместить курсор внутри правила стиля в редакторе, пример текста в окне "Предварительный просмотр CSS" автоматически обновляется в соответствии с указанными в этом правиле свойствами.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/css-preview.png" alt="css preview">
</div>
<div class="title">Figure 9. Используйте 'Окно предварительного просмотра CSS' для просмотра визуализированных правил стилей</div>
</div>
<div class="paragraph">
<p>Окно "Конструктор стилей CSS" позволяет не набирать правила стилей вручную. Чтобы открыть это окно, выберите в главном меню "Окно" пункт "Прочее", затем "Конструктор стилей CSS". С помощью этого интерфейса можно создавать правила, выбирая свойства и значения в графическом интерфейсе.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/style-builder.png" alt="style builder">
</div>
<div class="title">Figure 10. Используйте 'Конструктор стилей CSS' для создания правил стилей</div>
</div>
<div class="paragraph">
<p>Так же как "Предварительный просмотр CSS", "Конструктор стилей CSS" синхронизирован с редактором. При выборе свойства в "Конструкторе стилей CSS" правило автоматически обновляется в редакторе. Аналогично, при внесении изменений в редакторе выбранные свойства в "Конструкторе стилей CSS" немедленно обновляются.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Сохраните (Ctrl-S; ?-S в Mac) файлы <code>index.jsp</code> и <code>affablebean.css</code>, затем перейдите к браузеру и обновите страницу для просмотра текущего состояния.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-page3.png" alt="index page3">
</div>
<div class="title">Figure 11. Заполнители для заголовков и правого столбца отображаются при запуске проекта</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>В левом столбце и нижнем колонтитуле требуются заполнители только для статического текста, поэтому добавьте их одновременно.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Вставьте между тегами <code>&lt;div id="indexLefttColumn"&gt;</code> и <code>&lt;div id="footer"&gt;</code> следующий код. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="indexLeftColumn"&gt;
    *&lt;div id="welcomeText"&gt;
        &lt;p&gt;[ welcome text ]&lt;/p&gt;
    &lt;/div&gt;*
&lt;/div&gt;

...

&lt;div id="footer"&gt;
    *&lt;hr&gt;
    &lt;p id="footerText"&gt;[ footer text ]&lt;/p&gt;*
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Внесите изменения в таблицу стилей <code>affablebean.css</code>. Нет необходимости учитывать все новые идентификаторы и классы, можно улучшить внешний вид позже, после получения от клиента текста и изображений.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Тег горизонтальной линии (<code>&lt;hr&gt;</code>) занимает всю ширину родительского элемента (<code>&lt;div id="footer"</code>). Поэтому для изменения ширины линии в соответствии с макетом следует изменить ширину элемента <code>&lt;div id="footer"&gt;</code>. Новый код отображается <strong>полужирным шрифтом</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#footer {
    height: 60px;
    *width: 350px;*
    clear: left;
    background: #aaa;
}

*hr {
    border: 0;
    background-color: #333;
    height: 1px;
    margin: 0 25px;
    width: 300px;
}*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="14">
<li>
<p>Сохраните (Ctrl-S; ?-S в Mac) файлы <code>index.jsp</code> и <code>affablebean.css</code>, затем перейдите к браузеру и обновите страницу для просмотра текущего состояния.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/index-page4.png" alt="index page4">
</div>
<div class="title">Figure 12. Отображаются заполнители для левого столбца и нижнего колонтитула</div>
</div>
<div class="paragraph">
<p>Страница приветствия готова. Созданы все необходимые заполнители для компонентов, которые будут добавлены на страницу.</p>
</div>
<div class="paragraph">
<p>Начальный дизайн страницы приветствия приложения выполнен. Созданы все заполнители для компонентов страницы. Позже в этом учебном курсе, когда будет применяться динамическая логика для представлений страниц, можно будет просто включить выражения JSTL и EL в эти заполнители.</p>
</div>
<div class="paragraph">
<p>Самостоятельно реализуйте начальный проект для остальных страниц в соответствии с <a href="design.html#mockups">макетами</a>. Для этого следуйте шаблону:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Создайте теги <code>&lt;div&gt;</code> для основных областей страницы.</p>
</li>
<li>
<p>Для каждой области страницы выполните следующие действия:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Создание структуры с помощью HTML.</p>
</li>
<li>
<p>Создание набора стилей для определения внешнего вида.</p>
</li>
<li>
<p>Просмотр страницы для анализа результатов этих изменений.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Не забывайте использовать поддержку HTML и CSS среды IDE. <a href="#tipsTricks">Полезные советы</a> Если требуется просто получить код для оставшихся страниц и продолжить выполнение учебного курса, можно <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot1.zip">загрузить снимок 1 ` проекта AffableBean`</a>. Изображения начальной реализации макетов оставшихся страниц.</p>
</div>
<div class="sect3">
<h4 id="categoryPage">страница категории</h4>
<div class="imageblock">
<div class="content">
<img src="images/category-page.png" alt="category page">
</div>
<div class="title">Figure 13. Заполнители реализованы для страницы категории</div>
</div>
</div>
<div class="sect3">
<h4 id="cartPage">страница корзины покупок</h4>
<div class="imageblock">
<div class="content">
<img src="images/cart-page.png" alt="cart page">
</div>
<div class="title">Figure 14. Заполнители реализованы для страницы корзины</div>
</div>
</div>
<div class="sect3">
<h4 id="checkoutPage">страница проверки</h4>
<div class="imageblock">
<div class="content">
<img src="images/checkout-page.png" alt="checkout page">
</div>
<div class="title">Figure 15. Заполнители реализованы для страницы изъятия из использования</div>
</div>
</div>
<div class="sect3">
<h4 id="_страница_подтверждения">страница подтверждения</h4>
<div class="imageblock">
<div class="content">
<img src="images/confirmation-page.png" alt="confirmation page">
</div>
<div class="title">Figure 16. Заполнители реализованы для страницы изъятия из использования</div>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Фоновые цвета для всех областей страницы используются только для расположения элементов при разработке приложения. В конце следует удалить их из таблицы стилей и применить более подходящий цвет фона. Для этого измените правило background класса <code>main</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#main { background: #f7f7e9 }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tipsTricks">Полезные советы</h3>
<div class="paragraph">
<p>В редакторе среды IDE есть много полезных возможностей для эффективной работы. Изучение комбинаций клавиш и кнопок панели инструментов увеличит эффективность работы. Следующие советы относятся к правке файлов HTML и CSS. Для просмотра остальных комбинаций клавиш, откройте таблицу сочетаний клавиш среды IDE, выбрав в основном меню "Справка" пункт "Таблица сочетаний клавиш".</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Автозавершение кода.</strong> При вводе тегов и атрибутов во всплывающем окне автоматически отображаются предположения. Нажатие клавиши ВВОД завершает выбранный тег.</p>
</li>
<li>
<p><strong>Форматирование кода.</strong> Щелкните правой кнопкой мыши в редакторе и выберите пункт "Формат".</p>
</li>
<li>
<p><strong>Переключение номеров строк.</strong> Щелкните правой кнопкой мыши в левом поле редактора и выберите команду "Показать номера строк".</p>
</li>
<li>
<p><strong>Найти вхождения:</strong> Выделите блок текста и нажмите Ctrl-F (⌘-F в Mac). Все вхождения текста подсвечиваются в редакторе. Для переключения выделения нажмите кнопку 'Переключение выделения при поиске' ( <span class="image"><img src="images/toggle-highlight.png" alt="toggle highlight"></span> ) (Ctrl-Shift-H) на панели инструментов редактора.</p>
</li>
<li>
<p><strong>Создание закладки.</strong> Нажмите кнопку 'Переключение закладок' ( <span class="image"><img src="images/toggle-bookmark.png" alt="toggle bookmark"></span> ) (Ctrl-Shift-M) для создания закладки в левом поле редактора. Независимо от положения в файле можно перейти к закладке нажатием кнопок "Предыдущая закладка"/"Следующая закладка" на панели инструментов редактора.</p>
</li>
<li>
<p>*Копирование фрагментов кода вверх или вниз*Выделите фрагмент кода и нажмите комбинацию клавиш CTRL+SHIFT+СТРЕЛКА ВВЕРХ/СТРЕЛКА ВНИЗ.</p>
</li>
<li>
<p><strong>Выделение открывающих и закрывающих тегов.</strong> Поместите курсор на открывающий или закрывающий тег, и оба тега будут подсвечены желтым.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="view">Размещение страниц JSP в папке WEB-INF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В соответствии с созданными <a href="design.html#mockups">макетами страниц</a>, <a href="design.html#index">страница приветствия</a> всегда должна выглядеть одинаково для всех посетителей. Это означает, что содержимое страницы приветствия не зависит от <em>сеанса</em> пользователя. (Сеансы рассматриваются в главе 8, <a href="manage-sessions.html">Управление сеансами</a>.) Обратите внимание, что всем остальным страницам для верного отображения требуется информация, зависящая от пользователя. Например, на <a href="design.html#category">странице категории</a> требуется, чтобы пользователь выбрал категорию для отображения, а на <a href="design.html#cart">странице корзины</a> требуется информация о добавленных пользователем в корзину покупок элементах. Эти страницы не будут отображаться верно, если сервер не свяжет информацию, зависящую от пользователя, с входящим запросом. Поэтому нужно избежать прямого запроса этих страниц путем ввода их адреса в адресной строке браузера. Для этой цели можно использовать папку проекта <code>WEB-INF</code>: все ресурсы, содержащиеся в папке <code>WEB-INF</code> недоступны из браузера напрямую.</p>
</div>
<div class="paragraph">
<p>Создайте папку <code>view</code> и поместите ее в папку <code>WEB-INF</code>. Затем переместите все страницы JSP, кроме страницы приветствия, в эту папку.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне 'Проекты', щелкните правой кнопкой мыши узел WEB-INF и выберите 'Создать' &gt; 'Папка'.</p>
</li>
<li>
<p>В мастере создания папки введите название <code>view</code> и нажмите кнопку "Готово". Обратите внимание, что созданная папка отображается в окне "Проекты".</p>
</li>
<li>
<p>Переместите страницы <code>category.jsp</code>, <code>cart.jsp</code>, <code>checkout.jsp</code> и <code>confirmation.jsp</code> в папку <code>view</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Для этого щелкните файл <code>cart.jsp</code> для его выбора, затем, удерживая нажатой клавишу SHIFT, щелкните файл <code>confirmation.jsp</code>. При этом будут выделены четыре файла. Когда эти файлы выделены, щелкните их и перетащите в папку <code>WEB-INF/view</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/view-folder.png" alt="view folder">
</div>
<div class="title">Figure 17. Щелкните и перетащите страницы JSP в папку 'WEB-INF/view/'</div>
</div>
<div class="paragraph">
<p>Для демонстрации того, что эти страницы более недоступны из браузера, нажмите кнопку 'Запустить проект' ( <span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span> ) для запуска проекта. После отображения приложения в браузере введите полный путь к одному из этих файлов в строке адреса. Например, введите адрес:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">http://localhost:8080/AffableBean/WEB-INF/view/category.jsp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вы получите статус HTTP 404, означающий, что ресурс недоступен.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jspf">Создание верхнего и нижнего колонтитула</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Как видно из <a href="design.html#mockups">макетов страниц</a>, у всех пяти представлений есть общее содержание. В верхней части все они содержат логотип компании, переключатель языков и другие элементы оформления, связанные с корзиной покупок. В нижней части они содержат текст о политике конфиденциальности и ссылки на контакты. Вместо того, чтобы включать этот код в исходные файлы всех страниц, можно выделить его в два фрагмента JSP: верхний и нижний колонтитулы. Затем можно включить файлы фрагментов в представления страниц в нужных позициях.</p>
</div>
<div class="paragraph">
<p>Для этих фрагментов создайте новую папку <code>jspf</code>, расположенную в папке <code>WEB-INF</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне 'Проекты', щелкните правой кнопкой мыши узел WEB-INF и выберите 'Создать' &gt; 'Папка'.</p>
</li>
<li>
<p>В мастере создания папки введите имя <code>jspf</code> и нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Поведение элементов меню среды IDE часто зависит от контекста. Например, при щелчке правой кнопкой мыши узла WEB-INF когда отображен мастер создания папок, <code>web/WEB-INF</code> был автоматически введен в поле 'Родительская папка'. Точно так же, при щелчке правой кнопкой мыши узла в окне 'Проекты' и выборе 'Создать', список типов файлов частично определяется предыдущими выборками.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Создайте два сегмента JSP: <code>header.jspf</code> и <code>footer.jspf</code>. Для этого щелкните правой кнопкой мыши новую созданную папку <code>jspf</code> и выберите 'Создать' &gt; JSP. В мастере создания JSP введите имя файла и под надписью "Параметры" выберите параметр "Создать как сегмент JSP", затем нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После этого в окне "Проекты" отображаются файлы <code>header.jspf</code> и <code>footer.jspf</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projects-win-jspf.png" alt="projects win jspf">
</div>
<div class="title">Figure 18. В проекте отображаются фрагменты JSP нижнего и верхнего колонтитулов</div>
</div>
<div class="paragraph">
<p>Теперь можно скопировать код верхнего колонтитула из любой страницы JSP и вставить его в файл <code>header.jspf</code>. Аналогично, можно скопировать текст нижнего колонтитула из любой страницы JSP и вставить его в файл <code>footer.jspf</code>. После этого можно удалить код верхнего и нижнего колонтитулов из всех страниц JSP.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Скопируйте код верхнего колонтитула из любой страницы JSP и вставьте его в файл <code>header.jspf</code>. Верхний колонтитул должен включать описатель типа документа и открывающие теги <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> и <code>&lt;body&gt;</code> и текст до закрывающего тега элемента <code>&lt;div id="header&amp;quot&gt;</code>. Убедитесь, что добавлены заполнители для элементов, используемых в верхней части представлений страниц: корзины покупок, переключателя языков и кнопки "Переход к проверке". После вставки кода в файл <code>header.jspf</code>, он будет выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd"&gt;

&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
        &lt;link rel="stylesheet" type="text/css" href="css/affablebean.css"&gt;
        &lt;title&gt;The Affable Bean&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="main"&gt;
            &lt;div id="header"&gt;
                &lt;div id="widgetBar"&gt;

                    &lt;div class="headerWidget"&gt;
                        [ language toggle ]
                    &lt;/div&gt;

                    &lt;div class="headerWidget"&gt;
                        [ checkout button ]
                    &lt;/div&gt;

                    &lt;div class="headerWidget"&gt;
                        [ shopping cart widget ]
                    &lt;/div&gt;

                &lt;/div&gt;

                &lt;a href="#"&gt;
                    &lt;img src="#" id="logo" alt="Affable Bean logo"&gt;
                &lt;/a&gt;

                &lt;img src="#" id="logoText" alt="the affable bean"&gt;
            &lt;/div&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Скопируйте код нижнего колонтитула из любой страницы JSP и вставьте его в файл <code>footer.jspf</code>. Код нижнего колонтитула должен включать в себя элемент <code>&lt;div id="footer"&gt;</code> и текст до закрывающего тега <code>&lt;html&gt;</code>. После вставки кода в файл <code>footer.jspf</code> он будет выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">            &lt;div id="footer"&gt;
                &lt;hr&gt;
                &lt;p id="footerText"&gt;[ footer text ]&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Удалите код верхнего и нижнего колонтитулов из всех пяти страниц JSP (<code>index.jsp</code>, <code>category.jsp</code>, <code>cart.jsp</code>, <code>checkout.jsp</code> и <code>confirmation.jsp</code>).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dd">Добавление директивы к дескриптору развертывания</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В настоящий момент представления размещены правильным образом и общий код колонтитулов выделен в файлы <code>header.jspf</code> и <code>footer.jspf</code>. По-прежнему не указано, к каким страницам относятся верхний и нижний колонтитулы. К каждому представлению страницы можно добавить теги <code>&lt;jsp:include&gt;</code>. Однако это приведет только к дублированию кода, которое требовалось устранить. В качестве альтернативы можно создать дескриптор развертывания <code>web.xml</code> и добавить директиву "Группа свойств JSP" для указания, к каким страницам относятся фрагменты верхнего и нижнего колонтитула.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажмите сочетание клавиш CTRL+N (⌘-N на компьютере Mac) для открытия мастера создания файлов. Выберите категорию Web, затем выберите тип файла "Стандартный дескриптор развертывания (web.xml)".</p>
</li>
<li>
<p>Нажмите кнопку "Далее". Обратите внимание, что файл называется <code>web.xml</code>, и будет помещен в папку <code>WEB-INF</code> проекта после завершения работы мастера.</p>
</li>
<li>
<p>Нажмите кнопку "Завершить". Файл <code>web.xml</code> создается и добавляется в проект. В редакторе открывается графический интерфейс среды IDE для дескриптора развертывания.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Интерфейс разбит на категории в соответствии в областями, которые могут быть настроены в веб-приложении. Эти области (например, "Сервлеты", "Фильтры","Ссылки" и "Безопасность") отображаются на панели инструментов редактора как вкладки. На вкладке XML отображается весь исходный код файла. При любых изменениях, сделанных в графическом интерфейсе, исходный код дескриптора развертывания немедленно обновляется. В этом можно убедиться, открыв вкладку XML. Выполните следующие действия.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Выберите вкладку "Страницы", затем нажмите кнопку "Добавить в группу свойств JSP". Открывается диалоговое окно "Добавление группы свойств JSP".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Введите в поле "Описание" текст &#8220;header and footer settings&#8221;. Оставьте поле "Отображаемое имя" пустым. Поля "Отображаемое имя" и "Описание" являются необязательными для заполнения.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>В поле "Шаблоны URL" введите пути к пяти представлениям. Введите &#8220;/index.jsp&#8221; и &#8220;/WEB-INF/view/<strong>&#8221;. Разделите эти два пути запятой. (Символ &#8220;</strong>&#8221; — это подстановочный знак, обозначающий все файлы в данной папке.)</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-jsp-prop-group-dialog.png" alt="add jsp prop group dialog">
</div>
<div class="title">Figure 19. Используйте диалоговое окно 'Добавить группу свойств JSP', чтобы указать теги &lt;jsp-config&gt; в дескрипторе развертывания</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Нажмите кнопку "ОК". В категорию "Группа свойств JSP" на вкладке "Страницы" добавляется запись.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Переключитесь обратно на вкладку XML. Обратите внимание, что в дескриптор развертывания добавился следующий код.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;jsp-config&gt;
    &lt;jsp-property-group&gt;
        &lt;description&gt;header and footer settings&lt;/description&gt;
        &lt;url-pattern&gt;/index.jsp&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/WEB-INF/view/*&lt;/url-pattern&gt;
    &lt;/jsp-property-group&gt;
&lt;/jsp-config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Может потребоваться добавление символа возврата каретки к коду, чтобы он отображался на нескольких строках. Можно щелкнуть правой кнопкой мыши в редакторе и выбрать 'Формат' (Alt-Shift-F, Ctrl-Shift-F на Mac), чтобы задать для код правильные отступы.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Переключитесь снова на вкладку "Страницы" и введите в поля "Включить вводные части" и "Включить заключительные части" пути к файлам <code>header.jspf</code> и <code>footer.jspf</code> соответственно. Можно нажать кнопку "Обзор" и выбрать файлы в диалоговом окне.</p>
</li>
</ol>
</div>
<div class="openblock">
<div class="content">
<div class="imageblock left">
<div class="content">
<a class="image" href="images/jsp-prop-groups.png"><img src="images/jsp-prop-groups-small.png" alt="jsp prop groups small"></a>
</div>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Переключитесь обратно на вкладку XML. Обратите внимание, что добавился следующий код. (Изменения <strong>выделены полужирным шрифтом</strong>.)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;jsp-config&gt;
    &lt;jsp-property-group&gt;
        &lt;description&gt;header and footer settings&lt;/description&gt;
        &lt;url-pattern&gt;/index.jsp&lt;/url-pattern&gt;
        &lt;url-pattern&gt;/WEB-INF/view/*&lt;/url-pattern&gt;
        *&lt;include-prelude&gt;/WEB-INF/jspf/header.jspf&lt;/include-prelude&gt;
        &lt;include-coda&gt;/WEB-INF/jspf/footer.jspf&lt;/include-coda&gt;*
    &lt;/jsp-property-group&gt;
&lt;/jsp-config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эти директивы означают, что для всех файлов, расположенных по указанным <code>шаблонам путей</code>, файл`header.jspf` будет добавлен в начало, а файл <code>footer.jspf</code> добавлен в конец.</p>
</div>
<div class="paragraph">
<p>Определения этих и остальных доступных в дескрипторе веб-развертывания тегов приведены в <a href="http://jcp.org/en/jsr/detail?id=315">Спецификации сервлетов</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Выполните приложение повторно (нажмите клавишу F6; комбинацию клавиш fn+F6 в Mac OS). Код верхнего и нижнего колонтитулов уже удален из файла`index.jsp`, поэтому при запросе этого файла можно убедиться, что код автоматически добавляется.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="#welcome-page">Страница приветствия отображается как ранее</a>, включая содержимое верхнего и нижнего колонтитулов.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="controller">Создание сервлета Controller</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сервлет Controller обрабатывает входящие запросы, запуская необходимые для создания модели действия и перенаправляя запрос соответствующему представлению. Визуальное представление приведено на <a href="design.html#mvcDiagram">диаграмме MVC для проекта AffableBean</a>.</p>
</div>
<div class="paragraph">
<p>Мастер создания сервлета среды IDE позволяет определить компонент сервлета веб-приложения с помощью аннотации <code>@WebServlet</code> в создаваемом классе или с помощью добавления необходимых директив в дескриптор развертывания. Далее класс <code>ControllerServlet</code> будет создан и определен в контексте приложения с помощью аннотации <a href="http://java.sun.com/javaee/6/docs/api/javax/servlet/annotation/WebServlet.html">`@WebServlet`</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В окне 'Проекты', щелкните правой кнопкой мыши узел проекта <code>AffableBean</code> и выберите 'Создать' &gt; 'Сервлет'.</p>
</li>
<li>
<p>В мастере введите в поле "Имя класса" <code>ControllerServlet</code>.</p>
</li>
<li>
<p>В поле "Пакет", введите <code>controller</code>. (Пакет автоматически создается после завершения работы мастера.)</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/servlet-wizard.png" alt="servlet wizard">
</div>
<div class="title">Figure 20. Используйте мастер создания сервлетов для создания сервлетов для проекта</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Нажмите кнопку "Далее". На третьем экране мастера можно настроить сервлет. Наиболее значимыми являются шаблоны URL-адресов, которые требуется указать. Эти шаблоны определяют URL-адреса, по которым выполняется сервлет. Например, если ввести &#8220;/category&#8221;, сервлет будет обрабатывать запросы следующего вида.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">http://localhost/AffableBean*/category*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шаблоны URL-адресов должны соответствовать представлениям и действиям пользователя. В соответствии с <a href="design.html#index">макетом страницы приветствия</a>, пользователь должен иметь возможность выбрать категорию. Поэтому можно связать URL-адрес <code>/category</code> с действием нажатия изображения категории. Аналогично, на <a href="design.html#category">странице категории</a> пользователи должны иметь возможность добавить элемент в корзину покупок. Поэтому можно указать URL-адрес <code>/addToCart</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>В поле "Шаблоны URL-адресов" введите <code>/category, /addToCart, /viewCart</code>. Шаблоны разделяются запятыми. Можно создать дополнительные шаблоны непосредственно в классе сервлета после его создания.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/servlet-wizard2.png" alt="servlet wizard2">
</div>
<div class="title">Figure 21. Настройте развертывание сервлета напрямую в мастере</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Нажмите кнопку "Завершить". <code>ControllerServlet</code> создается в среде IDE и открывается в редакторе. Сервлет и шаблоны URL-адресов включены в аннотацию <code>@WebServlet</code>, расположенную перед сигнатурой класса.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*@WebServlet(name="ControllerServlet", urlPatterns={"/category", "/addToCart", "/viewCart"})*
public class ControllerServlet extends HttpServlet {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если выбрать на предыдущем шаге параметр &#8220;Добавить сведения в дескриптор развертывания (web.xml)&#8221;, вместо этого была бы создана такая разметка в файле приложения <code>web.xml</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;servlet&gt;
    &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;controller.ControllerServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/category&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/addToCart&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/viewCart&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Добавьте остальные шаблоны URL-адресов прямо в аннотацию <code>@WebServlet</code> в элемент <code>urlPatterns</code>. В приложении требуются шаблоны URL-адресов для остальных действий и представлений. Можно ввести следующие шаблоны:</p>
<div class="ulist">
<ul>
<li>
<p><code>/updateCart</code></p>
</li>
<li>
<p><code>/checkout</code></p>
</li>
<li>
<p><code>/purchase</code></p>
</li>
<li>
<p><code>/chooseLanguage</code>
Запишите шаблоны через запятую. Также можно переформатировать аннотацию таким образом:</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@WebServlet(name="ControllerServlet",
            urlPatterns = {"/category",
                           "/addToCart",
                           "/viewCart"*,
                           "/updateCart",
                           "/checkout",
                           "/purchase",
                           "/chooseLanguage"*})</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Наконец, добавьте элемент <code>loadOnStartup</code>, чтобы экземпляр сервлета создавался и инициализировался при развертывании приложения. Для этого задайте значение <code>0</code> или большее (по умолчанию используется значение <code>-1</code>).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@WebServlet(name="ControllerServlet",
            *loadOnStartup = 1,*
            urlPatterns = {"/category",
                           "/addToCart",
                           "/viewCart",
                           "/updateCart",
                           "/checkout",
                           "/purchase",
                           "/chooseLanguage"})</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implement">Реализация сервлета Controller</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сервлет Controller обрабатывает входящие запросы, запуская необходимые для создания модели действия и перенаправляя запрос соответствующему представлению. Визуальное представление приведено на <a href="design.html#mvcDiagram">диаграмме MVC для проекта AffableBean</a>.</p>
</div>
<div class="paragraph">
<p>Открыв созданный код для поиска нового <code>ControllerServlet</code>, можно заметить, что шаблон сервлета IDE использует метод <code>processRequest</code>, который вызывается как методом <code>doGet</code>, так и <code>doPost</code>. (Возможно, потребуется расширить свертывание кода, щелкнув значок плюса ( <span class="image"><img src="images/code-fold-icon.png" alt="code fold icon"></span> ) в левом поле редактора, чтобы просмотреть эти методы). Поскольку приложение проводит различие между <code>doGet</code> и <code>doPost</code>, код добавляется прямо в эти методы и полностью исключается из метода <code>processRequest</code>.</p>
</div>
<div class="sect2">
<h3 id="_изменение_шаблонов_файлов_с_помощью_диспетчера_шаблонов_среды_ide">Изменение шаблонов файлов с помощью диспетчера шаблонов среды IDE</h3>
<div class="paragraph">
<p>Среда IDE предоставляет простой шаблон для каждого создаваемого файла. Если шаблон не соответствует вашим рабочим шаблонам, можно изменить его в диспетчере шаблонов среды IDE. В среде IDE есть шаблоны практически для каждого типа файлов.</p>
</div>
<div class="paragraph">
<p>Например, для изменения шаблона сервлета выполните следующие действия:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Откройте диспетчер шаблонов, выбрав в главном меню "Сервис" пункт "Шаблоны".</p>
</li>
<li>
<p>Разверните категорию Web, затем выберите шаблон "Сервлет".</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/template-manager.png" alt="template manager">
</div>
<div class="title">Figure 22. Доступ и изменение шаблонов файлов с помощью диспетчера шаблонов</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Нажмите кнопку "Открыть в редакторе".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Измените шаблон в редакторе. При следующем создании нового сервлета (например, с помощью мастера создания сервлетов), будет применена новая версия.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>После связывания шаблонов URL-адресов в сервлетом с помощью аннотации <code>@WebServlet</code>, настройте <code>ControllerServlet</code> для обработки этих шаблонов. Также создайте экземпляр <code>RequestDispatcher</code> для перенаправления запроса к соответствующему представлению.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Замените код шаблона класса <code>ControllerServlet</code> на следующий.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">public class ControllerServlet extends HttpServlet {

    /**
     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {

        String userPath = request.getServletPath();

        // if category page is requested
        if (userPath.equals("/category")) {
            // TODO: Implement category request

        // if cart page is requested
        } else if (userPath.equals("/viewCart")) {
            // TODO: Implement cart page request

            userPath = "/cart";

        // if checkout page is requested
        } else if (userPath.equals("/checkout")) {
            // TODO: Implement checkout page request

        // if user switches language
        } else if (userPath.equals("/chooseLanguage")) {
            // TODO: Implement language request

        }

        // use RequestDispatcher to forward request internally
        String url = "/WEB-INF/view" + userPath + ".jsp";

        try {
            request.getRequestDispatcher(url).forward(request, response);
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    /**
     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {

        String userPath = request.getServletPath();

        // if addToCart action is called
        if (userPath.equals("/addToCart")) {
            // TODO: Implement add product to cart action

        // if updateCart action is called
        } else if (userPath.equals("/updateCart")) {
            // TODO: Implement update cart action

        // if purchase action is called
        } else if (userPath.equals("/purchase")) {
            // TODO: Implement purchase action

            userPath = "/confirmation";
        }

        // use RequestDispatcher to forward request internally
        String url = "/WEB-INF/view" + userPath + ".jsp";

        try {
            request.getRequestDispatcher(url).forward(request, response);
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Продолжив работу с учебным курсом, вы вернётесь к <code>ControllerServlet</code> и реализуете каждый из сопоставленных шаблонов URL-адреса отдельно.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Рассмотрим этот код. Следует обратить внимание на следующие моменты:</p>
<div class="ulist">
<ul>
<li>
<p>Сервлет использует переменную экземпляра <code>userPath</code> для получения запрошенного шаблона URL-адреса от клиента:</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">String userPath = request.getServletPath();</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>userPath</code> используется как методом <code>doGet</code>, так и <code>doPost</code>.
* Шаблоны URL-адресов связаны в первую очередь с запросом страниц и управляются методом <code>doGet</code>. Например, запросы <code>/category</code>, <code>/viewCart</code> и <code>/checkout</code> соответственно приведут к отображению страниц категории, корзины покупок и проверки.
* Шаблоны URL-адресов. связанные с отправкой форм и передачей конфиденциальной информации пользователей (например,, <code>/addToCart</code>, <code>/updateCart</code> и <code>/purchase</code>) управляются методом <code>doPost</code>.
* Как для метода <code>doGet</code>, так и для <code>doPost</code>, путь к соответствующему виду формируется с использованием строки адреса <code>url</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">String url = "/WEB-INF/view" + userPath + ".jsp";</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>RequestDispatcher</code> получается из <code>HttpServletRequest</code> и использует <code>url</code> для перенаправления запроса:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">request.getRequestDispatcher(url).forward(request, response);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Примечания <code>TODO</code> используются для обозначения работы, которую предстоит выполнить. Например:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">// if category page is requested
if (userPath.equals("/category")) {
    // TODO: Implement category request</code></pre>
</div>
</div>
<div class="paragraph">
<p>Применение примечаний <code>TODO</code> в коде — полезный способ отслеживать задания, которые предстоит выполнить. Можно использовать окно 'Задачи' среды IDE (Ctrl-6; ⌘-6 в Mac), чтобы просмотреть все заметки TODO, а также любой синтаксис или ошибки компиляции, содержащиеся в проекте.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tasks-window.png" alt="tasks window">
</div>
<div class="title">Figure 23. Отслеживание задач реализации в окне 'Задачи' среды IDE</div>
</div>
<div class="paragraph">
<p>Можно управлять ключевыми словами, отображаемыми в окне "Задачи". Откройте окно "Параметры" (в меню "Сервис" пункт "Параметры"; меню NetBeans, пункт "Параметры" в Mac OS), затем выберите "Разное" &gt; "Задания".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Выполните проект (нажмите клавишу F6; fn+F6 в Mac OS) и проверьте, что <code>ControllerServlet</code> перенаправляет запросы соответствующим представлениям.</p>
<div class="ulist">
<ul>
<li>
<p>Введите в строке адреса браузера <code><a href="http://localhost:8080/AffableBean/category" class="bare">http://localhost:8080/AffableBean/category</a></code>. Отображается <a href="#categoryPage">страница категории</a> приложения.</p>
</li>
<li>
<p>Введите в строке адреса браузера <code><a href="http://localhost:8080/AffableBean/viewCart" class="bare">http://localhost:8080/AffableBean/viewCart</a></code>. Отображается <a href="#cartPage">страница корзины покупок</a>.</p>
</li>
<li>
<p>Введите в строке адреса браузера <code><a href="http://localhost:8080/AffableBean/checkout" class="bare">http://localhost:8080/AffableBean/checkout</a></code>. Отображается <a href="#checkoutPage">страница проверки</a> приложения.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Примечание.</strong> Ввод <code><a href="http://localhost:8080/AffableBean/purchase" class="bare">http://localhost:8080/AffableBean/purchase</a></code> в адресной строке браузера не обеспечивает разрешения для просмотра <a href="#confirmationPage">страницы подтверждения</a>. Это происходит потому, что шаблон URL-адреса <code>/purchase</code> управляется методом <code>doPost</code> сервлета, а запрос формы отправки из адресной строки браузера обычно посылается с помощью метода HTTP GET.</p>
</div>
<div class="paragraph">
<p>В настоящий момент созданы страницы JSP, содержащие заполнители для всех функциональных компонентов. Также создана структура внешнего интерфейса приложения. Страницы JSP теперь расположены в папке <code>WEB-INF</code>, верхний и нижний колонтитулы выделены в отдельные файлы, дескриптор развертывания настроен и для обработки входящих запросов создан <code>ControllerServlet</code>. В следующей главе учебного курса будет создано подключение приложения к базе данных.</p>
</div>
<div class="paragraph">
<p>Если требуется сравнить результаты выполнения этой главы с образцом, <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252Fecommerce%252FAffableBean_snapshot2.zip">загрузите снимок 2 проекта AffableBean</a>.</p>
</div>
<div class="paragraph">
<p>link:/about/contact_form.html?to=3&amp;subject=Feedback: NetBeans E-commerce Tutorial - Preparing the Page Views and Controller Servlet[Мы ждем ваших отзывов]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seeAlso">Дополнительные сведения</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_учебные_курсы_по_среде_netbeans">Учебные курсы по среде NetBeans</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../javaee-intro.html">+Введение в технологию Java EE +</a></p>
</li>
<li>
<p><a href="../javaee-gettingstarted.html">Начало работы с приложениями для Java EE</a></p>
</li>
<li>
<p><a href="../../web/quickstart-webapps.html">Введение в разработку веб-приложений</a></p>
</li>
<li>
<p><a href="../../web/mysql-webapp.html">Создание простого веб-приложения, использующего базу данных MySQL</a></p>
</li>
<li>
<p><a href="../../screencasts.html">Video Tutorials and Demos for IDE NetBeans 6.x</a></p>
</li>
<li>
<p><a href="https://netbeans.org/projects/www/downloads/download/shortcuts.pdf">Таблица комбинаций клавиш и шаблонов кода</a></p>
</li>
<li>
<p><a href="../../../trails/java-ee.html">Учебная карта по Java EE и Java Web</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_книги_по_среде_netbeans">Книги по среде NetBeans</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.org/kb/articles/netbeans-tips-and-tricks-book.html">100 IDE NetBeans Tips and Tricks</a></p>
</li>
<li>
<p><a href="http://www.apress.com/book/view/1590598954">Pro IDE NetBeans 6 Rich Client Platform Edition</a></p>
</li>
<li>
<p><a href="http://apress.com/book/view/1430219548">Начало работы с платформой Java EE 6 с GlassFish 3: от новичка до профессионала</a></p>
</li>
<li>
<p><a href="https://netbeans.org/kb/articles/books.html">More books about IDE NetBeans</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_внешние_ресурсы">Внешние ресурсы</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=315">Спецификация сервлета 3.0</a></p>
</li>
<li>
<p><a href="https://developer.mozilla.org/en/Common_CSS_Questions">Часто задаваемые вопросы по CSS</a></p>
</li>
<li>
<p><a href="http://quirksmode.org/compatibility.html">Главная таблица совместимости с браузерами</a></p>
</li>
<li>
<p><a href="http://refcardz.dzone.com/refcardz/netbeans-ide-67-update">DZone Refcard для редактора Java NetBeans</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/ecommerce/page-views-controller_ru.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
