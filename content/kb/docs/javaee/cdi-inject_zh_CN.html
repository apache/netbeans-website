
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>使用 CDI 中的注入和限定符</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="使用 CDI 中的注入和限定符 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, 使用 CDI 中的注入和限定符">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 17</h1>
            <p><a class="button success" href="/download/nb17/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">使用 CDI 中的注入和限定符</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-inject_zh_CN.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_上下文和依赖关系注入">上下文和依赖关系注入</a></li>
<li><a href="#inject">注入：CDI 中的 "I"</a></li>
<li><a href="#qualifier">使用限定符</a></li>
<li><a href="#alternative">其他注入方法</a></li>
<li><a href="#seealso">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>撰稿人：Andy Gibson</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_上下文和依赖关系注入">上下文和依赖关系注入</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="cdi-intro.html">CDI 和 JSF 2.0 入门指南</a></p>
</li>
<li>
<p><strong>使用 CDI 中的注入和限定符</strong></p>
<div class="ulist">
<ul>
<li>
<p><a href="#inject">注入：CDI 中的 "I"</a></p>
</li>
<li>
<p><a href="#qualifier">使用限定符</a></p>
</li>
<li>
<p><a href="#alternative">其他注入方法</a></p>
</li>
<li>
<p><a href="#seealso">另请参见</a></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a></p>
</li>
<li>
<p><a href="cdi-events.html">使用 CDI 中的事件</a></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR-299</a> 指定的上下文和依赖关系注入 (CDI) 是 Java EE 6 的一个组成部分，提供了一个体系结构，以允许 Java EE 组件（例如 Servlet、企业 Bean 和 JavaBeans）在具有明确定义范围的应用程序生命周期内存在。此外，CDI 服务允许 Java EE 组件（例如 EJB 会话 Bean 和 JavaServer Faces (JSF) 受管 Bean）注入并通过触发和观察事件以松散耦合的方式进行交互。</p>
</div>
<div class="paragraph">
<p>本教程基于 Andy Gibson 发布的博客，标题为：<a href="http://www.andygibson.net/blog/index.php/2009/12/22/getting-started-with-cdi-part-2-injection/">CDI 入门指南，第 2 部分 - 注入</a>。它演示了如何使用 CDI 注入来将类或接口_注入_至其他类。还显示了如何将 CDI _限定符_应用到代码，以便可以指定应该在给定注入点注入的类类型。</p>
</div>
<div class="paragraph">
<p>NetBeans IDE 为上下文和依赖关系注入提供了内置支持，包括在项目创建时构建 <code>beans.xml</code> CDI 配置文件的选项，为标注提供的编辑器和导航支持，以及用于创建常用 CDI 工件的各种向导。</p>
</div>
<div class="paragraph">
<p>要学完本教程，您需要具备以下软件和资源。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">软件或资源</th>
<th class="tableblock halign-left valign-top">要求的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">NetBeans IDE</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2、7.3、7.4、8.0、Java EE 版本</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 开发工具包 (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">版本 7 或 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://glassfish.dev.java.net/">GlassFish Server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source Edition 3.x 或 4.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemo.zip">cdiDemo.zip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>NetBeans IDE Java 包中还含 GlassFish Server Open Source Edition，后者是与 Java EE 兼容的容器。</p>
</li>
<li>
<p>可以下载本教程的解决方案样例项目：<a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemo2.zip">cdiDemo2.zip</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inject">注入：CDI 中的 "I"</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CDI 是一个用于注入上下文和依赖关系的 API。在 Seam 和 Spring 中，依赖关系主要通过命名 Bean 并根据名称将它们绑定到注入点以发挥作用。如果是在完成<a href="cdi-intro.html">上下文和依赖关系注入以及 JSF 2.0 入门指南</a>以后开始学习本教程，则使用 <code>@Named</code> 标注定义 Bean 名称时，仅限从 JSF 页按名称引用受管 Bean。<code>@Named</code> 标注的主要作用是定义 Bean，以在应用程序内解析 EL 语句（通常是通过 JSF EL 解析器完成）。_可以_通过使用名称执行注入，但 CDI 注入并非按照此方式工作，因为 CDI 表示注入点和要注入的 Bean 的方式更为丰富。</p>
</div>
<div class="paragraph">
<p>在以下示例中，将创建 <code>ItemProcessor</code>，该程序从实现 <code>ItemDao</code> 接口的类获得项列表。使用 CDI 的 <code>@Inject</code> 标注演示如何将 Bean _注入_另一个类。下图描绘您在本练习中构建的方案。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-diagram-inject.png" alt="cdi diagram inject">
</div>
<div class="title">Figure 1. 在应用程序中使用 CDI 注入对类进行松散耦合</div>
</div>
<div class="paragraph">
<p>DAO 表示_数据访问对象_。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>首先，从 <code>cdiDemo.zip</code> 文件提取样例启动项目（请参见上面的<a href="#requiredSoftware">所需资源列表</a>）。在 IDE 中打开项目，方法是选择 "File"（文件）&gt; "Open Project"（打开项目）（Ctrl-Shift-O 组合键；在 Mac 上为 ⌘-Shift-O 组合键），然后从计算机上的相应位置选择该项目。</p>
</li>
<li>
<p>右键单击“项目”窗口中的项目节点，然后选择“属性”。</p>
</li>
<li>
<p>选择 "Run"（运行）类别，并确认在 "Server"（服务器）下拉列表中选定 GlassFish 实例。</p>
</li>
<li>
<p>创建新 <code>Item</code> 类，并将其存储在名为 <code>exercise2</code> 的新包中。单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</li>
<li>
<p>选择 "Java" 类别，然后选择 "Java Class"（Java 类）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>输入 <strong>Item</strong> 作为类名，然后键入 <strong>exercise2</strong> 作为包。（新包在完成向导时创建。）</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/java-class-wizard.png" alt="java class wizard">
</div>
<div class="title">Figure 2. 使用文件向导创建新 Java 类</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Finish"（完成）。新类和包生成，并在编辑器中打开 <code>Item</code> 类。</p>
</li>
<li>
<p>为 <code>Item</code> POJO 创建 <code>value</code> 和 <code>limit</code> 属性，并实现 <code>toString()</code> 方法。在该类中添加以下内容。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Item {

    *private int value;
    private int limit;

    @Override
    public String toString() {
        return super.toString() + String.format(" [Value=%d, Limit=%d]", value,limit);
    }*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在该类中添加 getter 和 setter 方法。要执行此操作，请确保将光标置于类定义之间（例如，该类的花括号之间），然后右键单击编辑器并选择 "Insert Code"（插入代码）（Alt-Insert；在 Mac 上为 Ctrl-I）。选择 "Getter and Setter"（Getter 和 Setter）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/insert-code.png" alt="insert code" width="Insert Code"（插入代码）弹出式窗口创建 getter 和 setter"">
</div>
<div class="title">Figure 3. 使用 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选中 <code>Item</code> 复选框（执行此操作可选择该类中包含的所有属性）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/generate-getters-setters.png" alt="generate getters setters">
</div>
<div class="title">Figure 4. 选中类复选框可选择该类中包含的所有属性</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Generate"（生成）。将为该类生成 getter 和 setter 方法。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Item {

    private int value;
    private int limit;

    *public int getLimit() {
        return limit;
    }

    public void setLimit(int limit) {
        this.limit = limit;
    }

    public int getValue() {
        return value;
    }

    public void setValue(int value) {
        this.value = value;
    }*

    @Override
    public String toString() {
        return super.toString() + String.format(" [Value=%d, Limit=%d]", value, limit);
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>创建同时具有 <code>value</code> 和 <code>limit</code> 参数的构造函数。同样，IDE 可以帮助完成此操作。在类定义内按 Ctrl-空格键，并选择 <code>Item(int value, int limit) - generate</code> 选项。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/generate-constructor.png" alt="generate constructor">
</div>
<div class="title">Figure 5. 按 Ctrl-空格键可利用编辑器的代码完成功能</div>
</div>
<div class="paragraph">
<p>下列构造函数将添加到类中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class Item {

    *public Item(int value, int limit) {
        this.value = value;
        this.limit = limit;
    }*

    private int value;
    private int limit;

    ...</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>创建 <code>ItemDao</code> 接口以定义获取 <code>Item</code> 对象列表的方式。在此测试应用程序中，预期将使用多个实现，因此将编写多个接口的代码。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "Java" 类别，然后选择 "Java Interface"（Java 接口）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>ItemDao</strong> 作为类名，然后输入 <strong>exercise2</strong> 作为包。</p>
</li>
<li>
<p>单击 "Finish"（完成）。将会生成新接口并在编辑器中将其打开。</p>
</li>
<li>
<p>添加名为 <code>fetchItems()</code> 的方法，它将返回 <code>Item</code> 对象的 <code>List</code>。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public interface ItemDao {

    *List&lt;Item&gt; fetchItems();*

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>（使用编辑器的提示为 <code>java.util.List</code> 添加 import 语句。）</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>创建 <code>ItemProcessor</code> 类。这是要向其中注入 Bean 并从中执行进程的主类。目前，您将从 DAO 入手，了解如何将其注入我们的处理器 Bean。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "Java" 类别，然后选择 "Java Class"（Java 类）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>ItemProcessor</strong> 作为类名，然后输入 <strong>exercise2</strong> 作为包。单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>将会生成新类并在编辑器中将其打开。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修改该类，如下所示：</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    private ItemDao itemDao;

    public void execute() {
        List&lt;Item&gt; items = itemDao.fetchItems();
        for (Item item : items) {
            System.out.println("Found item " + item);
        }
    }
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>修复导入。在编辑器中右键单击并选择 "Fix Imports"（修复导入），或者按 Ctrl-Shift-I 组合键（在 Mac 上按 ⌘-Shift-I 组合键）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/fix-imports.png" alt="fix imports" width="Fix Imports"（修复导入）以将 import 语句添加到类中"">
</div>
<div class="title">Figure 6. 右键单击编辑器，然后选择 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "OK"（确定）。需要以下类的 import 语句：</p>
<div class="ulist">
<ul>
<li>
<p><code>java.util.List</code></p>
</li>
<li>
<p><code>javax.inject.Named</code></p>
</li>
<li>
<p><code>javax.enterprise.context.RequestScoped</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>首先是一个简单的 DAO，仅用于创建项列表并返回项的固定列表。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在 "Projects"（项目）窗口中，右键单击 <code>exercise2</code> 包节点并选择 "New"（新建）&gt; "Java Class"（Java 类）。在 Java 类向导中，将类命名为 <code>DefaultItemDao</code>。单击 "Finish"（完成）。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/java-class-wizard2.png" alt="java class wizard2">
</div>
<div class="title">Figure 7. 使用 Java 类向导创建新 Java 类</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在编辑器中，让 <code>DefaultItemDao</code> 实现 <code>ItemDao</code> 接口，然后提供 <code>fetchItems()</code> 实现。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class DefaultItemDao *implements ItemDao* {

    *@Override
    public List&lt;Item&gt; fetchItems() {
        List&lt;Item&gt; results = new ArrayList&lt;Item&gt;();
        results.add(new Item(34, 7));
        results.add(new Item(4, 37));
        results.add(new Item(24, 19));
        results.add(new Item(89, 32));
        return results;
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>（按 Ctrl-Shift-I 组合键（在 Mac 上按 ⌘-Shift-I 组合键）为 <code>java.util.List</code> 和 <code>java.util.ArrayList</code> 添加 import 语句。）</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>切换到 <code>ItemProcessor</code> 类（按 Ctrl-Tab 组合键）。为了将 <code>DefaultItemDao</code> 注入到 <code>ItemProcessor</code>，我们向 <code>ItemDao</code> 字段添加 <code>javax.inject.Inject</code> 标注以表示该字段为注入点。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*import javax.inject.Inject;*
...

@Named
@RequestScoped
public class ItemProcessor {

    *@Inject*
    private ItemDao itemDao;

    ...
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
使用编辑器的代码完成支持向类中添加 <code>@Inject</code> 标注和 import 语句。例如，键入 <code>@Inj</code>，按后按 Ctrl-空格组合键。#
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>最后，需要采用一些方式来调用 <code>ItemProcessor</code> 上的 <code>execute()</code> 方法。此方法可以在 SE 环境中运行，但现在会将其保留在 JSF 页。创建名为 <code>process.xhtml</code> 的新页，并包含用于调用 <code>execute()</code> 方法的按钮。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选择 "JavaServer Faces" 类别，然后选择 "JSF Page"（JSF 页）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>键入 <strong>process</strong> 作为文件名，然后单击 "Finish"（完成）。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-jsf-page.png" alt="new jsf page">
</div>
<div class="title">Figure 8. 使用 JSF 文件向导创建新 Facelets 页</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在新的 <code>process.xhtml</code> 文件中，添加连接到 <code>ItemProcessor.execute()</code> 方法的按钮。使用 EL 时，受管 Bean 的默认名称与类名称相同，但是第一个字母用小写（例如，<code>itemProcessor</code>）。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;h:body&gt;
    *&lt;h:form&gt;
        &lt;h:commandButton action="#{itemProcessor.execute}" value="Execute"/&gt;
    &lt;/h:form&gt;*
&lt;/h:body&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>运行此项目之前，在项目的 Web 部署描述符中将 <code>process.xhtml</code> 文件设置为新的欢迎页面。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>使用 IDE 的 "Go to File"（转至文件）对话框快速打开 <code>web.xml</code> 文件。从 IDE 的主菜单中选择 "Navigate"(导航)&gt; "Go to File"（转至文件）（Alt-Shift-O；在 Mac 上为 Ctrl-Shift-O），然后键入 &#8220;web&#8221;。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/go-to-file.png" alt="go to file" width="Go to File"（转至文件）对话框可快速找到项目文件"">
</div>
<div class="title">Figure 9. 使用 </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "OK"（确定）。在 <code>web.xml</code> 文件的 XML 视图中，进行以下更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;welcome-file-list&gt;
    &lt;welcome-file&gt;faces/*process.xhtml*&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 IDE 的主工具栏中单击 "Run Project"（运行项目）(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) 按钮。编译该项目并将其部署到 GlassFish，然后在浏览器中打开 <code>process.xhtml</code> 文件。</p>
</li>
<li>
<p>单击页面上显示的 <code>Execute</code> 按钮。切换回 IDE 并检查 GlassFish Server 日志。服务器日志会显示在 "Output"（输出）窗口（Ctrl-4 组合键；在 Mac 上为 ⌘-4 组合键）中 "GlassFish Server" 标签的下方。单击该按钮时，日志将列出默认 DAO 实现的项。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window.png" alt="output window" width="Output"（输出）窗口中查看服务器日志"">
</div>
<div class="title">Figure 10. 在 IDE 的 </div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
在 "Output"（输出）窗口中右键单击，然后选择 "Clear"（清除）（Ctrl-L 组合键；在 Mac 上为 ⌘-L 组合键）以清除日志。在上图中，仅在单击 <code>Execute</code> 按钮前清除日志。#
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>我们创建了一个实现 <code>ItemDao</code> 接口的类，然后在部署应用程序时，由 CDI 实现来处理模块中的受管 Bean（由于模块中的 <code>beans.xml</code> 文件）。<code>@Inject</code> 标注指定要将受管 Bean 注入该字段，而我们只知道可注入 Bean 必须实现 <code>ItemDao</code> 或该接口的一些子类型。在这种情况下，<code>DefaultItemDao</code> 类非常符合要求。</p>
</div>
<div class="paragraph">
<p>如果注入了多个 <code>ItemDao</code> 实现，会怎么样？CDI 可能不知道应该选择哪个实现，会标记部署时错误。要解决此问题，需要使用 CDI 限定符。限定符将在以下部分进行探讨。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qualifier">使用限定符</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CDI 限定符是一个标注，可在类级别应用以表示该类所属的 Bean 类型，还可以在字段级别（在其他位置）应用以表示该点需要注入哪种类型的 Bean。</p>
</div>
<div class="paragraph">
<p>为了演示在我们构建的应用程序中需要限定符，我们向还会实现 <code>ItemDao</code> 接口的应用程序中添加另一个 DAO 类。下图描述了本练习中将要构建的方案。CDI 必须能够确定在注入点应该使用哪个 Bean 实现。因为有两个 <code>ItemDao</code> 实现，我们可以通过创建名为 <code>Demo</code> 的限定符来解决此问题。然后，使用 <code>@Demo</code> 标注对要使用的 Bean 以及 <code>ItemProcessor</code> 中的注入点添加“标记”。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-diagram-qualify.png" alt="cdi diagram qualify">
</div>
<div class="title">Figure 11. 在应用程序中使用 CDI 注入和限定符对类进行松散耦合</div>
</div>
<div class="paragraph">
<p>请执行以下步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Projects"（项目）窗口中，右键单击 <code>exercise2</code> 包，并选择 "New"（新建）&gt; "Java Class"（Java 类）。</p>
</li>
<li>
<p>在新建 Java 类向导中，将新类命名为 <strong>AnotherItemDao</strong>，然后单击 "Finish"（完成）。将会生成新类并在编辑器中将其打开。</p>
</li>
<li>
<p>按如下方式修改类，以实现 <code>ItemDao</code> 接口，并定义该接口的 <code>fetchItems()</code> 方法。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class AnotherItemDao *implements ItemDao* {

    *@Override
    public List&lt;Item&gt; fetchItems() {
        List&lt;Item&gt; results = new ArrayList&lt;Item&gt;();
        results.add(new Item(99, 9));
        return results;
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>请务必为 <code>java.util.List</code> 和 <code>java.util.ArrayList</code> 添加 import 语句。要执行此操作，请在编辑器中右键单击，然后选择 "Fix Imports"（修复导入），或者按 Ctrl-Shift-I 组合键（在 Mac 上按 ⌘-Shift-I 组合键）。</p>
</div>
<div class="paragraph">
<p>现在有两个实现 <code>ItemDao</code> 的类，因此无法确定要注入哪个 Bean。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Run Project"（运行项目）(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) 按钮以运行项目。请注意，项目现在无法部署。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可能只需要保存文件，因为 "Deploy on Save"（在保存时部署）默认为启用状态，IDE 将自动部署项目。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在 "Output"（输出）窗口（Ctrl-4 组合键；在 Mac 上为 ⌘-4 组合键）中查看服务器日志。将会显示类似如下的错误消息。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Caused by: org.jboss.weld.DeploymentException: Injection point has ambiguous dependencies.
Injection point: field exercise2.ItemProcessor.itemDao;
Qualifiers: [@javax.enterprise.inject.Default()];
Possible dependencies: [exercise2.DefaultItemDao, exercise2.AnotherItemDao]</code></pre>
</div>
</div>
<div class="paragraph">
<p>要在 "Output"（输出）窗口中将文本调整为多行，请右键单击并选择 "Wrap text"（自动换行）。此操作不需要水平滚动。</p>
</div>
<div class="paragraph">
<p>Weld（CDI 实现）提供了一个不明确的依赖关系错误含义，它不能确定为给定注入点使用哪个 Bean。在 Weld 中，CDI 注入可能发生的绝大多数（如果不是所有）错误会在部署时报告，甚至包含钝化 Bean 是否会丢失 <code>Serializable</code> 实现。</p>
</div>
<div class="paragraph">
<p>可以指定 <code>ItemProcessor</code> 中的 <code>itemDao</code> 字段作为一个特定类型与其中一个实现类型（<code>AnotherItemDao</code> 或 <code>DefaultItemDao</code>）匹配，因为它只会与一个类类型匹配。但是，以后将不能对接口进行编码，也很难在不更改字段类型的情况下更改实现。查看 CDI 限定符是更好的解决方法。</p>
</div>
<div class="paragraph">
<p>当 CDI 检查注入点以找到合适的注入 Bean 时，它会同时考虑类类型和任何限定符。在不知道的情况下，我们已经使用了一个名为 <code>@Any</code> 的默认限定符。现在需要创建一个 <code>@Demo</code> 限定符以应用于 <code>DefaultItemDao</code> 实现，以及 <code>ItemProcessor</code> 中的注入点。</p>
</div>
<div class="paragraph">
<p>IDE 提供可用于生成 CDI 限定符的向导。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "New File"（新建文件）(<span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span>) 按钮，或者按 Ctrl-N 组合键（在 Mac 上为 ⌘-N 组合键）以打开文件向导。</p>
</li>
<li>
<p>选择 "Context and Dependency Injection"（上下文和依赖关系注入）类别，然后选择 "Qualifier Type"（限定符类型）。单击 "Next"（下一步）。</p>
</li>
<li>
<p>输入 <strong>Demo</strong> 作为类名，然后输入 <strong>exercise2</strong> 作为包名。</p>
</li>
<li>
<p>单击 "Finish"（完成）。新 <code>Demo</code> 限定符在编辑器中打开。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package exercise2;

import static java.lang.annotation.ElementType.TYPE;
import static java.lang.annotation.ElementType.FIELD;
import static java.lang.annotation.ElementType.PARAMETER;
import static java.lang.annotation.ElementType.METHOD;
import static java.lang.annotation.RetentionPolicy.RUNTIME;
import java.lang.annotation.Retention;
import java.lang.annotation.Target;
import javax.inject.Qualifier;

/**
*
* @author nbuser
*/
@Qualifier
@Retention(RUNTIME)
@Target({METHOD, FIELD, PARAMETER, TYPE})
public @interface Demo {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>接下来，在类级别将此限定符添加到默认 DAO 实现。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在编辑器中切换到 <code>DefaultItemDao</code>（按 Ctrl-Tab 组合键），然后在类定义上方键入 <code>@Demo</code>。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*@Demo*
public class DefaultItemDao implements ItemDao {

@Override
public List&lt;Item&gt; fetchItems() {
    List&lt;Item&gt; results = new ArrayList&lt;Item&gt;();
    results.add(new Item(34, 7));
    results.add(new Item(4, 37));
    results.add(new Item(24, 19));
    results.add(new Item(89, 32));
    return results;
}
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
键入 <code>@</code> 后，按 Ctrl-空格键以调用代码完成建议。编辑器识别 <code>Demo</code> 限定符并列出 <code>@Demo</code> 作为代码完成选项。#
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>单击 "Run Project"（运行项目）(<span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span>) 按钮以运行项目。该项目将构建和部署，且不出现错误。</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
对于此项修改，可能需要显式运行项目以重新部署应用程序而不是增量部署所做的更改。
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在浏览器中，单击 <code>Execute</code> 按钮，然后返回至 IDE 并检查 "Output"（输出）窗口中的服务器日志。将看到以下输出结果。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Found item exercise2.Item@1ef62a93 [Value=99, Limit=9]</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出列出了 <code>AnotherItemDao</code> 类中的项。请回想一下，我们对 <code>DefaultItemDao</code> 实现进行了标注，但没有对 <code>ItemProcessor</code> 中的注入点进行标注。通过向默认 DAO 实现添加 <code>@Demo</code> 限定符，使另一个实现更加匹配注入点，因为该实现同时与类型和限定符匹配。当前，<code>DefaultItemDao</code> 有 <code>Demo</code> 限定符，而注入点上没有，因此降低了适用性。</p>
</div>
<div class="paragraph">
<p>接下来，将向 <code>ItemProcessor</code> 中的注入点添加 <code>@Demo</code> 标注。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在编辑器中切换到 <code>ItemProcessor</code>（按 Ctrl-Tab 组合键），然后进行以下更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

@Inject *@Demo*
private ItemDao itemDao;

public void execute() {
    List&lt;Item&gt; items = itemDao.fetchItems();
    for (Item item : items) {
        System.out.println("Found item " + item);
    }
}
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在浏览器中，单击 <code>Execute</code> 按钮，然后返回至 IDE 并检查 "Output"（输出）窗口中的服务器日志。您会再次看到默认实现 (<code>DefaultItemDao</code>) 的输出。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Found item exercise2.Item@7b3640f1 [Value=34, Limit=7]
INFO: Found item exercise2.Item@26e1cd69 [Value=4, Limit=37]
INFO: Found item exercise2.Item@3274bc70 [Value=24, Limit=19]
INFO: Found item exercise2.Item@dff76f1 [Value=89, Limit=32]</code></pre>
</div>
</div>
<div class="paragraph">
<p>这是因为现在是根据类型_和_限定符进行匹配，且 <code>DefaultItemDao</code> 是唯一同时具有正确类型和 <code>@Demo</code> 标注的 Bean。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alternative">其他注入方法</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有多种方式可以在注入的类上定义注入点。到目前为止，您对引用注入对象的字段添加了标注。不需要为字段注入提供 getter 和 setter。如果要使用最终字段创建不可变受管 Bean，可以通过使用 <code>@Inject</code> 标注对构造函数进行标注，在构造函数中使用注入。然后，可以对构造函数参数应用任何标注以限定要注入的 Bean。（当然，每个参数都有一个类型可帮助限定要注入的 Bean。）Bean 可能只有一个定义了注入点的构造函数，但是可以实现多个构造函数。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    private final ItemDao itemDao;

    @Inject
    public ItemProcessor(@Demo ItemDao itemDao) {
        this.itemDao = itemDao;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>此外，还可以调用初始化方法，为该方法传递要注入的 Bean。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    private ItemDao itemDao;

    @Inject
    public void setItemDao(@Demo ItemDao itemDao) {
        this.itemDao = itemDao;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>虽然在上例中使用了 setter 方法进行初始化，但您可以创建任何方法，并使用它对方法调用中任意数量的 Bean 进行初始化。您还可以在一个 Bean 中使用多个初始化方法。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Inject
public void initBeans(@Demo ItemDao itemDao, @SomeQualifier SomeType someBean) {
    this.itemDao = itemDao;
    this.bean = someBean;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>无论注入点是如何定义的，都可以将同样的规则应用于匹配的 Bean。CDI 会尝试根据类型和限定符查找最佳匹配，并且会在注入点有多个匹配 Bean 或没有匹配 Bean 时部署失败。</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20with%20Injection%20and%20Qualifiers%20in%20CDI">发送有关此教程的反馈意见</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>请继续完成本系列中关于上下文和依赖关系注入的下一个部分：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="cdi-validate.html">应用 @Alternative Bean 和生命周期标注</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>有关 CDI 和 Java EE 的详细信息，请参见以下资源。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="cdi-intro.html">上下文和依赖关系注入以及 JSF 2.0 入门指南</a></p>
</li>
<li>
<p><a href="javaee-gettingstarted.html">Java EE 应用程序入门指南</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/enterprisetechtips/entry/using_cdi_and_dependency_injection">企业技术提示：在 JSF 2.0 应用程序中使用面向 Java 的 CDI 和依赖关系注入</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/javaee/6/tutorial/doc/gjbnr.html">Java EE 6 教程第五部分：面向 Java EE 平台的上下文和依赖关系注入</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR 299：上下文和依赖关系注入规范</a></p>
</li>
</ul>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-inject_zh_CN.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2022 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
