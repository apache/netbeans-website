
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Работа с событиями в CDI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Работа с событиями в CDI - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans, Tutorials, Работа с событиями в CDI">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Работа с событиями в CDI</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_ru.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_внедрение_контекстов_и_зависимостей">Внедрение контекстов и зависимостей</a></li>
<li><a href="#event">Использование событий</a></li>
<li><a href="#scopes">Обработка областей действия</a></li>
<li><a href="#seealso">Дополнительные сведения</a>
<ul class="sectlevel2">
<li><a href="#_материалы_по_netbeans">Материалы по NetBeans</a></li>
<li><a href="#_внешние_ресурсы">Внешние ресурсы</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Предоставлено Энди Гибсоном (Andy Gibson)</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_внедрение_контекстов_и_зависимостей">Внедрение контекстов и зависимостей</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="cdi-intro.html">Введение в CDI и JSF 2.0</a></p>
</li>
<li>
<p><a href="cdi-inject.html">Работа с внедрением и квалификаторами в CDI</a></p>
</li>
<li>
<p><a href="cdi-validate.html">Применение аннотации @Alternative и аннотаций жизненного цикла</a></p>
</li>
<li>
<p><strong>Обработка событий в CDI</strong></p>
<div class="ulist">
<ul>
<li>
<p><a href="#event">Использование событий</a></p>
</li>
<li>
<p><a href="#scopes">Обработка областей действий</a></p>
</li>
<li>
<p><a href="#seealso">Дополнительные сведения</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Внедрение контекстов и зависимостей (CDI), определяемое документом <a href="http://jcp.org/en/jsr/detail?id=299">JSR-299</a>, является неотъемлемой частью Java EE 6 и обеспечивает архитектуру, позволяющую компонентам Java EE (например, сервлетам, компонентам EJB и JavaBeans) существовать в жизненном цикле приложения с четко определенными контекстами. Кроме того, службы CDI позволяют компонентам Java EE (например, компонентам сеансов EJB и управляемым компонентам JavaServer Faces) внедряться и свободно взаимодействовать путем запуска и обработки событий.</p>
</div>
<div class="paragraph">
<p>Этот учебный курс основан на записи блога Энди Гибсона (Andy Gibson) <a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">Начало работы с CDI. Часть 3. События</a>. Здесь рассмотрены способы использования концепции <em>событий</em> в Java EE, с помощью которой производят возникающие в приложении события и подписываются на них (т.е. <em>наблюдают</em>) таким образом, что это позволяет управлять несвязанным кодом между производителями и наблюдателями. Класс <code>javax.enterprise.event.Event</code> применяют для создания событий, а аннотацию <code>@Observes</code> CDI — для подписки на события.</p>
</div>
<div class="paragraph">
<p>В NetBeans IDE обеспечена встроенная поддержка для внедрения контекстов и зависимостей, включая поддержку создания файла конфигурации CDI <code>beans.xml</code> при создании проекта, поддержку редактора и навигации для аннотаций, а также различных мастеров для создания часто используемых артефактов CD.</p>
</div>
<div class="paragraph">
<p>Для работы с этим учебным курсом требуется программное обеспечение и материалы, перечисленные ниже.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Программное обеспечение или материал</th>
<th class="tableblock halign-left valign-top">Требуемая версия</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/downloads/index.html">IDE NetBeans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия 7.2, 7.3, 7.4, 8.0, Java EE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Комплект для разработчика на языке Java (JDK)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">версия 7 или 8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://glassfish.dev.java.net/">Сервер GlassFish</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source Edition 3.x или 4.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemo3.zip">cdiDemo3.zip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">неприменимо</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>В комплект Java EE для IDE NetBeans также входит компонент GlassFish Server Open Source Edition 3.x, являющийся контейнером, совместимым с Java EE.</p>
</li>
<li>
<p>Демонстрационный проект решения для этого учебного курса можно загрузить здесь: <a href="https://netbeans.org/projects/samples/downloads/download/Samples%252FJavaEE%252FcdiDemoComplete.zip">cdiDemoComplete.zip</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event">Использование событий</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В предыдущем учебном курсе <a href="cdi-validate.html">Применение компонентов @Alternative и аннотаций жизненного цикла</a> у нас было приложение, в котором был получен список элементов, они проверялись, и было выполнено соответствующее действие при обнаружении недопустимого элемента. Предположим, в будущем нам потребуется расширить систему для обработки всевозможных ситуаций, которые происходят при обнаружении недопустимого элемента. Такими ситуациями могут быть отправка электронной почты, изменения других данных, например, отмена заказа, сохранение списка отклонений в файле или таблице базы данных. Для полного развязывания реализации можно использовать <em>события</em> в Java EE. События создаются <em>производителем</em>, а подписка на них выполняется <em>наблюдателем</em> событий. Как и практически всё в CDI, производство событий и подписка на них являются корректными по отношению к типам и позволяют квалификаторам определять, за какими событиями будут наблюдать наблюдатели.</p>
</div>
<div class="paragraph">
<p>Для реализации этих функций не потребуется значительных изменений при использовании приложения, которое было создано в ходе предыдущих учебных курсов. Мы как раз можем предоставить другую реализацию <code>ItemErrorHandler</code> (созданную в <a href="cdi-validate.html">предыдущем учебном курсе</a>), которая создает событие при каждой обработке элемента. Присваиваем этому классу имя <code>EventItemHandler</code>, внедряем его в <code>ItemProcessor</code> и используем квалификатор <code>Notify</code>, чтобы выбрать его для внедрения.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cdi-diagram-events.png" alt="cdi diagram events">
</div>
<div class="title">Figure 1. Используйте внедрение CDI для свободного взаимодействия классов в используемом приложении</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Сначала необходимо извлечь пример начального проекта из файла <code>cdiDemo3.zip</code> (см. выше <a href="#requiredSoftware">таблицу с перечислением требуемых ресурсов</a>). Выберите File ("Файл") &gt; Open Project ("Открыть проект") (Ctrl-Shift-O; ⌘-Shift-O on Mac) и выберите проект в его местоположении на компьютере.</p>
</li>
<li>
<p>Создайте класс с именем <code>EventItemHandler</code>. Щелкните 'Создать файл' ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ) или нажмите сочетание клавиш CTRL+N (⌘-N on Mac) для открытия мастера создания файлов.</p>
</li>
<li>
<p>Выберите категорию Java, а затем выберите класс Java. Нажмите кнопку "Далее".</p>
</li>
<li>
<p>Введите <strong>EventItemHandler</strong> в качестве имени класса, затем укажите <strong>exercise4</strong> в качестве пакета.</p>
</li>
<li>
<p>Нажмите кнопку "Завершить". Выполняется создание нового класса и пакета, и новый класс открывается в редакторе.</p>
</li>
<li>
<p>Реализуйте <strong>EventItemHandler</strong> следующим образом.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class EventItemHandler *implements ItemErrorHandler* {

    *@Inject
    private Event&lt;Item&gt; itemEvent;

    @Override
    public void handleItem(Item item) {
        System.out.println("Firing Event");
        itemEvent.fire(item);
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Мы внедряем экземпляр <code>Event</code>, где информационным наполнением события будет <code>Item</code>. Информационным наполнением события являются данные состояния, передаваемые от производителя событий в наблюдатель событий, который в данном случае передает отклоненный элемент. При обработке недопустимого элемента мы инициируем событие и передаем полученный недопустимый элемент. Обработчик элементов на базе событий внедряется таким же образом, как любой другой обработчик элементов, поэтому его можно загружать и выгружать по мере необходимости, а также заменять во время тестирования.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Исправление всех операторов импорта. Либо щелкните правой кнопкой мыши в редакторе и выберите 'Исправить выражения импорта' или нажмите Ctrl-Shift-I (⌘-Shift-I в Mac). Убедитесь в том, что <code>javax.enterprise.event.Event</code> выбрано в качестве полного имени для класса <code>Event</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/fix-all-imports.png" alt="fix all imports">
</div>
<div class="title">Figure 2. Щелкните в редакторе правой кнопкой мыши и выберите &quot;Исправить операторы импорта&quot;. </div>
</div>
<div class="paragraph">
<p><span class="tips">Нажмите сочетание клавиш CTRL+ПРОБЕЛ на элементе <code>Event</code> для просмотра определения документации Javadoc для класса. Тут же определяется используемый выше метод <code>fire()</code>.</span></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/event-javadoc.png" alt="event javadoc">
</div>
<div class="title">Figure 3. Нажмите Ctrl-Space для просмотра документации Javadoc по классам в API</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Создайте квалификатор с именем <code>Notify</code>. (Квалификаторы были рассмотрены в разделе <a href="cdi-inject.html">Работа со внедрением и квалификаторами в CDI</a>.)</p>
</li>
<li>
<p>Щелкните 'Создать файл' ( <span class="image"><img src="images/new-file-btn.png" alt="new file btn"></span> ) или нажмите сочетание клавиш CTRL+N (⌘-N on Mac) для открытия мастера создания файлов.</p>
</li>
<li>
<p>Выберите категорию "Внедрение контекстов и зависимостей", затем выберите "Тип "квалификатора". Нажмите кнопку "Далее".</p>
</li>
<li>
<p>Введите <strong>Notify</strong> в качестве имени класса, затем укажите <strong>exercise4</strong> в качестве пакета.</p>
</li>
<li>
<p>Нажмите кнопку "Завершить". Новый квалификатор <code>Notify</code> открывается в редакторе.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Qualifier
@Retention(RUNTIME)
@Target({METHOD, FIELD, PARAMETER, TYPE})
public @interface Notify {
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте аннотацию <code>@Notify</code> к <code>EventItemHandler</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*@Notify*
public class EventItemHandler implements ItemErrorHandler {

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Мы создали аннотацию квалификатора <code>@Notify</code>, чтобы определить обработчик ошибок для внедрения, и можем ее использовать в <code>ItemProcessor</code> путем добавления к точке внедрения.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте аннотацию <code>@Notify</code> к точке внедрения`EventItemHandler` в <code>exercise2.ItemProcessor</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Named
@RequestScoped
public class ItemProcessor {

    @Inject @Demo
    private ItemDao itemDao;

    @Inject
    private ItemValidator itemValidator;

    @Inject *@Notify*
    private ItemErrorHandler itemErrorHandler;

    public void execute() {
        List&lt;Item&gt; items = itemDao.fetchItems();
        for (Item item : items) {
            if (!itemValidator.isValid(item)) {
                itemErrorHandler.handleItem(item);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Используйте подсказку редактора, чтобы добавить оператор импорта для <code>exercise4.Notify</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для запуска проекта нажмите кнопку 'Запустить проект' ( <span class="image"><img src="images/run-project-btn.png" alt="run project btn"></span> ).</p>
</li>
<li>
<p>В браузере нажмите кнопку <code>Выполнить</code>, затем вернитесь в среду IDE и проверьте протокол сервера в окне вывода (Ctrl-4; ⌘-4 в Mac). Поскольку в создаваемом приложении в настоящий момент используется <code>DefaultItemDao</code> для настройки четырех элементов <code>Item</code>, затем применяется <code>RelaxedItemValidator</code> в элементах <code>Item</code>, ожидается, что инициирование`itemErrorHandler` произойдет дважды.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window.png" alt="output window">
</div>
<div class="title">Figure 4. Просмотрите журнал сервера GlassFish, отображенный в окне вывода</div>
</div>
<div class="paragraph">
<p>Однако в настоящее время отсутствует наблюдение за событием. Это можно исправить путем создания метода <em>наблюдателя</em> с помощью аннотации <code>@Observes</code>. Это единственное, что нужно для наблюдения за событием. Для демонстрации можно изменить класс <code>FileErrorReporter</code> (созданный в <a href="cdi-validate.html">предыдущем учебном курсе</a>), реагирующий на инициированные события, путем добавления метода наблюдателя, который вызывает метод <code>handleItem()</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Для создания ответа <code>FileErrorReporter</code> на событие добавьте следующий метод к классу.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class FileErrorReporter implements ItemErrorHandler {

    *public void eventFired(@Observes Item item) {
        handleItem(item);
    }*

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Используйте подсказку редактора, чтобы добавить оператор импорта для <code>javax.enterprise.event.Observes</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запустите проект еще раз (нажмите клавишу F6; fn+F6 на компьютерах Mac), нажмите кнопку <code>Выполнить</code>, затем вернитесь в среду IDE и проверьте протокол сервера в окне вывода.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window2.png" alt="output window2">
</div>
<div class="title">Figure 5. Просмотрите журнал сервера GlassFish, отображенный в окне вывода</div>
</div>
<div class="paragraph">
<p>Вы увидите, что события инициируются для недопустимых объектов, так же как и раньше, но теперь информация об элементе сохраняется при инициировании каждого события. Также можно отметить, что выполняется наблюдение за событиями жизненного цикла, поскольку компонент <code>FileErrorReporter</code> создаётся и закрывается для каждого инициированного события. (Для обсуждения аннотаций жизненного цикла, например <code>@PostConstruct</code> и <code>@PreDestroy</code> ознакомьтесь с разделом <a href="cdi-validate.html">Применение компонентов @Alternative и аннотаций жизненного цикла</a>.)</p>
</div>
<div class="paragraph">
<p>Как показано выше аннотация <code>@Observes</code> упрощает процесс наблюдения за событиями.</p>
</div>
<div class="paragraph">
<p>События и наблюдатели также можно аннотировать с помощью квалификаторов, чтобы наблюдатели могли наблюдать только за определенными событиями для элемента. <a href="http://www.andygibson.net/blog/index.php/2010/01/11/getting-started-with-jsf-2-0-and-cdi-part-3/">Введение в CDI и JSF 2.0</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scopes">Обработка областей действия</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В настоящем состоянии приложения компонент <code>FileErrorReporter</code> создается при каждом возникновении события. В этом случае не требуется создавать каждый раз новый компонент, поскольку отсутствует необходимость открывать и закрывать файл для каждого элемента. Однако всё ещё требуется открывать файл при запуске процесса и затем закрывать его после завершения процесса. Следовательно, необходимо учитывать <em>область действия</em> компонента <code>FileErrorReporter</code>.</p>
</div>
<div class="paragraph">
<p>В настоящее время компонент <code>FileErrorReporter</code> не имеет определенной области действия. Если область действия не определена, CDI использует псевдозависимую область действия по умолчанию. На практике это означает, что компонент создается и уничтожается за очень короткий промежуток времени, как правило, за время вызова метода. В нашей ситуации компонент создается и уничтожается за время инициирования события. Чтобы это исправить, можно увеличить область действия компонента вручную путем добавления аннотации области действия. Компонент <code>@RequestScoped</code> будет настроен таким образом, что когда он будет создан при инициировании первого события, он будет продолжать существовать на всем протяжении действия запроса. Это также означает, что для любых точек внедрения, в которых этот компонент определен для внедрения, будет внедрён тот же экземпляр компонента.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Добавьте аннотацию <code>@RequestScope</code> и соответствующий оператор импорта для <code>javax.enterprise.context.RequestScoped</code> к классу <code>FileErrorReporter</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*import javax.enterprise.context.RequestScoped;*
...

*@RequestScoped*
public class FileErrorReporter implements ItemErrorHandler { ... }</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Нажмите сочетание клавиш CTRL+ПРОБЕЛ при вводе, чтобы вызвать поддержку автозавершения кода в редакторе. При выборе элемента через автозавершение кода некоторые операторы импорта автоматически добавляются к этому классу.#
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/code-completion.png" alt="code completion">
</div>
<div class="title">Figure 6. Нажмите сочетание клавиш CTRL+ПРОБЕЛ при вводе, чтобы вызвать поддержку автозавершения кода в редакторе. </div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запустите проект еще раз (нажмите клавишу F6; fn+F6 на компьютерах Mac), нажмите кнопку <code>Выполнить</code>, затем вернитесь в среду IDE и проверьте протокол сервера в окне вывода.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-window3.png" alt="output window3">
</div>
<div class="title">Figure 7. Просмотрите журнал сервера GlassFish, отображенный в окне вывода</div>
</div>
<div class="paragraph">
<p>Обратите внимание, что компонент <code>FileErrorReporter</code> создается только при инициировании первого события и закрывается после инициирования конечного события.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">INFO: Firing Event
*INFO: Creating file error reporter*
INFO: Saving exercise2.Item@48ce88f6 [Value=34, Limit=7] to file
INFO: Firing Event
INFO: Saving exercise2.Item@3cae5788 [Value=89, Limit=32] to file
*INFO: Closing file error reporter*</code></pre>
</div>
</div>
<div class="paragraph">
<p>События являются лучшим способом для разделения частей системы на модули, так как наблюдатели и производители событий не имеют информации друг о друге, и для этого их не требуется особым образом настраивать. Можно добавлять фрагменты кода, выполняющие подписку на события, при этом производитель событий не будет иметь информации о наблюдателе. (Если события не используются, то необходимо настроить производитель событий на вызов наблюдателя вручную.) Например, если кто-нибудь обновляет состояние заказа, можно добавить события для отправки письма торговому представителю или для уведомления менеджера по работе с клиентами, если вопрос, заданный в техническую поддержку, не закрыт по истечении одной недели. Такого рода правила можно внедрять без событий, но события упрощают процесс отвязывания бизнес-логики. Кроме того, отсутствует зависимость от времени компиляции или сборки. Можно просто добавить модули в приложение, и они автоматически запустят наблюдение за событиями и их производство.</p>
</div>
<div class="paragraph">
<p><a href="/about/contact_form.html?to=3&amp;subject=Feedback:%20Working%20with%20Events%20in%20CDI">Отправить отзыв по этому учебному курсу</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="seealso">Дополнительные сведения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Дополнительные сведения о CDI и Java EE приведены в следующих материалах.</p>
</div>
<div class="sect2">
<h3 id="_материалы_по_netbeans">Материалы по NetBeans</h3>
<div class="ulist">
<ul>
<li>
<p><a href="cdi-intro.html">Начало работы со внедрением контекстов и зависимостей и JSF 2.0</a></p>
</li>
<li>
<p><a href="cdi-inject.html">Работа с внедрением и квалификаторами в CDI</a></p>
</li>
<li>
<p><a href="cdi-validate.html">Применение аннотации @Alternative и аннотаций жизненного цикла</a></p>
</li>
<li>
<p><a href="javaee-gettingstarted.html">Начало работы с приложениями Java EE</a></p>
</li>
<li>
<p><a href="../web/jsf20-intro.html">Введение в JavaServer Faces 2.0</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_внешние_ресурсы">Внешние ресурсы</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://blogs.oracle.com/enterprisetechtips/entry/using_cdi_and_dependency_injection">Технические рекомендации по Java EE: использование CDI и внедрения зависимостей для Java в приложении JSF 2.0</a></p>
</li>
<li>
<p><a href="http://download.oracle.com/javaee/6/tutorial/doc/gjbnr.html">Учебный курс по Java EE 6, часть V: внедрение контекстов и зависимостей для платформы Java EE</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=299">JSR 299: спецификация внедрения контекстов и зависимостей</a></p>
</li>
<li>
<p><a href="http://jcp.org/en/jsr/detail?id=316">JSR 316. Платформа Java, спецификация Enterprise Edition 6</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/kb/docs/javaee/cdi-events_ru.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
