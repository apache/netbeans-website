
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Tutorial do aplicativo Paint para a Plataforma NetBeans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tutorial do aplicativo Paint para a Plataforma NetBeans - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Tutorial do aplicativo Paint para a Plataforma NetBeans">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Tutorial do aplicativo Paint para a Plataforma NetBeans</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/691/nbm-paintapp_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_introdução_ao_aplicativo_paint">Introdução ao aplicativo Paint</a></li>
<li><a href="#_configurando_o_aplicativo_paint">Configurando o aplicativo Paint</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_esqueleto_do_aplicativo">Criando o esqueleto do aplicativo</a></li>
<li><a href="#_criando_o_módulo_de_wrapper_de_bibliotecas">Criando o módulo de wrapper de bibliotecas</a></li>
<li><a href="#_criando_o_módulo">Criando o módulo</a></li>
<li><a href="#_especificando_as_dependências_do_módulo">Especificando as dependências do módulo</a></li>
</ul>
</li>
<li><a href="#_criando_e_incorporando_a_tela_do_paint">Criando e incorporando a tela do Paint</a>
<ul class="sectlevel2">
<li><a href="#_criando_a_tela">Criando a tela</a></li>
<li><a href="#_preparando_a_classe_topcomponent">Preparando a classe TopComponent</a></li>
<li><a href="#_inicializando_a_classe_topcomponent">Inicializando a classe TopComponent</a></li>
<li><a href="#_preenchendo_os_métodos_do_esqueleto">Preenchendo os métodos do esqueleto</a></li>
<li><a href="#_salvando_a_imagem_em_disco">Salvando a imagem em disco</a></li>
</ul>
</li>
<li><a href="#_criando_o_item_de_menu_nova_tela">Criando o item de menu Nova tela</a></li>
<li><a href="#_criando_o_item_de_menu_salvar_tela">Criando o item de menu Salvar tela</a></li>
<li><a href="#_empacotando">Empacotando</a></li>
<li><a href="#_criando_uma_distribuição">Criando uma distribuição</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este tutorial orienta-o através dos fundamentos do uso do NetBeans IDE para desenvolver aplicativos rich-client na Plataforma NetBeans. Ao desenvolver aplicativos na Plataforma NetBeans, você está desenvolvendo no núcleo do NetBeans IDE. Todos os módulos que pertençam ao IDE e não sejam relevantes para o seu aplicativo serão excluídos, mas os úteis serão mantidos. Ao reutilizar recursos prontamente disponíveis no núcleo do IDE, você economiza tempo e energia.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
este documento utiliza a versão NetBeans IDE 6.5. Se você estiver utilizando o NetBeans IDE 0.x, consulte  <a href="60/nbm-paintapp_pt_BR.html">a versão 6.0/6.1 deste documento</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introdução_ao_aplicativo_paint">Introdução ao aplicativo Paint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este tutorial foi concebido para começar o mais rápido possível. Você gerará criar e instalar um aplicativo simples na Plataforma NetBeans. O aplicativo permite que o usuário pinte na tela e salve os resultados:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_result-without-menus-60.png" alt="paintapp result without menus 60">
</div>
</div>
<div class="paragraph">
<p>Esta versão inicial está longe de ser um aplicativo paint desenvolvido, mas demonstra um caso muito simples de criação de um aplicativo na Plataforma NetBeans.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
o  <a href="nbm-google_pt_BR.html">Início rápido do plug-in do NetBeans</a> é um tutorial melhor se você quiser aprender sobre módulos do NetBeans e não sobre aplicativos rich-client.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Neste tutorial, recriaremos um aplicativo que é uma amostra fornecida com o IDE. Para ver o produto final, ou para solucionar problemas enquanto trabalhar neste tutorial, obtenha a amostra do Assistente para novo projeto, na localização mostrada abaixo:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_sample-in-new-project-60.png" alt="paintapp sample in new project 60">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configurando_o_aplicativo_paint">Configurando o aplicativo Paint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, a estrutura do aplicativo será criada. Primeiro é preciso criar o esqueleto de um aplicativo, o que pode ser feito através de um assistente. O aplicativo depende de uma biblioteca, assim, você também gerará criar um módulo de wrapper de bibliotecas que conterá o arquivo JAR da biblioteca. Finalmente, você gerará criar o módulo que conterá o código.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_esqueleto_do_aplicativo">Criando o esqueleto do aplicativo</h3>
<div class="paragraph">
<p>O modelo "Aplicativo da plataforma NetBeans" gerará criar o esqueleto do aplicativo. O esqueleto consistirá em um conjunto de módulos que funcionam juntos para formar a base do aplicativo. Você utilizará a caixa de diálogo Propriedades do projeto para atribuir a tela inicial do aplicativo, o nome do aplicativo e o tipo e o número de módulos NetBeans que deseja utilizar. Também é possível se beneficiar de ações como a criação de uma distribuição ZIP e a construção de um aplicativo JNLP (Java WebStart), que são ferramentas importantes para tornar seu aplicativo disponível para os outros usuários.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Escolha Arquivo &gt; Novo projeto. Em Categorias, selecione Módulos do NetBeans. Em Projetos, selecione Aplicativo da plataforma NetBeans:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_paintapp-proj-wiz.png" alt="paintapp paintapp proj wiz">
</div>
</div>
<div class="paragraph">
<p>Clique em Próximo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Nome e local, digite  <code>PaintApp</code>  em Nome do projeto. Altere Local de projeto para qualquer diretório no computador. Deixe marcada a caixa de verificação Definir como projeto principal. Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O novo esqueleto do aplicativo é aberto no IDE. Ele contém dois nós na janela Projetos. O primeiro nó, o nó "Módulos", é para adição manual de módulos e módulos de wrapper de bibliotecas no aplicativo. Além disso, ao utilizar o assistente para Módulo ou o assistente para Módulo de wrapper de bibliotecas, o módulo que você criar poderá ser adicionado automaticamente ao aplicativo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_criando_o_módulo_de_wrapper_de_bibliotecas">Criando o módulo de wrapper de bibliotecas</h3>
<div class="paragraph">
<p>Um módulo de wrapper de biblioteca é um módulo cujo arquivo JAR não contém código, ele apenas aponta para uma biblioteca. Ele transforma a biblioteca em um módulo do NetBeans, para que todas as proteções do sistema carregador de classes do NetBeans sejam aplicadas nele, sem modificar o arquivo JAR original. O aplicativo poderá, então, depender da biblioteca simplesmente como se ela fosse outro módulo do NetBeans. E, se novas versões da biblioteca se tornarem disponíveis, é possível distribuí-las sem precisar distribuir nada além de um simples arquivo NBM (NetBeans Module) para o wrapper de bibliotecas.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
um dos benefícios da construção na Plataforma NetBeans é que a interface do usuário é baseada em Swing: o kit de ferramentas padrão de interface do usuário para Java. Como o Swing tem sido utilizado há bastante tempo, há muitos componentes Swing que podem ser reutilizados no aplicativo. Neste tutorial, reutilize um JavaBean de seletor de cores existente (é possível encontrar o código-fonte para tal no NetBeans CVS em  <code>contrib/coloreditor</code> ). O arquivo JAR é nomeado  <code>ColorChooser.jar</code> . É possível fazer o download da biblioteca  <a href="http://web.archive.org/web/20081119053233/http://colorchooser.dev.java.net/">aqui</a>. Salve-a em qualquer lugar no sistema de arquivos.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Para criar um módulo de wrapper de bibliotecas para o arquivo  <code>ColorChooser.jar</code>  faça o seguinte:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Escolha Arquivo &gt; Novo projeto. Em Categorias, selecione Módulos do NetBeans. Em Projetos, selecione Módulo de wrapper de bibliotecas e clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Selecionar biblioteca, para a caixa de texto Biblioteca, digite o caminho para  <code>ColorChooser.jar</code>  ou navegue até sua localização.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Deixe o campo de texto Licença vazio. Se você pretender distribuir o produto completo, deverá incluir o arquivo de licença da biblioteca externa. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>No painel Nome e localização, preencha o nome do projeto, defina o local do projeto e certifique-se de que a lista suspensa Adicionar à suíte de módulos mostra que o módulo será adicionado ao aplicativo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>No painel Configuração básica de módulos, digite um nome exclusivo no nome base do código, especifique um nome de exibição para o módulo e o local do pacote de localização do módulo:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_lib-wrap-1.png" alt="paintapp lib wrap 1">
</div>
</div>
<div class="paragraph">
<p>Clique em Terminar.</p>
</div>
<div class="paragraph">
<p>O módulo que empacota o  <code>colorchooser.jar</code>  selecionado é criado pelo IDE. A estrutura do novo módulo é mostrada na janela Projetos. O nó "Módulos" na estrutura do aplicativo mostra que o módulo faz parte do aplicativo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_criando_o_módulo">Criando o módulo</h3>
<div class="paragraph">
<p>Agora, é preciso um módulo para receber o código real que você vai escrever.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Escolha Arquivo &gt; Novo projeto. Em Categorias, selecione Módulos do NetBeans. Em Projetos, selecione Módulo e clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Nome e local, digite  <code>Paint</code>  em Nome do projeto. Altere Local do projeto para qualquer diretório no computador. Certifique-se de que o botão de opção Adicionar à suíte de módulos esteja selecionado e de que o aplicativo  <code>PaintApp</code>  esteja selecionado na lista suspensa Suíte de módulos. Selecione a caixa de verificação Definir como projeto principal. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Configuração básica de módulos, digite  <code>org.netbeans.paint</code> . Deixe  <code>Paint</code>  como o Nome de exibição do módulo. Deixe o local do pacote de localização. Clique em Gerar camada XML e não altere o local sugerido, para que o pacote de localização e o arquivo de camada XML sejam armazenados em um pacote com o nome  <code>org.netbeans.paint</code> .</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Esses destinos fazem o seguinte:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Pacote de localização.</strong> Especifica as strings de linguagem específica para internacionalização.</p>
</li>
<li>
<p><strong>Camada XML.</strong> Registra itens como menus e botões da barra de ferramentas no aplicativo da plataforma NetBeans.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Clique em Terminar.</p>
</div>
<div class="paragraph">
<p>O IDE cria o projeto  <code>Paint</code> . O projeto contém todos os metadados de projeto e códigos-fonte, como o script de construção Ant do projeto. O projeto se abre no IDE. É possível ver a estrutura lógica na janela Projetos (Ctrl-1) e a estrutura de arquivos na janela Arquivos (Ctrl+2). Por exemplo, a janela Projetos deve ter esta aparência:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_paintapp-start-1.png" alt="paintapp paintapp start 1">
</div>
</div>
<div class="paragraph">
<p>Além do pacote de localização e da camada XML, o projeto também inclui os seguintes arquivos importantes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Manifesto do módulo.</strong> Declara que o projeto é um módulo. Além disso, define algumas configurações específicas do módulo, tais como a localização da camada XML, a localização do pacote de bundle e a versão do módulo.</p>
</li>
<li>
<p><strong>Script de construção.</strong> Fornece um local onde é possível criar seus próprios destinos Ant e substituir aqueles que são especificados em  <code>nbproject/build-impl.xml</code> .</p>
</li>
<li>
<p><strong>Metadados do projeto.</strong> Contém informações como o tipo do projeto, conteúdo, plataforma, classpath, dependências e mapeamentos entre os comandos do projeto e os destinos em scripts Ant.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Não será preciso modificar qualquer um desses arquivos durante este tutorial.</p>
</div>
</div>
<div class="sect2">
<h3 id="_especificando_as_dependências_do_módulo">Especificando as dependências do módulo</h3>
<div class="paragraph">
<p>É preciso criar subclasses de várias classes que pertencem às  <a href="http://bits.netbeans.org/dev/javadoc/index.html">APIs do NetBeans</a>. Além disso, o projeto depende do arquivo  <code>ColorChooser.jar</code> . Todas as APIs do NetBeans são implementadas por módulos, portanto, concluir ambas essas tarefas realmente significa adicionar alguns módulos à lista de módulos de que nosso módulo precisa para ser executado.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse no nó do projeto  <code>Paint</code>  e escolha Propriedades. A caixa de diálogo Propriedades do projeto é aberta. Em Categorias, clique em Bibliotecas.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Para cada uma das APIs listadas na tabela abaixo, clique em "Adicionar dependência&#8230;&#8203;" e, em seguida, na caixa de texto Filtro, comece digitando o nome da classe cuja subclasse deseja criar.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Classe</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>API</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Finalidade</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Seletor de cores</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Seletor de cores</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O módulo do wrapper de biblioteca do componente seletor de cores criado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DataObject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API de sistemas de dados</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O módulo do NetBeans que contém a classe DataObject</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DialogDisplayer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API de caixas de diálogo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isso permite a criação da notificação do usuário, uma descrição da caixa de diálogo e permite que ela seja exibida</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AbstractFile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API do sistema de arquivos</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isso fornece uma API comum para acessar os arquivos de uma maneira uniforme</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AbstractNode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API de nós</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isso serve como o aparato principal para a visualização de objetos no NetBeans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StatusDisplayer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API de utilitários para UI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A classe StatusDisplayer utilizada para criar a barra de status na janela principal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WeakListeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API de utilitários</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isso contém a classe WeakListeners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TopComponent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>API do sistema de janelas</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Isso contém a classe JPanel TopComponent</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A primeira coluna na tabela acima, lista todas as classes cuja subclasse será criada neste tutorial. Em cada caso, comece a digitar o nome da classe no filtro e veja a lista Módulo diminuir. Utilize a segunda coluna da tabela para selecionar a API apropriada (ou, no caso de  <code>ColorChooser</code> , a biblioteca) na lista Módulo diminuída e clique em OK para confirmar a escolha:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_libfilter-60.png" alt="paintapp libfilter 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clique em OK para sair da caixa de diálogo Propriedades do projeto.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Na janela Projetos, expanda o nó do projeto do módulo do Paint se ele ainda não estiver expandido. Em seguida, expanda o nó Arquivos importantes e clique duas vezes no nó Metadados do projeto. Observe que as APIs selecionadas foram declaradas como dependências de módulo.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_e_incorporando_a_tela_do_paint">Criando e incorporando a tela do Paint</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_criando_a_tela">Criando a tela</h3>
<div class="paragraph">
<p>A próxima etapa é criar o componente real que o usuário pode pintar. Aqui, um componente Swing puro é utilizado: portanto, vamos ignorar os detalhes de sua implementação e fornecer apenas a versão final. O bean do seletor de cores, para o qual o wrapper de biblioteca foi criado, é utilizado no código-fonte desse painel: quando você executar o aplicativo concluído, gerará vê-lo na barra de ferramentas do painel para edição de imagens.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, expanda o nó  <code>Paint</code> e, em seguida, expanda o nó Pacotes de códigos-fonte e clique com o botão direito do mouse no nó  <code>org.netbeans.paint</code> . Escolha Nova &gt; Classe Java.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Insira  <code>PaintCanvas</code>  como o Nome da classe. Garanta que  <code>org.netbeans.paint</code>  esteja listado como o pacote. Clique em Terminar.  <code>PaintCanvas.java</code>  se abre no editor de código-fonte.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Substitua o conteúdo padrão do arquivo pelo conteúdo encontrado  <a href="https://netbeans.apache.org/platform/guide/tutorials/paintTutorial/PaintCanvas.java">aqui</a>. Se você chamou o pacote de algo diferente de  <code>org.netbeans.paint</code> , corrija o nome do pacote no editor de código-fonte.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_preparando_a_classe_topcomponent">Preparando a classe TopComponent</h3>
<div class="paragraph">
<p>Agora sua primeira classe que utiliza as  <a href="http://bits.netbeans.org/dev/javadoc/index.html">APIs do NetBeans</a> será escrita. Trata-se de uma classe  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.html">TopComponent</a></code> . Uma classe  <code>TopComponent</code>  é apenas uma classe  <code>JPanel</code>  com a qual o sistema de janelas do NetBeans sabe se comunicar: portanto, ela pode ser colocada dentro de um contêiner com guias dentro da janela principal.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, expanda o nó  <code>Paint</code> e, em seguida, expanda o nó Pacotes de códigos-fonte e clique com o botão direito do mouse no nó  <code>org.netbeans.paint</code> . Escolha Nova &gt; Classe Java. Indique  <code>PaintTopComponent</code>  como o Nome da classe. Garanta que  <code>org.netbeans.paint</code>  esteja listado como o pacote. Clique em Terminar.  <code>PaintTopComponent.java</code>  se abre no editor de código-fonte.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Próximo à parte superior do arquivo, altere a declaração da classe para o seguinte:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class PaintTopComponent extends TopComponent implements ActionListener, ChangeListener {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Pressione Ctrl-Shift-I para corrigir as importações e clique em OK na caixa de diálogo. O IDE faz as declarações de pacote de importação necessárias na parte superior do arquivo.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Observe a linha vermelha sob a declaração da classe que você acabou de indicar. Posicione o cursor na linha e observe que uma lâmpada aparece na margem esquerda. Clique na lâmpada (ou pressione Alt-Enter), como mostrado abaixo:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_lightbulb-60.png" alt="paintapp lightbulb 60">
</div>
</div>
<div class="paragraph">
<p>Selecione Implementar todos os métodos abstratos. O IDE gera dois esqueletos de método:  <code>actionPerformed()</code>  e  <code>stateChanged()</code> . Você os experimentará neste tutorial.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Adicione as três declarações de variável seguintes no início da classe  <code>PaintTopComponent</code>  e corrija as instruções de importação (Ctrl-Shift-I).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private PaintCanvas canvas = new PaintCanvas(); //The component the user draws on
    private JComponent preview; //A component in the toolbar that shows the paintbrush size
    private static int ct = 0; //A counter you use to provide names for new images</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Agora é preciso implementar dois métodos padronizados. O primeiro diz ao sistema de janelas para ignorar as janelas abertas quando o aplicativo é encerrado; o segundo fornece uma string base de um ID de string único do nosso componente. Cada  <code>TopComponent</code>  possui um ID de string único que é utilizado ao salvar o  <code>TopComponent</code> . Insira os dois métodos seguintes na classe  <code>PaintTopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public int getPersistenceType() {
        return PERSISTENCE_NEVER;
    }

    @Override
    public String preferredID() {
        return "Image";
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A classe agora deve ter esta aparência:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class PaintTopComponent extends TopComponent implements ActionListener, ChangeListener {

    private PaintCanvas canvas = new PaintCanvas(); //The component the user draws on
    private JComponent preview; //A component in the toolbar that shows the paintbrush size
    private static int ct = 0; //A counter you use to provide names for new images

    public PaintTopComponent() {
    }

    @Override
    public void actionPerformed(ActionEvent arg0) {
        throw new UnsupportedOperationException("Not supported yet.");
    }

    @Override
    public void stateChanged(ChangeEvent arg0) {
        throw new UnsupportedOperationException("Not supported yet.");
    }

    @Override
    public int getPersistenceType() {
        return PERSISTENCE_NEVER;
    }

    @Override
    public String preferredID() {
        return "Image";
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_inicializando_a_classe_topcomponent">Inicializando a classe TopComponent</h3>
<div class="paragraph">
<p>Nesta seção, adicionamos o código que inicializa a interface do usuário.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Defina o construtor e depois corrija as sentenças import (Ctrl-Shift-I):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public PaintTopComponent() {

        initComponents();

        String displayName = NbBundle.getMessage(
                PaintTopComponent.class,
                "UnsavedImageNameFormat",
                new Object[] { new Integer(ct++) }
        );

        setDisplayName(displayName);

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>O código aqui é muito simples. A primeira chamada a um método que você ainda não escreveu,  <code>initComponents()</code> , que adicionará uma barra de ferramentas e um PaintCanvas ao seu  <code>TopComponent</code> . Como o método ainda não foi escrito, uma linha vermelha aparece abaixo dele. Como antes, clique na lâmpada (ou pressione Alt-Enter) e aceite a sugestão:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_lightbulb-initcomponents-60.png" alt="paintapp lightbulb initcomponents 60">
</div>
</div>
<div class="paragraph">
<p>O esqueleto do método  <code>initComponents()</code>  é gerado para você.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Expanda o pacote  <code>org.netbeans.paint</code>  na janela Projetos. Clique duas vezes no arquivo  <code>Bundle.properties</code>  para abrí-lo no editor de código-fonte. Adicionando a linha seguinte no fim:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    UnsavedImageNameFormat=Image {0}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Isso especifica o texto que será utilizado para identificar um novo arquivo de imagem no aplicativo antes de ser salvo pelo usuário. Por exemplo, quando um usuário clicar em Nova tela pela primeira vez em seu aplicativo concluído, aparecerá uma aba acima do editor de código-fonte com o rótulo, 'Image 0'. Salve o arquivo antes de continuar.</p>
</div>
</div>
<div class="sect2">
<h3 id="_preenchendo_os_métodos_do_esqueleto">Preenchendo os métodos do esqueleto</h3>
<div class="paragraph">
<p>Nesta seção, codificamos a interface do usuário do nosso aplicativo. Também poderíamos utilizar o Construtor de GUIs do IDE para criar visualmente o layout.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>O método  <code>initComponents()</code>  instala os componentes em seu painel, de forma que o usuário tenha algo com que interagir. O método de esqueleto foi gerado durante a seção anterior na classe  <code>PaintTopComponent.java</code> . Preencha da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private void initComponents() {

        setLayout(new BorderLayout());
        JToolBar bar = new JToolBar();

        ColorChooser fg = new ColorChooser();
        preview = canvas.createBrushSizeView();

        //Now build our toolbar:

        //Make sure components don't get squished:
        Dimension min = new Dimension(32, 32);
        preview.setMaximumSize(min);
        fg.setPreferredSize(new Dimension(16, 16));
        fg.setMinimumSize(min);
        fg.setMaximumSize(min);

        JButton clear = new JButton(
          	    NbBundle.getMessage(PaintTopComponent.class, "LBL_Clear"));

        JLabel fore = new JLabel(
         	    NbBundle.getMessage(PaintTopComponent.class, "LBL_Foreground"));

        fg.addActionListener(this);
        clear.addActionListener(this);

        JSlider js = new JSlider();
        js.setMinimum(1);
        js.setMaximum(24);
        js.setValue(canvas.getDiam());
        js.addChangeListener(this);

        fg.setColor(canvas.getColor());

        bar.add(clear);
        bar.add(fore);
        bar.add(fg);
        JLabel bsize = new JLabel(
     	    NbBundle.getMessage(PaintTopComponent.class, "LBL_BrushSize"));

        bar.add(bsize);
        bar.add(js);
        bar.add(preview);

        JLabel spacer = new JLabel("   "); //Just a spacer so the brush preview
        //isn't stretched to the end of the
        //toolbar

        spacer.setPreferredSize(new Dimension(400, 24));
        bar.add(spacer);

        //And install the toolbar and the painting component:
        add(bar, BorderLayout.NORTH);
        add(canvas, BorderLayout.CENTER);

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pressione Ctrl-Shift-I para gerar as instruções de importação necessárias.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Preencha os outros dois métodos gerados. Eles são utilizados para ouvir a classe  <code>PaintTopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public void actionPerformed(ActionEvent e) {

        if (e.getSource() instanceof JButton) {
           canvas.clear();
        } else if (e.getSource() instanceof ColorChooser) {
           ColorChooser cc = (ColorChooser) e.getSource();
           canvas.setPaint (cc.getColor());
        }

        preview.paintImmediately(0, 0, preview.getWidth(), preview.getHeight());

    }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public void stateChanged(ChangeEvent e) {

        JSlider js = (JSlider) e.getSource();
        canvas.setDiam (js.getValue());
        preview.paintImmediately(0, 0, preview.getWidth(), preview.getHeight());

    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No arquivo  <code>Bundle.properties</code> , adicione os pares chave-valor seguintes ao fim do arquivo:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    LBL_Clear = Clear
    LBL_Foreground = Foreground
    LBL_BrushSize = Brush Size</code></pre>
</div>
</div>
<div class="paragraph">
<p>Salve o arquivo antes de continuar.</p>
</div>
</div>
<div class="sect2">
<h3 id="_salvando_a_imagem_em_disco">Salvando a imagem em disco</h3>
<div class="paragraph">
<p>Em seu novo aplicativo, seria uma boa idéia permitir aos usuários salvar as imagens que eles criam. Incluindo o código seguinte na classe  <code>PaintTopComponent</code> , essa funcionalidade será ativada.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Insira o código seguinte na classe  <code>PaintTopComponent</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public void save() throws IOException {

        if (getDisplayName().endsWith(".png")) {
	    doSave(new File(getDisplayName()));
        } else {
	    saveAs();
        }

    }

    public void saveAs() throws IOException {

        JFileChooser ch = new JFileChooser();
        if (ch.showSaveDialog(this) == JFileChooser.APPROVE_OPTION &amp;amp;&amp;amp; ch.getSelectedFile() != null) {

	    File f = ch.getSelectedFile();

	    if (!f.getPath().endsWith(".png")) {
	        f = new File(f.getPath() + ".png");
	    }

	    if (!f.exists()) {

	        if (!f.createNewFile()) {
		    String failMsg = NbBundle.getMessage(
		             PaintTopComponent.class,
			    "MSG_SaveFailed", new Object[] { f.getPath() }
	            );
		    JOptionPane.showMessageDialog(this, failMsg);
		    return;
	        }

	    } else {
	        String overwriteMsg = NbBundle.getMessage(
		    PaintTopComponent.class,
                    "MSG_Overwrite", new Object[] { f.getPath() }
	        );

	        if (JOptionPane.showConfirmDialog(this, overwriteMsg)
	        != JOptionPane.OK_OPTION) {
		    return;
	        }

	    }

	    doSave(f);

        }

    }

    private void doSave(File f) throws IOException {

        BufferedImage img = canvas.getImage();
        ImageIO.write(img, "png", f);
        String statusMsg = NbBundle.getMessage(PaintTopComponent.class,
            "MSG_Saved", new Object[] { f.getPath() });
        StatusDisplayer.getDefault().setStatusText(statusMsg);
        setDisplayName(f.getName());

    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Adicione as linhas seguintes ao arquivo  <code>Bundle.properties</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    MSG_SaveFailed = Could not write to file {0}
    MSG_Overwrite = {0} exists.  Sobrescrever?    MSG_Saved = Saved image to {0}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Salve o arquivo antes de continuar.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clique em Ctrl-Shift-I para corrigir as instruções de importação. Você observará que haverá dois nomes totalmente classificados para a classe  <code>File</code> . Escolha a opção  <code>java.io.File</code> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_item_de_menu_nova_tela">Criando o item de menu Nova tela</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Utilize os modelos de arquivo de desenvolvimento de módulo para criar a base da funcionalidade do método. Quando um modelo de arquivo é utilizado, o IDE registra o item que você cria no arquivo  <code>layer.xml</code> . Depois de utilizar um assistente para criar o arquivo de modelo, utilize as  <a href="https://bits.netbeans.org/dev/javadoc/">APIs do NetBeans</a> para continuar a desenvolver o módulo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse no nó do projeto do módulo Paint e escolha Novo &gt; Outro. No assistente para Novo arquivo, escolha Desenvolvimento de módulo em Categorias e Ação em Tipos de arquivo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Tipo de ação, aceite os padrões. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Registro de GUI, selecione Item de menu global e selecione Barra de ferramentas global. Defina os seguintes valores:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Categoria:</strong> Editar</p>
</li>
<li>
<p><strong>Menu:</strong> Arquivo</p>
</li>
<li>
<p><strong>Posição:</strong> Qualquer lugar que você desejar!</p>
</li>
<li>
<p><strong>Barra de ferramentas:</strong> Arquivo</p>
</li>
<li>
<p><strong>Posição:</strong> Qualquer lugar que você desejar!</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
O local em que a ação é posicionada não é importante, desde que ela esteja no menu Arquivo e na barra de ferramentas Arquivo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Agora você deve ver o seguinte:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_newcanvasaction-60.png" alt="paintapp newcanvasaction 60">
</div>
</div>
<div class="paragraph">
<p>Clique em Próximo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>No painel Nome, ícone e localização, digite  <code>NewCanvasAction</code>  em Nome da classe e digite  <code>Nova tela</code>  em Nome de exibição.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Em Ícone, navegue até este ícone (clique com o botão direito do mouse aqui e em, seguida, salve-o na pasta  <code>org.netbeans.paint</code> ):
image::images/paintapp_new_icon.png[]</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O IDE cria  <code>NewCanvasAction.java</code>  em  <code>org.netbeans.paint</code>  e abre-o no editor de código-fonte. Isto é o que você deve ver:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package org.netbeans.paint;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public final class NewCanvasAction implements ActionListener {

    public void actionPerformed(ActionEvent e) {
        // TODO implement action body
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como especificado no painel Registro da GUI, o IDE registra a classe da ação como um item e menu e um botão da barra de ferramentas no arquivo  <code>layer.xml</code> , junto com informações sobre o ícone e o nome de exibição.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>No editor de código-fonte, abra  <code>NewCanvasAction.java</code>  e preencha o método  <code>actionPerformed()</code>  da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public void actionPerformed(ActionEvent e) {
        PaintTopComponent tc = new PaintTopComponent();
        tc.open();
        tc.requestActive();
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>O que ele faz é simplesmente criar uma nova instância do nosso componente de edição de imagem, abrí-lo de modo que ele apareça na janela principal e ativá-lo, enviando o foco do teclado para ele e selecionando sua aba.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_item_de_menu_salvar_tela">Criando o item de menu Salvar tela</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Como na seção anterior, utilizamos o assistente para Nova ação a fim de criar um item de menu, dessa vez para salvar imagens.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse no nó do projeto do módulo Paint e escolha Novo &gt; Outro. No assistente para Novo arquivo, escolha Desenvolvimento de módulo em Categorias e Ação em Tipos de arquivo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Tipo de ação, aceite os padrões. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Registro de GUI, selecione Item de menu global e selecione Barra de ferramentas global. Defina os seguintes valores:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Categoria:</strong> Editar</p>
</li>
<li>
<p><strong>Menu:</strong> Arquivo</p>
</li>
<li>
<p><strong>Posição:</strong> Qualquer lugar que você desejar!</p>
</li>
<li>
<p><strong>Barra de ferramentas:</strong> Arquivo</p>
</li>
<li>
<p><strong>Posição:</strong> Qualquer lugar que você desejar!</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
o local em que a ação é posicionada não é importante, desde que ela esteja no menu Arquivo e na barra de ferramentas Arquivo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Clique em Próximo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>No painel Nome, ícone e localização, digite  <code>SaveCanvasAction</code>  em Nome da classe e digite  <code>Salvar tela</code>  em Nome de exibição.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Em Ícone, cole esse ícone (clique com o botão direito do mouse aqui e salve-o na pasta  <code>org.netbeans.paint</code> ):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_save_icon.png" alt="paintapp save icon">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O IDE cria  <code>SaveCanvasAction.java</code>  em  <code>org.netbeans.paint</code>  e abre-o no editor de código-fonte.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Altere a assinatura da classe para que  <code>CallableSystemAction</code>  seja estendida e  <code>PropertyChangeListener</code>  seja implementada:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public final class SaveCanvasAction extends CallableSystemAction implements PropertyChangeListener</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>No editor de código-fonte, certifique-se de que  <code>SaveCanvasAction.java</code>  está aberto e preencha o método  <code>actionPerformed()</code>  da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public void actionPerformed(ActionEvent e) {
        TopComponent tc = TopComponent.getRegistry().getActivated();

        if (tc instanceof PaintTopComponent) {

            try {
                ((PaintTopComponent) tc).saveAs();
            } catch (IOException ioe) {
                ErrorManager.getDefault().notify(ioe);
            }

        } else {

            //Theoretically the active component could have changed
            //between the time the menu item or toolbar button was
            //pressed and when the action was invoked.  Not likely,
            //but theoretically possible
            Toolkit.getDefaultToolkit().beep();

        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pressione Ctrl-Shift-I para gerar as instruções de importação necessárias:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_fiximports-60.png" alt="paintapp fiximports 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Preencha os métodos da classe  <code>CallableSystemAction</code>  da seguinte maneira:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public String getName() {
        return "Save Canvas";
    }

    @Override
    public HelpCtx getHelpCtx() {
        return null;
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Preencha o método  <code>propertyChange()</code>  da classe  <code>PropertyChangeListener</code>  da seguinte maneira:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public void propertyChange(PropertyChangeEvent evt) {

        if (TopComponent.Registry.PROP_ACTIVATED.equals(evt.getPropertyName())){
	    updateEnablement();
        }

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando uma linha vermelha aparecer, clique em Alt + Enter para permitir o IDE criar um método  <code>updateEnablement()</code>  na classe  <code>SaveCanvasAction</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Em seguida, defina o método  <code>updateEnablement()</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private void updateEnablement() {

        setEnabled(TopComponent.getRegistry().getActivated()
        instanceof PaintTopComponent);

    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Finalmente, defina o construtor:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public SaveCanvasAction() {

        TopComponent.getRegistry().addPropertyChangeListener (
	    WeakListeners.propertyChange(this,
	    TopComponent.getRegistry()));

        updateEnablement();

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando uma linha vermelha aparece, clique em Alt + Enter para permitir ao IDE importar  <code>org.openide.util.WeakListeners</code> .</p>
</div>
<div class="paragraph">
<p>O código principal de interesse é a adição do ouvinte de alteração de propriedade.  <code>TopComponent.Registry</code>  é um registro de todos os  <code>TopComponents</code>  abertos no sistema: todas as abas abertas. O que queremos fazer é ouvir as alterações e ativar e desativar a ação dependendo do que possui o foco.</p>
</div>
<div class="paragraph">
<p><strong>Nota:</strong> em vez de anexar diretamente um ouvinte de alteração de propriedade, chame  <code>WeakListeners.propertyChange()</code> . O que ele faz é gerar um ouvinte de alteração de propriedade que se refere ligeiramente à sua ação. Na prática, sua ação existirá enquanto o aplicativo estiver aberto, é uma boa e duradoura prática, utilizar um ouvinte fraco, se um ouvinte estiver anexado e não houver código que o desanexe. Caso contrário, você terá um vazamento de memória potencial: sua ação nunca poderia ter o lixo recolhido porque o registro está mantendo uma referência a ele em sua lista de ouvintes.</p>
</div>
<div class="paragraph">
<p>Isso é o que você deve ver agora na janela Projetos:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_final-paint-module.png" alt="paintapp final paint module">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_empacotando">Empacotando</h2>
<div class="sectionbody">
<div class="paragraph">
<p>É claro que você deseja criar um aplicativo aprimorado. Assim, há algumas etapas finais que podem ser realizadas. Primeiro, crie uma tela de abertura para o aplicativo e, em seguida, uma distribuição de ZIP e um aplicativo JNLP.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Execute o projeto  <code>PaintApp</code> . Depois que o aplicativo é iniciado, redimensione a tela principal de forma que fique bem pequena e desenhe uma tela de abertura. Utilize o botão Salvar para salvar a tela de abertura.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No projeto original, clique com o botão direito do mouse no nó  <code>PaintApp</code> , escolha Propriedades e, em seguida, clique em Construir na caixa de diálogo Propriedades do projeto.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Selecione Criar aplicativo independente. Agora é possível especificar um nome de marca (que será o nome do iniciador que o IDE pode gerar para você) e um título de aplicativo (que aparecerá na barra de título do aplicativo). Como padrão, você deve ver o seguinte:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_splashscreen1-60.png" alt="paintapp splashscreen1 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Clique em Tela de abertura. Vá para a sua tela de abertura. Se não possuir uma, utilize  <a href="https://netbeans.apache.org/platform/images/tutorials/paintapp/splash.gif">esta</a>. Clique em OK para anexá-la ao seu aplicativo:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_splashscreen-60.png" alt="paintapp splashscreen 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Agora, no arquivo  <code>layer.xml</code>  do módulo do Paint, adicione as marcas seguintes na pasta Menu. Essas marcas removem os menus Ir para e Exibir, dos quais o aplicativo Paint não precisam.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;file name="GoTo_hidden"/&gt;
&lt;file name="View_hidden"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternativamente, em vez de adicionar manualmente as marcas acima, é possível excluir as pastas no nó  <code>&lt;esta camada no contexto&gt;</code>  do arquivo  <code>layer.xml</code> . Para fazer isso, expanda  <code>&lt;esta camada no contexto&gt;</code>  e, em seguida, expanda o nó Barra de menus. Escolha Excluir no menu do botão direito do mouse de ambos os nós Ir para e Exibir.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Finalmente, execute o aplicativo novamente e observe a tela de abertura. Quando o aplicativo tiver sido inicializado, observe que a barra de título exibe o título que você especificou. Além disso, existem muito menos itens de menu, botões da barra de ferramentas e outros recursos:
image::images/paintapp_result-without-menus-60.png[]</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_uma_distribuição">Criando uma distribuição</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Agora, é hora de escolher o meio de distribuição. Clique com o botão direito do mouse no nó  <code>PaintApp</code>  e escolha Criar distribuição de ZIP para empacotar o aplicativo inteiro, com todos os módulos e arquivos necessários, como um arquivo zip. Você também pode escolher Construir aplicativo JNLP para criar uma versão JavaWebStart™ do aplicativo que você pode colocar em um serviço Web e vincular diretamente a partir de uma página da Web (você precisa definir uma URL correta — o descritor gerado usa arquivo: protocolo de forma que você possa testar localmente sua distribuição iniciável via Web).</p>
</div>
<div class="paragraph">
<p>Isso é tudo! Você completou seu aplicativo construído sobre a plataforma NetBeans. Próxima parada:  <a href="https://netbeans.apache.org/tutorials/nbm-feedreader.html">Tutorial Feed Reader da Plataforma NetBeans</a>.</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Envie-nos seus comentários</a></p>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/691/nbm-paintapp_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
