
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans Project Type Module Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans Project Type Module Tutorial - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans Project Type Module Tutorial">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">NetBeans Project Type Module Tutorial</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/74/nbm-projecttype.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_introduction_to_project_types">Introduction to Project Types</a></li>
<li><a href="#_creating_the_module_project">Creating the Module Project</a></li>
<li><a href="#_setting_dependencies">Setting Dependencies</a></li>
<li><a href="#_creating_the_project_factory">Creating the Project Factory</a></li>
<li><a href="#_creating_the_project">Creating the Project</a>
<ul class="sectlevel2">
<li><a href="#_creating_and_registering_the_project_information">Creating and Registering the Project Information</a></li>
<li><a href="#_creating_and_registering_the_project_logical_view">Creating and Registering the Project Logical View</a></li>
<li><a href="#_creating_and_registering_the_project_node_children">Creating and Registering the Project Node Children</a></li>
<li><a href="#_creating_and_registering_the_project_customizer">Creating and Registering the Project Customizer</a></li>
<li><a href="#_creating_and_registering_the_project_subprojects">Creating and Registering the Project Subprojects</a></li>
</ul>
</li>
<li><a href="#_registering_the_project_type_as_project_sample">Registering the Project Type as Project Sample</a></li>
<li><a href="#_next_steps">Next Steps</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial demonstrates how to create a new project type in a NetBeans Platform application.</p>
</div>
<div class="paragraph">
<p><strong>Before going further, make sure this is the tutorial you actually need!</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rather than creating a new project type, you might want to extend an <em>existing</em> project type instead, as described in the  <a href="https://netbeans.apache.org/tutorials/nbm-projectextension.html">NetBeans Project Type Extension Module Tutorial</a>.</p>
</li>
<li>
<p>For Maven-based NetBeans Platform applications, see  <a href="http://netbeans.dzone.com/how-create-maven-nb-project-type">How to Create a Custom Project Type in a Mavenized NetBeans Platform Application</a>.</p>
</li>
<li>
<p>If the projects for which you&#8217;re creating a project type (whether on Ant or Maven based NetBeans Platform applications) need to use Ant as their build tool, you should use the  <a href="https://netbeans.apache.org/tutorials/nbm-projecttypeant.html">NetBeans Ant-Based Project Type Module Tutorial</a> instead.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This document uses NetBeans Platform 7.2 and NetBeans IDE 7.2. If you are using an earlier version, see  <a href="71/nbm-projecttype.html">the previous version of this document</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You will also make use of these icons, which you can right-click here and download:
image::images/projecttypes_72pics_icon.png[]
image::images/projecttypes_72pics_sub-icon.png[]</p>
</div>
<div class="paragraph">
<p>For troubleshooting purposes, you are welcome to download the  <a href="http://web.archive.org/web/20130305120247/http://java.net:80/projects/nb-api-samples/sources/api-samples/show/versions/7.2/tutorials/CustomerProjectType">completed tutorial source code</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_project_types">Introduction to Project Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>project type</em> is a NetBeans Platform term for a grouping of folders and files that is treated as a single unit. Treating related folders and files as a single unit makes working with them easier for the end user. One way in which a project type simplifies life for the user is that you are able to fill the Projects window only with those folders and files that the end user is most likely to work. For example, the Java project type in NetBeans IDE helps the end user to work with the folders and files belonging to a single Java application.</p>
</div>
<div class="paragraph">
<p>Our project type will be defined by the existence of a file named "customer.txt". The tutorial assumes you have available, on disk, multiple folders containing such a file, for example as illustrated below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_result-1.png" alt="projecttypes 72pics result 1">
</div>
</div>
<div class="paragraph">
<p>As in the case of the folders named "customer1", "customer2", and "customer3" above, if a folder contains a file named "customer", with a "txt" extension, the NetBeans Platform will recognize the folder as a project. The user will be able to open the project into a NetBeans Platform application. The user will also be able to create new projects, via the New Projects window (Ctrl-Shift-N), which is where we will register some sample projects.</p>
</div>
<div class="paragraph">
<p>The following are the main NetBeans API classes we will be implementing in this tutorial:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectFactory.html">org.netbeans.spi.project.ProjectFactory</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines when a folder or file is a valid project and then creates the implemention of  <code>org.netbeans.api.project.Project</code> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/api/project/Project.html">org.netbeans.api.project.Project</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/LogicalViewProvider.html">org.netbeans.spi.project.ui.LogicalViewProvider</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides the logical view for the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/api/project/ProjectInformation.html">org.netbeans.api.project.ProjectInformation</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides supplemental information for the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ActionProvider.html">org.netbeans.spi.project.ActionProvider</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides one or more actions for the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/CopyOperationImplementation.html">org.netbeans.spi.project.CopyOperationImplementation</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides the Copy operation for the project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/DeleteOperationImplementation.html">org.netbeans.spi.project.DeleteOperationImplementation</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides the Delete operation for the project.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_module_project">Creating the Module Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We begin by working through the New Module Project wizard. At the end of it, we will have a basic source structure, with some default files, that every NetBeans module requires.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Choose File &gt; New Project (Ctrl+Shift+N). Under Categories, select NetBeans Modules. Under Projects, select Module. Click Next.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the Name and Location panel, type  <code>CustomerProjectType</code>  in the Project Name field. Change the Project Location to any directory on your computer.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-1.png" alt="projecttypes 72pics proj 1">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Basic Module Configuration panel, type  <code>org.customer.project</code>  in Code Name Base.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-2.png" alt="projecttypes 72pics proj 2">
</div>
</div>
<div class="paragraph">
<p>Click Finish.</p>
</div>
<div class="paragraph">
<p>The IDE creates the  <code>CustomerProjectType</code>  project. The project contains all of your sources and project metadata, such as the project&#8217;s Ant build script. The project opens in the IDE. You can view its logical structure in the Projects window (Ctrl-1) and its file structure in the Files window (Ctrl-2).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_dependencies">Setting Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will need to make use of several NetBeans APIs. In this step, we select the modules that provide the NetBeans APIs that we will need.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the project&#8217;s Libraries node and choose "Add Module Dependency". Select the following modules and click OK:</p>
<div class="ulist">
<ul>
<li>
<p>Common Annotations</p>
</li>
<li>
<p>Datasystems API</p>
</li>
<li>
<p>Dialogs API</p>
</li>
<li>
<p>File System API</p>
</li>
<li>
<p>Lookup API</p>
</li>
<li>
<p>Nodes API</p>
</li>
<li>
<p>Project API</p>
</li>
<li>
<p>Project UI API</p>
</li>
<li>
<p>UI Utilities API</p>
</li>
<li>
<p>Utilities API</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Expand the Libraries node and check that the following dependencies have been set in the previous step:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-3.png" alt="projecttypes 72pics proj 3">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_project_factory">Creating the Project Factory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We start by implementing the  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectFactory.html">org.netbeans.spi.project.ProjectFactory</a></code>  class.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Create a Java class named  <code>CustomerProjectFactory</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Change the default code to the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.io.IOException;
import org.netbeans.api.project.Project;
import org.netbeans.spi.project.ProjectFactory;
import org.netbeans.spi.project.ProjectState;
import org.openide.filesystems.FileObject;
import org.openide.util.lookup.ServiceProvider;

@ServiceProvider(service=ProjectFactory.class)
public class CustomerProjectFactory implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectFactory.html[ProjectFactory] {

    public static final String PROJECT_FILE = "customer.txt";

    *//Specifies when a project is a project, i.e.,
    //if "customer.txt" is present in a folder:*
    @Override
    public boolean isProject(FileObject projectDirectory) {
        return projectDirectory.getFileObject(PROJECT_FILE) != null;
    }

    *//Specifies when the project will be opened, i.e., if the project exists:*
    @Override
    public Project loadProject(FileObject dir,  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectState.html[ProjectState] state) throws IOException {
        return isProject(dir) ? new CustomerProject(dir, state) : null;
    }

    @Override
    public void saveProject(final Project project) throws IOException, ClassCastException {
        // leave unimplemented for the moment
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The @ServiceProvider annotation used in the class signature above will cause a META-INF/services file to be created when the module is compiled. Within that folder, a file named after the fully qualified name of the interface will be found, containing the fully qualified name of the implementing class. That is the standard JDK mechanism, since JDK 6, for registering implementations of interfaces. That is how project types are registered in the NetBeans Plaform.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Instead of  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectFactory.html">ProjectFactory</a></code> , consider implementing the newer  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/ProjectFactory2.html">ProjectFactory2</a></code> .  <code>ProjectFactory2</code>  is a performance correction to  <code>ProjectFactory</code> , done in a compatible way. If you implement  <code>ProjectFactory2</code> , the project will not need to be loaded, which can take some time, especially in populating the Lookup, and the project icon appears fast in the Open Project dialog. If you implement only  <code>ProjectFactory</code> , more memory is consumed and projects are loaded even if not used or opened in the end. The main effective place to see the difference visually is when you have many projects in a single folder. The pattern itself is fairly common in the Eclipse world, for example. Interfaces are extended as InterfaceExt, InterfaceExt2, InterfaceExt3, etc. The general idea is that typically you should always implement the last extension to the base interface. But the core codebase dealing with the interfaces can handle all of the variants.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_project">Creating the Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, we implement the  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/api/project/Project.html">org.netbeans.api.project.Project</a></code>  class.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Create a Java class named  <code>CustomerProject</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>We&#8217;ll start with a simple skeleton implementation:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import org.netbeans.api.project.Project;
import org.netbeans.spi.project.ProjectState;
import org.openide.filesystems.FileObject;
import org.openide.util.Lookup;

public class CustomerProject implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/api/project/Project.html[Project] {

    CustomerProject(FileObject dir, ProjectState state) {
        throw new UnsupportedOperationException("Not yet implemented");
    }

    @Override
    public FileObject getProjectDirectory() {
        throw new UnsupportedOperationException("Not supported yet.");
    }

    @Override
    public Lookup getLookup() {
        throw new UnsupportedOperationException("Not supported yet.");
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The  <code>getLookup</code>  method, in the code above, is the key to the NetBeans project infrastructure. When you create new features for a project type, such as its logical view, its popup actions, or its customizer, you register them in the project via its  <code>getLookup</code>  method.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Let&#8217;s set up our project class so that we can start using it to register the project&#8217;s features. Fill out the class by setting fields and add code to the  <code>getLookup</code>  method to prepare it for the following sections.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.beans.PropertyChangeListener;
import javax.swing.Icon;
import javax.swing.ImageIcon;
import org.netbeans.api.annotations.common.StaticResource;
import org.netbeans.api.project.Project;
import org.netbeans.api.project.ProjectInformation;
import org.netbeans.spi.project.ProjectState;
import org.openide.filesystems.FileObject;
import org.openide.util.ImageUtilities;
import org.openide.util.Lookup;
import org.openide.util.lookup.Lookups;

public class CustomerProject implements Project {

    private final FileObject projectDir;
    private final ProjectState state;
    private Lookup lkp;

    CustomerProject(FileObject dir, ProjectState state) {
        this.projectDir = dir;
        this.state = state;
    }

    @Override
    public FileObject getProjectDirectory() {
        return projectDir;
    }

    @Override
    public Lookup getLookup() {
        if (lkp == null) {
            lkp = Lookups.fixed(new Object[]{

            // register your features here

            });
        }
        return lkp;
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Now let&#8217;s work on the features that we&#8217;d like our project to have. In each case, we define the feature and then we register the feature in the project&#8217;s Lookup.</p>
<div class="ulist">
<ul>
<li>
<p><a href="#projectinformation">Creating and Registering the Project Information</a></p>
</li>
<li>
<p><a href="#projectlogicalview">Creating and Registering the Project Logical View</a></p>
</li>
<li>
<p><a href="#projectchildren">Creating and Registering the Project Node Children</a></p>
</li>
<li>
<p><a href="#projectcustomizer">Creating and Registering the Project Customizer</a></p>
</li>
<li>
<p><a href="#projectsubtype">Creating and Registering the Project Subprojects</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_creating_and_registering_the_project_information">Creating and Registering the Project Information</h3>
<div class="paragraph">
<p>In this section, you register minimum NetBeans project support, that is, you create and register a class that provides an icon and a display name for the project.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Put the  <code>icon.png</code>  file, referred to at the start of this tutorial, into the  <code>org.customer.project</code>  package.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>As an inner class of the  <code>CustomerProject</code>  class, define the project information as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private final class Info implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/api/project/ProjectInformation.html[ProjectInformation] {

link:http://bits.netbeans.org/dev/javadoc/org-netbeans-api-annotations-common/org/netbeans/api/annotations/common/StaticResource.html[@StaticResource()]
    public static final String CUSTOMER_ICON = "org/customer/project/icon.png";

    @Override
    public Icon getIcon() {
        return new ImageIcon(ImageUtilities.loadImage(CUSTOMER_ICON));
    }

    @Override
    public String getName() {
        return getProjectDirectory().getName();
    }

    @Override
    public String getDisplayName() {
        return getName();
    }

    @Override
    public void addPropertyChangeListener(PropertyChangeListener pcl) {
        //do nothing, won't change
    }

    @Override
    public void removePropertyChangeListener(PropertyChangeListener pcl) {
        //do nothing, won't change
    }

    @Override
    public Project getProject() {
        return CustomerProject.this;
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Now register the  <code>ProjectInformation</code>  in the Lookup of the project as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{

            *new Info(),*

        });
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the module. Your application starts up and your module is installed into it. Go to File | Open Project and, when you browse to folders containing a "customer.txt" file, notice that the folders are recognized as projects and show the icon you defined in the  <code>ProjectInformation</code>  class above:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_result-3.png" alt="projecttypes 72pics result 3">
</div>
</div>
<div class="paragraph">
<p>When you open a project, notice that all the folders and files in the project are shown in the Projects window and that, when you right-click on the project, several default popup actions are shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_result-2.png" alt="projecttypes 72pics result 2">
</div>
</div>
<div class="paragraph">
<p>Now that you can open folders as projects into your application, let&#8217;s work on the project&#8217;s logical view. The logical view is displayed in the Projects window. The Projects window typically only shows the most important files or folders that the user should work with, together with the related display names, icons, and popup actions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_and_registering_the_project_logical_view">Creating and Registering the Project Logical View</h3>
<div class="paragraph">
<p>In this section, you define the logical view of your project, as shown in the Projects window of your application.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>As an inner class of the  <code>CustomerProject</code>  class, define the project logical view as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">class CustomerProjectLogicalView implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/LogicalViewProvider.html[LogicalViewProvider] {

link:http://bits.netbeans.org/dev/javadoc/org-netbeans-api-annotations-common/org/netbeans/api/annotations/common/StaticResource.html[@StaticResource()]
    public static final String CUSTOMER_ICON = "org/customer/project/icon.png";

    private final CustomerProject project;

    public CustomerProjectLogicalView(CustomerProject project) {
        this.project = project;
    }

    @Override
    public Node createLogicalView() {
        try {
            //Obtain the project directory's node:
            FileObject projectDirectory = project.getProjectDirectory();
            DataFolder projectFolder = DataFolder.findFolder(projectDirectory);
            Node nodeOfProjectFolder = projectFolder.getNodeDelegate();
            //Decorate the project directory's node:
            return new ProjectNode(nodeOfProjectFolder, project);
        } catch (DataObjectNotFoundException donfe) {
            Exceptions.printStackTrace(donfe);
            //Fallback-the directory couldn't be created -
            //read-only filesystem or something evil happened
            return new AbstractNode(Children.LEAF);
        }
    }

    private final class ProjectNode extends FilterNode {

        final CustomerProject project;

        public ProjectNode(Node node, CustomerProject project)
            throws DataObjectNotFoundException {
            super(node,
                    new FilterNode.Children(node),
                    new ProxyLookup(
                    new Lookup[]{
                        Lookups.singleton(project),
                        node.getLookup()
                    }));
            this.project = project;
        }

        @Override
        public Action[] getActions(boolean arg0) {
            return new Action[]{
                        CommonProjectActions.newFileAction(),
                        CommonProjectActions.copyProjectAction(),
                        CommonProjectActions.deleteProjectAction(),
                        CommonProjectActions.closeProjectAction()
                    };
        }

        @Override
        public Image getIcon(int type) {
            return ImageUtilities.loadImage(CUSTOMER_ICON);
        }

        @Override
        public Image getOpenedIcon(int type) {
            return getIcon(type);
        }

        @Override
        public String getDisplayName() {
            return project.getProjectDirectory().getName();
        }

    }

    @Override
    public Node findPath(Node root, Object target) {
        //leave unimplemented for now
        return null;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Many project actions are available for you to use, as you can see from the code completion:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-4.png" alt="projecttypes 72pics proj 4">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>As before, register the feature in the Lookup of the project:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{
                new Info(),
                *new CustomerProjectLogicalView(this),*
        });
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Run the module again and open a customer project again. You should see the following:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_result-4.png" alt="projecttypes 72pics result 4">
</div>
</div>
<div class="paragraph">
<p>The project node now shows the display name, icon, and popup actions that you defined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_and_registering_the_project_node_children">Creating and Registering the Project Node Children</h3>
<div class="paragraph">
<p>In this section, you learn how to define which folders and files should be displayed in the logical view, that is, the Projects window. Currently, you are showing all folders and files because the children of the project node are defined by  <code>FilterNode.Children(node)</code> , which means "display all the children of the node".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Change the constructor of the ProjectNode as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public ProjectNode(Node node, CustomerProject project)
    throws DataObjectNotFoundException {
    super(node,
            * link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/NodeFactorySupport.html#createCompositeChildren(org.netbeans.api.project.Project, java.lang.String)[NodeFactorySupport.createCompositeChildren](
                    project,
                    "Projects/org-customer-project/Nodes"),*
            // new FilterNode.Children(node),
            new ProxyLookup(
            new Lookup[]{
                Lookups.singleton(project),
                node.getLookup()
            }));
    this.project = project;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Register the project in its own Lookup:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{
               *this,*
               new Info(),
               new CustomerProjectLogicalView(this),});
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Create a new Java class  <code>TextsNodeFactory</code>  in a new package  <code>org.customer.project.nodes</code>  as follows, while taking special note of the  <code>@NodeFactory.Registration</code>  annotation:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.customer.project.nodes;

import java.util.ArrayList;
import java.util.List;
import javax.swing.event.ChangeListener;
import org.customer.project.CustomerProject;
import org.netbeans.api.project.Project;
import org.netbeans.spi.project.ui.support.NodeFactory;
import org.netbeans.spi.project.ui.support.NodeList;
import org.openide.filesystems.FileObject;
import org.openide.loaders.DataObject;
import org.openide.loaders.DataObjectNotFoundException;
import org.openide.nodes.FilterNode;
import org.openide.nodes.Node;
import org.openide.util.Exceptions;

link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/NodeFactory.Registration.html[@NodeFactory.Registration](projectType = "org-customer-project", position = 10)
public class TextsNodeFactory implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/NodeFactory.html[NodeFactory] {

    @Override
    public NodeList&lt;?&gt; createNodes(Project project) {
        CustomerProject p = project.getLookup().lookup(CustomerProject.class);
        assert p != null;
        return new TextsNodeList(p);
    }

    private class TextsNodeList implements NodeList&lt;Node&gt; {

        CustomerProject project;

        public TextsNodeList(CustomerProject project) {
            this.project = project;
        }

        @Override
        public List&lt;Node&gt; keys() {
            FileObject textsFolder =
                project.getProjectDirectory().getFileObject("texts");
            List&lt;Node&gt; result = new ArrayList&lt;Node&gt;();
            if (textsFolder != null) {
                for (FileObject textsFolderFile : textsFolder.getChildren()) {
                    try {
                        result.add(DataObject.find(textsFolderFile).getNodeDelegate());
                    } catch (DataObjectNotFoundException ex) {
                        Exceptions.printStackTrace(ex);
                    }
                }
            }
            return result;
        }

        @Override
        public Node node(Node node) {
            return new FilterNode(node);
        }

        @Override
        public void addNotify() {
        }

        @Override
        public void removeNotify() {
        }

        @Override
        public void addChangeListener(ChangeListener cl) {
        }

        @Override
        public void removeChangeListener(ChangeListener cl) {
        }

    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the module again and open a customer project again. Make sure the project has a subfolder named "texts", with some content. You should see the following, that is, the content of the "texts" folder is shown in the Projects window, which exists to provide a logical view, while the Files window shows the complete folder structure:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_text-folder-1.png" alt="projecttypes 72pics text folder 1">
</div>
</div>
<div class="paragraph">
<p>An important point to realize in this section is that the  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/NodeFactory.Registration.html">@NodeFactory.Registration</a></code>  annotation can be used to register new child nodes of the customer project node, either within the current module or via external modules. In this way, the logical view of your project is extensible, that is, logical views can be pluggable, if an extension point is created as part of its definition, as shown in step 1 of this section.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_and_registering_the_project_customizer">Creating and Registering the Project Customizer</h3>
<div class="paragraph">
<p>In this section, you learn how to create a pluggable customizer. When the user right-clicks the project node, they will see a Properties menu item. When they click it, the customizer will open. The categories in the customizer can be contributed by external modules, that is, the customizer will be created to be extensible.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Register the customizer action in the logical view of the project, as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Action[] getActions(boolean arg0) {
    return new Action[]{
                CommonProjectActions.newFileAction(),
                CommonProjectActions.copyProjectAction(),
                CommonProjectActions.deleteProjectAction(),
                *CommonProjectActions.customizeProjectAction(),*
                CommonProjectActions.closeProjectAction()
            };
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Run the module and right-click the project node. You should see that the Properties popup menu item is present, but disabled:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_customizer-1.png" alt="projecttypes 72pics customizer 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Register a skeleton customizer in the Lookup of the project:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{
                    this,
                    new Info(),
                    new CustomerProjectLogicalView(this),
                    *new CustomizerProvider() {
                        @Override
                        public void showCustomizer() {
                            JOptionPane.showMessageDialog(
                                    null,
                                    "customizer for " +
                                    getProjectDirectory().getName());
                        }
                    },*
        });
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the module again and right-click the project node. You should see that the Properties popup menu item is now enabled:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_customizer-2.png" alt="projecttypes 72pics customizer 2">
</div>
</div>
<div class="paragraph">
<p>Click the menu item and you should see your  <code>JOptionPane</code> :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_customizer-3.png" alt="projecttypes 72pics customizer 3">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Now we create the infrastructure for our pluggable Project Properties window:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.customer.project;

import java.awt.Dialog;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import org.netbeans.api.project.ProjectUtils;
import org.netbeans.spi.project.ui.CustomizerProvider;
import org.netbeans.spi.project.ui.support.ProjectCustomizer;
import org.openide.awt.StatusDisplayer;
import org.openide.util.lookup.Lookups;

public class CustomerCustomizerProvider implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/CustomizerProvider.html[CustomizerProvider] {

    public final CustomerProject project;

    public static final String CUSTOMIZER_FOLDER_PATH =
            "Projects/org-customer-project/Customizer";

    public CustomerCustomizerProvider(CustomerProject project) {
        this.project = project;
    }

    @Override
    public void showCustomizer() {
        Dialog dialog =  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/ProjectCustomizer.html[ProjectCustomizer].createCustomizerDialog(
                //Path to layer folder:
                CUSTOMIZER_FOLDER_PATH,
                //Lookup, which must contain, at least, the Project:
                Lookups.fixed(project),
                //Preselected category:
                "",
                //OK button listener:
                new OKOptionListener(),
                //HelpCtx for Help button of dialog:
                null);
        dialog.setTitle(ProjectUtils.getInformation(project).getDisplayName());
        dialog.setVisible(true);
    }

    private class OKOptionListener implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent e) {
            StatusDisplayer.getDefault().setStatusText("OK button clicked for "
                    + project.getProjectDirectory().getName() + " customizer!");
        }

    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Next, rewrite the project&#8217;s Lookup so that the above class is created within it:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{
               this,
               new Info(),
               new CustomerProjectLogicalView(this),
               *new CustomerCustomizerProvider(this)*
        });
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>In a new package  <code>org.customer.project.panels</code> , create a new Java class named  <code>GeneralCustomerProperties</code> , with this content:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.customer.project.panels;

import javax.swing.JComponent;
import javax.swing.JPanel;
import org.netbeans.spi.project.ui.support.ProjectCustomizer;
import org.netbeans.spi.project.ui.support.ProjectCustomizer.Category;
import org.openide.util.Lookup;
import org.openide.util.NbBundle;

public class GeneralCustomerProperties
    implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectuiapi/org/netbeans/spi/project/ui/support/ProjectCustomizer.html[ProjectCustomizer.CompositeCategoryProvider] {

    private static final String GENERAL = "General";

    @ProjectCustomizer.CompositeCategoryProvider.Registration(
            projectType = "org-customer-project", position = 10)
    public static GeneralCustomerProperties createGeneral() {
        return new GeneralCustomerProperties();
    }

    @NbBundle.Messages("LBL_Config_General=General")
    @Override
    public Category createCategory(Lookup lkp) {
        return ProjectCustomizer.Category.create(
                GENERAL,
                Bundle.LBL_Config_General(),
                null);
    }

    @Override
    public JComponent createComponent(Category category, Lookup lkp) {
        return new JPanel();
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the usage of the  <code>@ProjectCustomizer.CompositeCategoryProvider.Registration</code>  annotation above. Using that annotation, you can register new panels in the Project Properties dialog, via the extension point you created in step 5 above. In this way, each panel can be contributed by external modules. For another example, see  <a href="http://netbeans.dzone.com/new-tabs-netbeans-project-props">Adding New Tabs to the Project Properties Dialog in NetBeans IDE</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Run the module again and right-click the project node. When you click the Properties menu item, you should see the Project Properties dialog, with one category:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_customizer-4.png" alt="projecttypes 72pics customizer 4">
</div>
</div>
<div class="paragraph">
<p>When you click the OK button, you will see a message in the status bar. The message is provided by the  <code>OKOptionListener</code>  you defined above.</p>
</div>
<div class="paragraph">
<p>You now have the start of a project customizer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_and_registering_the_project_subprojects">Creating and Registering the Project Subprojects</h3>
<div class="paragraph">
<p>In this section, you learn how to create new project types that are nested within other project types:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_sub-proj-2.png" alt="projecttypes 72pics sub proj 2">
</div>
</div>
<div class="paragraph">
<p>Above, you can see that the "customer3" project has several folders. One of those folders is named "reports", containing subfolders, each of which contains a file named "report.xml". In the instructions that follow, you will create a new project type for folders containing a file named "report.xml", while also being shown how to register those projects as subprojects of the customer project.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Following the instructions <a href="#creatingtheprojectfactory">at the start of this tutorial</a>, create a new  <code>ProjectFactory</code>  that recognizes folders containing a file named "report.xml" as a project of type  <code>ReportsSubProject</code> . Define a  <code>ProjectInformation</code>  and a  <code>ProjectLogicalView</code>  for your  <code>ReportsSubProject</code> .</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Create a  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/SubprojectProvider.html">SubprojectProvider</a></code>  that looks inside the customer project&#8217;s "reports" folder for projects of your type:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class ReportsSubprojectProvider implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-modules-projectapi/org/netbeans/spi/project/SubprojectProvider.html[SubprojectProvider] {

    private final CustomerProject project;

    public ReportsSubprojectProvider(CustomerProject project) {
        this.project = project;
    }

    @Override
    public Set&lt;? extends Project&gt; getSubprojects() {
        return loadProjects(project.getProjectDirectory());
    }

    private Set loadProjects(FileObject dir) {
        Set newProjects = new HashSet();
        FileObject reportsFolder = dir.getFileObject("reports");
        if (reportsFolder != null) {
            for (FileObject childFolder : reportsFolder.getChildren()) {
                try {
                    Project subp = ProjectManager.getDefault().
                        findProject(childFolder);
                    if (subp != null &amp;amp;&amp;amp; subp instanceof ReportsSubProject) {
                        newProjects.add((ReportsSubProject) subp);
                    }
                } catch (IOException ex) {
                    Exceptions.printStackTrace(ex);
                } catch (IllegalArgumentException ex) {
                    Exceptions.printStackTrace(ex);
                }
            }
        }
        return Collections.unmodifiableSet(newProjects);
    }

    @Override
    public void addChangeListener(ChangeListener cl) {
    }

    @Override
    public void removeChangeListener(ChangeListener cl) {
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Register the  <code>SubprojectProvider</code>  in the customer project&#8217;s Lookup:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public Lookup getLookup() {
    if (lkp == null) {
        lkp = Lookups.fixed(new Object[]{
                    this,
                    new Info(),
                    new CustomerProjectLogicalView(this),
                    new CustomerCustomizerProvider(this),
                    *new ReportsSubprojectProvider(this)*
                });
    }
    return lkp;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Similar to the  <code>TextsNodeFactory</code>  that you created earlier in this tutorial, create a new Java class  <code>ReportsSubProjectNodeFactory</code>  as follows, while again taking special note of the  <code>@NodeFactory.Registration</code>  annotation, which registers the  <code>NodeFactory</code>  into the logical view of the customer project:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@NodeFactory.Registration(projectType = "org-customer-project", position = 20)
public class ReportsSubProjectNodeFactory implements NodeFactory {

link:http://bits.netbeans.org/dev/javadoc/org-netbeans-api-annotations-common/org/netbeans/api/annotations/common/StaticResource.html[@StaticResource()]
    public static final String SUB_ICON = "org/customer/project/sub/icon.png";

    @Override
    public NodeList&lt;?&gt; createNodes(Project project) {
        ReportsSubprojectProvider rsp = project.getLookup().
            lookup(ReportsSubprojectProvider.class);
        assert rsp != null;
        return new ReportsNodeList(rsp.getSubprojects());
    }

    private class ReportsNodeList implements NodeList&lt;Project&gt; {

        Set&lt;? extends Project&gt; subprojects;

        public ReportsNodeList(Set&lt;? extends Project&gt; subprojects) {
            this.subprojects = subprojects;
        }

        @Override
        public List&lt;Project&gt; keys() {
            List&lt;Project&gt; result = new ArrayList&lt;Project&gt;();
            for (Project oneReportSubProject : subprojects) {
                result.add(oneReportSubProject);
            }
            return result;
        }

        @Override
        public Node node(Project node) {
            FilterNode fn = null;
            try {
                fn = new FilterNode(DataObject.find(node.
                        getProjectDirectory()).getNodeDelegate()){
                    @Override
                    public Image getIcon(int type) {
                        return ImageUtilities.loadImage(SUB_ICON);
                    }
                    @Override
                    public Image getOpenedIcon(int type) {
                        return ImageUtilities.loadImage(SUB_ICON);
                    }
                };
            } catch (DataObjectNotFoundException ex) {
                Exceptions.printStackTrace(ex);
            }
            return fn;
        }

        @Override
        public void addNotify() {
        }

        @Override
        public void removeNotify() {
        }

        @Override
        public void addChangeListener(ChangeListener cl) {
        }

        @Override
        public void removeChangeListener(ChangeListener cl) {
        }

    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Above, reference is made to an icon. Use your own, 16x16 pixels in size, or use one of the two shown at the top of this tutorial.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Run the module again, go to the Open Project dialog, and notice that subprojects are recognized and that you can open them:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_sub-proj-1.png" alt="projecttypes 72pics sub proj 1">
</div>
</div>
<div class="paragraph">
<p>Also, when you&#8217;ve selected a customer project in the Open Project dialog, the Open Project dialog lets you open the subprojects, too:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_sub-proj-3.png" alt="projecttypes 72pics sub proj 3">
</div>
</div>
<div class="paragraph">
<p>Using the instructions in this subsection, you can create a richly structured and deeply nested project hierarchy, because each subproject can provide its own subprojects, too. For further information on this topic, see  <a href="https://blogs.oracle.com/geertjan/entry/org_netbeans_spi_project_subprojectprovider">this blog entry</a>,  <a href="https://blogs.oracle.com/geertjan/entry/org_netbeans_spi_project_subprojectprovider1">this blog entry</a>, and  <a href="https://blogs.oracle.com/geertjan/entry/org_netbeans_spi_project_subprojectprovider2">this blog entry</a>.</p>
</div>
<div class="paragraph">
<p>In this section, you have defined the basic infrastructure of a new type of project in your NetBeans Platform application.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registering_the_project_type_as_project_sample">Registering the Project Type as Project Sample</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we create some project samples that make use of our project type. We also register these project samples in the New Project window of our application.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Run the module that you created in this tutorial. A new instance of your NetBeans Platform application starts up, with your project type installed via your module. If you&#8217;re creating the project type for NetBeans IDE, continue to the next step.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you&#8217;re creating the project type for some other application on the NetBeans Platform, you will need to include the apisupport modules from NetBeans IDE in your application, temporarily, to complete the steps that follow.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Open the sample projects you created in the previous step, which you&#8217;re now able to do since you have installed a module providing your project type.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-0.png" alt="projecttypes 72pics proj temp 0">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Also open the module itself. Create a new subpackage, named "samples", as shown below. Then right-click the package and choose New | Other | Module Development, and select Project Template as shown below:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-1.png" alt="projecttypes 72pics proj temp 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Use the New Project Template wizard to register your first sample project:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-2.png" alt="projecttypes 72pics proj temp 2">
</div>
</div>
<div class="paragraph">
<p>Click Next. Specify the name of the template, the display text, and the package where the template should be registered:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-3.png" alt="projecttypes 72pics proj temp 3">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Once you have completed the wizard, use it again to register other customer projects as samples.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Check that the module you&#8217;re developing now looks something like this in the Projects window:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-4.png" alt="projecttypes 72pics proj temp 4">
</div>
</div>
<div class="paragraph">
<p>You have now used the New Project Template wizard to register some project samples in your application. Also notice that you have some ZIP files containing your sample projects, created by the Project Template wizard, together with several classes from the NetBeans Wizard API. For further information, refer to the  <a href="https://netbeans.apache.org/tutorials/nbm-projectsamples.html">NetBeans Project Sample Module Tutorial</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>After closing the second instance of the IDE with the installed module, close and reopen the module in the original IDE before trying to run it. The reason for this is that the nbproject\private\platform-private.properties is changed by the second instance of the IDE to point to the testuserdir of the module, when the module is opened. Reopening the module fixes this problem.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Run your module again and go to File | New Project. You should see your new project samples, together with any other project samples registered in the application:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projecttypes_72pics_proj-temp-5.png" alt="projecttypes 72pics proj temp 5">
</div>
</div>
<div class="paragraph">
<p>Complete the wizard. At the end of the wizard, the ZIP file is unzipped and the new project is created.</p>
</div>
<div class="paragraph">
<p>You now have support for a new type of project, including a set of samples that your users can use to create skeleton projects of your type.</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Send Us Your Feedback</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about creating and developing NetBeans modules, see the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform.html">Other Related Tutorials</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/index.html">NetBeans API Javadoc</a></p>
</li>
</ul>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/74/nbm-projecttype.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
