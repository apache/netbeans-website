
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans Platform Paint Application Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans Platform Paint Application Tutorial - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans Platform Paint Application Tutorial">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">NetBeans Platform Paint Application Tutorial</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/71/nbm-paintapp.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_introduction_to_the_paint_application">Introduction to the Paint Application</a></li>
<li><a href="#_troubleshooting">Troubleshooting</a></li>
<li><a href="#_setting_up_the_paint_application">Setting Up the Paint Application</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_application_skeleton">Creating the Application Skeleton</a></li>
<li><a href="#_creating_the_library_wrapper_module">Creating the Library Wrapper Module</a></li>
<li><a href="#_creating_the_functionality_module">Creating the Functionality Module</a></li>
<li><a href="#_specifying_the_modules_dependencies">Specifying the Module&#8217;s Dependencies</a></li>
</ul>
</li>
<li><a href="#_creating_and_embedding_the_paint_canvas">Creating and Embedding the Paint Canvas</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_canvas">Creating the Canvas</a></li>
<li><a href="#_preparing_the_topcomponent_class">Preparing the TopComponent Class</a></li>
<li><a href="#_filling_out_the_skeleton_methods">Filling Out the Skeleton Methods</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial takes you through the basics of using NetBeans IDE to develop rich-client applications on top of the NetBeans Platform. When you develop applications on top of the NetBeans Platform, you are developing on top of the NetBeans IDE&#8217;s core. All the modules belonging to the IDE that are not relevant to your application are excluded, but those that are useful are kept. By reusing features readily available in IDE&#8217;s core, you save yourself a lot of time and energy.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This document uses the NetBeans IDE 7.0 Release or above. If you are using an earlier version, see  <a href="691/nbm-paintapp.html">the previous version of this document</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_the_paint_application">Introduction to the Paint Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial is designed to get you going as quickly as possible. You will create a simple application on the NetBeans Platform. The application allows the user to paint on the screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_result-without-menus.png" alt="paintapp 70 result without menus">
</div>
</div>
<div class="paragraph">
<p>This initial version is far from a full fledged paint application, but it demonstrates a very simple case of creating an application on top of the NetBeans Platform.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The  <a href="nbm-google.html">NetBeans Plugin Quick Start</a> is a better tutorial for you if, instead of rich-client applications, you want to learn about NetBeans modules.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this tutorial, we recreate an application that is a sample delivered with the IDE. To see the final product, or to troubleshoot problems while working through this tutorial, get the sample from the New Project wizard. Go to File | New Project, then Samples | NetBeans Modules | Paint Application, shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_sample-in-new-project.png" alt="paintapp 70 sample in new project">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_paint_application">Setting Up the Paint Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you create the structure of your application. You first need to create an application skeleton, which you can do via a wizard. The application depends on a library, so you will also create a library wrapper module that will contain the library&#8217;s JAR file. Finally, you will create the module that will contain your code.</p>
</div>
<div class="sect2">
<h3 id="_creating_the_application_skeleton">Creating the Application Skeleton</h3>
<div class="paragraph">
<p>The "NetBeans Platform Application" template will create your application&#8217;s skeleton. The skeleton will consist of a set of modules that work together to form the basis of your application. You will use the Project Properties dialog to assign your application&#8217;s splashscreen, application name, and the type and number of NetBeans modules that you want to use. You can also take advantage of such actions as creating a ZIP distribution and building a Java WebStart (JNLP) application, which are important tools in making your application available to other users.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Choose File &gt; New Project. Under Categories, select NetBeans Modules. Under projects, select NetBeans Platform Application:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-proj-wiz.png" alt="paintapp 70 paintapp proj wiz">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the Name and Location panel, type  <code>PaintApp</code>  in Project Name. Change the Project Location to any directory on your computer. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
The new application skeleton opens in the IDE. Look at the new project structure:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-proj-wiz2.png" alt="paintapp 70 paintapp proj wiz2">
</div>
</div>
<div class="paragraph">
<p>You see two subnodes in the Projects window. The first subnode, the "Modules" node, shows you the custom modules that are part of the application. Right now, as you can see, there are none. You can right-click on this subnode and then invoke wizards for creating new modules or for wrapping external JARs into the application. The "Important Files" node shows the build scripts and other supporting files used by the application.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Right-click the application and choose Run. The default splash screen is shown and then you see the starting point of your new application. Look through the menu bar and the toolbar to see the features that your application already has.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now that we have an application skeleton, let&#8217;s include an external JAR file that will be useful in our Paint Application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_library_wrapper_module">Creating the Library Wrapper Module</h3>
<div class="paragraph">
<p>A library wrapper module is a module whose JAR file contains no code—it is just a pointer to a library. It turns the library into a NetBeans module, so that all the protections of the NetBeans classloader system apply to it—without modifying the original JAR file. Your application can then depend on the library just as if the library were just another NetBeans module. And, if new versions of the library become available, you can distribute them without needing to distribute anything except a single NetBeans Module (NBM) file for the wrapper library.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
One of the benefits of building on the NetBeans Platform is that its user interface is based on Swing. Since Swing has been around for a long time, there are a lot of Swing components you can reuse in your application. In this tutorial, you reuse an existing color chooser JavaBean (you can find the source for it in NetBeans CVS under  <code>contrib/coloreditor</code> ). The JAR file is called  <code>colorchooser.jar</code> . You can download the library here:
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="http://web.archive.org/web/20120107130444/http://java.net:80/projects/colorchooser/sources/svn/show/trunk/www/release?rev=82">http://java.net/projects/colorchooser/sources/svn/show/trunk/www/release?rev=82</a></p>
</div>
<div class="paragraph">
<p>Save it anywhere in your filesystem.</p>
</div>
<div class="paragraph">
<p>Do the following to create a library wrapper module for the  <code>colorchooser.jar</code>  file:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the "Modules" node in the Paint Application. Select Add New Library.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
In the Select Library panel, in the "Library" text box, either type in the path to  <code>colorchooser.jar</code>  or browse to its location. Leave the "License" text field empty. If you intend to distribute the completed product, you should include the external library&#8217;s license file.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-lib-wiz1.png" alt="paintapp 70 paintapp lib wiz1">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Name and Location panel, fill in the project name, set the project location, and notice that the "Add to Module Suite" drop-down shows that the module will be added to the application.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-lib-wiz2.png" alt="paintapp 70 paintapp lib wiz2">
</div>
</div>
<div class="paragraph">
<p>Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>In the Basic Module Configuration panel, type a unique name in the code name base, specify a module display name, enter "Color Chooser" as the display name, and accept the suggested location of the module&#8217;s localizing bundle:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-lib-wiz3.png" alt="paintapp 70 paintapp lib wiz3">
</div>
</div>
<div class="paragraph">
<p>Click Finish.</p>
</div>
<div class="paragraph">
<p>The module that wraps the selected  <code>colorchooser.jar</code>  is created by the IDE. The structure of the new module is shown in the Projects window. The "Modules" node in the application&#8217;s structure shows that the module is part of the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_functionality_module">Creating the Functionality Module</h3>
<div class="paragraph">
<p>Now you need a module to contain the actual code you&#8217;re going to write.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the "Modules" node in the Paint Application. Select Add New.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
In the Name and Location panel, type  <code>Paint</code>  in Project Name.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-mod-wiz1.png" alt="paintapp 70 paintapp mod wiz1">
</div>
</div>
<div class="paragraph">
<p>Notice that the module sources will be stored within a folder in the application&#8217;s directory on disk. Click Next.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Basic Module Configuration panel, type  <code>org.netbeans.paint</code>  as the "Code Name Base". The code name base is a unique string identifying the module to other modules in the application. Leave everything unchanged.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Click Finish. The IDE creates the  <code>Paint</code>  project.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Take a look at the structure of your application. The project contains all of your sources and project metadata, such as the project&#8217;s Ant build script. The project opens in the IDE. You can view its logical structure in the Projects window (Ctrl-1) and its file structure in the Files window (Ctrl-2). For example, the Projects window should look as follows:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_paintapp-mod-wiz3.png" alt="paintapp 70 paintapp mod wiz3">
</div>
</div>
<div class="paragraph">
<p>You have created the application structure. Let&#8217;s now add some code!</p>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_the_modules_dependencies">Specifying the Module&#8217;s Dependencies</h3>
<div class="paragraph">
<p>You will need to subclass several classes that belong to the  <a href="http://bits.netbeans.org/dev/javadoc/index.html">NetBeans APIs</a>. In addition, the project depends on the  <code>ColorChooser.jar</code>  file. All NetBeans APIs are implemented by modules, so completing both of these tasks really just means adding some modules to the list of modules that our module needs in order to run.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the Projects window, right-click the  <code>Paint</code>  project node and choose Properties. The Project Properties dialog box opens. Under Categories, click Libraries.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
For each of the API&#8217;s listed in the table below, click "Add Dependency&#8230;&#8203;" and then, in the Filter text box, start typing the name of the class that you want to subclass.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Class</strong></th>
<th class="tableblock halign-left valign-top"><strong>API</strong></th>
<th class="tableblock halign-left valign-top"><strong>Purpose</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ColorChooser</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ColorChooser</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library wrapper module for the color chooser component you created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Lookup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Lookup API</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables loosely coupled communication between modules.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ActionID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UI Utilities API</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides annotations for registering Actions in the NetBeans Platform virtual filesystem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Messages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Utilities API</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a variety of general utility classes, including support for internationalization via the Bundle class and @Messages annotation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TopComponent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Window System API</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gives you access to the NetBeans window system.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first column in the table above lists all the classes that you will subclass in this tutorial. In each case, start typing the class name in the Filter and watch the Module list narrow. Use the table&#8217;s second column to pick the appropriate API (or, in the case of  <code>ColorChooser</code> , the library) from the narrowed Module list and then click OK to confirm the choice. Click OK to exit the Project Properties dialog box.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the Projects window, expand the Paint module&#8217;s project node and then expand the Libraries node. Notice that all the libraries you have selected are displayed:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_libfilter2.png" alt="paintapp 70 libfilter2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Expand the Paint module&#8217;s Important Files node and double-click the Project Metadata node. Notice that the API&#8217;s you selected have been declared as module dependencies in the file.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_and_embedding_the_paint_canvas">Creating and Embedding the Paint Canvas</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_creating_the_canvas">Creating the Canvas</h3>
<div class="paragraph">
<p>The next step is to create the actual component on which the user can paint. Here, you use a pure Swing component—so, let&#8217;s skip the details of its implementation and just provide the final version. The color chooser bean, which you created the library wrapper module for, is used in the source code for this panel—when you run the finished application, you will see it in the toolbar of the panel for editing images.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the Projects window, expand the  <code>Paint</code>  node, then expand the Source Packages node, and then right-click the  <code>org.netbeans.paint</code>  node. Choose New &gt; Java Class.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Enter  <code>PaintCanvas</code>  as the Class Name. Ensure that  <code>org.netbeans.paint</code>  is listed as the Package. Click Finish.  <code>PaintCanvas.java</code>  opens in the Source editor.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Replace the default content of the file with the content found  <a href="images/paintapp_70_PaintCanvas.java">here</a>. If you named your package something other than  <code>org.netbeans.paint</code> , correct the package name in the Source editor.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_preparing_the_topcomponent_class">Preparing the TopComponent Class</h3>
<div class="paragraph">
<p>Now you&#8217;ll write the only class in this application that needs to touch the  <a href="http://bits.netbeans.org/dev/javadoc/index.html">NetBeans APIs</a>. It is a  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.html">TopComponent</a></code>  class. A  <code>TopComponent</code>  class is just a  <code>JPanel</code>  class which the NetBeans windowing system knows how to talk to—so that it can be put inside a tabbed container inside the main window.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the Projects window, expand the  <code>Paint</code>  node, then expand the Source Packages node, and then right-click the  <code>org.netbeans.paint</code>  node. Choose New &gt; Java Class. Enter  <code>PaintTopComponent</code>  as the Class Name. Ensure that  <code>org.netbeans.paint</code>  is listed as the Package. Click Finish.  <code>PaintTopComponent.java</code>  opens in the Source editor.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Near the top of the file, change the class declaration to the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class PaintTopComponent extends TopComponent implements ActionListener, ChangeListener {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Press Ctrl-Shift-I to fix imports and click OK. The IDE makes the necessary import package declarations at the top of the file:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.awt.event.ActionListener;
import javax.swing.event.ChangeListener;
import org.openide.windows.TopComponent;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Notice the red line under the class declaration that you just entered. Position the cursor in the line and notice that a light bulb appears in the left margin. Click the light bulb (or press Alt-Enter), as shown below:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_lightbulb-60.png" alt="paintapp lightbulb 60">
</div>
</div>
<div class="paragraph">
<p>Select Implement all abstract methods. The IDE generates two method skeletons— <code>actionPerformed()</code>  and  <code>stateChanged()</code> . You will fill these out later in this tutorial.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Register the  <code>PaintTopComponent</code>  in the window system by adding annotations to the top of the class, as shown here: <a href="http://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.Description.html">@TopComponent.Description</a></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">(preferredID = "PaintTopComponent",
iconBase = "/org/netbeans/paint/new_icon.png", persistenceType = TopComponent.PERSISTENCE_ALWAYS)
link:http://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.Registration.html[@TopComponent.Registration](mode = "editor", openAtStartup = true)
link:http://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/ActionID.html[@ActionID](category = "Window", id = "org.netbeans.paint.PaintTopComponent")
link:http://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/ActionReferences.html[@ActionReferences]({
link:http://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/ActionReference.html[@ActionReference](path = "Menu/Window", position = 0),
link:http://bits.netbeans.org/dev/javadoc/org-openide-awt/org/openide/awt/ActionReference.html[@ActionReference](path = "Toolbars/File", position = 0)
})
link:http://bits.netbeans.org/dev/javadoc/org-openide-windows/org/openide/windows/TopComponent.OpenActionRegistration.html[@TopComponent.OpenActionRegistration](displayName = "#CTL_NewCanvasAction")
link:http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbBundle.Messages.html[@Messages]({"CTL_NewCanvasAction=New Canvas"})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that the  <code>PaintTopComponent</code>  will be displayed in the main area of the application, defined by the "editor" position. When the application starts, the window will be open. An action will be created for opening the window. The user will be able to invoke the action from a menu item and a toolbar button.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Add these two icons to "org/netbeans/paint":</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_new_icon.png" alt="paintapp 70 new icon">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_new_icon24.png" alt="paintapp 70 new icon24">
</div>
</div>
<div class="paragraph">
<p>The 16x16 pixel icon will be used for the Small Toolbar Icons display, while the 24x24 pixel icon will be used for the Large Toolbar display.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Change the  <a href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbBundle.Messages.html">@Messages</a> annotation at the top of the class to the following:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbBundle.Messages.html">@Messages</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">({
    "CTL_NewCanvasAction=New Canvas",
    "LBL_Clear=Clear",
    "LBL_Foreground=Foreground",
    "LBL_BrushSize=Brush Size"})</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you save the file, new strings are created in the file  <code>org.netbeans.paint.Bundle</code> , which is a Java class generated by the IDE. You can see this file if you build the module and then switch to the Files window (Ctrl-2). In the Files window, browse to  <code>build/classes-generated</code>  and then continue browsing until you see the  <code>Bundle.java</code>  file.</p>
</div>
<div class="paragraph">
<p>Add the following variable declarations to the top of the  <code>PaintTopComponent</code>  class and then fix the import statements (Ctrl-Shift-I).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private PaintCanvas canvas = new PaintCanvas(); //The component the user draws on
    private final JComponent preview = canvas.getBrushSizeView(); //A component in the toolbar that shows the paintbrush size
    private final JSlider brushSizeSlider = new JSlider(1, 24); //A slider to set the brush size
    private final JToolBar toolbar = new JToolBar(); //The toolbar
    private final ColorChooser color = new ColorChooser(); //Our color chooser component from the ColorChooser library
    private final JButton clear = new JButton(*Bundle.LBL_Clear()*); //A button to clear the canvas
    private final JLabel label = new JLabel(*Bundle.LBL_Foreground()*); //A label for the color chooser
    private final JLabel brushSizeLabel = new JLabel(*Bundle.LBL_BrushSize()*); //A label for the brush size slider
    private static int ct = 0; //A counter you use to provide names for new images</code></pre>
</div>
</div>
<div class="paragraph">
<p>Look at the items in bold above. Here, you are referring to the generated  <code>Bundle.java</code>  class. What is the point of all this? Normally, you would need to type strings such as these above in a separate properties file. When you are using the NetBeans Platform, this properties file is generated for you by the  <code>@Messages</code>  annotation, so that you can do all your work in Java, instead of needing to switch between a Java file and a properties file.</p>
</div>
<div class="paragraph">
<p>Optionally, instead of using constructions such as  <code>Bundle.LBL_Clear()</code> , you can add the static import statement below to the top of the class. You will then be able to use  <code>LBL_Clear()</code> ,  <code>LBL_Foreground()</code> , etc, without specifying  <code>Bundle</code>  in each case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import static org.netbeans.paint.Bundle.*;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above is the style used throughout this tutorial, see the code right at the end of this tutorial for further details.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Change the  <a href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbBundle.Messages.html">@Messages</a> annotation at the top of the class to include the two items highlighted below:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbBundle.Messages.html">@Messages</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">({
    "CTL_NewCanvasAction=New Canvas",
    "LBL_Clear=Clear",
    "LBL_Foreground=Foreground",
    "LBL_BrushSize=Brush Size"*,
    "# {0} - image",
    "UnsavedImageNameFormat=Image {0}"*})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now define the constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public PaintTopComponent() {
        initComponents();
        setDisplayName(Bundle.UnsavedImageNameFormat(ct++));
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have added an annotation that defines two keys in a bundle file that will be created when you build the module. The annotation specifies the text that will be used to identify a new image file in the application. For example, when a user clicks New Canvas for the first time in your completed application, a tab will appear above the Source Editor with the label, 'Image 0'.</p>
</div>
<div class="paragraph">
<p>The first Java call you see above is to a method you haven&#8217;t written yet,  <code>initComponents()</code> , which will add a toolbar and a PaintCanvas to your  <code>TopComponent</code> . Because you haven&#8217;t written the method yet, a red line appears underneath it here. As before, click the light bulb (or press Alt-Enter) and accept the suggestion to let the IDE create the method for you. Make sure the method is empty, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private void initComponents() {
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Right-click the application and choose Run. The application starts up. Under the Window menu, choose New Canvas a few times and notice that you now have multiple canvases:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_run-app1.png" alt="paintapp 70 run app1">
</div>
</div>
<div class="paragraph">
<p>At this stage, you have created a window, and initialized a set of variables that you will need as you build the user interface of the application. You could use the Matisse GUI Builder for this but, as you will see in the next section, you can also simply use plain Java code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_filling_out_the_skeleton_methods">Filling Out the Skeleton Methods</h3>
<div class="paragraph">
<p>In this section, we code the user interface of our application. We could also use the IDE&#8217;s GUI Builder to visually design the layout.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>The  <code>initComponents()</code>  method installs components in your panel, so that the user has something to interact with. You generated its skeleton method during the previous section in the  <code>PaintTopComponent.java</code>  class. Fill it out as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    private void initComponents() {

        setLayout(new BorderLayout());

        //Configure our components, attach listeners:
        color.addActionListener(this);
        clear.addActionListener(this);
        brushSizeSlider.setValue(canvas.getBrushDiameter());
        brushSizeSlider.addChangeListener(this);
        color.setColor(canvas.getColor());
        color.setMaximumSize(new Dimension(16, 16));

        //Install the toolbar and the painting component:
        add(toolbar, BorderLayout.NORTH);
        add(new JScrollPane(canvas), BorderLayout.CENTER);

        //Configure the toolbar:
        toolbar.setLayout(new FlowLayout(FlowLayout.LEFT, 7, 7));
        toolbar.setFloatable(false);

        //Now populate our toolbar:
        toolbar.add(label);
        toolbar.add(color);
        toolbar.add(brushSizeLabel);
        toolbar.add(brushSizeSlider);
        toolbar.add(preview);
        toolbar.add(clear);

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Press Ctrl-Shift-I to generate the required import statements.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Fill out the other two methods that you generated. They are used for listening to the  <code>PaintTopComponent</code>  class:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public void actionPerformed(ActionEvent e) {
        if (e.getSource() instanceof JButton) {
            canvas.clear();
        } else if (e.getSource() instanceof ColorChooser) {
            ColorChooser cc = (ColorChooser) e.getSource();
            canvas.setColor(cc.getColor());
        }
    }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    @Override
    public void stateChanged(ChangeEvent e) {
        canvas.setBrushDiameter(brushSizeSlider.getValue());
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Check that the  <code>PaintTopComponent</code>  has this content:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.paint;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.*;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;
import net.java.dev.colorchooser.ColorChooser;
import static org.netbeans.paint.Bundle.*;
import org.openide.awt.ActionID;
import org.openide.awt.ActionReference;
import org.openide.awt.ActionReferences;
import org.openide.util.NbBundle.Messages;
import org.openide.windows.TopComponent;

@TopComponent.Description(preferredID = "PaintTopComponent",
iconBase = "/org/netbeans/paint/new_icon.png", persistenceType = TopComponent.PERSISTENCE_ALWAYS)
@TopComponent.Registration(mode = "editor", openAtStartup = true)
@ActionID(category = "Window", id = "org.netbeans.paint.PaintTopComponent")
@ActionReferences({
    @ActionReference(path = "Menu/Window", position = 0),
    @ActionReference(path = "Toolbars/File", position = 0)
})
@TopComponent.OpenActionRegistration(displayName = "#CTL_NewCanvasAction")
@Messages({
    "CTL_NewCanvasAction=New Canvas",
    "LBL_Clear=Clear",
    "LBL_Foreground=Foreground",
    "LBL_BrushSize=Brush Size",
    "# {0} - image",
    "UnsavedImageNameFormat=Image {0}"})
public class PaintTopComponent extends TopComponent implements ActionListener, ChangeListener {

    private PaintCanvas canvas = new PaintCanvas(); //The component the user draws on
    private final JComponent preview = canvas.getBrushSizeView(); //A component in the toolbar that shows the paintbrush size
    private final JSlider brushSizeSlider = new JSlider(1, 24); //A slider to set the brush size
    private final JToolBar toolbar = new JToolBar(); //The toolbar
    private final ColorChooser color = new ColorChooser(); //Our color chooser component from the ColorChooser library
    private final JButton clear = new JButton(LBL_Clear()); //A button to clear the canvas
    private final JLabel label = new JLabel(LBL_Foreground()); //A label for the color chooser
    private final JLabel brushSizeLabel = new JLabel(LBL_BrushSize()); //A label for the brush size slider
    private static int ct = 0; //A counter you use to provide names for new images

    public PaintTopComponent() {
        initComponents();
        setDisplayName(UnsavedImageNameFormat(ct++));
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if (e.getSource() instanceof JButton) {
            canvas.clear();
        } else if (e.getSource() instanceof ColorChooser) {
            ColorChooser cc = (ColorChooser) e.getSource();
            canvas.setColor(cc.getColor());
        }
    }

    @Override
    public void stateChanged(ChangeEvent e) {
        canvas.setBrushDiameter(brushSizeSlider.getValue());
    }

    private void initComponents() {

        setLayout(new BorderLayout());

        //Configure our components, attach listeners:
        color.addActionListener(this);
        clear.addActionListener(this);
        brushSizeSlider.setValue(canvas.getBrushDiameter());
        brushSizeSlider.addChangeListener(this);
        color.setColor(canvas.getColor());
        color.setMaximumSize(new Dimension(16, 16));

        //Install the toolbar and the painting component:
        add(toolbar, BorderLayout.NORTH);
        add(new JScrollPane(canvas), BorderLayout.CENTER);

        //Configure the toolbar:
        toolbar.setLayout(new FlowLayout(FlowLayout.LEFT, 7, 7));
        toolbar.setFloatable(false);

        //Now populate our toolbar:
        toolbar.add(label);
        toolbar.add(color);
        toolbar.add(brushSizeLabel);
        toolbar.add(brushSizeSlider);
        toolbar.add(preview);
        toolbar.add(clear);

    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the application again and notice that you now have a functioning paint canvas:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/paintapp_70_run-app2.png" alt="paintapp 70 run app2">
</div>
</div>
<div class="paragraph">
<p>That&#8217;s it! You have completed the Paint Application. You have learned how to set up a NetBeans Platform application, how to incorporate an external JAR file, and how to create a new window that displays something to the user.</p>
</div>
<div class="paragraph">
<p>Next, you are recommended to work through the  <a href="https://netbeans.apache.org/tutorials/nbm-crud.html">NetBeans Platform CRUD Application Tutorial</a>, which will teach you how to create a business-oriented NetBeans Platform application that interacts with a database.</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Send Us Your Feedback</a></p>
</div>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/71/nbm-paintapp.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
