
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Учебный курс по интеграции быстрого поиска</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Учебный курс по интеграции быстрого поиска - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Учебный курс по интеграции быстрого поиска">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="/plugins/index.html">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1 syle='font-size: 2rem'>Apache NetBeans 12.0</h1>
            <p><a class="button success" href="/download/nb113/index.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Учебный курс по интеграции быстрого поиска</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/71/nbm-quick-search_ru.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_Введение_в_интеграцию_быстрого_поиска">Введение в интеграцию быстрого поиска</a></li>
<li><a href="#_Создание_проекта_модуля">Создание проекта модуля</a></li>
<li><a href="#_Использование_диалогового_окна_Поставщик_быстрого_поиска">Использование диалогового окна "Поставщик быстрого поиска"</a></li>
<li><a href="#_Интеграция_внешнего_синтаксического_анализатора_html_dom">Интеграция внешнего синтаксического анализатора HTML DOM</a></li>
<li><a href="#_Написание_кода_интеграции_быстрого_поиска">Написание кода интеграции быстрого поиска</a></li>
<li><a href="#_Установка_и_ознакомление_с_функциональными_возможностями">Установка и ознакомление с функциональными возможностями</a></li>
<li><a href="#_Использование_функции_быстрого_поиска_в_платформе_netbeans">Использование функции быстрого поиска в платформе NetBeans</a>
<ul class="sectlevel2">
<li><a href="#_Включение_функции_быстрого_поиска_в_платформе_netbeans">Включение функции быстрого поиска в платформе NetBeans</a></li>
<li><a href="#_Включение_поставщика_интернет_поиска_по_умолчанию_в_платформе_netbeans">Включение поставщика интернет-поиска по умолчанию в платформе NetBeans</a></li>
</ul>
</li>
<li><a href="#_Создание_совместно_используемого_исполняемого_файла_модуля">Создание совместно используемого исполняемого файла модуля</a></li>
<li><a href="#_Что_дальше">Что дальше?</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>В этом руководстве показан способ написания модуля, интегрирующего новые элементы в функцию быстрого поиска NetBeans.</p>
</div>
<div class="paragraph">
<p>Дополнительно, в целях поиска и устранения ошибок, можно  <a href="http://plugins.netbeans.org/PluginPortal/faces/PluginDetailPage.jsp?pluginid=11179">загрузить готовый пример</a> и изучить исходный код.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Введение_в_интеграцию_быстрого_поиска">Введение в интеграцию быстрого поиска</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Функция быстрого поиска, впервые появившаяся в среде IDE NetBeans 6.5, состоит из текстового поля в правом верхнем углу среды IDE. При вводе строки поиска в это поле выводится раскрывающийся список совпадающих элементов. По умолчанию элементами списка являются имена действий, зарегистрированных в среде IDE, а также темы справки по Java среды IDE. При выборе действия оно будет вызвано; при выборе темы справки она будет открыта в JavaHelp.</p>
</div>
<div class="paragraph">
<p>Кроме того, для использования предоставляется  <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/overview-summary.html">интерфейс API быстрого поиска</a>. С его помощью в функцию быстрого поиска можно интегрировать собственные объекты для поиска. Этой функцией можно пользоваться как в рамках среды IDE, так и в собственных приложениях, построенных на платформе NetBeans.</p>
</div>
<div class="paragraph">
<p>В этом руководстве показан способ написания модуля, интегрирующего новые элементы из  <a href="http://netbeans.dzone.com">NetBeans Zone</a> в функцию быстрого поиска.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deployed-result.png" alt="deployed result">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Создание_проекта_модуля">Создание проекта модуля</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В этом разделе используется мастер для создания структуры исходного кода, требуемого любым модулем NetBeans. Эта структура исходного кода состоит из ряда папок в особых местах и набора файлов, которые требуются в любом случае. Например, для каждого модуля NetBeans требуется папка  <code>nbproject</code> , в которой хранятся метаданные проекта, а также файл  <code>layer.xml</code> , в котором объявляется регистрация таких элементов как кнопки панелей управления и окна.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Выберите в меню "Файл" команду "Новый проект" (CTRL+SHIFT+N). В разделе "Категории" выберите параметр "Модули NetBeans". В области "Проекты" выберите "Модуль" и нажмите кнопку "Далее".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>На панели "Имя и расположение" в поле "Имя проекта" введите  <code>NetBeansZoneSearch</code> . В поле "Расположение проекта" укажите любой каталог на компьютере, например  <code>c:\mymodules</code> . Оставьте переключатель "Отдельный модуль" выбранным. Панель должна выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-module-1.png" alt="new module 1">
</div>
</div>
<div class="paragraph">
<p>Нажмите кнопку "Далее".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>На панели "Основные настройки модуля" введите  <code>org.netbeans.modules.nbzone</code>  в поле "Основа кодового имени". Добавьте пробелы к предложенному отображаемому имени модуля, и измените его на  <code>NetBeans Zone Search</code> . Установите флажок "Создать слой XML" и оставьте местоположение локализуемого файла ресурсов и слоя XML по умолчанию; при этом они будут храниться в пакете с именем  <code>org/netbeans/modules/nbzone</code> . Панель должна выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/new-module-2.png" alt="new module 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В среде IDE создается проект  <code>NetBeans Zone Search</code> . Проект содержит все исходные файлы и метаданные проекта, например, сценарий сборки проекта Ant. Проект откроется в среде IDE. Логическую структуру проекта можно просмотреть в окне "Проекты" (CTRL+1), а его файловую структуру – в окне "Файлы" (CTRL+2).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Использование_диалогового_окна_Поставщик_быстрого_поиска">Использование диалогового окна "Поставщик быстрого поиска"</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В этом разделе с помощью мастера будет создан класс заглушки и сущности слоя, необходимые для начала интеграции с функцией быстрого поиска.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Щелкните узел приложения правой кнопкой мыши и выберите в меню "Создать" команду "Прочее". В диалоговом окне "Новый файл" выберите в меню "Разработка модулей" команду "Поставщик быстрого поиска".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Установите следующие значения на панели "Поставщик быстрого поиска":</p>
<div class="ulist">
<ul>
<li>
<p><strong>Имя класса поставщика.</strong> Имя класса для заглушки, генерируемой мастером. Введите в это поле значение "NBZoneSearchProvider".</p>
</li>
<li>
<p><strong>Пакет.</strong> Пакет, в котором будет создан класс заглушки. Выберите в раскрывающемся списке пункт "org.netbeans.modules.nbzone".</p>
</li>
<li>
<p><strong>Отображаемое имя категории.</strong> Отображаемое имя для категории, создаваемой с помощью заглушки. Введите в это поле значение "NetBeans Zone".</p>
</li>
<li>
<p><strong>Префикс команды.</strong> Префикс для сужения поиска до категории, создаваемой с помощью заглушки. Введите в это поле значение "nb".</p>
</li>
<li>
<p><strong>Позиция в контекстном меню.</strong> Выберите позицию новой категории в пределах функции быстрого поиска. Значение по умолчанию "0" соответствует размещению категории в первой позиции.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>На экране должны быть представлены следующие параметры:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-search-template.png" alt="quick search template">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Нажмите кнопку "Готово".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Окно "Проекты" должно выглядеть следующим образом:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/projects-window-final.png" alt="projects window final">
</div>
</div>
<div class="paragraph">
<p>В файле  <code>layer.xml</code>  должен содержаться следующий текст:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;filesystem&gt;
    &lt;folder name="QuickSearch"&gt;
        &lt;folder name="NetBeansZone"&gt;
            &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.nbzone.Bundle"/&gt;
            &lt;attr name="command" stringvalue="nb"/&gt;
            &lt;attr name="position" intvalue="0"/&gt;
            &lt;file name="org-netbeans-modules-nbzone-NBZoneSearchProvider.instance"/&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/filesystem&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Интеграция_внешнего_синтаксического_анализатора_html_dom">Интеграция внешнего синтаксического анализатора HTML DOM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В следующем разделе потребуется синтаксический анализатор HTML DOM для синтаксического анализа NetBeans Zone. Можно воспользоваться любым подходящим синтаксическим анализатором по выбору. В данном учебным курсе используется  <a href="http://sourceforge.net/project/showfiles.php?group_id=13153">JTidy</a>.</p>
</div>
<div class="paragraph">
<p>Существует два способа предоставления внешнего файла JAR для использования в модуле. Первый способ состоит в размещении файла JAR в отдельном модуле, так называемом "модуле-обертке библиотеки"; в таком случае модуль функциональных возможностей <em>зависит от</em> модуля-обертки библиотеки. Оба модуля размещаются в наборе модулей. Преимущество использования двух раздельных модулей заключается в том, что при выпуске новой версии внешнего файла JAR требуется распространить небольшой по объему модуль, содержащий только внешний файл JAR, а не крупный модуль, содержащий также код функциональных возможностей. Второй способ заключается в добавлении файла JAR к модулю функциональных возможностей, как показано ниже. Преимущество этого подхода заключается в большем удобстве в краткосрочной перспективе, поскольку распространять требуется только один модуль, однако недостаток заключается в смешении внешней библиотеки с кодом функциональных возможностей, что нарушает принцип модульности.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Загрузите  <a href="http://sourceforge.net/project/showfiles.php?group_id=13153">JTidy</a> и найдите файл  <code>Tidy.jar</code>  в пакете загрузки.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>В окне "Файлы" создайте структуру папок, показанную ниже, и разместите файл  <code>Tidy.jar</code>  в папке  <code>release/modules/ext</code> :</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tidyjar.png" alt="tidyjar">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>В конце файла  <code>project.xml</code> , расположенного в папке  <code>nbproject</code> , добавьте теги, выделенные полужирным шрифтом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">            ...
            ...
            ...
            *&lt;class-path-extension&gt;
                &lt;runtime-relative-path&gt;ext/Tidy.jar&lt;/runtime-relative-path&gt;
                &lt;binary-origin&gt;release/modules/ext/Tidy.jar&lt;/binary-origin&gt;
            &lt;/class-path-extension&gt;*
        &lt;/data&gt;
    &lt;/configuration&gt;
 &lt;/project&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Добавьте следующую строку в файл  <code>project.properties</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">cp.extra=release/modules/ext/Tidy.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Внешний синтаксический анализатор HTML DOM теперь включен в путь к классам модуля. Теперь эти классы можно использовать в файле JAR; эта возможность будет реализована в следующем разделе.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Написание_кода_интеграции_быстрого_поиска">Написание кода интеграции быстрого поиска</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Далее необходимо реализовать интерфейс API. Используются следующие классы интерфейса API:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Класс</th>
<th class="tableblock halign-left valign-top">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchProvider.html">SearchProvider</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Главный интерфейс API быстрого поиска. Этот интерфейс необходимо реализовать для предоставления новой группы результатов для быстрого поиска.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html">SearchRequest</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Описание запроса на быстрый поиск.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html">SearchResponse</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Объект ответа для сбора результатов SearchRequest.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ниже указываются зависимости требуемых модулей, которые затем реализуются в собственном модуле.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Щелкните правой кнопкой мыши проект, выберите "Свойства", а затем укажите следующие зависимости на панели "Библиотеки":</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/set-dependencies.png" alt="set dependencies">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Откройте созданный класс.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Измените класс следующим образом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public class NBZoneSearchProvider implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchProvider.html[SearchProvider] {

    /**
     * Метод вызывается инфраструктурой при запросе операции поиска.
     * Реализующие его объекты должны обрабатывать полученный запрос и заполнять объект ответа
     * соответствующими результатами
     *
     * @param request Объект запроса на поиск, содержащий строку поиска
     * @param response Объект ответа поиска, в котором хранятся результаты поиска
     * Обратите внимание, что важно реагировать на значение, возвращаемое методом
     * SearchResponse.addResult(...) и останавливать вычисления,
     * если возвращается значение "false".
     */
    @Override
    public void evaluate( link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html[SearchRequest request],  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html[SearchResponse response]) {
        try {

            *//Адрес URL, для которого предоставляется поиск:*
            URL url = new URL("http://netbeans.dzone.com");
            *//Stuff needed by Tidy:*
            Tidy tidy = new Tidy();
            tidy.setXHTML(true);
            tidy.setTidyMark(false);
            tidy.setShowWarnings(false);
            tidy.setQuiet(true);

            *//Получение org.w3c.dom.Document от Tidy,
            //или использование другого синтаксического анализатора по выбору:*
            Document doc = tidy.parseDOM(url.openStream(), null);

            *//Получение всех элементов "a":*
            NodeList list = doc.getElementsByTagName("a");

            *//Получение количества элементов:*
            int length = list.getLength();

            *//Итерация по всем элементам "a":*
            for (int i = 0; i &lt; length; i++) {

                String href = null;
                if (null != list.item(i).getAttributes().getNamedItem("href")) {
                    *//Получение атрибута "href" для текущего элемента "a":*
                    href = list.item(i).getAttributes().getNamedItem("href").getNodeValue();
                }

                *//Получение атрибута "title" для текущего элемента "a":*
                if (null != list.item(i).getAttributes().getNamedItem("title")) {
                    String title = list.item(i).getAttributes().getNamedItem("title").getNodeValue();

                    *//Заголовок совпадает с запрошенным текстом:*
                    if (title.toLowerCase().indexOf( link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html[request.getText().toLowerCase()]) != -1) {

                        *//Добавление выполняемого объекта и заголовка к запросу
                        //и возвращение пустого результата, если ничего не добавлено:*
                        if (! link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html[response.addResult(new OpenFoundArticle(href), title)]) {
                            return;
                        }

                    }

                }

            }

        } catch (IOException ex) {
            Exceptions.printStackTrace(ex);
        }
    }

    private static class OpenFoundArticle implements Runnable {

        private String article;

        public OpenFoundArticle(String article) {
            this.article = article;
        }

        public void run() {
            try {
                URL url = new URL("http://netbeans.dzone.com" + article);
                StatusDisplayer.getDefault().setStatusText(url.toString());
                URLDisplayer.getDefault().showURL(url);
            } catch (MalformedURLException ex) {
                Logger.getLogger(NBZoneSearchProvider.class.getName()).log(Level.SEVERE, null, ex);
            }
        }

    }

 }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Убедитесь в том, что определены следующие выражения импорта:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.netbeans.spi.quicksearch.SearchProvider;
import org.netbeans.spi.quicksearch.SearchRequest;
import org.netbeans.spi.quicksearch.SearchResponse;
import org.openide.awt.HtmlBrowser.URLDisplayer;
import org.openide.awt.StatusDisplayer;
import org.openide.util.Exceptions;
import org.w3c.dom.Document;
import org.w3c.dom.NodeList;
import org.w3c.tidy.Tidy;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Установка_и_ознакомление_с_функциональными_возможностями">Установка и ознакомление с функциональными возможностями</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Теперь установим модуль и воспользуемся функцией интеграции быстрого поиска. Для построения и установки модуля в среде IDE используется сценарий построения Ant. При создании проекта автоматически создается сценарий построения.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>В окне "Проекты" щелкните проект правой кнопкой мыши и выберите "Выполнить".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Запускается новый экземпляр среды IDE, и выполняется установка модуля интеграции быстрого поиска.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Введите строку в средство быстрого поиска; если строка совпадает с заголовком одного из элементов в NetBeans Zone, к результату добавляется этот элемент из NetBeans Zone.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/deployed-result.png" alt="deployed result">
</div>
</div>
<div class="paragraph">
<p>При вводе префикса команды, определенного в файле  <code>layer.xml</code> , с последующим пробелом, выполняется поиск только по связанной категории:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/command.png" alt="command">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Щелкните элемент, и если в среде IDE настроен обозреватель, в нем выводится выбранная статья.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Использование_функции_быстрого_поиска_в_платформе_netbeans">Использование функции быстрого поиска в платформе NetBeans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В предыдущих разделах подразумевалось создание модуля для существующего приложения. Оставшиеся две темы имеют смысл, если создается не модуль, а отдельное приложение на платформе NetBeans.</p>
</div>
<div class="sect2">
<h3 id="_Включение_функции_быстрого_поиска_в_платформе_netbeans">Включение функции быстрого поиска в платформе NetBeans</h3>
<div class="paragraph">
<p>Несмотря на то, что среда IDE NetBeans поставляется с поддержкой функции быстрого поиска, в платформе NetBeans эта функция не предоставляется. По умолчанию функция быстрого поиска скрыта. Для включения этой функции необходимо выполнить шаги, приведенные ниже.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Добавьте в файл  <code>layer.xml</code>  следующие теги:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;folder name="Toolbars"&gt;
    &lt;folder name="QuickSearch"&gt;
        &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.nbzone.Bundle"/&gt;
        &lt;file name="org-netbeans-modules-quicksearch-QuickSearchAction.shadow"&gt;
            &lt;attr name="originalFile"
            stringvalue="Actions/Edit/org-netbeans-modules-quicksearch-QuickSearchAction.instance"/&gt;
        &lt;/file&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Добавьте в файл  <code>Bundle.properties</code>  следующую пару "ключ-значение":</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">Toolbars/QuickSearch=Quick Search</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Запустите приложение на платформе NetBeans и обратите внимание на то, что функция быстрого поиска доступна для использования и работает.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netbeans-platform-qsearch.png" alt="netbeans platform qsearch">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Включение_поставщика_интернет_поиска_по_умолчанию_в_платформе_netbeans">Включение поставщика интернет-поиска по умолчанию в платформе NetBeans</h3>
<div class="paragraph">
<p>В исходных файлах NetBeans доступна реализация поставщика интернет-поиска по умолчанию. Этот поставщик используется для поиска текста, совпадающего со строкой поиска, в Google. В среде IDE эта функция была предназначена для поиска по  <code>netbeans.org</code>  и связанным сайтам, содержащим интерактивную документацию по среде IDE.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
К сожалению, поставщик интернет-поиска в среде IDE пришлось отключить, поскольку после продолжительного использования компания Google выступила с жалобой о несоответствии автоматического поиска соглашению об использовании, и работа данной функции была остановлена.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>С учетом вышеуказанного ограничения этот поставщик интернет-поиска можно подвергнуть брэндингу и использовать в приложении на платформе NetBeans.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Убедитесь в том, что функция быстрого поиска включена, в соответствии с описанием в предыдущем разделе.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Добавьте в файл  <code>layer.xml</code>  следующие теги:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;folder name="Guardian"&gt;
   &lt;file name="org-netbeans-modules-quicksearch-web-WebQuickSearchProviderImpl.instance"/&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Создайте в папке  <code>branding</code>  приложения иерархию папок, показанную ниже, а также файл  <code>Bundle.properties</code> , показанный на снимке экрана:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/brand-provider.png" alt="brand provider">
</div>
</div>
<div class="paragraph">
<p>В среде IDE вышеупомянутые свойства жестко запрограммированы в следующем коде, однако в платформе NetBeans они не определены, поэтому требуется их брэндинг, как показано выше:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">quicksearch.web.site=netbeans.org
quicksearch.web.url_patterns=.*netbeans\.org/kb.*,\
    /.*wiki\.netbeans\.org/.*faq.*,.*wiki\.netbeans\.org/.*howto.*,\
    .*platform\.netbeans\.org/tutorials.*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Запустите приложение на платформе NetBeans и обратите внимание на то, что поставщик быстрого интернет-поиска по умолчанию доступен для использования и работает.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clare-wigfall.png" alt="clare wigfall">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Создание_совместно_используемого_исполняемого_файла_модуля">Создание совместно используемого исполняемого файла модуля</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Готовый модуль можно предоставить для использования другими разработчиками. Для этого необходимо создать и распространить двоичный файл "NBM" (модуль NetBeans).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>В окне "Проекты" щелкните правой кнопкой мыши проект  <code>NetBeans Zone Search</code>  и выберите "Создать файл распространения модуля NBM".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Создается файл NBM, который можно просмотреть в окне "Файлы" (CTRL+2).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/shareable-binary.png" alt="shareable binary">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Чтобы предоставить этот файл для использования другим разработчикам, можно, например, воспользоваться  <a href="http://plugins.netbeans.org/PluginPortal/">порталом подключаемых модулей NetBeans</a>. Для установки модуля получатель должен воспользоваться диспетчером подключаемых модулей (<span class="menuseq"><b class="menu">Сервис</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Подключаемые модули</b></span>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Мы ждем ваших отзывов</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Что_дальше">Что дальше?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Дополнительные сведения о создании и разработке модулей NetBeans приведены в следующих ресурсах:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/platform/index.html">Домашняя страница платформы NetBeans</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/index.html">Список интерфейсов API среды NetBeans (текущая версия разработки)</a></p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform_ru.html">Другие связанные руководства</a></p>
</li>
</ul>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/71/nbm-quick-search_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2019 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
