
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Tutorial do módulo de assistente do NetBeans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tutorial do módulo de assistente do NetBeans - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Tutorial do módulo de assistente do NetBeans">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Tutorial do módulo de assistente do NetBeans</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/nbm-wizard_pt_BR.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_criando_o_projeto_do_módulo">Criando o projeto do módulo</a></li>
<li><a href="#_criando_a_infraestrutura_do_assistente">Criando a infraestrutura do assistente</a></li>
<li><a href="#_registrando_a_classe_de_ação_do_assistente">Registrando a classe de ação do assistente</a></li>
<li><a href="#_criando_o_conteúdo_do_assistente">Criando o conteúdo do assistente</a></li>
<li><a href="#_processando_os_dados_do_usuário">Processando os dados do usuário</a></li>
<li><a href="#_validando_os_dados_do_usuário">Validando os dados do usuário</a></li>
<li><a href="#_persistindo_dados_nas_reinicializações">Persistindo dados nas reinicializações</a></li>
<li><a href="#_marcando_o_assistente">Marcando o assistente</a></li>
<li><a href="#_leituras_adicionais">Leituras adicionais</a></li>
<li><a href="#_versionamento">Versionamento</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Neste tutorial, você aprenderá como utilizar os recursos principais fornecidos pelas classes de assistente da  <a href="http://bits.netbeans.org/dev/javadoc/org-openide-dialogs/org/openide/package-summary.html">API de diálogos do NetBeans</a>.</p>
</div>
<div class="paragraph">
<p>Nos aplicativos da plataforma NetBeans, é possível criar diferentes tipos de assistentes. Se deseja criar um assistente que apareça na caixa de diálogo Novo projeto, consulte o  <a href="https://netbeans.apache.org/tutorials/nbm-projectsamples.html">Tutorial do módulo de amostra do projeto</a>. Se deseja criar um assistente que apareça na caixa de diálogo Novo arquivo, consulte o  <a href="https://netbeans.apache.org/tutorials/nbm-filetemplates.html">Tutorial do módulo de arquivo de modelo</a>. Neste tutorial, é criado um assistente geral que aparece ao clicar em um botão na barra de ferramentas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_projeto_do_módulo">Criando o projeto do módulo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Começamos a trabalhar através do assistente para novo projeto de módulo. No final, teremos uma estrutura de código-fonte básica com alguns arquivos padrão, que todos os módulos NetBeans exigem.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Escolha Arquivo &gt; Novo projeto (Ctrl-Shift-N). Em Categorias, selecione Módulos do NetBeans. Em Projetos, selecione Módulo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Nome e localização, digite  <code>DemoWizard</code>  no campo Nome do projeto. Altere Local do projeto para qualquer diretório no computador. Deixe marcadas a opção Módulo independente e a caixa de verificação Definir como projeto principal. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Configuração básica de módulos, digite  <code>org.demo.wizard</code>  no Nome de base de código.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Selecione "Gerar camada XML". Deixe as localizações do pacote de localizações e da camada XML de modo que sejam armazenados em um pacote com o nome  <code>org/demo/wizard</code> . Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O IDE cria o projeto  <code>DemoWizard</code> . O projeto contém todos os metadados de projeto e códigos-fonte, como o script de construção Ant do projeto. O projeto se abre no IDE. É possível ver a estrutura lógica na janela Projetos (Ctrl-1) e a estrutura de arquivos na janela Arquivos (Ctrl+2).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_a_infraestrutura_do_assistente">Criando a infraestrutura do assistente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, utilizamos o assistente Wizard para adicionar stubs de um assistente ao nosso módulo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Projetos, clique com o botão direito do mouse no nó do projeto DemoWizard e selecione Desenvolvimento do módulo | Assistente:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_wizard-wizard.png" alt="wizard wizard wizard">
</div>
</div>
<div class="paragraph">
<p>Clique em Avançar.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Tipo de assistente, digite 2 no campo "Número de painéis do assistente" e deixe os outros valores inalterados:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_wizard-wizard-3.png" alt="wizard wizard wizard 3">
</div>
</div>
<div class="paragraph">
<p>Os campos no painel acima são os seguintes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Tipo de registro.</strong> Determina onde o usuário acessará o assistente. Se selecionar "Personalizado", o assistente Wizard criará uma nova classe de ação que você pode utilizar para abrir e inicializar seu assistente. Se selecionar "Novo arquivo", o assistente Wizard registrará seu assistente no arquivo  <code>layer.xml</code>  do módulo.</p>
</li>
<li>
<p><strong>Sequência de etapas do assistente.</strong> Determina se o assistente será linear ou se o usuário do assistente poderá saltar etapas dependendo das escolhas feitas anteriormente. Os assistentes lineares são 'estáticos', que é o padrão, enquanto que os assistentes com etapas que podem ser saltadas requerem uma classe de repetidor personalizada, que é criada se você seleciona 'dinâmico'.</p>
</li>
<li>
<p><strong>Número de painéis do assistente.</strong> Determina o número de painéis que serão criados. Para cada etapa do assistente, serão criados dois arquivos Java: uma visualização e um controlador.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Clique em Avançar.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>No painel Nome e localização, digite  <code>Demo</code>  no Prefixo do nome da classe e selecione o pacote principal na lista suspensa Pacote:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_wizard-wizard-4.png" alt="wizard wizard wizard 4">
</div>
</div>
<div class="paragraph">
<p>Clique em Terminar.</p>
</div>
<div class="paragraph">
<p>Na janela Projetos, agora deveria aparecer o seguinte:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_projects-window.png" alt="wizard projects window">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registrando_a_classe_de_ação_do_assistente">Registrando a classe de ação do assistente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, modificamos a classe Action e a registramos no arquivo  <code>layer.xml</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Abra o arquivo  <code>DemoWizardAction.java</code>  e substitua todos os códigos pelo seguinte:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.demo.wizard;

import java.awt.Component;
import java.awt.Dialog;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.MessageFormat;
import javax.swing.JComponent;
import org.openide.DialogDisplayer;
import org.openide.WizardDescriptor;

public final class DemoWizardAction implements ActionListener {

    private WizardDescriptor.Panel[] panels;

    public void actionPerformed(ActionEvent e) {
        WizardDescriptor wizardDescriptor = new WizardDescriptor(getPanels());
        // {0} will be replaced by WizardDesriptor.Panel.getComponent().getName()
        wizardDescriptor.setTitleFormat(new MessageFormat("{0}"));
        wizardDescriptor.setTitle("Your wizard dialog title here");
        Dialog dialog = DialogDisplayer.getDefault().createDialog(wizardDescriptor);
        dialog.setVisible(true);
        dialog.toFront();
        boolean cancelled = wizardDescriptor.getValue() != WizardDescriptor.FINISH_OPTION;
        if (!cancelled) {
            // do something
        }
    }

    /**
     * Initialize panels representing individual wizard's steps and sets
     * various properties for them influencing wizard appearance.
     */
    private WizardDescriptor.Panel[] getPanels() {
        if (panels == null) {
            panels = new WizardDescriptor.Panel[]{
                        new DemoWizardPanel1(),
                        new DemoWizardPanel2()
                    };
            String[] steps = new String[panels.length];
            for (int i = 0; i &lt; panels.length; i++) {
                Component c = panels[i].getComponent();
                // Default step name to component name of panel. Mainly useful
                // for getting the name of the target chooser to appear in the
                // list of steps.
                steps[i] = c.getName();
                if (c instanceof JComponent) { // assume Swing components
                    JComponent jc = (JComponent) c;
                    // Sets step number of a component
                    // TODO if using org.openide.dialogs &gt;= 7.8, can use WizardDescriptor.PROP_*:
                    jc.putClientProperty("WizardPanel_contentSelectedIndex", new Integer(i));
                    // Sets steps names for a panel
                    jc.putClientProperty("WizardPanel_contentData", steps);
                    // Turn on subtitle creation on each step
                    jc.putClientProperty("WizardPanel_autoWizardStyle", Boolean.TRUE);
                    // Show steps on the left side with the image on the background
                    jc.putClientProperty("WizardPanel_contentDisplayed", Boolean.TRUE);
                    // Turn on numbering of all steps
                    jc.putClientProperty("WizardPanel_contentNumbered", Boolean.TRUE);
                }
            }
        }
        return panels;
    }

    public String getName() {
        return "Start Sample Wizard";
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Estamos utilizando o mesmo código que foi gerado, exceto que implementamos o  <code>ActionListener</code>  em vez do  <code>CallableSystemAction</code> . Fazemos isso porque  <code>ActionListener</code>  é uma classe JDK padrão, enquanto que  <code>CallableSystemAction</code>  não. A partir da plataforma NetBeans 6.5, é possível utilizar a classe JDK padrão, que é mais apropriada e exige menos código.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Registre a classe de ação no arquivo  <code>layer.xml</code>  da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;filesystem&gt;
    &lt;folder name="Actions"&gt;
        &lt;folder name="File"&gt;
            &lt;file name="org-demo-wizard-DemoWizardAction.instance"&gt;
                &lt;attr name="delegate" newvalue="org.demo.wizard.DemoWizardAction"/&gt;
                &lt;attr name="iconBase" stringvalue="org/demo/wizard/icon.png"/&gt;
                &lt;attr name="instanceCreate" methodvalue="org.openide.awt.Actions.alwaysEnabled"/&gt;
                &lt;attr name="noIconInMenu" stringvalue="false"/&gt;
            &lt;/file&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
    &lt;folder name="Toolbars"&gt;
        &lt;folder name="File"&gt;
            &lt;file name="org-demo-wizard-DemoWizardAction.shadow"&gt;
                &lt;attr name="originalFile" stringvalue="Actions/File/org-demo-wizard-DemoWizardAction.instance"/&gt;
                &lt;attr name="position" intvalue="0"/&gt;
            &lt;/file&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/filesystem&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O elemento "iconBase" aponta para uma imagem denominada "icon.png" do pacote principal. Utilize sua própria imagem com tal nome, certificando-se de que o tamanho seja de 16x16 pixels ou utilize a imagem seguinte:
image::images/wizard_icon.png[]</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Execute o módulo. O aplicativo se inicia e o botão deveria ser visto na barra de ferramentas que foi especificada no arquivo  <code>layer.xml</code> :</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_result-1.png" alt="wizard result 1">
</div>
</div>
<div class="paragraph">
<p>Clique no botão e o assistente é exibido:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_result-2.png" alt="wizard result 2">
</div>
</div>
<div class="paragraph">
<p>Clique em Próximo e observe que no painel final o botão Terminar está habilitado:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_result-3.png" alt="wizard result 3">
</div>
</div>
<div class="paragraph">
<p>Agora que a infraestrutura do assistente está funcionando, vamos adicionar algum tipo de conteúdo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_conteúdo_do_assistente">Criando o conteúdo do assistente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, adicionamos o conteúdo ao assistente e personalizamos os recursos básicos.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Abra o arquivo  <code>DemoWizardAction.java</code>  e observe que é possível definir várias propriedades de personalização para o assistente:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_wizard-tweaking.png" alt="wizard wizard tweaking">
</div>
</div>
<div class="paragraph">
<p>Leia mais sobre estas propriedades  <a href="http://ui.netbeans.org/docs/ui_apis/wide/index.html">aqui</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Em  <code>DemoWizardAction.java</code> , altere  <code>wizardDescriptor.setTitle</code>  pelo seguinte:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">wizardDescriptor.setTitle("Music Selection");</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Abra os arquivos  <code>DemoVisualPanel1.java</code>  e  <code>DemoVisualPanel2.java</code>  e utilize o construtor de GUI "Matisse" para adicionar alguns componentes Swing, como os seguintes:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_panel-1-design.png" alt="wizard panel 1 design">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_panel-2-design.png" alt="wizard panel 2 design">
</div>
</div>
<div class="paragraph">
<p>Acima, você vê os arquivos  <code>DemoVisualPanel1.java</code>  e  <code>DemoVisualPanel2.java</code>  com alguns componentes Swing.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Abra os dois painéis na visualização Código-fonte e altere seus métodos  <code>getName()</code>  por "Name and Address" e "Musician Details", respectivamente.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>1.
Execute o módulo novamente. Quando o assistente for aberto, você deveria ver algo semelhante ao exibido abaixo, dependendo dos componentes Swing adicionados e das personalizações feitas:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_result-4.png" alt="wizard result 4">
</div>
</div>
<div class="paragraph">
<p>A imagem na barra lateral esquerda do assistente acima é definida no arquivo  <code>DemoWizardAction.java</code> , da seguinte forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">wizardDescriptor.putProperty("WizardPanel_image", ImageUtilities.loadImage("org/demo/wizard/banner.png", true));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Agora que o conteúdo do assistente foi criado, vamos adicionar código para o processamento dos dados que o usuário gerará introduzir.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_processando_os_dados_do_usuário">Processando os dados do usuário</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você aprende como passar os dados do usuário de um painel a outro e como exibir os resultados para o usuário quando ele clicar em Terminar.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Nas classes de  <code>WizardPanel</code> , utilize o método  <code>storeSettings</code>  para recuperar os dados definidos no painel visual. Por exemplo, crie getters no arquivo  <code>DemoVisualPanel1.java</code>  e, em seguida, acesse-os da seguinte forma a partir do arquivo  <code>DemoWizardPanel1.java</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void storeSettings(Object settings) {
    ((WizardDescriptor) settings).putProperty("name", ((DemoVisualPanel1)getComponent()).getNameField());
    ((WizardDescriptor) settings).putProperty("address", ((DemoVisualPanel1)getComponent()).getAddressField());
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Depois, utilize o arquivo  <code>DemoWizardAction.java</code>  para recuperar as propriedades que você definiu e adote o seguinte procedimento com tais propriedades:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void actionPerformed(ActionEvent e) {
    WizardDescriptor wizardDescriptor = new WizardDescriptor(getPanels());
    // {0} will be replaced by WizardDesriptor.Panel.getComponent().getName()
    wizardDescriptor.setTitleFormat(new MessageFormat("{0}"));
    wizardDescriptor.setTitle("Music Selection");
    Dialog dialog = DialogDisplayer.getDefault().createDialog(wizardDescriptor);
    dialog.setVisible(true);
    dialog.toFront();
    boolean cancelled = wizardDescriptor.getValue() != WizardDescriptor.FINISH_OPTION;
    if (!cancelled) {
        *String name = (String) wizardDescriptor.getProperty("name");
        String address = (String) wizardDescriptor.getProperty("address");
        DialogDisplayer.getDefault().notify(new NotifyDescriptor.Message(name + " " + address));*
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O  <code>NotifyDescriptor</code>  pode ser utilizado também de outras formas, conforme indicado pela caixa de autocompletar código:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_notifydescriptor.png" alt="wizard notifydescriptor">
</div>
</div>
<div class="paragraph">
<p>Agora você já sabe como processar os dados introduzidos pelo usuário.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validando_os_dados_do_usuário">Validando os dados do usuário</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você aprende como validar a entrada do usuário quando o botão "Next" for clicado no assistente.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Em  <code>DemoWizardPanel1</code> , altere a assinatura de classe, implementando  <code>WizardDescriptor.ValidatingPanel</code>  em vez de  <code>WizardDescriptor.Panel</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class DemoWizardPanel1 implements WizardDescriptor.ValidatingPanel</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Na parte superior da classe, altere a declaração  <code>JComponent</code>  por uma declaração digitada:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private DemoVisualPanel1 component;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Implemente o método abstrato necessário da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public void validate() throws WizardValidationException {

    String name = component.getNameTextField().getText();
    if (name.equals("")){
        throw new WizardValidationException(null, "Invalid Name", null);
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Execute o módulo. Clique em "Next", sem introduzir nada no campo "Name" e você deveria ver o resultado abaixo. Observe também que não é possível mover para o painel seguinte, como consequência da falha na validação:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_validation1.png" alt="wizard validation1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Como opção, desabilite o botão "Next" se o campo do nome estiver vazio. Comece declarando um boolean na parte superior da classe:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private boolean isValid = true;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A seguir, substitua  <code>isValid()</code>  da seguinte forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public boolean isValid() {
    return isValid;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>E quando  <code>validate()</code>  for chamado, o que ocorre quando o botão "Next" é clicado, retorne falso:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public void validate() throws WizardValidationException {

    String name = component.getNameTextField().getText();
    if (name.equals("")) {
        *isValid = false;*
        throw new WizardValidationException(null, "Invalid Name", null);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternativamente, defina o boolean inicialmente como falso. A seguir, implemente  <code>DocumentListener</code> , adicione um listener no campo e, quando o usuário digitar algo no campo, defina o boolean como verdadeiro e chame  <code>isValid()</code> .</p>
</div>
<div class="paragraph">
<p>Agora você já sabe como validar os dados introduzidos pelo usuário.</p>
</div>
<div class="paragraph">
<p>Para obter mais informações sobre validação da entrada do usuário, consulte a amostra de Tom Wheeler ao final deste tutorial.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_persistindo_dados_nas_reinicializações">Persistindo dados nas reinicializações</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você aprende como armazenar os dados quando o aplicativo se fecha e como recuperá-los quando o assistente se abre após ser iniciado novamente.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Em  <code>DemoWizardPanel1.java</code> , substitua os métodos  <code>readSettings</code>  e  <code>storeSettings</code>  da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">*JTextField nameField = ((DemoVisualPanel1) getComponent()).getNameTextField();
JTextField addressField = ((DemoVisualPanel1) getComponent()).getAddressTextField();*

@Override
public void readSettings(Object settings) {
    *nameField.setText(NbPreferences.forModule(DemoWizardPanel1.class).get("namePreference", ""));
    addressField.setText(NbPreferences.forModule(DemoWizardPanel1.class).get("addressPreference", ""));*
}

@Override
public void storeSettings(Object settings) {
    ((WizardDescriptor) settings).putProperty("name", nameField.getText());
    ((WizardDescriptor) settings).putProperty("address", addressField.getText());
    *NbPreferences.forModule(DemoWizardPanel1.class).put("namePreference", nameField.getText());
    NbPreferences.forModule(DemoWizardPanel1.class).put("addressPreference", addressField.getText());*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Execute o módulo novamente e digite um nome e endereço no primeiro painel do assistente:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_nbpref1.png" alt="wizard nbpref1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Feche o aplicativo, abra a janela Arquivos e analise o arquivo de propriedades dentro da pasta  <code>build</code>  do aplicativo. Você deveria encontrar agora as seguintes configurações:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_nbpref2.png" alt="wizard nbpref2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Execute o aplicativo novamente e, da próxima vez que o assistente for aberto, as configurações especificadas acima serão automaticamente utilizadas para definir os valores nos campos do assistente.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Agora você já sabe como fazer os dados do assistente persistirem depois das reinicializações.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_marcando_o_assistente">Marcando o assistente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção, você marca a string do botão "Next" (Próximo), fornecido pela infraestrutura, como "Advance" (Avançar).</p>
</div>
<div class="paragraph">
<p>O termo "marcação" significa personalização, ou seja, trata-se normalmente de pequenas modificações dentro do mesmo idioma, enquanto que "internacionalização" ou "localização" significam a tradução para outro idioma. Para obter mais informações sobre a localização dos módulos NetBeans,  <a href="http://translatedfiles.netbeans.org/index-l10n.html">consulte aqui</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Na janela Arquivos, expanda a pasta  <code>branding</code>  do aplicativo e crie a estrutura de pasta/arquivo realçada abaixo:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_branding-1.png" alt="wizard branding 1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Defina o conteúdo do arquivo da seguinte forma:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">CTL_NEXT=&amp;amp;Advance &gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Outras strings que poderiam ser marcadas são:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">CTL_CANCEL
CTL_PREVIOUS
CTL_FINISH
CTL_ContentName</code></pre>
</div>
</div>
<div class="paragraph">
<p>A tecla "CTL_ContentName" está definida como "Steps" por padrão, que é utilizada no painel esquerdo do assistente, caso a propriedade "WizardPanel_autoWizardStyle" não tenha sido definida como "FALSE".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Execute o aplicativo e o botão "Next" estará marcado como "Advance":</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_branding-2.png" alt="wizard branding 2">
</div>
</div>
<div class="paragraph">
<p>Como opção, utilize o arquivo  <code>DemoWizardAction.java</code> , conforme descrito anteriormente, para remover todo o lado esquerdo do painel do assistente da seguinte forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"> wizardDescriptor.putProperty("WizardPanel_autoWizardStyle", Boolean.FALSE);</code></pre>
</div>
</div>
<div class="paragraph">
<p>As configurações acima têm como resultado um assistente com a seguinte aparência:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard_branding-3.png" alt="wizard branding 3">
</div>
</div>
<div class="paragraph">
<p>Agora você já sabe como marcar as strings definidas na infraestrutura do assistente com suas próprias versões marcadas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leituras_adicionais">Leituras adicionais</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vários artigos sobre informações relacionadas estão disponíveis on-line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>O site sobre NetBeans de Tom Wheeler (clique na imagem abaixo):</p>
</li>
</ul>
</div>
<div class="openblock feature">
<div class="content">
<div class="imageblock left">
<div class="content">
<a class="image" href="http://www.tomwheeler.com/netbeans/"><img src="images/wizard_tom.png" alt="wizard tom"></a>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Embora esteja escrito para o NetBeans 5.5, a amostra acima foi testada com êxito no NetBeans IDE 6.5.1 em Ubuntu Linux com JDK 1.6.</p>
</div>
<div class="paragraph">
<p>A amostra é especialmente útil para mostrar como validar os dados do usuário.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blog do Geertjan:</p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/how_wizards_work">Como funcionam os assistentes: Parte 1—Introdução</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/how_wizards_work_part_2">Como funcionam os assistentes: Parte 2—Tipos diferentes</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/how_wizards_work_part_3">Como funcionam os assistentes: Parte 3—Seu primeiro assistente</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/how_wizards_work_part_4">Como funcionam os assistentes: Parte 4—Seu próprio repetidor</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/how_wizards_work_part_5">Como funcionam os assistentes: Parte 5—Reutilizando e incorporando painéis existentes</a></p>
</li>
<li>
<p><a href="http://blogs.oracle.com/geertjan/entry/creating_a_better_java_class">Criando um melhor assistente para classe Java</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_versionamento">Versionamento</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Versão</strong></th>
<th class="tableblock halign-left valign-top"><strong>Data</strong></th>
<th class="tableblock halign-left valign-top"><strong>Alterações</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">31 de março de 2009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versão inicial. A fazer:</p>
<p class="tableblock">* <span class="line-through">Adicionar uma seção sobre validação da entrada do usuário.</span>
* <span class="line-through">Adicionar uma seção sobre armazenamento/recuperação de dados para/do assistente.</span>
* Adicionar uma tabela que lista todas as propriedades do WizardDescriptor.
* Adicionar uma tabela que lista e explica todas as classes API do assistente.
* Adicionar links ao Javadoc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 de abril de 2009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adicionada uma seção de validação, com o código para a desabilitação do botão "Next" (Próximo). Adicionada também uma seção sobre persistência.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 de abril de 2009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comentários integrados por Tom Wheeler, reescrevendo a seção sobre marcação para que seja realmente sobre marcação, com uma referência sobre onde as informações sobre localização podem ser encontradas.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/nbm-wizard_pt_BR.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
