
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans コンポーネントパレットモジュールのチュートリアル</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans コンポーネントパレットモジュールのチュートリアル - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans コンポーネントパレットモジュールのチュートリアル">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">NetBeans コンポーネントパレットモジュールのチュートリアル</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/nbm-palette-api2_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_ソフトウェアのインストール">ソフトウェアのインストール</a>
<ul class="sectlevel2">
<li><a href="#_サンプルのインストール">サンプルのインストール</a></li>
</ul>
</li>
<li><a href="#_モジュールプロジェクトの_設定">モジュールプロジェクトの 設定</a></li>
<li><a href="#_新しいファイルの種類の認識">新しいファイルの種類の認識</a></li>
<li><a href="#_コンポーネントパレットモジュールとコードスニペットの作成">コンポーネントパレットモジュールとコードスニペットの作成</a>
<ul class="sectlevel2">
<li><a href="#_モジュールの依存性の指定">モジュールの依存性の指定</a></li>
<li><a href="#_コンポーネントパレットの作成">コンポーネントパレットの作成</a></li>
<li><a href="#_コードスニペットの作成">コードスニペットの作成</a></li>
</ul>
</li>
<li><a href="#_モジュールの登録">モジュールの登録</a></li>
<li><a href="#_モジュールの構築とインストール">モジュールの構築とインストール</a>
<ul class="sectlevel2">
<li><a href="#_モジュールのインストールと使用">モジュールのインストールと使用</a></li>
<li><a href="#_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</a></li>
</ul>
</li>
<li><a href="#_次のステップ">次のステップ</a></li>
<li><a href="#_バージョン">バージョン</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>翻訳 :  <a href="http://blogs.oracle.com/roller/page/katakai">片貝正紀</a> , 2006/7/10, レビュー/保守:  <a href="http://ja.netbeans.org/index.html">NetBeans 日本語サイト</a></p>
</div>
<div class="paragraph">
<p><a href="mailto:dev@netbeans.apache.org?subject=Feedback:%20NetBeans%20IDE%20Component%20Palette%20Module%20Tutorial">フィー ドバック</a></p>
</div>
<div class="paragraph">
<p>このチュートリアルでは新しいファイルの種類のためのコードサンプル(コードスニペット)をドラッグ &amp; ドロップで作成できるコンポーネントパレットの作成方法を説明します。コードスニペットはコーディングを手助けします。IDE は JSP ファイル、HTML ファイルそしてフォームファイルにコンポーネントパレットを提供しています。このチュートリアルでは通常 IDE では識別されていないファイル用にコンポーネントパレットを作成する方法を説明します。まず最初に「新規ファイルの種類」ウィザードを用いて IDE で認識できる新しいファイルの種類を作成します。次に  <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/overview-summary.html">NetBeans パレット API</a> を使っていくつかのクラスを作成していきます。最後に  <code>layer.xml</code>  ファイルに新しいコンポーネントパレットを登録します。</p>
</div>
<div class="paragraph">
<p>このチュートリアルで作成するコンポーネントパレットは JBoss の配備記述子ファイル ( <code>jboss-web.xml</code> ) に対して使用できるものです。 <code>jboss-web.xml</code>  ファイルは他の XML とは名前空間を使用して識別されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;!DOCTYPE jboss-webPUBLIC "-//JBoss//DTD Web Application 2.3//EN""http://www.jboss.org/j2ee/dtd/jboss-web_3_0.dtd"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>このチュートリアルで作成されたコンポーネントパレットは上記の名前空間を持つファイルが IDE のソースエディタ上に開かれた時のみ有効になります。このファイルの種類のみの場合にコンポーネントパレットは  <code>jboss-web.xml</code>  ファイルの次の３つの基本的な要素のコードスニペットを提供します。 「Context Root」、 「Security Domain」と「Resource Reference」です。以下のようにツールチップはソースエディタにドラッグ＆ドロップしたときにカーソル位置に挿入されるタグがツールチップに表示 されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_completed-module_ja.png" alt="componentpalette completed module ja">
</div>
</div>
<div class="paragraph">
<p>新しいコンポーネントパレットを作成するのではなく、既存のコンポーネントパレットにコードスニペットを追加したいだけならば  <a href="nbm-palette-api1.html">NetBeans コードスニペットモジュールのチュートリアル</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>このチュートリアルでは以下のことを説明します:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#installing">ソフトウェアのインストール</a></p>
</li>
<li>
<p><a href="#installing-sample">サンプルのインストール</a></p>
</li>
<li>
<p><a href="#creatingthemoduleproject">モジュールプロジェクトの設定</a></p>
</li>
<li>
<p><a href="#recognizing-filetype">新しいファイルの種類の認識</a></p>
</li>
<li>
<p><a href="#coding-module">コンポーネントパレットモジュールとコードスニペットの作成</a></p>
</li>
<li>
<p><a href="#creating-palettes">コンポーネントパレットの作成</a></p>
</li>
<li>
<p><a href="#creating-snippets">コードスニペットの作成</a></p>
</li>
<li>
<p><a href="#registering-module">モジュールの登録</a></p>
</li>
<li>
<p><a href="#declaring-resources">リソースの宣言</a></p>
</li>
<li>
<p><a href="#registering-resoucres">リソースの登録</a></p>
</li>
<li>
<p><a href="#building">モジュールの構築とインストール</a></p>
</li>
<li>
<p><a href="#install-plugin">モジュールのインストールと使用</a></p>
</li>
<li>
<p><a href="#share-plugin">共有可能なモジュールバイナリの作成</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>このチュートリアルはソフトウェアがインストールできれば 45 分程度で完了します。</p>
</div>
<div class="paragraph">
<p>モジュール開発に関する詳細は NetBeans サイトの  <a href="https://netbeans.apache.org/platform/index.html">NetBeans 開発プロジェクトホーム</a> を参照してください。わからないところがあれば  <a href="http://wiki.netbeans.org/wiki/view/NetBeansDeveloperFAQ">NetBeans 開発者 FAQ</a> を参照してください。またこのページの「フィードバック」リンクを使ってください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ソフトウェアのインストール">ソフトウェアのインストール</h2>
<div class="sectionbody">
<div class="paragraph">
<p>まずはじめにコンピュータにソフトウェアをインストールします:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NetBeans IDE 5.0 ( <a href="https://netbeans.apache.org/download/index.html">ダウンロード</a>)</p>
</li>
<li>
<p>Java Standard Development Kit (JDK) バージョン 1.4.2 ( <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">ダウンロード</a>) または 5.0 ( <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">ダウンロード</a>)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_サンプルのインストール">サンプルのインストール</h3>
<div class="paragraph">
<p>次の手順でサンプルをインストールします:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><a href="https://netbeans.org/files/documents/4/651/jbosswebxml.zip">サン プルファイル</a> を展開 (unzip) します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>IDE の「ファイル」&gt;「プロジェクトを開く」を選択し、解凍したファイルがあるフォルダまで移動します。モジュールプロジェクトを開きます。プロジェク トを開くと次のようになります:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_completed-projects-window_ja.png" alt="componentpalette completed projects window ja">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>プロジェクトノードを右クリックし「ターゲットプラットフォームでのインストール/再読み込み」を選びます。ターゲットプラットフォームが開 きモジュールがインストールされます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「ファイル」ウィンドウ(Ctrl-2)から  <code>test-jboss-web.xml</code>  ファイルをダブルクリップすることでモジュールが正しくインストールされているかどうか確認できます:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_test-jboss_ja.png" alt="componentpalette test jboss ja">
</div>
</div>
<div class="paragraph">
<p>ファイルがソースエディタに読み込まれるとコンポーネントパレットが開きます。するとこのチュートリアルの冒頭部分のスクリーンショットの ように３つのコードスニペットが表示されます。コンポーネントパレットが自動的に表示されない場合は Ctrl-Shift-8 を押して手動で開いてください。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>メニューバーから「ツール」 &gt; 「パレットマネージャー」を選択すると次のようになります:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_palette-menu-item_ja.png" alt="componentpalette palette menu item ja">
</div>
</div>
<div class="paragraph">
<p>「パレットマネージャー」が表示されコードスニペットが含まれています:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_palette-manager_ja.png" alt="componentpalette palette manager ja">
</div>
</div>
<div class="paragraph">
<p>最終的な結果がどのようになるかわかったので、スクラッチからモジュールを作り作成の過程でそれぞれの部分を勉強してみましょう。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールプロジェクトの_設定">モジュールプロジェクトの 設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>モジュールを作成する前にまずプロジェクトが正しく設定されているか確認する必要があります。 <a href="https://netbeans.apache.org/download/index.html">NetBeans IDE 5.0</a> ではモジュールのための基本的なファイルを設定するためにウィザードを提供しています。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択してください。「カテゴリ」で「NetBeans プラグインモジュール」を選択します。「プロジェクト」では「モジュールプロジェクト」を選択し「次へ」ボタンをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「名前と場所」パネルでは「プロジェクト名」に「 <code>jbosswebxml</code> 」と入力します。「プロジェクトの場所」は適当な コンピューター上のディレクトリを指定します。たとえば  <code>c:\mymodules</code>  などです。「スタンドアロンモジュール」のラジオボタンはそのままにし「主プロジェクトとして設定」チェックボックスを選択します。「次へ」をクリックし ます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「基本モジュール構成」パネルでは「コード名ベース」で  <code>yourorghere</code>  を  <code>org.netbeans.modules</code>  に置き換え、 <code>org.netbeans.modules.jbosswebxml</code>  にします。「地域対応のバンドル」と「XML レイヤー」はそのままにし  <code>org/netbeans/modules/jbosswebxml</code>  にこれらのファイルが保存されるようにします。「完了」ボタンをクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE は  <code>jbosswebxml</code>  プロジェクトを作成します。プロジェクトは必要なすべてのソースやメタデータ、たとえばプロジェクトの構築スクリプトなどを含んでいます。プロジェクトは IDE 上で開かれます。「プロジェクト」ウィンドウ(Ctrl-1) で理論的な構成を表示できます。また「ファイル」ウィンドウ(Ctrl-2)ではファイル構造を表示できます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_新しいファイルの種類の認識">新しいファイルの種類の認識</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>プロジェクトノードで右クリックして「新規」&gt;「ファイルの種類」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「ファイルの認識」パネルでは次のようにします:</p>
<div class="ulist">
<ul>
<li>
<p>「MIME タイプ」には  <code>text/x-jboss+xml</code>  と入力します。</p>
</li>
<li>
<p>「XML のルート要素」の編集ボックスに「 <code>public-id="-//JBoss//DTD Web Application 2.3//EN"</code> 」と入力します。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>「ファイルの認識」パネルはこのようになります:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_filewizard1_ja.png" alt="componentpalette filewizard1 ja">
</div>
</div>
<div class="paragraph">
<p>「ファイルの認識」パネルのそれぞれの項目は次のようになっています:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>MIME タイプ</strong> はデータオブジェクトの一意の MIME タイプを指定します。</p>
</li>
<li>
<p><strong>認識方法</strong></p>
</li>
<li>
<p><strong>ファイル拡張子</strong> は IDE がその MIME タイプに割り当てるひとつあるいはそれ以上のファイル拡張子を指定します。ファイル拡張子は任意でドット(.)を先頭に付けることができます。セパレータ はコンマ、空白あるいはどちらでもかまいません。したがって以下の例はすべて有効です:</p>
</li>
<li>
<p><code>.abc,.def</code></p>
</li>
<li>
<p><code>.abc .def</code></p>
</li>
<li>
<p><code>abc def</code></p>
</li>
<li>
<p><code>abc,.def ghi, .wow</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>JAR ファイルのマニフェストファイルは "MANIFEST.MF" であり少なくとも UNIX プラットフォームでは大文字小文字が区別されます。そのためこのチュートリアルでは <em>２つ</em> の MIME タイプを使用します、 <code>.mf</code>  と  <code>.MF</code>  です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>XML ルート要素</strong> は他の XML ファイルと区別するための一意に決められた名前空間です。XML ファイルは同じ拡張子 ( <code>xml</code> ) を持つので IDE はこの XML ルート要素を使って XML ファイルを区別します。さらに具体的に言うと、IDE は XML ファイルの最初の要素で名前空間を区別します。このチュートリアルではファイルの識別は XML ファイルの  <code>doctype</code>  要素で行われます。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>「次へ」をクリックします。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「名前と場所」パネルでは「クラス名」に「 <code>jbossdd</code> 」と入力し、16x16 ピクセルのイメージファイルを新しいファイルの種類のアイコンとして参照します。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_filewizard2_ja.png" alt="componentpalette filewizard2 ja">
</div>
</div>
<div class="paragraph">
<p>NetBeans のインストールディレクトリにはいろいろな 16x16 ピクセルのイメージファイルがあります。例えば次の場所にあります:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>``enterprise2\jakarta-tomcat-5.5.7\server\webapps\admin\images``</pre>
</div>
</div>
<div class="paragraph">
<p>たとえば上記ディレクトリの  <code>Datasource.gif</code>  を使うことができます。これは次のようなアイコンです:
image::images/filetype_Datasource.gif[]</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「完了」ボタンをクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>これで「プロジェクト」ウィンドウはこのようになります:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_projectswindow2_ja.png" alt="componentpalette projectswindow2 ja">
</div>
</div>
<div class="paragraph">
<p>新規に作成されたファイルについて簡単に説明します:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>jbossddDataLoader.java.</strong> このファイルは  <code>text/x-jboss+xml</code>  MIME タイプを認識します。 <code>DataObject</code>  のファクトリとして機能します。詳しい説明は  <a href="https://netbeans.apache.org/wiki/devfaqdataloader">What is a DataLoader?</a> を参照してください。</p>
</li>
<li>
<p><strong>jbossddResolver.xml.</strong> このファイルは MIME タイプと  <code>&lt;xml-rule&gt;</code>  をマップします。これはこの  <code>DataLoader</code>  が  <code>&lt;xml-rule&gt;</code>  で一致した XML ファイルのみを認識するように制限します。 <code>&lt;doc-type&gt;</code>  を定義するように以下のように(太字の行が変更する行です)変更します:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE MIME-resolver PUBLIC "-//NetBeans//DTD MIME Resolver 1.0//EN""https://netbeans.org/dtds/mime-resolver-1_0.dtd"&gt;&lt;MIME-resolver&gt;&lt;file&gt;&lt;ext name="xml"/&gt;&lt;resolver mime="text/x-jboss+xml"&gt;&lt;xml-rule&gt;*&lt;doctype public-id="-//JBoss//DTD Web Application 2.3//EN"/&gt;*&lt;/xml-rule&gt;&lt;/resolver&gt;&lt;/file&gt;&lt;/MIME-resolver&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>jbossddDataObject.java.</strong> このファイルは  <code>FileObject</code>  をラップします。 <code>DataObjects</code>  は  <code>DataLoaders</code>  によって生成されます。詳しい説明は  <a href="https://netbeans.apache.org/wiki/devfaqdataobject">What is a DataObject?</a> を参照してください。</p>
</li>
<li>
<p><strong>jbossddDataNode.java.</strong> このファイルはアクションなどの機能、アイコンや地域対応された名前など IDE 上での <em>見え方</em> を提供します。</p>
</li>
<li>
<p><strong>jbossddDataLoaderBeanInfo.java.</strong> このファイルは「オプション」ウィンドウの「オブジェクトの種類」セクションで <code>DataLoader</code> を表示するかしないかを制御しま す。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_コンポーネントパレットモジュールとコードスニペットの作成">コンポーネントパレットモジュールとコードスニペットの作成</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_モジュールの依存性の指定">モジュールの依存性の指定</h3>
<div class="paragraph">
<p><a href="https://bits.netbeans.org/dev/javadoc/">NetBeans API</a> に属するいくつかのクラスのサブクラスが必要です。それぞれモジュールの依存関係に定義する必要があります。これは「プロジェクト」プロパティーを使って 設定できます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで  <code>jbosswebxml</code>  プロジェクトを右クリックし、「プロパティー」を選択します。プロジェクトプロパティーのダイアログボックスで、「ライブラリ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>次のそれぞれの API は「追加&#8230;&#8203;」ボタンをクリックし「モジュールリスト」から名前を選択して「了解」ボタンを押すことで追加できます:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_projprops_ja.png" alt="componentpalette projprops ja">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「了解」をクリックしてプロジェクトの「プロパティー」ダイアログを閉じます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「プロジェクト」ウィンドウで「重要なファイル」ノードを展開、「プロジェクトメタデータ」をダブルクリックしてモジュールの依存性が正しく 宣言されているか確認できます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="https://netbeans.org/ns/project/1"&gt;&lt;type&gt;org.netbeans.modules.apisupport.project&lt;/type&gt;&lt;configuration&gt;&lt;data xmlns="http://www.netbeans.org/ns/nb-module-project/2"&gt;&lt;code-name-base&gt;org.netbeans.modules.jbosswebxml&lt;/code-name-base&gt;&lt;standalone/&gt;&lt;module-dependencies&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.netbeans.modules.editor.lib&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;release-version&gt;1&lt;/release-version&gt;&lt;specification-version&gt;1.9.0.1&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.netbeans.modules.projectapi&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;release-version&gt;1&lt;/release-version&gt;&lt;specification-version&gt;1.9&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.netbeans.spi.palette&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;release-version&gt;0&lt;/release-version&gt;&lt;specification-version&gt;1.5&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.dialogs&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.4&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.filesystems&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.4&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.loaders&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;5.9&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.nodes&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.7&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.text&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.9&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.util&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.8&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;code-name-base&gt;org.openide.windows&lt;/code-name-base&gt;&lt;build-prerequisite/&gt;&lt;compile-dependency/&gt;&lt;run-dependency&gt;&lt;specification-version&gt;6.5&lt;/specification-version&gt;&lt;/run-dependency&gt;&lt;/dependency&gt;&lt;/module-dependencies&gt;&lt;public-packages/&gt;&lt;/data&gt;&lt;/configuration&gt;&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_コンポーネントパレットの作成">コンポーネントパレットの作成</h3>
<div class="paragraph">
<p>コンポーネントパレットは  <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/overview-summary.html">NetBeans パレット API</a> を使って定義されています。このチュートリアルで NetBeans パレット API を実装することは次の NetBeans Palette API クラスを実装することです:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>ファイル</strong></th>
<th class="tableblock halign-left valign-top"><strong>説明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteFactory.html">PaletteFactory</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コンポーネントパレットの新しいインスタンスを作成します。そのためには  <code>JBOSSPalette</code>  フォルダから新しいパレットを作成する  <code>createPalette</code>  メソッドを呼び出します。これは  <code>layer.xml</code>  ファイルに定義されています。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteController.html">PaletteController</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コンポーネントパレットのデータへのアクセスを提供します。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteActions.html">PaletteActions</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>これにくわえて次のサポートクラスを作成する必要があります:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>ファイル</strong></th>
<th class="tableblock halign-left valign-top"><strong>説明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jbossddPaletteUtilities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ドロップされたコードスニペットの挿入とフォーマットを扱います。２つの NetBeans API クラスで実装されます:</p>
<p class="tableblock">*  <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-modules-editor-lib/org/netbeans/editor/BaseDocument.html">org.netbeans.editor.BaseDocument</a>
*  <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-modules-editor-lib/org/netbeans/editor/Formatter.html">org.netbeans.editor.Formatter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jbossddPaletteCustomizerAction </code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">パレットマネージャーで使われるメニュー項目を提供します:</p>
<p class="tableblock">image::images/componentpalette_palette-menu-item_ja.png[]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jbossddPaletteDropDefault</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>NetBeans パレット API を実装するには次のステップにしたがってください:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><code>org.netbeans.modules.jbosswebxml</code>  プロジェクトノードで右クリックして「新規」&gt;「Java クラス」を選択します。次のファイルの最初のファイルを作り、パッケージのドロップダウンリストには  <code>org.netbeans.modules.jbosswebxml.palette</code>  と入力し、「完了」ボタンを押します。他のファイルも同様に作成ます。</p>
<div class="ulist">
<ul>
<li>
<p><code>jbossddPaletteActions</code></p>
</li>
<li>
<p><code>jbossddPaletteCustomizerAction</code></p>
</li>
<li>
<p><code>jbossddPaletteDropDefault</code></p>
</li>
<li>
<p><code>jbossddPaletteFactory</code></p>
</li>
<li>
<p><code>jbossddPaletteUtilities</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>次のファイルが作成されます。(スクリーンショットで選択されています):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_palette1_ja.png" alt="componentpalette palette1 ja">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>以下のリンクをダブルクリックし以下の内容でファイルの内容を置き換えます:</p>
<div class="ulist">
<ul>
<li>
<p><code>jbossddPaletteActions</code></p>
</li>
<li>
<p><code>jbossddPaletteCustomizerAction</code></p>
</li>
<li>
<p><code>jbossddPaletteDropDefault</code></p>
</li>
<li>
<p><code>jbossddPaletteFactory</code></p>
</li>
<li>
<p><code>jbossddPaletteUtilities</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><code>jbossddPaletteFactory.java</code>  ファイルのデフォルトの内容を次で置き換えます:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.jbosswebxml.palette;import java.io.IOException;import  link:https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteController.html[org.netbeans.spi.palette.PaletteController];import  link:https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteFactory.html[org.netbeans.spi.palette.PaletteFactory];public class jbossddPaletteFactory {public static final String JBOSS_PALETTE_FOLDER = "JBOSSPalette";private static PaletteController palette = null;public static PaletteController getPalette() throws IOException {if (palette == null)palette = PaletteFactory.createPalette(JBOSS_PALETTE_FOLDER, new jbossddPaletteActions()); return palette;}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><code>jbossddPaletteActions.java</code>  ファイルのデフォルトの内容を次で置き換えます:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.jbosswebxml.palette;import java.awt.event.ActionEvent;import java.io.IOException;import javax.swing.AbstractAction;import javax.swing.Action;import javax.swing.text.JTextComponent;import org.netbeans.editor.Utilities;import org.netbeans.spi.palette.PaletteActions;import org.netbeans.spi.palette.PaletteController;import org.openide.DialogDisplayer;import org.openide.NotifyDescriptor;import org.openide.text.ActiveEditorDrop;import org.openide.util.Lookup;import org.openide.util.NbBundle;public class jbossddPaletteActions extends  link:https://bits.netbeans.org/dev/javadoc/org-netbeans-spi-palette/org/netbeans/spi/palette/PaletteActions.html[PaletteActions] {/** Creates a new instance of jbossddPaletteActions */public jbossddPaletteActions() {}public Action[] getImportActions() {return new Action[0]; //TODO implement this}public Action[] getCustomCategoryActions(Lookup category) {return new Action[0]; //TODO implement this}public Action[] getCustomItemActions(Lookup item) {return new Action[0]; //TODO implement this}public Action[] getCustomPaletteActions() {return new Action[0]; //TODO implement this}public Action getPreferredAction( Lookup item ) {return new MFPaletteInsertAction(item);}private static class MFPaletteInsertAction extends AbstractAction {private Lookup item;MFPaletteInsertAction(Lookup item) {this.item = item;}public void actionPerformed(ActionEvent e) {ActiveEditorDrop drop = (ActiveEditorDrop) item.lookup(ActiveEditorDrop.class);JTextComponent target = Utilities.getFocusedComponent();if (target == null) {String msg = NbBundle.getMessage(jbossddPaletteActions.class, "MSG_ErrorNoFocusedDocument");DialogDisplayer.getDefault().notify(new NotifyDescriptor.Message(msg, NotifyDescriptor.ERROR_MESSAGE));return;}try {drop.handleTransfer(target);}finally {Utilities.requestFocus(target);}try {PaletteController pc = jbossddPaletteFactory.getPalette();pc.clearSelection();}catch (IOException ioe) {} //should not occur}}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p><code>jbossddPaletteUtilities.java</code>  ファイルのデフォルトの内容を次で置き換えます:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.jbosswebxml.palette;import java.awt.Component;import java.awt.Container;import java.util.StringTokenizer;import javax.swing.JTree;import javax.swing.text.BadLocationException;import javax.swing.text.Caret;import javax.swing.text.Document;import javax.swing.text.JTextComponent;import org.netbeans.api.project.FileOwnerQuery;import org.netbeans.api.project.Project;import org.netbeans.api.project.ProjectUtils;import org.netbeans.api.project.SourceGroup;import org.netbeans.api.project.Sources;import org.netbeans.editor.BaseDocument;import org.netbeans.editor.Formatter;import org.openide.filesystems.FileObject;public class jbossddPaletteUtilities {/** Creates a new instance of jbossddPaletteUtilities */public jbossddPaletteUtilities() {}public static void insert(String s, JTextComponent target)throws BadLocationException {insert(s, target, true);}public static void insert(String s, JTextComponent target, boolean reformat)throws BadLocationException {if (s == null)s = "";Document doc = target.getDocument();if (doc == null)return;if (doc instanceof BaseDocument)((BaseDocument)doc).atomicLock();int start = insert(s, target, doc);if (reformat &amp;amp;&amp;amp; start &gt;= 0 &amp;amp;&amp;amp; doc instanceof BaseDocument) {  // format the inserted textint end = start + s.length();Formatter f = ((BaseDocument)doc).getFormatter();f.reformat((BaseDocument)doc, start, end);}if (doc instanceof BaseDocument)((BaseDocument)doc).atomicUnlock();}private static int insert(String s, JTextComponent target, Document doc)throws BadLocationException {int start = -1;try {//at first, find selected text rangeCaret caret = target.getCaret();int p0 = Math.min(caret.getDot(), caret.getMark());int p1 = Math.max(caret.getDot(), caret.getMark());doc.remove(p0, p1 - p0);//replace selected text by the inserted onestart = caret.getDot();doc.insertString(start, s, null);} catch (BadLocationException ble) {}return start;}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p><code>jbossddPaletteCustomizerAction.java</code>  ファイルのデフォルトの内容を次で置き換えます:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.jbosswebxml.palette;import java.io.IOException;import org.openide.ErrorManager;import org.openide.util.HelpCtx;import org.openide.util.NbBundle;import  link:https://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/actions/CallableSystemAction.html[org.openide.util.actions.CallableSystemAction];public class jbossddPaletteCustomizerAction extends  link:https://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/actions/CallableSystemAction.html[CallableSystemAction] {private static String name;public jbossddPaletteCustomizerAction () {putValue("noIconInMenu", Boolean.TRUE); // NOI18N}protected boolean asynchronous() {return false;}/** Human presentable name of the action. This should be* presented as an item in a menu.* @return the name of the action*/public String getName() {if (name == null)name = NbBundle.getBundle(jbossddPaletteCustomizerAction.class).getString("ACT_OpenjbossddCustomizer"); // NOI18Nreturn name;}/** Help context where to find more about the action.* @return the help context for this action*/public HelpCtx getHelpCtx() {return null;}/** This method is called by one of the "invokers" as a result of* some user's action that should lead to actual "performing" of the action.*/public void performAction() {try {jbossddPaletteFactory.getPalette().showCustomizer();}catch (IOException ioe) {ErrorManager.getDefault().notify(ErrorManager.EXCEPTION, ioe);}}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p><code>jbossddPaletteDropDefault.java</code>  ファイルのデフォルトの内容を次で置き換えます:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.jbosswebxml.palette;import javax.swing.text.BadLocationException;import javax.swing.text.JTextComponent;import org.openide.text.ActiveEditorDrop;public class jbossddPaletteDropDefault implements ActiveEditorDrop {String body;public jbossddPaletteDropDefault(String body) {this.body = body;}public boolean handleTransfer(JTextComponent targetComponent) {if (targetComponent == null)return false;try {jbossddPaletteUtilities.insert(body, (JTextComponent)targetComponent);}catch (BadLocationException ble) {return false;}return true;}}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p><code>org.netbeans.modules.jbosswebxml.palette</code>  ノードで右クリックし、「新規」、「ファイル/フォルダ」を選び、「その他」のカテゴリから「プロパティー」ファイルを選択します。「次へ」をクリックし ます。「名前」に「Bundle」と入力し「完了」ボタンを押します。この新しい  <code>Bundle.properties</code>  ファイルに次のキーを追加します:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">MSG_ErrorNoFocusedDocument=No document selected. Please select a document to insert the item into.ACT_OpenJbossddCustomizer=&amp;amp;JBoss Code Clips</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_コードスニペットの作成">コードスニペットの作成</h3>
<div class="paragraph">
<p>それぞれのコードスニペットには次のファイルが必要です:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ソースエディタへドラッグされるコードの一部を定義した Java クラス。この Java クラスはどのようにコードが挿入されるべきかを定義した  <code>jbossddPaletteUtilities.java</code>  を参照する必要があります。たとえば、インデント設定とフォーマットはここで定義されます。</p>
</li>
<li>
<p>プロパティーファイルはラベルとツールチップを定義します。</p>
</li>
<li>
<p>16x16 ピクセルイメージは小さいアイコンでの表示用です。</p>
</li>
<li>
<p>32x32 ピクセルイメージは大きいアイコンでの表示用です。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NetBeans モジュールに上のファイルを作成し、追加したあとにこれらをリソース宣言 XML ファイルで宣言します。 <code>layer.xml</code>  を使って NetBeans システムファイルシステムに登録します。</p>
</div>
<div class="paragraph">
<p>この詳細は  <a href="nbm-palette-api1.html">NetBeans コードスニペットモジュールのチュートリアル</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>例として３つのコードスニペットを  <code>ContextRoot.java</code> 、 <code>ResourceReference.java</code> 、  <code>SecurityDomain.java</code>  として作成したとすると、結果は次のようになります。以下の選択されたパッケージにコードスニペットとサポートリソースが含まれています:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_palette4_ja.png" alt="componentpalette palette4 ja">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールの登録">モジュールの登録</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>次のタグを  <code>layer.xml</code>  ファイルに追加します:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Menu"&gt;&lt;folder name="Tools"&gt;&lt;folder name="PaletteManager"&gt;&lt;file name="org-netbeans-modules-jbosswebxml-palette-jbossddPaletteCustomizerAction.instance"/&gt;&lt;/folder&gt;&lt;/folder&gt;&lt;/folder&gt;&lt;folder name="JBOSSPalette"&gt;&lt;folder name="JBoss"&gt;  &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.jbosswebxml.palette.Bundle"/&gt;&lt;file name="ContextRoot.xml" url="nbresloc:/org/netbeans/modules/jbosswebxml/palette/items/resources/ContextRoot.xml"/&gt;&lt;file name="SecurityDomain.xml" url="nbresloc:/org/netbeans/modules/jbosswebxml/palette/items/resources/SecurityDomain.xml"/&gt;&lt;file name="ResourceReference.xml" url="nbresloc:/org/netbeans/modules/jbosswebxml/palette/items/resources/ResourceReference.xml"/&gt;&lt;/folder&gt;&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>以下を  <code>layer.xml</code>  ファイルと同じパッケージ内の  <code>Bundle.properties</code>  ファイルに追加します:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">JBOSSPalette/JBoss=JBoss Deployment DescriptorJBOSSPalette/JBoss/ContextRoot.xml=Context RootJBOSSPalette/JBoss/ResourceReference.xml=Resource ReferenceJBOSSPalette/JBoss/SecurityDomain.xml=Security Domain</code></pre>
</div>
</div>
<div class="paragraph">
<p>上記のキー-値のペアは  <code>layer.xml</code>  ファイルに登録された項目をローカライズします。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>必要に応じて他のモジュールで提供されているコードスニペットとマージできます。たとえば、 <code>jboss-web.xml</code>  ファイルで JSP モジュールや HTML モジュールで提供されているコードスニペットにアクセスできるようにマージしたい場合は次のようにします:</p>
<div class="ulist">
<ul>
<li>
<p><code>org.netbeans.modules.jbosswebxml.palette</code>  では、HTML モジュールと JSP モジュールが提供しているいくつかのアクション名と一致するように  <code>ACT_OpenJbossddCustomizer</code>  の値を変更します:</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">ACT_OpenJbossddCustomizer=&amp;amp;HTML/JSP Code Clips</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layer.xml</code>  ファイルに以下の２つの行を追加することによって２つのアクションを隠します。この部分は HTML モジュールと JSP モジュールのアクションを JSP/HTML コードクリップパレットマネージャーを表示しています。</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Menu"&gt;&lt;folder name="Tools"&gt;&lt;folder name="PaletteManager"&gt;&lt;file name="org-netbeans-modules-jbosswebxml-palette-jbossddPaletteCustomizerAction.instance"/&gt;*&lt;file name="org-netbeans-modules-html-palette-HTMLPaletteCustomizerAction.instance_hidden"/&gt;
&lt;file name="org-netbeans-modules-web-core-palette-JSPPaletteCustomizerAction.instance_hidden"/&gt;*&lt;/folder&gt;&lt;/folder&gt;&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>最後に HTML モジュールと JSP モジュールのリソース宣言 XML ファイルを宣言します:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="JBOSSPalette"&gt;&lt;folder name="JBoss"&gt;&lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.jbosswebxml.Bundle"/&gt;&lt;file name="ContextRoot.xml" url="ContextRoot.xml"/&gt;&lt;file name="ResourceReference.xml" url="ResourceReference.xml"/&gt;&lt;file name="SecurityDomain.xml" url="SecurityDomain.xml"/&gt;&lt;/folder&gt;*&lt;folder name="HTML.shadow"&gt;
&lt;attr name="SystemFileSystem.localizingBundle"
stringvalue="org.netbeans.modules.web.core.palette.Bundle"/&gt;
&lt;attr name="originalFile"
stringvalue="HTMLPalette/HTML"/&gt;
&lt;/folder&gt;
&lt;folder name="HTML_Forms.shadow"&gt;
&lt;attr name="SystemFileSystem.localizingBundle"
stringvalue="org.netbeans.modules.web.core.palette.Bundle"/&gt;
&lt;attr name="originalFile"
stringvalue="HTMLPalette/HTML_Forms"/&gt;
&lt;/folder&gt;
&lt;folder name="JSP.shadow"&gt;
&lt;attr name="SystemFileSystem.localizingBundle"
stringvalue="org.netbeans.modules.web.core.palette.Bundle"/&gt;
&lt;attr name="originalFile"
stringvalue="JSPPalette/JSP"/&gt;
&lt;/folder&gt;
&lt;folder name="Database.shadow"&gt;
&lt;attr name="SystemFileSystem.localizingBundle"
stringvalue="org.netbeans.modules.web.core.palette.Bundle"/&gt;
&lt;attr name="originalFile"
stringvalue="JSPPalette/Database"/&gt;
&lt;/folder&gt;*&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>これでモジュールを構築し、インストールすると、次のセクションで説明するように  <code>jboss-web.xml</code>  ファイル用のコンポーネントパレットが JSP モジュールで提供されている <em>すべての</em> コードスニペット、HTML モジュールで提供されている <em>すべての</em> コードスニペットを含んで表示されます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールの構築とインストール">モジュールの構築とインストール</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IDE はモジュールの構築およびインストールに Ant 構築スクリプトを使用します。構築スクリプトはプロジェクトの作成時に作成されます。</p>
</div>
<div class="sect2">
<h3 id="_モジュールのインストールと使用">モジュールのインストールと使用</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで「 <code>jbosswebxml</code> 」プロジェクトを右クリックし「ターゲットプラットフォームでのイ ンストール/再読み込み」を選びます。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>モジュールが構築されターゲットプラットフォームにインストールされます。ターゲットプラットフォームが起動し新規モジュールを試すことが できます。デフォルトのターゲットプラットフォームとは IDE の現在のインスタンスで使用しているインストールです。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>使い方は <a href="#installing-sample">サンプルのインストール</a> セクションで説明していますのでモジュールが正しくインストールできているかどうか確認してください。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで  <code>newhtmlsnippet</code>  プロジェクトを右クリックし、「NBM を作成」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>NBM ファイルが作成されます。「ファイル」ウィンドウ (Ctrl-2) で確認できます:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/componentpalette_create-nbm_ja.png" alt="componentpalette create nbm ja">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>メールなどで送付することにより他の人に配布、共有できます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>アップデートセンターを使ってモジュールをインストールできます。メインメニューの「ツール」&gt;「アップデートセンター」 を選択してください。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_次のステップ">次のステップ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans モジュールの開発と作成の詳細は次のリソースを参照してください:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/platform/index.html">モジュール開発者リソース</a></p>
</li>
<li>
<p><a href="https://bits.netbeans.org/dev/javadoc/">NetBeans API リスト (現行の開発バージョン)</a></p>
</li>
<li>
<p><a href="http://apisupport.netbeans.org/new-apisupport.html">新規 API サポートの提案</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_バージョン">バージョン</h2>
<div class="sectionbody">
<div class="paragraph">
<p>詳細な更新履歴は  <a href="nbm-palette-api2_ja.html">原文の英文</a> をご覧下さい。このファイルはリビジョン 1.18 を翻訳しています。</p>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/nbm-palette-api2_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
