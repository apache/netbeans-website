
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>高速検索の統合のチュートリアル</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="高速検索の統合のチュートリアル - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, 高速検索の統合のチュートリアル">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 19</h1>
            <p><a class="button success" href="/download/nb19/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">高速検索の統合のチュートリアル</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/73/nbm-quick-search_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_高速検索の統合入門">高速検索の統合入門</a></li>
<li><a href="#_モジュールプロジェクトの作成">モジュールプロジェクトの作成</a></li>
<li><a href="#_高速検索プロバイダウィザードの使用">「高速検索プロバイダ」ウィザードの使用</a></li>
<li><a href="#_外部_html_dom_パーサーの統合">外部 HTML DOM パーサーの統合</a></li>
<li><a href="#_高速検索の統合のコーディング">高速検索の統合のコーディング</a></li>
<li><a href="#_インストールおよび機能の動作確認">インストールおよび機能の動作確認</a></li>
<li><a href="#_netbeans_プラットフォームでの高速検索機能の使用">NetBeans プラットフォームでの高速検索機能の使用</a>
<ul class="sectlevel2">
<li><a href="#_netbeans_プラットフォームでの高速検索機能の有効化">NetBeans プラットフォームでの高速検索機能の有効化</a></li>
<li><a href="#_netbeans_プラットフォームでのデフォルトの_web_検索プロバイダの有効化">NetBeans プラットフォームでのデフォルトの Web 検索プロバイダの有効化</a></li>
</ul>
</li>
<li><a href="#_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</a></li>
<li><a href="#_次の手順">次の手順</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>このチュートリアルでは、新しい項目を NetBeans の高速検索機能に統合するモジュールを記述する方法を示します。</p>
</div>
<div class="paragraph">
<p>トラブルシューティングのために、 <a href="http://plugins.netbeans.org/PluginPortal/faces/PluginDetailPage.jsp?pluginid=11179">完了したサンプルをダウンロード</a>してソースを調べることもできます (任意)。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_高速検索の統合入門">高速検索の統合入門</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDE 6.5 で導入された高速検索機能は、IDE の右上隅のテキストフィールドで構成されます。検索文字列をフィールドに入力すると、ドロップダウンリストが表示され、一致する項目が示されます。デフォルトでは、項目は IDE に登録されているアクションの名前と IDE の JavaHelp トピックから検索されます。アクション項目を選択するとアクションが呼び出され、ヘルプ項目を選択すると JavaHelp でトピックが開きます。</p>
</div>
<div class="paragraph">
<p>また、 <a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/overview-summary.html">高速検索 API</a> も公開されています。これを使用して、独自の検索項目を高速検索機能に統合できます。IDE 内で、または NetBeans プラットフォーム上にある独自のアプリケーションの一部として、この機能を使用できます。</p>
</div>
<div class="paragraph">
<p>このチュートリアルでは、 <a href="http://netbeans.dzone.com">NetBeans Zone</a> の項目を高速検索機能と統合するモジュールを作成します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_deployed-result.png" alt="qsearch deployed result">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールプロジェクトの作成">モジュールプロジェクトの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この節では、ウィザードを使用して、各 NetBeans モジュールが必要とするソースの構造を作成します。ソースの構造は、特定の場所にある特定のフォルダと、常に必要なファイルのセットで構成されます。たとえば、すべての NetBeans モジュールには、プロジェクトのメタデータを保存する  <code>nbproject</code>  フォルダと、ツールバーボタンやウィンドウなどの項目を宣言登録するための  <code>layer.xml</code>  ファイルが必要です。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択します。「カテゴリ」で「NetBeans モジュール」を選択します。「プロジェクト」で「モジュール」を選択し、「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「名前と場所」パネルで、「プロジェクト名」に「 <code>NetBeansZoneSearch</code> 」と入力します。「プロジェクトの場所」を、 <code>c:\mymodules</code>  などのコンピュータ上の任意のディレクトリに変更します。「スタンドアロンモジュール」ラジオボタンは選択したままにしておきます。パネルは次のようになります。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_new-module-1.png" alt="qsearch new module 1">
</div>
</div>
<div class="paragraph">
<p>「次へ」をクリックします。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「基本モジュール構成」パネルで、コード名ベースに「 <code>org.netbeans.modules.nbzone</code> 」と入力します。推奨されるモジュール表示名に空白文字を追加し、 <code>NetBeans Zone Search</code>  に変更します。「XML レイヤーを生成」チェックボックスを選択し、「ローカライズ版バンドル」と「XML レイヤー」の場所はそのままにしておきます。これらは  <code>org/netbeans/modules/nbzone</code>  という名前のパッケージに格納されます。パネルは次のようになります。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_new-module-2.png" alt="qsearch new module 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE によって  <code>NetBeans Zone Search</code>  プロジェクトが作成されます。このプロジェクトには、ソースや、プロジェクトの Ant 構築スクリプトなどのプロジェクトメタデータがすべて含まれます。IDE でプロジェクトが開きます。「プロジェクト」ウィンドウ (Ctrl-1) で、プロジェクトの論理構造を表示できます。また、「ファイル」ウィンドウ (Ctrl-2) で、プロジェクトのファイル構造を表示できます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_高速検索プロバイダウィザードの使用">「高速検索プロバイダ」ウィザードの使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この節では、ウィザードを使用して、高速検索機能との統合を開始するために必要となるスタブクラスとレイヤーのエントリを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>プロジェクトノードを右クリックし、「新規」&gt;「その他」を選択します。「新規ファイル」ダイアログで、「モジュールの開発」&gt;「高速検索プロバイダ」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「高速検索プロバイダ」パネルで、次のとおりに設定します。</p>
<div class="ulist">
<ul>
<li>
<p>*プロバイダクラス名。*ウィザードで生成するスタブのクラス名を指定します。このフィールドには、「NBZoneSearchProvider」と入力します。</p>
</li>
<li>
<p>*パッケージ。*スタブクラスが生成されるパッケージを指定します。ドロップダウンから「org.netbeans.modules.nbzone」を選択します。</p>
</li>
<li>
<p>*カテゴリ表示名。*スタブで作成するカテゴリの表示名を指定します。このフィールドには、「NetBeans Zone」と入力します。</p>
</li>
<li>
<p>*コマンド接頭辞。*スタブで作成するカテゴリの検索結果を絞る接頭辞を指定します。このフィールドには、「nb」と入力します。</p>
</li>
<li>
<p>*ポップアップでの位置。*高速検索機能での新規カテゴリの位置を指定します。カテゴリをポップアップの最初にするには、「0」のままにします。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>画面は次のようになります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_quick-search-template.png" alt="qsearch quick search template">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「プロジェクト」ウィンドウは次のようになります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_projects-window-final.png" alt="qsearch projects window final">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``layer.xml``  ファイルは、次のように表示されます。</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;filesystem&gt;
    &lt;folder name="QuickSearch"&gt;
        &lt;folder name="NetBeansZone"&gt;
            &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.nbzone.Bundle"/&gt;
            &lt;attr name="command" stringvalue="nb"/&gt;
            &lt;attr name="position" intvalue="0"/&gt;
            &lt;file name="org-netbeans-modules-nbzone-NBZoneSearchProvider.instance"/&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/filesystem&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_外部_html_dom_パーサーの統合">外部 HTML DOM パーサーの統合</h2>
<div class="sectionbody">
<div class="paragraph">
<p>次の節では、NetBeans Zone を解析できるようにするために、HTML DOM パーサーが必要になります。任意の適切なパーサーを使用できます。このチュートリアルでは、 <a href="http://sourceforge.net/project/showfiles.php?group_id=13153">JTidy</a> を使用します。</p>
</div>
<div class="paragraph">
<p>モジュールで使用可能な外部 JAR ファイルを作成する方法は、2 つあります。1 つ目の方法は、JAR を「ライブラリラッパーモジュール」と呼ばれる個別のモジュールに置き、機能性モジュールとライブラリラッパーモジュールをモジュールスイートに置いてから、機能性モジュールをライブラリラッパーモジュールに_依存_させます。2 つの別個のモジュールを持つことの利点は、外部 JAR の新規バージョンがリリースされたときに再配布が必要なのが、機能性コードも含む大きなモジュールではなく、外部 JAR のみを含む小さなモジュールだけであることです。2 つ目の方法は、次で行う機能性モジュールに JAR を追加する方法です。この方法の利点は、配布するモジュールが 1 つだけなので、短期だけの場合に便利であることです。欠点は、外部ライブラリを機能性コードと混在させるため、厳密にはモジュールアプローチではなくなることです。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><a href="http://sourceforge.net/project/showfiles.php?group_id=13153">JTidy</a> をダウンロードし、その中にある  <code>Tidy.jar</code>  を探します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「ファイル」ウィンドウで、 <code>Tidy.jar</code>  を  <code>release/modules/ext</code>  フォルダに格納し、次に示すようなフォルダ構造を作成します。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_tidyjar.png" alt="qsearch tidyjar">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><code>nbproject</code>  フォルダにある  <code>project.xml</code>  ファイルの最後のほう、すなわちファイルの最後の直前に、次のボールドタグを追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">            ...
            ...
            ...
            *&lt;class-path-extension&gt;
                &lt;runtime-relative-path&gt;ext/Tidy.jar&lt;/runtime-relative-path&gt;
                &lt;binary-origin&gt;release/modules/ext/Tidy.jar&lt;/binary-origin&gt;
            &lt;/class-path-extension&gt;*
        &lt;/data&gt;
    &lt;/configuration&gt;
 &lt;/project&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><code>project.properties</code>  ファイルで次の行を追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">cp.extra=release/modules/ext/Tidy.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>これで、外部 HTML DOM パーサーは、モジュールのクラスパス上にあることになります。次の節で実行する必要があるように、JAR 内のクラスを使用できます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_高速検索の統合のコーディング">高速検索の統合のコーディング</h2>
<div class="sectionbody">
<div class="paragraph">
<p>次に、API を実装します。API のクラスは、次のとおりです。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">クラス</th>
<th class="tableblock halign-left valign-top">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchProvider.html">SearchProvider</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">高速検索 API のメインのインタフェース。高速検索の結果の新しいグループを提供するために、このインタフェースを実装します。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html">SearchRequest</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">高速検索の要求の説明。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html">SearchResponse</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SearchRequest の結果を収集するための応答オブジェクト。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>次では、必要なモジュールとの依存関係を設定し、その依存関係を独自のモジュールに実装します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>プロジェクトを右クリックし、「プロパティー」を選択して「ライブラリ」パネルに次の依存関係を設定します。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_set-dependencies.png" alt="qsearch set dependencies">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>生成されたクラスを開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>次のようにクラスを修正します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class NBZoneSearchProvider implements  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchProvider.html[SearchProvider] {

    /**
     * Method is called by infrastructure when search operation is requested.
     * Implementors should evaluate given request and fill response object with
     * apropriate results
     *
     * @param request Search request object that contains search string
     * @param response Search response object that stores search results
     * Note that it's important to react to return value of
     * SearchResponse.addResult(...) method and stop computation if
     * false value is returned.
     */
    @Override
    public void evaluate( link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html[SearchRequest request],  link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html[SearchResponse response]) {
        try {

            *//The URL that we are providing a search for:*
            URL url = new URL("http://netbeans.dzone.com");
            *//Stuff needed by Tidy:*
            Tidy tidy = new Tidy();
            tidy.setXHTML(true);
            tidy.setTidyMark(false);
            tidy.setShowWarnings(false);
            tidy.setQuiet(true);

            *//Get the org.w3c.dom.Document from Tidy,
            //or use a different parser of your choice:*
            Document doc = tidy.parseDOM(url.openStream(), null);

            *//Get all "a" elements:*
            NodeList list = doc.getElementsByTagName("a");

            *//Get the number of elements:*
            int length = list.getLength();

            *//Loop through all the "a" elements:*
            for (int i = 0; i &lt; length; i++) {

                String href = null;
                if (null != list.item(i).getAttributes().getNamedItem("href")) {
                    *//Get the "href" attribute from the current "a" element:*
                    href = list.item(i).getAttributes().getNamedItem("href").getNodeValue();
                }

                *//Get the "title" attribute from the current "a" element:*
                if (null != list.item(i).getAttributes().getNamedItem("title")) {
                    String title = list.item(i).getAttributes().getNamedItem("title").getNodeValue();

                    *//If the title matches the requested text:*
                    if (title.toLowerCase().indexOf( link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchRequest.html[request.getText().toLowerCase()]) != -1) {

                        *//Add the runnable and the title to the response
                        //and return if nothing is added:*
                        if (! link:http://bits.netbeans.org/dev/javadoc/org-netbeans-spi-quicksearch/org/netbeans/spi/quicksearch/SearchResponse.html[response.addResult(new OpenFoundArticle(href), title)]) {
                            return;
                        }

                    }

                }

            }

        } catch (IOException ex) {
            Exceptions.printStackTrace(ex);
        }
    }

    private static class OpenFoundArticle implements Runnable {

        private String article;

        public OpenFoundArticle(String article) {
            this.article = article;
        }

        public void run() {
            try {
                URL url = new URL("http://netbeans.dzone.com" + article);
                StatusDisplayer.getDefault().setStatusText(url.toString());
                URLDisplayer.getDefault().showURL(url);
            } catch (MalformedURLException ex) {
                Logger.getLogger(NBZoneSearchProvider.class.getName()).log(Level.SEVERE, null, ex);
            }
        }

    }

 }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>次のインポート文が宣言されていることを確認します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.netbeans.spi.quicksearch.SearchProvider;
import org.netbeans.spi.quicksearch.SearchRequest;
import org.netbeans.spi.quicksearch.SearchResponse;
import org.openide.awt.HtmlBrowser.URLDisplayer;
import org.openide.awt.StatusDisplayer;
import org.openide.util.Exceptions;
import org.w3c.dom.Document;
import org.w3c.dom.NodeList;
import org.w3c.tidy.Tidy;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_インストールおよび機能の動作確認">インストールおよび機能の動作確認</h2>
<div class="sectionbody">
<div class="paragraph">
<p>次に、モジュールをインストールし、高速検索機能の統合を使用します。IDE は、Ant 構築スクリプトを使用してモジュールを構築およびインストールします。構築スクリプトは、プロジェクトを作成するときに作成されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウでプロジェクトを右クリックし、「実行」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE の新しいインスタンスが開始され、高速検索の統合モジュールがインストールされます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>高速検索機能で文字列を入力し、その文字列が NetBeans Zone のタイトルと一致したら、NetBeans Zone の項目が結果に含まれます。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_deployed-result.png" alt="qsearch deployed result">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>``layer.xml``  で定義したコマンド接頭辞を入力し、そのあとに空白文字を入力すると、関連カテゴリだけが次のように検索されます。</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_command.png" alt="qsearch command">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>項目をクリックすると、IDE でブラウザを設定している場合はそれが開き、選択した項目が表示されます。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_netbeans_プラットフォームでの高速検索機能の使用">NetBeans プラットフォームでの高速検索機能の使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>前の節では、既存アプリケーションのモジュールを作成することが想定されていました。このあとの 2 つのトピックは、モジュールを作成する代わりに、NetBeans プラットフォーム上に独自のアプリケーションを作成する場合に適用されます。</p>
</div>
<div class="sect2">
<h3 id="_netbeans_プラットフォームでの高速検索機能の有効化">NetBeans プラットフォームでの高速検索機能の有効化</h3>
<div class="paragraph">
<p>NetBeans IDE には高速検索機能のサポートがありますが、NetBeans プラットフォームにはありません。デフォルトでは、高速検索機能は表示されません。高速検索機能を有効にするには、次の手順を行います。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>次のタグを  <code>layer.xml</code>  ファイルに追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Toolbars"&gt;
    &lt;folder name="QuickSearch"&gt;
        &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.nbzone.Bundle"/&gt;
        &lt;file name="org-netbeans-modules-quicksearch-QuickSearchAction.shadow"&gt;
            &lt;attr name="originalFile"
            stringvalue="Actions/Edit/org-netbeans-modules-quicksearch-QuickSearchAction.instance"/&gt;
        &lt;/file&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>このキーおよび値のペアを  <code>Bundle.properties</code>  ファイルに追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Toolbars/QuickSearch=Quick Search</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>NetBeans プラットフォームアプリケーションを実行すると、高速検索機能が利用可能で、機能していることがわかるはずです。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_netbeans-platform-qsearch.png" alt="qsearch netbeans platform qsearch">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_netbeans_プラットフォームでのデフォルトの_web_検索プロバイダの有効化">NetBeans プラットフォームでのデフォルトの Web 検索プロバイダの有効化</h3>
<div class="paragraph">
<p>NetBeans ソースでは、デフォルトの Web 検索プロバイダの実装が可能です。このプロバイダは、検索文字列が一致するテキストを Google で検索します。IDE では、 <code>netbeans.org</code>  と、IDE に関連するオンラインドキュメント用の関連サイトを検索するために使用されています。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
残念ながら、Web 検索プロバイダを何度も使用していたので、Google がこの自動検索が利用規約に反しているとし、機能を継続することを拒否しました。そのため、IDE で Web 検索プロバイダは無効になっています。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>前述の制限に同意する場合は、この Web 検索プロバイダをブランディングし、NetBeans プラットフォームアプリケーションで使用できます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>前の節で説明したように、高速検索機能が有効になっていることを確認します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>次のタグを  <code>layer.xml</code>  ファイルに追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Guardian"&gt;
   &lt;file name="org-netbeans-modules-quicksearch-web-WebQuickSearchProviderImpl.instance"/&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>アプリケーションの  <code>branding</code>  フォルダに、次に示すようなフォルダの階層と、スクリーンショットにある  <code>Bundle.properties</code>  ファイルを作成します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>image::images/qsearch_brand-provider.png[]プロバイダのブランディング</p>
</div>
<div class="paragraph">
<p>IDE では前述のプロパティーは次のようにハードコードされていますが、NetBeans プラットフォームでは未定義であるため、前述のようなブランディングが必要です。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">quicksearch.web.site=netbeans.org
quicksearch.web.url_patterns=.*netbeans\.org/kb.*,\
    /.*wiki\.netbeans\.org/.*faq.*,.*wiki\.netbeans\.org/.*howto.*,\
    .*platform\.netbeans\.org/tutorials.*</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>NetBeans プラットフォームアプリケーションを実行すると、デフォルトの Web 高速検索プロバイダが利用可能で、機能していることがわかるはずです。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_clare-wigfall.png" alt="qsearch clare wigfall">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>モジュールが完了したので、ほかの人にそのモジュールを使用させることができます。そのためには、バイナリの「NBM」 (NetBeans モジュール) ファイルを作成し、それを配布する必要があります。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで、 <code>NetBeans Zone Search</code>  プロジェクトを右クリックし、「NBM を作成」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>NBM ファイルが作成されます。これは「ファイル」ウィンドウ (Ctrl-2) で確認できます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qsearch_shareable-binary.png" alt="qsearch shareable binary">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>たとえば、 <a href="http://plugins.netbeans.org/PluginPortal/">NetBeans プラグインポータル</a>を通じて、ほかの人がそのファイルを使用できるようにします。受信者は「プラグインマネージャー」(「ツール」&gt;「プラグイン」) を使用して、それをインストールします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">ご意見をお寄せください</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_次の手順">次の手順</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans モジュールの作成と開発の詳細については、次のリソースを参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/platform/index.html">NetBeans プラットフォームのホームページ</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/index.html">NetBeans API の一覧 (現行の開発バージョン)</a></p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform_ja.html">その他の関連チュートリアル</a></p>
</li>
</ul>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/73/nbm-quick-search_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
