
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans ファイルテンプレートモジュールのチュートリアル</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans ファイルテンプレートモジュールのチュートリアル - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans ファイルテンプレートモジュールのチュートリアル">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>

  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">NetBeans ファイルテンプレートモジュールのチュートリアル</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/60/nbm-filetemplates_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_freemarker_について">FreeMarker について</a></li>
<li><a href="#_モジュールプロジェクトの作成">モジュールプロジェクトの作成</a></li>
<li><a href="#_ファイルテンプレートの作成">ファイルテンプレートの作成</a>
<ul class="sectlevel2">
<li><a href="#_テンプレートファイルの作成">テンプレートファイルの作成</a></li>
<li><a href="#_説明ファイルの作成">説明ファイルの作成</a></li>
<li><a href="#_アイコンの取得">アイコンの取得</a></li>
</ul>
</li>
<li><a href="#_ファイルテンプレートの登録">ファイルテンプレートの登録</a></li>
<li><a href="#_モジュールの構築とインストール">モジュールの構築とインストール</a>
<ul class="sectlevel2">
<li><a href="#_netbeans_モジュールのインストール">NetBeans モジュールのインストール</a></li>
<li><a href="#_netbeans_モジュールの使用">NetBeans モジュールの使用</a></li>
<li><a href="#_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</a></li>
</ul>
</li>
<li><a href="#_追加の変数の提供">追加の変数の提供</a></li>
<li><a href="#_プロジェクトライセンスの供与">プロジェクトライセンスの供与</a></li>
<li><a href="#_次の手順">次の手順</a></li>
<li><a href="#_変更履歴">変更履歴</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>このチュートリアルでは、ファイルテンプレートを含むモジュールの作成方法について学習します。ユーザーが IDE にモジュールをインストールすると、「新規ファイル」ウィザードでファイルテンプレートを使用できるようになります。テンプレートを含むモジュールがあれば、テンプレートの共有が容易になります。IDE でバイナリを作成してほかのユーザーが利用できるようにすると、ほかのユーザーはプラグインマネージャーを通じてそれをインストールできます。</p>
</div>
<div class="paragraph">
<p>ファイルテンプレートは、テンプレートファイル、HTML の説明ファイル、およびアイコンで構成されます。HTML の説明ファイルは、「新規ファイル」ウィザードでテンプレートに関する情報を表示します。アイコンは、テンプレートを識別するもので、「新規ファイル」ウィザードのほかのテンプレートと区別するためのものです。このチュートリアルでは、既存のファイルテンプレートの内容を空のファイルにコピーすることによって新しいファイルテンプレートを作成します。そのあとで、「新規ファイル」ウィザード用の説明ファイルと識別用アイコンを設定したら、テンプレート、HTML の説明ファイル、およびアイコンを NetBeans 構成ファイルに登録します。構成ファイルは、 <code>layer.xml</code>  ファイルです。</p>
</div>
<div class="paragraph">
<p>トラブルシューティングのために、 <a href="http://plugins.netbeans.org/PluginPortal/faces/PluginDetailPage.jsp?pluginid=3755">完了したサンプルをダウンロード</a>してソースを調べることもできます (任意)。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_freemarker_について">FreeMarker について</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans IDE 6.0 以降では、ファイルテンプレートの定義に、任意に  <a href="http://freemarker.org/">FreeMarker</a> テンプレート言語を使用できます。IDE にバンドルされているテンプレートのいくつかは、この方法で定義されています。たとえば、Java クラステンプレートは次のように定義されています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;

&lt;#if package?? &amp;amp;&amp;amp; package != ""&gt;
package ${package};

&lt;/#if&gt;
/**
 *
 * @author ${user}
 */
public class ${name} {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>FreeMarker を使用する利点は、このテンプレートに見られるように、if、elseif、else やループコンストラクトのような_指令_を使用して、テンプレートに_論理_を追加できることです。FreeMarker テンプレート言語についての詳細は、『 <a href="http://freemarker.org/docs/index.html">FreeMarker Manual</a>』、特に「 <a href="http://freemarker.org/docs/dgui_template_directives.html">Directives</a>」の章を参照してください。このチュートリアルでは、特に、ファイルテンプレートに FreeMarker を取り入れるために必要な手順について学習します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールプロジェクトの作成">モジュールプロジェクトの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>はじめに、「新規モジュールプロジェクト」ウィザードで、新規モジュール用にすべて最小要件でソースの構造を作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択します。「カテゴリ」で「NetBeans モジュール」を選択します。「プロジェクト」で「モジュールプロジェクト」を選択し、「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「名前と場所」パネルで、「プロジェクト名」に「 <code>AdditionalFileTemplates</code> 」と入力します。「プロジェクトの場所」を使用コンピュータ上の任意のディレクトリに変更します。「スタンドアロンモジュール」ラジオボタンと「主プロジェクトとして設定」チェックボックスは選択されたままにします。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「基本モジュール構成」パネルで、「コード名ベース」の  <code>yourorghere</code>  を  <code>myorg</code>  に置き換え、コード名ベース全体を  <code>org.myorg.additionalfiletemplates</code>  にします。デフォルトのモジュール表示名に空白文字を追加し、 <code>Additional File Templates</code>  に変更します。「ローカライズ版バンドル」と「XML レイヤー」の場所はそのままにしておきます。これらは  <code>org/myorg/additionalfiletemplates</code>  という名前のパッケージに格納されます。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>IDE によって  <code>Additional File Templates</code>  プロジェクトが作成されます。このプロジェクトには、ソースや、プロジェクトの Ant 構築スクリプトなどのプロジェクトメタデータがすべて含まれます。IDE でプロジェクトが開きます。「プロジェクト」ウィンドウ (Ctrl-1) で、プロジェクトの論理構造を表示できます。また、「ファイル」ウィンドウ (Ctrl-2) で、プロジェクトのファイル構造を表示できます。たとえば、「プロジェクト」ウィンドウは次のように表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_initial-projects-window-60.png" alt="filetemplates initial projects window 60">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ファイルテンプレートの作成">ファイルテンプレートの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ファイルテンプレートは、テンプレートファイル、HTML の説明ファイル、およびアイコンで構成されます。新しくファイルテンプレートを作成する簡単な方法は、既存のファイルテンプレートの内容を空のファイルにコピーする方法です。そのあと「新規ファイル」ウィザードの説明ファイルおよび識別用アイコンを設定したら、 <code>layer.xml</code>  ファイルにテンプレートを登録する準備ができます。</p>
</div>
<div class="sect2">
<h3 id="_テンプレートファイルの作成">テンプレートファイルの作成</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><code>Additional File Templates</code>  ノードを右クリックし、「新規」&gt;「その他」を選択します。「新規ファイル」ウィザードの「カテゴリ」で「その他」を、「ファイルの種類」で「HTML」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「ファイル名」に「 <code>Description</code> 」と入力します。「参照」をクリックし、 <code>src/org/myorg/additionalfiletemplates</code>  を参照します。「フォルダを選択」をクリックします。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ソースエディタに  <code>HTML.html</code>  という新しい HTML ファイルが開きます。このファイルには、次に示すような標準的な HTML ファイルの内容が含まれています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>必要に応じて HTML ファイルに変更を加えます。必要な場合は、次の事前定義された変数を追加できます。</p>
<div class="ulist">
<ul>
<li>
<p>${date} は現在の日付を挿入します。形式は、「Feb 16, 2008」のようになります。</p>
</li>
<li>
<p>${encoding} は UTF-8 のようなデフォルトのエンコーディングを挿入します。</p>
</li>
<li>
<p>${name} はファイルの名前を挿入します。</p>
</li>
<li>
<p>${nameAndExt} はファイルの名前を拡張子付きで挿入します。</p>
</li>
<li>
<p>${package} はファイルが作成されたパッケージの名前を挿入します。</p>
</li>
<li>
<p>${time} は現在の時刻を挿入します。形式は、「7:37:58 PM」のようになります。</p>
</li>
<li>
<p>${user} はユーザー名を挿入します。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
ユーザーは「ツール」メニューの「テンプレートマネージャー」で、これらの変数の値を設定できるようになります。ユーザーは、最後の「ユーザー構成プロパティー」までスクロールします。そのノードの中にある  <code>user.properties</code>  ファイルに、前述の値を設定すると、システムが提供する値に対してオーバーライドできます。ただし、前述の変数のデフォルト値はうまく機能するため、一般的にはそのようにすることはありません。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>事前定義の変数のほかに、モジュールを使用して、ユーザーに追加の変数を提供することができます。これについては、このチュートリアルのあとのほうで説明します。次に示すのは FreeMarker 指令の全リストですが、これらもテンプレートに論理を追加するために使用できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>#assign</p>
</li>
<li>
<p>#else</p>
</li>
<li>
<p>#elseif</p>
</li>
<li>
<p>#end</p>
</li>
<li>
<p>#foreach</p>
</li>
<li>
<p>#if</p>
</li>
<li>
<p>#include</p>
</li>
<li>
<p>#list</p>
</li>
<li>
<p>#macro</p>
</li>
<li>
<p>#parse</p>
</li>
<li>
<p>#set</p>
</li>
<li>
<p>#stop</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>一例として、Java クラステンプレートの定義を次に示します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;

&lt;#if package?? &amp;amp;&amp;amp; package != ""&gt;
package ${package};

&lt;/#if&gt;
/**
 *
 * @author ${user}
 */
public class ${name} {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>#assign 指令についての詳細は、「<a href="#license">プロジェクトライセンスの供与</a>」を参照してください。FreeMarker テンプレート言語についての詳細は、『 <a href="http://freemarker.org/docs/index.html">FreeMarker Manual</a>』、特に「 <a href="http://freemarker.org/docs/dgui_template_directives.html">Directives</a>」の章を参照してください。</p>
</div>
</div>
<div class="sect2">
<h3 id="_説明ファイルの作成">説明ファイルの作成</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><code>org.myorg.additionalfiletemplates</code>  ノードを右クリックし、「新規」&gt;「その他」を選択します。「カテゴリ」で「その他」を選択します。「ファイルの種類」で「HTML ファイル」を選択します。「次へ」をクリックします。「ファイル名」に「 <code>HTML</code> 」と入力します。「参照」をクリックし、 <code>src/org/myorg/additionalfiletemplates</code>  を参照します。「フォルダを選択」をクリックします。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ソースエディタに空の HTML ファイルが開き、「プロジェクト」ウィンドウにそのノードが表示されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>次のように  <code>&lt;body&gt;</code>  タグの間に「 <code>Creates new HTML file</code> 」と入力します</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      Creates new HTML file.
   &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_アイコンの取得">アイコンの取得</h3>
<div class="paragraph">
<p>アイコンは、「新規ファイル」ウィザードでファイルテンプレートと同時に表示されます。ファイルテンプレートを識別し、ほかのファイルテンプレートと区別します。アイコンの大きさは、16×16 ピクセルにします。</p>
</div>
<div class="paragraph">
<p>アイコンに  <code>icon.png</code>  と名前を付け、 <code>org.myorg.additionalfiletemplates</code>  パッケージに追加します。</p>
</div>
<div class="paragraph">
<p>「プロジェクト」ウィンドウは次のようになります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_final-projects-window-60.png" alt="filetemplates final projects window 60">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ファイルテンプレートの登録">ファイルテンプレートの登録</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ファイルテンプレートを作成したら、NetBeans システムのファイルシステムに登録してください。 <code>layer.xml</code>  ファイルはこの目的のために作成されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><code>layer.xml</code>  ファイルの  <code>&lt;filesystem&gt;</code>  タグの間に、次のエントリを追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Templates"&gt;

        &lt;folder name="Other"&gt;

            &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myorg.additionalfiletemplates.Bundle"/&gt;
            &lt;file name="MyHTML.html" url="HTML.html"&gt;
                &lt;attr name="template" boolvalue="true"/&gt;
                &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myorg.additionalfiletemplates.Bundle"/&gt;
                &lt;attr name="SystemFileSystem.icon" urlvalue="nbresloc:/org/myorg/additionalfiletemplates/icon.png"/&gt;
                &lt;attr name="templateWizardURL" urlvalue="nbresloc:/org/myorg/additionalfiletemplates/Description.html"/&gt;
                *&lt;!--FreeMarker テンプレート言語を利用する場合のみこの行を使用:--&gt;*
                &lt;attr name="javax.script.ScriptEngine" stringvalue="freemarker"/&gt;
            &lt;/file&gt;

        &lt;/folder&gt;

&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><code>Bundle.properties</code>  ファイルに表示名を追加します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Templates/Other/MyHTML.html=My HTML File</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_モジュールの構築とインストール">モジュールの構築とインストール</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IDE は、Ant 構築スクリプトを使用してモジュールを構築およびインストールします。構築スクリプトは、モジュールプロジェクトを作成するときに作成されます。</p>
</div>
<div class="sect2">
<h3 id="_netbeans_モジュールのインストール">NetBeans モジュールのインストール</h3>
<div class="paragraph">
<p>「プロジェクト」ウィンドウで、 <code>Additional File Templates</code>  プロジェクトを右クリックし、「ターゲットプラットフォームでのインストール/再読み込み」を選択します。</p>
</div>
<div class="paragraph">
<p>モジュールが構築され、ターゲットの IDE またはプラットフォームにインストールされます。ターゲットの IDE またはプラットフォームが開き、新しいモジュールを使ってみることができます。デフォルトのターゲット IDE またはプラットフォームは、開発用の IDE の現在のインスタンスが使用しているインストールです。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
モジュールを実行するときには、開発用の IDE のユーザーディレクトリではなく、テスト用の一時的なユーザーディレクトリを使用します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_netbeans_モジュールの使用">NetBeans モジュールの使用</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択し、新しいプロジェクトを作成します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>プロジェクトを右クリックし、「新規」&gt;「その他」を選択します。「新規ファイル」ウィザードが開き、新しいファイルの種類が表示された新しいカテゴリが表示されます。アイコンが異なる可能性がありますが、画面は次のようなものです。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_new-file-wizard-60.png" alt="filetemplates new file wizard 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>新しいファイルの種類を選択して「次へ」をクリックし、新規ファイルを作成します。「完了」をクリックすると、ソースエディタに新しく作成されたテンプレートが表示されます。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_共有可能なモジュールバイナリの作成">共有可能なモジュールバイナリの作成</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで、 <code>Additional File Templates</code>  プロジェクトを右クリックし、「NBM を作成」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>NBM ファイルが作成されます。これは「ファイル」ウィンドウ (Ctrl-2) で確認できます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_shareable-nbm-60.png" alt="filetemplates shareable nbm 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>これを、たとえば電子メールなどを通じて、ほかで使用できるようにします。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_追加の変数の提供">追加の変数の提供</h2>
<div class="sectionbody">
<div class="paragraph">
<p>前に説明したように、${user} や ${time} のような事前定義された変数を、独自に追加できます。たとえば、渡す変数を名前のリストで指定する場合は、テンプレートを次のように定義できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

        &lt;#list names as oneName&gt;
            &lt;b&amp;amp;gt${oneName}&lt;/b&amp;amp;gt
        &lt;/#list&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>先に示した FreeMarker の #list 指令では、「names」と呼ばれる変数を通じて逐次代入します。それぞれのインスタンスは「oneName」と呼ばれます。代入されたそれぞれの値は、ファイルに出力され、bold タグで囲まれます。「names」の値はさまざまな場所から代入されることが考えられますが、一般的にはウィザードパネルからです。この場合ユーザーは、リストから名前のセットを選択します。</p>
</div>
<div class="paragraph">
<p>この新しい変数を通じて行う逐次代入を可能にするには、『 <a href="http://netbeans.dzone.com/news/freemarker-netbeans-ide-60-first-scenario">FreeMarker in NetBeans IDE 6.0: First Scenario</a>』を参照し、そのあとで <a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide1">このブログのエントリ</a>の  <code>DataObject.createFromTemplate(df, targetName, hashMap)</code>  に関する記述を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_プロジェクトライセンスの供与">プロジェクトライセンスの供与</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FreeMarker の #assign 指令に関連することで、まだここでは触れていないことがあります。これは、ファイルが作成されたときに、ユーザーがプロジェクトライセンスを生成することを可能にする場合のみ関係があります。ユーザーのライセンスへのニーズを満たすために、ファイルテンプレートにライセンスに関する指令を提供できます。こうすると、ユーザーのプロジェクト内に作成されるすべてのファイルは、提供したライセンスに関する指令を含むことになります。</p>
</div>
<div class="paragraph">
<p>これを行うには、次の手順を実行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ツール」メニューに移動します。「テンプレート」を選択します。エディタで、Java の Java クラステンプレートを開きます。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="http://blogs.oracle.com/geertjan/resource/freemarker-in-nb-2.png" alt="freemarker in nb 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>前に示したテンプレート、および FreeMaker で定義することについては前に説明しました。しかしここでは、次に示す最初の 4 行に特に注目します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>これらの 4 行には_ライセンス_に関することが含まれています。最後の行では、プロジェクトごとに、使用するライセンスが決められています。最初の 3 行には、ライセンスの各行の前後の文字が決められています。この 4 行は、Java ソースファイル用のものです。次に示すのは、プロパティーファイルのテンプレートの最初にある、同様の定義です。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#assign licensePrefix = "# "&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>最初の行は、ライセンスの各行が、「<strong>」ではなく「#」が接頭辞として使用されることを示しています。「</strong>」は、Java ソースファイル用の接頭辞です (最初の行が「/<strong>」で最後の行が「</strong>/」)。これを確認するために Java ソースファイルを作成してからプロパティーファイルを作成します。いずれの場合もライセンスが表示されます。ただし、さきほどの定義のため、各行の接頭辞の文字と接尾辞の文字が異なっています。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>次に、ライセンスそのものを見てみましょう。先ほど示したテンプレートの次の行を見ます。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>特に次の部分に注目します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">${project.license}</code></pre>
</div>
</div>
<div class="paragraph">
<p>アプリケーションの  <code>nbproject/project.properties</code>  ファイルに、キーとしてそれを置きます。値を追加してみましょう。例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">project.license=apache</code></pre>
</div>
</div>
<div class="paragraph">
<p>テンプレートマネージャーの「ライセンス」フォルダをふたたび参照します。そこにはいくつかのテンプレートがあります。ここで、新たに  <code>license-apache.txt</code>  という名前のテンプレートを作成します。今のところは、既存のテンプレートをコピーし、テンプレートマネージャーの同じカテゴリにペーストするだけです。次に、この行を含む FreeMarker テンプレートで定義されるファイルを作成します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>新たに作成されたファイルには、指定したライセンスが組み込まれます。</p>
</div>
<div class="paragraph">
<p>簡単に言うと、NetBeans IDE 6.0 では、プロジェクトごとに、各ファイルに表示されるべきライセンスを定義します。さらに、別のライセンスを使用して新しいプロジェクトを作成する必要がある場合を考えてみます。テンプレートマネージャーに新しくライセンスを定義することは、 <code>nbproject/project.properties</code>  ファイルに、キーと値のペアを 1 つ追加するのと同じように簡単です。これは以前は不可能でしたが、NetBeans IDE 6.0 への FreeMarker のサポートによって可能になりました。ライセンスに関する参考情報については、 <a href="http://blogs.oracle.com/geertjan/date/20071126">このブログのエントリ</a>を参照してください。特に記事のあとにあるコメントも参考になります。</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">ご意見をお寄せください</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_次の手順">次の手順</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NetBeans モジュールの作成と開発の詳細については、次のリソースを参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform.html">その他の関連チュートリアル</a></p>
</li>
<li>
<p><a href="https://bits.netbeans.org/dev/javadoc/">NetBeans API Javadoc</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_変更履歴">変更履歴</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>バージョン</strong></th>
<th class="tableblock halign-left valign-top"><strong>年月日</strong></th>
<th class="tableblock halign-left valign-top"><strong>変更内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2005 年 6 月 26 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">最初のバージョン</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2005 年 6 月 28 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 記述子ファイルに bold タグを付け加え、「説明」ボックスに HTML タグが表示されることを示すよう変更
* 順序の属性を追加
* 表示名を Bundle.properties に変更
* 「NetBeans プラグインの使用」のスクリーンショットを変更
*  <code>layer.xml</code>  が BrandedJavaClass.template と呼ばれるファイルを検索するため、BrandedJavaClass ファイルに拡張子「.template」を追加。また、この拡張子「.template」の変更を反映するために、「ファイルテンプレートの作成」の項の最後にある「プロジェクト」ウィンドウのスクリーンショットを変更。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2005 年 10 月 2 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 最新のビルドに合わせて全体を変更。主にテンプレート用の「オプション」ウィンドウを「テンプレート」に置き換えに関して複数個所を変更。
* 冒頭部分に 2 番目と 3 番目の段落を新たに追加し、新しいファイルの種類を作成している場合は、このチュートリアルは必須でないことを説明。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2005 年 10 月 3 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* layer.xml の templateWizard[Iterator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL] は廃止予定となったため、例示を [Iterator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WizardURL] に変更。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2006 年 3 月 16 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 全体的に見直したが、特に問題はなく行間を多少修正。
* アイコンが若干異なるためスクリーンショットの置き換えが必要。
* アイコンを追加する必要あり。
* 「新規ファイル」ウィザードで同時に複数のテンプレートを作成する方法について説明する必要あり。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2006 年 9 月 12 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* NetBeans IDE 5.5 Beta 2 でチュートリアルの内容を確認。
* 記述どおりに動作することを確認。
* スクリーンショットの一部を更新。
* コードのインデントを修正。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2007 年 6 月 9 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NetBeans 6 に更新を開始。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2008 年 2 月 16 日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide1">このブログのエントリ</a>、 <a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide2">このブログのエントリ</a>、 <a href="http://blogs.oracle.com/geertjan/date/20071126">このブログのエントリ</a>、および <a href="http://netbeans.dzone.com/news/freemarker-netbeans-ide-60-first-scenario">この記事</a>からの情報の移行を開始。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
</tr>
</tbody>
</table>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/60/nbm-filetemplates_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
