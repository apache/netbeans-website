
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Руководство по созданию модулей шаблонов файлов на платформе NetBeans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Руководство по созданию модулей шаблонов файлов на платформе NetBeans - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Руководство по созданию модулей шаблонов файлов на платформе NetBeans">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 15</h1>
            <p><a class="button success" href="/download/nb15/">Download</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Руководство по созданию модулей шаблонов файлов на платформе NetBeans</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/60/nbm-filetemplates_ru.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_введение_в_freemarker">Введение в FreeMarker</a></li>
<li><a href="#_создание_проекта_модуля">Создание проекта модуля</a></li>
<li><a href="#_создание_шаблона_файла">Создание шаблона файла</a>
<ul class="sectlevel2">
<li><a href="#_создание_файла_шаблона">Создание файла шаблона</a></li>
<li><a href="#_создание_файла_описания">Создание файла описания</a></li>
<li><a href="#_получение_значка">Получение значка</a></li>
</ul>
</li>
<li><a href="#_регистрация_шаблона_файла">Регистрация шаблона файла</a></li>
<li><a href="#_сборка_и_установка_модуля">Сборка и установка модуля</a>
<ul class="sectlevel2">
<li><a href="#_установка_модуля_netbeans">Установка модуля NetBeans</a></li>
<li><a href="#_работа_с_модулем_netbeans">Работа с модулем NetBeans</a></li>
<li><a href="#_создание_совместно_используемого_двоичного_модуля">Создание совместно используемого двоичного модуля</a></li>
</ul>
</li>
<li><a href="#_предоставление_дополнительных_переменных">Предоставление дополнительных переменных</a></li>
<li><a href="#_предоставление_лицензии_на_работу_с_проектом">Предоставление лицензии на работу с проектом</a></li>
<li><a href="#_что_дальше">Что дальше?</a></li>
<li><a href="#_версии">Версии</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>В этом руководстве демонстрируется создание модуля, содержащего шаблоны файлов. После установки этого модуля в среде IDE в мастере создания файла будут доступны шаблоны файлов. Наличие модуля, содержащего шаблоны файлов, упрощает их совместное использование: среда IDE позволяет создать двоичный файл, который будет доступен другим пользователям посредством его установки с помощью диспетчера подключаемых модулей.</p>
</div>
<div class="paragraph">
<p>Шаблон файла состоит из файла шаблона, файла описания в формате HTML и значка. Файл описания в формате HTML используется для вывода информации о шаблоне в мастере создания файла. Значок идентифицирует шаблон и отличает его от других шаблонов в мастере создания файла. В этом руководстве рассматривается создание нового шаблона файла путем копирования содержимого существующего шаблона файла в пустой файл. Затем после настройки файла описания для мастера создания файла и отличительного значка необходимо зарегистрировать шаблон, файл описания в формате HTML и значок в файле настройки NetBeans, т.е. в файле  <code>layer.xml</code> .</p>
</div>
<div class="paragraph">
<p>Дополнительно, в целях поиска и устранения ошибок, можно  <a href="http://plugins.netbeans.org/PluginPortal/faces/PluginDetailPage.jsp?pluginid=3755">загрузить готовые примеры</a> и изучить исходный код.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_введение_в_freemarker">Введение в FreeMarker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Начиная с версии среды IDE NetBeans 6.0, для определения шаблонов файлов можно дополнительно использовать язык шаблонов  <a href="http://freemarker.org/">FreeMarker</a>. Так определяются некоторые шаблоны, связанные со средой IDE. Например, шаблон класса Java определен следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;

&lt;#if package?? &amp;amp;&amp;amp; package != ""&gt;
package ${package};

&lt;/#if&gt;
/**
 *
 * @author ${user}
 */
public class ${name} {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>В приведенном выше шаблоне можно увидеть преимущество использования FreeMarker, который позволяет добавить к шаблонам <em>логику</em> с помощью таких <em>директив</em>, как if/elseif/else, и операторов цикла. Для ознакомления с полным описанием языка шаблонов FreeMarker см. документ  <a href="http://freemarker.org/docs/index.html">FreeMarker Manual</a>, в частности, главу  <a href="http://freemarker.org/docs/dgui_template_directives.html">Directives</a>. В этом руководстве, среди прочего, описаны действия, которые необходимо выполнить для включения языка FreeMarker в шаблоны файлов.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_создание_проекта_модуля">Создание проекта модуля</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сначала выполните все действия в мастере создания проекта модуля, в результате чего для нового модуля будет создана структура исходных файлов со всеми минимальными требованиями.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Выберите <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">New Project</b></span> (Ctrl-Shift-N). В области "Categories" выберите "NetBeans Modules". В области "Projects" выберите "Module Project" и нажмите кнопку "Next".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>На экране "Name and Location" введите  <code>AdditionalFileTemplates</code>  в поле "Project Name". В поле "Project Location" укажите любой каталог на компьютере. Установите переключатель "Standalone Module" и флажок "Set as Main Project". Нажмите кнопку "Next".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>На экране "Basic Module Configuration" замените  <code>yourorghere</code>  в поле "Code Name Base" на  <code>myorg</code> ; чтобы основа названия кода выглядела как  <code>org.myorg.additionalfiletemplates</code> . Добавьте пробелы к значению поля "Module Display Name" по умолчанию; имя должно измениться на  <code>Additional File Templates</code> . Не изменяйте местоположение пакета локализации и файла layer.xml для их сохранения в пакете с именем  <code>org/myorg/additionalfiletemplates</code> . Нажмите кнопку "Finish".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Средой IDE будет создан проект  <code>Additional File Templates</code> . Проект содержит все исходные файлы и метаданные проекта, например, сценарий сборки Ant. Проект открывается в среде IDE. Логическую структуру проекта можно просмотреть в окне "Projects" (Ctrl-1), а структуру файлов – в окне "Files" (Ctrl-2). Например, окно "Projects" теперь должно выглядеть следующим образом:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_initial-projects-window-60.png" alt="filetemplates initial projects window 60">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_создание_шаблона_файла">Создание шаблона файла</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Шаблон файла состоит из файла шаблона, файла описания в формате HTML и значка. Простой способ создания нового шаблона файла состоит в копировании содержимого существующего шаблона файла в пустой файл. Затем после настройки файла описания для мастера создания файла и отличительного значка необходимо зарегистрировать шаблон в файле  <code>layer.xml</code> .</p>
</div>
<div class="sect2">
<h3 id="_создание_файла_шаблона">Создание файла шаблона</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Щелкните правой кнопкой мыши узел  <code>Additional File Templates</code>  и выберите "New &gt; Other". В мастере создания файла в области "Categories" выберите "Other" и в области "File Types" выберите "HTML". Нажмите кнопку "Next".</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Введите  <code>Description</code>  в "File Name". Нажмите кнопку "Browse" и перейдите к  <code>src/org/myorg/additionalfiletemplates</code> . Нажмите кнопку "Select Folder". Нажмите кнопку "Finish".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В редакторе исходного кода откроется новый файл HTML с именем  <code>HTML.html</code> , содержащий стандартную структуру файла HTML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Измените файл HTML в соответствии с требованиями. При необходимости можно добавить следующие предварительно определенные переменные:</p>
<div class="ulist">
<ul>
<li>
<p>${date} вставляет текущую дату в следующем формате: Feb 16, 2008.</p>
</li>
<li>
<p>${encoding} вставляет кодировку по умолчанию, например: UTF-8.</p>
</li>
<li>
<p>${name} вставляет имя файла.</p>
</li>
<li>
<p>${nameAndExt} вставляет имя файла вместе с расширением.</p>
</li>
<li>
<p>${package} вставляет имя пакета, в котором был создан файл.</p>
</li>
<li>
<p>${time} вставляет текущее время в следующем формате: 7:37:58 PM.</p>
</li>
<li>
<p>${user} вставляет имя пользователя.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Значения этих переменных можно установить в окне Template Manager, которое можно вызвать из меню "Tools". Выполните прокрутку вниз до пункта "User Configuration Properties". Файл  <code>user.properties</code>  в этом узле можно использовать для установки перечисленных выше значений с целью замены значений, предоставляемых системой. Однако обычно это не требуется, так как для работы достаточно стандартных значений указанных переменных.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Кроме предварительно определенных переменных, пользователям через модуль могут быть предоставлены дополнительные переменные. Это вопрос рассматривается далее в данном руководстве. Для добавления логики к шаблону можно также использовать полный список директив FreeMarker:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>#assign</p>
</li>
<li>
<p>#else</p>
</li>
<li>
<p>#elseif</p>
</li>
<li>
<p>#end</p>
</li>
<li>
<p>#foreach</p>
</li>
<li>
<p>#if</p>
</li>
<li>
<p>#include</p>
</li>
<li>
<p>#list</p>
</li>
<li>
<p>#macro</p>
</li>
<li>
<p>#parse</p>
</li>
<li>
<p>#set</p>
</li>
<li>
<p>#stop</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В качестве примера рассмотрим определение шаблона класса Java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;

&lt;#if package?? &amp;amp;&amp;amp; package != ""&gt;
package ${package};

&lt;/#if&gt;
/**
 *
 * @author ${user}
 */
public class ${name} {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для получения сведений о директиве #assign см. <a href="#license">Предоставление лицензии на работу с проектом</a>. Для ознакомления с полным описанием языка шаблонов FreeMarker см. документ  <a href="http://freemarker.org/docs/index.html">FreeMarker Manual</a>, в частности, главу  <a href="http://freemarker.org/docs/dgui_template_directives.html">Directives</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_создание_файла_описания">Создание файла описания</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Щелкните правой кнопкой мыши узел  <code>org.myorg.additionalfiletemplates</code>  и выберите "New &gt; Other". В области "Categories" выберите "Other". В области "File Types" выберите "HTML File". Нажмите кнопку "Next". Введите  <code>HTML</code>  в "File Name". Нажмите кнопку "Browse" и перейдите к  <code>src/org/myorg/additionalfiletemplates</code> . Нажмите кнопку "Select Folder". Нажмите кнопку "Finish".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В редакторе исходного кода откроется пустой файл HTML, и его узел появится в окне "Projects".</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Введите " <code>Creates new HTML file</code> " (без кавычек) между тегами  <code>&lt;body&gt;</code> . Файл должен выглядеть следующим образом:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      Creates new HTML file.
   &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_получение_значка">Получение значка</h3>
<div class="paragraph">
<p>В мастере создания файла шаблон файла сопровождается значком. Он идентифицирует шаблон и отличает его от других шаблонов файлов. Размер значка должен быть 16×16 пикселей.</p>
</div>
<div class="paragraph">
<p>Присвойте значку имя  <code>icon.png</code>  и добавьте его к пакету  <code>org.myorg.additionalfiletemplates</code> .</p>
</div>
<div class="paragraph">
<p>Окно "Projects" теперь должно выглядеть следующим образом:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_final-projects-window-60.png" alt="filetemplates final projects window 60">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_регистрация_шаблона_файла">Регистрация шаблона файла</h2>
<div class="sectionbody">
<div class="paragraph">
<p>После создания шаблона файла его следует зарегистрировать в файловой системе среды NetBeans. С этой целью создается файл  <code>layer.xml</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Добавьте следующие строки между тегами  <code>&lt;filesystem&gt;</code>  в файле  <code>layer.xml</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Templates"&gt;

        &lt;folder name="Other"&gt;

            &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myorg.additionalfiletemplates.Bundle"/&gt;
            &lt;file name="MyHTML.html" url="HTML.html"&gt;
                &lt;attr name="template" boolvalue="true"/&gt;
                &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myorg.additionalfiletemplates.Bundle"/&gt;
                &lt;attr name="SystemFileSystem.icon" urlvalue="nbresloc:/org/myorg/additionalfiletemplates/icon.png"/&gt;
                &lt;attr name="templateWizardURL" urlvalue="nbresloc:/org/myorg/additionalfiletemplates/Description.html"/&gt;
                *&lt;!--Эту строку следует использовать только в том случае, если в шаблоне используется язык шаблонов FreeMarker:--&gt;*
                &lt;attr name="javax.script.ScriptEngine" stringvalue="freemarker"/&gt;
            &lt;/file&gt;

        &lt;/folder&gt;

&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Добавьте отображаемое имя к файлу  <code>Bundle.properties</code> :</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">Templates/Other/MyHTML.html=My HTML File</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_сборка_и_установка_модуля">Сборка и установка модуля</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для сборки и установки модуля в среде IDE используется сценарий сборки Ant. Сценарий сборки создается автоматически при создании проекта модуля.</p>
</div>
<div class="sect2">
<h3 id="_установка_модуля_netbeans">Установка модуля NetBeans</h3>
<div class="paragraph">
<p>В окне "Projects" щелкните правой кнопкой мыши проект  <code>Additional File Templates</code>  и выберите "Install/Reload" в поле "Target Platform".</p>
</div>
<div class="paragraph">
<p>Модуль компонуется и устанавливается в целевой среде IDE или платформе. После открытия целевой среды IDE или платформы новый модуль можно протестировать. По умолчанию целевая среда IDE или платформа представляют собой систему, используемую текущим экземпляром среды разработки IDE.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
При запуске модуля используется временный каталог тестового пользователя, а не каталог пользователя среды разработки IDE.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_работа_с_модулем_netbeans">Работа с модулем NetBeans</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Выберите <span class="menuseq"><b class="menu">File</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">New Project</b></span> (Ctrl-Shift-N) и создайте новый проект.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Щелкните правой кнопкой мыши проект и выберите <span class="menuseq"><b class="menu">New</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Other</b></span>. В открывшемся мастере создания файла отобразится новая категория с новым типом файла. Экран должен выглядеть примерно следующим образом (значок может быть другим):</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_new-file-wizard-60.png" alt="filetemplates new file wizard 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Выберите новый тип файла, нажмите кнопку "Next" и создайте новый файл. При нажатии кнопки "Finish" только что созданный шаблон должен появиться в редакторе исходного кода.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_создание_совместно_используемого_двоичного_модуля">Создание совместно используемого двоичного модуля</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>В окне "Projects" щелкните правой кнопкой мыши проект  <code>Additional File Templates</code>  и выберите "Create NBM".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Будет создан файл NBM, который можно просмотреть в окне "Files" (Ctrl-2):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/filetemplates_shareable-nbm-60.png" alt="filetemplates shareable nbm 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Этот файл можно распространить среди коллег, например, по электронной почте.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_предоставление_дополнительных_переменных">Предоставление дополнительных переменных</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Как было указано ранее, предварительно определенные переменные, такие как ${user} и ${time}, можно дополнить собственными переменными. Например, для передачи переменной, соответствующей списку имен, шаблон можно определить следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

        &lt;#list names as oneName&gt;
            &lt;b&amp;amp;gt${oneName}&lt;/b&amp;amp;gt
        &lt;/#list&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Приведенная выше директива #list языка FreeMarker выполняет итерации с помощью переменной "names" с каждым экземпляром, называемым "oneName". Каждое значение итерации выводится в файл между тегами выделения полужирным. Значение "names" может поступать из различных мест; как правило, это экран мастера, где пользователь, в данном случае, должен был выбрать ряд имен из списка.</p>
</div>
<div class="paragraph">
<p>Для реализации такой процедуры, т.е. выполнения итераций с помощью новой переменной, см. описание в документе  <a href="http://netbeans.dzone.com/news/freemarker-netbeans-ide-60-first-scenario">FreeMarker in NetBeans IDE 6.0: First Scenario</a>, а также обсуждение  <code>DataObject.createFromTemplate(df, targetName, hashMap)</code>  в  <a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide1">этом сообщении блога</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_предоставление_лицензии_на_работу_с_проектом">Предоставление лицензии на работу с проектом</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Еще один не рассмотренный ранее вопрос относится к директиве #assign языка FreeMarker, применение которой уместно в случае, если пользователю разрешено при создании файла создавать лицензию на работу с проектом. Для отражения требований пользователя по лицензированию можно добавить в шаблон файла директивы лицензирования. После этого все файлы в проекте пользователя будут создаваться с этими директивами лицензирования.</p>
</div>
<div class="paragraph">
<p>Для этого выполните следующие действия:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Перейдите в меню "Tools". Выберите "Templates". Откройте в редакторе шаблон "Java | Java Class":</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="http://blogs.oracle.com/geertjan/resource/freemarker-in-nb-2.png" alt="freemarker in nb 2">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Указанный выше шаблон и способы его определения при помощи FreeMarker были описаны ранее. Тем не менее, рассмотрим подробно первые четыре строки:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#assign licenseFirst = "/*"&gt;
&lt;#assign licensePrefix = " * "&gt;
&lt;#assign licenseLast = " */"&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эти четыре строки имеют отношение к <em>лицензированию</em>. Последняя строка определяет лицензию, которая будет использоваться для каждого проекта. Первые три строки определяют символы перед каждой строкой в лицензии и после нее. Выше приведены четыре строки для исходных файлов Java. Этот же набор определений можно найти в начале шаблона файла "Properties":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#assign licensePrefix = "# "&gt;
&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В первой строке сообщается, что каждой строке лицензии будут предшествовать символы "#" вместо символа "<strong>", который является префиксом для исходных файлов Java ("/</strong>" – для первой строки и "*/" – для последней). Для проверки создайте исходный файл Java, а затем файл "Properties". В обоих случаях появится лицензия. Однако символы, предшествующие каждой строке и завершающие ее, будут разными из-за указанных выше определений.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Теперь рассмотрим непосредственно лицензию. Найдите следующую строку в приведенных выше шаблонах:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обратите внимание на эту часть:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">${project.license}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Поместите этот фрагмент в качестве ключа в файл приложения  <code>nbproject/project.properties</code> . Теперь добавьте значение. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">project.license=apache</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем снова откройте окно Template Manager в папке "Licenses". На экране появится несколько шаблонов. Создайте новый шаблон с именем " <code>license-apache.txt</code> ". Теперь можно просто скопировать существующий шаблон и вставить его в ту же самую категорию в Template Manager. В следующий раз при создании файла, который определен шаблоном FreeMarker, содержащим строку:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">&lt;#include "../Licenses/license-${project.license}.txt"&gt;</code></pre>
</div>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>в только что созданный файл будет вложена указанная лицензия.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Таким образом, среда IDE NetBeans 6.0 позволяет пользователю определять для каждого проекта лицензию, которая должна отображаться в каждом соответствующем файле. Кроме того, представим, что пользователю необходимо создать новый проект с другой лицензией. При условии, что у пользователя в окне Template Manager есть ряд лицензий, использовать новую лицензию столь же просто, как добавить к файлу  <code>nbproject/project.properties</code>  пару "ключ-значение". Невозможное стало возможным благодаря поддержке языка FreeMarker в среде IDE NetBeans 6.0. Для получения дополнительных сведений о лицензировании, особенно о комментариях в конце лицензии, см.  <a href="http://blogs.oracle.com/geertjan/date/20071126">это сообщение в блоге</a>.</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Мы ждем ваших отзывов</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_дальше">Что дальше?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Для получения дополнительной информации о создании и разработке модуля NetBeans см. следующие материалы:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform.html">Другие связанные руководства</a></p>
</li>
<li>
<p><a href="https://bits.netbeans.org/dev/javadoc/">Документация Javadoc по интерфейсам API в среде NetBeans</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_версии">Версии</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Версия</strong></th>
<th class="tableblock halign-left valign-top"><strong>Дата</strong></th>
<th class="tableblock halign-left valign-top"><strong>Изменения</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26 июня 2005 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Начальная версия</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28 июня 2005 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* К файлу описаний добавлены теги выделения полужирным для отображения в диалоговом окне "Description" тегов HTML.
* Добавлены атрибуты упорядочивания.
* Отображаемые имена перемещены в "Bundle.properties".
* Изменен снимок экрана в разделе "Работа с подключаемым модулем NetBeans".
* В качестве расширения имени файла к файлу "BrandedJavaClass" добавлен ".template", так как  <code>layer.xml</code>  осуществляет поиск файла с именем "BrandedJavaClass.template". Также изменен снимок экрана окна "Projects" в конце раздела "Создание шаблона файла" для отражения расширения имени файла ".template".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 октября 2005 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Все руководство пересмотрено в соответствии с последней версией среды. Внесено несколько изменений, главным образом потому, что шаблоны заменили собой окно "Options" для шаблонов.
* К введению добавлены новые 2-ой и 3-ий параграфы, поясняющие, что при создании нового типа файла необходимость в данном руководстве отсутствует.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 октября 2005 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* templateWizard [Iterator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL] в layer.xml заменен на instantiating[Iterator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WizardURL], так как templateWizard[Iterator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL] устарел.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 марта 2006 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Все руководство пересмотрено; немного скорректирован междустрочный интервал, все функционирует по-прежнему.
* Необходимо заменить снимки экрана из-за отличающихся значков.
* Необходимо добавить к документу значок, а не только ссылку на местоположение.
* Необходимо показать, как в мастере создания файла можно одновременно создать несколько шаблонов файлов.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 сентября 2006 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Все руководство пересмотрено в соответствии с версией среды IDE NetBeans 5.5 Beta 2.
* Проблемы отсутствуют, все работает в точности, как описано.
* Обновлены некоторые снимки экранов.
* Зафиксированы отступы в коде.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9 июня 2007 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Начало перехода к NetBeans 6.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 февраля 2008 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Начало переноса информации в данное руководство из  <a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide1">этого сообщения в блоге</a>,  <a href="http://blogs.oracle.com/geertjan/entry/freemarker_baked_into_netbeans_ide2">этого сообщения в блоге</a>, а также из еще одного  <a href="http://blogs.oracle.com/geertjan/date/20071126">сообщения в блоге</a> и из  <a href="http://netbeans.dzone.com/news/freemarker-netbeans-ide-60-first-scenario">данной статьи</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 апреля 2008 г.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Стили (значок, оглавление, таблица требуемого программного обеспечения) обновлены в соответствии с новым форматом.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/60/nbm-filetemplates_ru.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/index.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2022 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
            <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
