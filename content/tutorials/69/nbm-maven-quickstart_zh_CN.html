
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>在 NetBeans 平台中使用 Maven 的快速入门</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="在 NetBeans 平台中使用 Maven 的快速入门 - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, 在 NetBeans 平台中使用 Maven 的快速入门">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.1</h1>
            <p><a class="button success" href="/download/nb121/index.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">在 NetBeans 平台中使用 Maven 的快速入门</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/69/nbm-maven-quickstart_zh_CN.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_配置_maven">配置 Maven</a>
<ul class="sectlevel2">
<li><a href="#_查看_maven_资源库">查看 Maven 资源库</a></li>
</ul>
</li>
<li><a href="#_创建_netbeans_平台应用程序项目">创建 NetBeans 平台应用程序项目</a>
<ul class="sectlevel2">
<li><a href="#_创建项目">创建项目</a></li>
<li><a href="#_修改标记元素">修改标记元素</a></li>
</ul>
</li>
<li><a href="#_创建_mavenwordengine_模块">创建 MavenWordEngine 模块</a>
<ul class="sectlevel2">
<li><a href="#_创建模块">创建模块</a></li>
<li><a href="#_使模块成为_mavenplatformwordapp_的依赖关系">使模块成为 MavenPlatformWordApp 的依赖关系</a></li>
<li><a href="#_在模块中添加窗口组件">在模块中添加窗口组件</a></li>
<li><a href="#_修改窗口组件">修改窗口组件</a></li>
</ul>
</li>
<li><a href="#_创建_textfilter_模块">创建 TextFilter 模块</a>
<ul class="sectlevel2">
<li><a href="#_创建模块_2">创建模块</a></li>
<li><a href="#_将_textfilter_模块添加为_mavenplatformwordapp_的依赖关系">将 TextFilter 模块添加为 MavenPlatformWordApp 的依赖关系</a></li>
<li><a href="#_在_textfilter_模块中添加接口">在 TextFilter 模块中添加接口</a></li>
<li><a href="#_公开_textfilter_模块">公开 TextFilter 模块</a></li>
</ul>
</li>
<li><a href="#_创建_myfilter_模块">创建 MyFilter 模块</a>
<ul class="sectlevel2">
<li><a href="#_创建模块_3">创建模块</a></li>
<li><a href="#_将_textfilter_模块添加为依赖关系">将 TextFilter 模块添加为依赖关系</a></li>
<li><a href="#_修改_myfilter_模块">修改 MyFilter 模块</a></li>
<li><a href="#_修改_mavenwordengine_模块">修改 MavenWordEngine 模块</a></li>
</ul>
</li>
<li><a href="#_在_text_窗口组件中添加_lookuplistener_和_instancecontent">在 Text 窗口组件中添加 LookupListener 和 InstanceContent</a></li>
<li><a href="#_创建_history_模块">创建 History 模块</a>
<ul class="sectlevel2">
<li><a href="#_在_history_模块中创建窗口组件">在 History 模块中创建窗口组件</a></li>
<li><a href="#_修改_history_窗口组件">修改 History 窗口组件</a></li>
</ul>
</li>
<li><a href="#_生成和运行应用程序">生成和运行应用程序</a></li>
<li><a href="#_另请参见">另请参见</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>欢迎使用  <a href="https://netbeans.apache.org/platform/"><strong>NetBeans 平台</strong></a>！</p>
</div>
<div class="paragraph">
<p>本文档快速演示了如何创建一个简单的 NetBeans 平台应用程序和模块，并在生成框架中使用 Maven。在本文档中，您将使用 Maven 原型来创建 NetBeans 平台应用程序和模块。您将使用 Swing UI 工具包和 "Matisse" GUI 生成器来在模块中创建一个窗口组件。利用 NetBeans 平台的模块化特性，您可以简单地通过添加新模块来开发和扩展应用程序的功能。</p>
</div>
<div class="paragraph">
<p>本文档根据基于 Ant 的 <a href="nbm-quick-start_zh_CN.html">针对 NetBeans 平台的 NetBeans 平台快速入门</a>而编写，阐述了使用 Ant 和 Maven 开发 NetBeans 平台应用程序的一些不同之处。在了解 Maven 与 Ant 之间的不同之处后，您便可以轻松地继续学习  <a href="https://netbeans.apache.org/kb/docs/platform_zh_CN.html">NetBeans 平台学习资源</a>上的其他教程。</p>
</div>
<div class="paragraph">
<p>如果您使用的是 NetBeans IDE 6.8，请参见 <a href="68/nbm-maven-quickstart.html">在 NetBeans 平台 6.8 中使用 Maven 的快速入门</a>。</p>
</div>
<div class="paragraph">
<p>如果您不熟悉 NetBeans 平台，则可能需要观看截屏视频系列 <a href="https://netbeans.apache.org/tutorials/nbm-10-top-apis.html">最主要的 10 个 NetBeans API</a>。</p>
</div>
<div class="paragraph">
<p>*注意：*为开发适用于 NetBeans 平台的应用程序，您无需下载该平台的独立版本。通常，您是在 NetBeans IDE 中开发应用程序和模块，并且只包含运行 NetBeans 平台和您的应用程序所需的模块。</p>
</div>
<div class="paragraph">
<p>在开始本教程之前，您可以先阅读下面这些文档。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">Best Practices for Apache Maven in NetBeans 6.x</a>（NetBeans 6.x 中 Apache Maven 的最佳做法）</p>
</li>
<li>
<p><a href="http://www.sonatype.com/books/maven-book/reference/introduction.html">Chapter 1. Introducing Apache Maven</a>（第 1 章. Apache Maven 简介，来自  <a href="http://www.sonatype.com/books/maven-book/reference/public-book.html">Maven: The Definitive Guide</a>（Maven：权威指南））</p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/java/gui-functionality_zh_CN.html">生成 GUI 应用程序简介</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_配置_maven">配置 Maven</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果这是您首次创建 Maven 项目，则需要在“选项”窗口中检查 Maven 配置设置。要学完本教程，您的本地系统中必须安装有 Maven。可以从  <a href="http://maven.apache.org/">Maven 站点</a>下载安装程序。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在“选项”窗口中选择“其他”类别，然后单击 "Maven" 标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>指定 Maven 在本地的安装位置（要求为 2.0.9 或更高版本）。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>检查本地 Maven 资源库的位置是否正确。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击“确定”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在大多数情况下，如果您执行了典型的 Maven 配置，则“选项”窗口中的信息应该已经是正确的。</p>
</div>
<div class="paragraph">
<p>*注意：*Maven 支持是作为 Java SE 功能集的一部分被激活的。如果“选项”窗口中的 "Maven" 标签不可用，请通过创建一个 Java 应用程序来确认 Java SE 已被激活。</p>
</div>
<div class="paragraph">
<p>IDE 使用 Maven SCM 签出 Maven 工件。您可能希望检查本地计算机上是否安装了签出源文件所需的任何客户端，并对它们进行了正确配置。</p>
</div>
<div class="paragraph">
<p>有关 Maven SCM 的详细信息，请参见  <a href="http://maven.apache.org/scm/index.html">Maven SCM 页</a>。</p>
</div>
<div class="sect2">
<h3 id="_查看_maven_资源库">查看 Maven 资源库</h3>
<div class="paragraph">
<p>Maven 用于生成所有项目的工件均存储在本地 Maven 资源库中。如果某一工件被声明为项目依赖关系，则会将其从已注册的某个远程资源库下载到您的本地资源库中。</p>
</div>
<div class="paragraph">
<p>缺省情况下，已注册 NetBeans 资源库和一些常见的索引 Maven 资源库，并将它们列在资源库浏览器窗口中。NetBeans 资源库包含生成项目所需的大多数公共工件。您可以使用“Maven 资源库”浏览器查看本地和远程资源库的内容。您可以展开“本地库”节点以查看本地存在的工件。NetBeans 资源库节点下列出的工件可以添加为项目依赖关系，但并非所有这些工件都在本地存在。仅当这些工件被声明为项目依赖关系时，才会将其添加到“本地库”。</p>
</div>
<div class="paragraph">
<p>打开“Maven 资源库”浏览器：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>从主菜单中选择“窗口”&gt;“其他”&gt;“Maven 资源库浏览器”。</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-nbm-netbeans-repo.png" alt="maven nbm netbeans repo">
</div>
<div class="title">Figure 1. “Maven 资源库”浏览器的屏幕快照</div>
</div>
<div class="paragraph">
<p>当将光标置于某个工件上时，IDE 将显示包含其坐标的工具提示。在浏览器中双击工件的 JAR 文件，可以查看有关该工件的其他详细信息。</p>
</div>
<div class="paragraph">
<p>单击“Maven 资源库”浏览器工具栏上的“查找”按钮，或使用主工具栏中的“快速搜索”文本字段，可以搜索工件。</p>
</div>
<div class="paragraph">
<p>有关管理 Maven 类路径依赖关系和在 IDE 中使用 Maven 资源库的详细信息，请参见  <a href="http://wiki.netbeans.org/MavenBestPractices">Best Practices for Apache Maven in NetBeans 6.x</a>（NetBeans 6.x 中 Apache Maven 的最佳做法）的 <a href="http://wiki.netbeans.org/MavenBestPractices#Dependency_management">Dependency Management</a>（依赖关系管理）部分。</p>
</div>
<div class="paragraph">
<p>要观看使用工件查看器的演示，请参见 <a href="https://netbeans.apache.org/kb/docs/java/maven-dependencies-screencast.html">处理 Maven 依赖关系</a>截屏视频。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_netbeans_平台应用程序项目">创建 NetBeans 平台应用程序项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在此部分，您将使用“新建项目”向导来通过 Maven 原型创建 NetBeans 应用程序。该向导会创建您在 NetBeans 平台上开发应用程序所需的 Maven 模块项目。该向导还提供了在应用程序项目中创建 NetBeans 模块的选项，但在本教程中，您将单独创建每个模块。</p>
</div>
<div class="sect2">
<h3 id="_创建项目">创建项目</h3>
<div class="paragraph">
<p>请执行下列步骤，以使用“新建项目”向导创建 NetBeans 平台应用程序。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>选择“文件”&gt;“新建项目”(Ctrl-Shift-N) 以打开“新建项目”向导。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>从 "Maven" 类别中选择“Maven NetBeans 应用程序”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“项目名称”中键入 <strong>MavenPlatformWordApp</strong> 并设置“项目位置”。单击“完成”。
image::images/maven-newproject.png[title="“新建项目”向导的屏幕快照"]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>*注意：*如果这是您第一次使用 Maven 创建 NetBeans 平台应用程序，则创建项目可能会耗费一些时间，因为 IDE 需要从 NetBeans 资源库中下载所有必需的工件。</p>
</div>
<div class="paragraph">
<p>单击“完成”后，缺省情况下 IDE 会创建以下 Maven 项目类型。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>*NetBeans 平台应用程序。*此项目是平台应用程序的容器项目，它列出了要包含的模块和项目资源库的位置。此项目不包含任何源文件。IDE 在此项目的子目录中生成包含源文件和资源的模块。</p>
</li>
<li>
<p>*基于 NetBeans 平台的应用程序。*此项目指定编译应用程序所需的工件（源文件）。在此项目的  <code>pom.xml</code>  文件中，指定了必需的依赖关系（IDE 工件和模块工件）。如果展开“库”节点，可以看到 NetBeans 平台应用程序所需的库。</p>
</li>
<li>
<p>*平台应用程序标记资源。*此项目包含用于标记应用程序的资源。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>对于所有 Maven 项目， <code>pom.xml</code>  文件 (POM) 都位于“项目”窗口中的“项目文件”节点下。如果查看 NetBeans 平台应用程序项目的 POM，可以看到由向导创建的其他两个模块已被列为该应用程序的模块。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
   &lt;module&gt;branding&lt;/module&gt;
   &lt;module&gt;application&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_修改标记元素">修改标记元素</h3>
<div class="paragraph">
<p>标记模块用于指定在生成平台应用程序时所使用的标记资源。使用标记对话框，您可以方便地修改应用程序的标记属性，以更改其名称、闪屏和文本元素的值。</p>
</div>
<div class="paragraph">
<p>当通过原型创建 NetBeans 平台应用程序时，该应用程序的缺省名称便是应用程序的工件 Id。在本练习中，您将使用标记向导来修改应用程序的名称，并替换闪屏的缺省图像。</p>
</div>
<div class="paragraph">
<p>*注意：*IDE 需要首先生成标记模块，然后您才能修改标记资源。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击*平台应用程序标记资源*模块，然后选择“标记”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“基本”标签中，将“应用程序标题”修改为 <strong>My Maven Platform Word App</strong>。
image::images/maven-branding1.png[title="“新建项目”向导的屏幕快照"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>单击“闪屏”标签，然后单击缺省闪屏图像旁边的“浏览”按钮以查找其他图像。单击“确定”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>您可以将下面的图像复制到本地系统，然后在标记对话框中将该图像指定为闪屏。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/splash.gif" alt="splash">
</div>
<div class="title">Figure 2. 缺省闪屏图像的示例</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_mavenwordengine_模块">创建 MavenWordEngine 模块</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在此部分，您将创建一个名为 MavenWordEngine 的新模块。然后，您将修改该模块以添加一个窗口组件，并在该窗口组件中添加一个按钮和一个文本区域。</p>
</div>
<div class="sect2">
<h3 id="_创建模块">创建模块</h3>
<div class="paragraph">
<p>在本练习中，您将在包含标记模块和应用程序模块的同一个目录中创建一个新模块项目。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>从主菜单选择“文件”&gt;“新建项目”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>从 "Maven" 类别中选择“Maven NetBeans 模块”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“项目名称”中键入 <strong>MavenWordEngine</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击“浏览”，然后找到 MavenPlatformWordApp 目录作为“项目位置”。单击“完成”。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-wizard-project-location.png" alt="maven wizard project location">
</div>
<div class="title">Figure 3. “新建项目”向导的屏幕快照</div>
</div>
<div class="paragraph">
<p>如果查看 MavenWordEngine 模块的 POM，则会看到该项目的  <code>artifactId</code>  为 <strong>MavenWordEngine</strong>。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&lt;parent&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenPlatformWordApp&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;/parent&gt;
&lt;groupId&gt;com.mycompany&lt;/groupId&gt;
&lt;artifactId&gt;*MavenWordEngine*&lt;/artifactId&gt;
&lt;packaging&gt;nbm&lt;/packaging&gt;
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;name&gt;MavenWordEngine NetBeans Module&lt;/name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>要生成 NetBeans 模块，您需要使用  <code>nbm-maven-plugin</code> 。如果查看该模块的 POM，可以看到 IDE 自动为  <code>packaging</code>  指定了  <code>nbm</code> ，并将 <strong>nbm-maven-plugin</strong> 指定为生成插件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
   &lt;artifactId&gt;*nbm-maven-plugin*&lt;/artifactId&gt;
   &lt;version&gt;3.2-SNAPSHOT&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果查看 NetBeans 平台应用程序的 POM，可以看到 <strong>MavenWordEngine</strong> 已被添加到应用程序的模块列表中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
   &lt;module&gt;branding&lt;/module&gt;
   &lt;module&gt;application&lt;/module&gt;
   &lt;module&gt;*MavenWordEngine*&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使模块成为_mavenplatformwordapp_的依赖关系">使模块成为 MavenPlatformWordApp 的依赖关系</h3>
<div class="paragraph">
<p>在本练习中，您将通过在 POM 中添加依赖关系，将 MavenWordEngine 模块声明为基于 NetBeans 平台的应用程序的依赖关系。此应用程序的 POM 声明了以下依赖关系。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.netbeans.cluster&lt;/groupId&gt;
        &lt;artifactId&gt;platform&lt;/artifactId&gt;
        &lt;version&gt;${netbeans.version}&lt;/version&gt;
        &lt;type&gt;pom&lt;/type&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
        &lt;artifactId&gt;branding&lt;/artifactId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果展开基于 NetBeans 平台的应用程序的“库”节点，可以看到其中包含对标记模块和其他一些库的依赖关系，这些库是生成应用程序所需的群集依赖关系。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-projects-libraries.png" alt="maven projects libraries">
</div>
<div class="title">Figure 4. “添加依赖关系”对话框的屏幕快照</div>
</div>
<div class="paragraph">
<p>您可以展开非类路径依赖关系列表以查看依赖关系的完整列表。</p>
</div>
<div class="paragraph">
<p>要在 POM 中添加依赖关系，您可以直接在编辑器中编辑 POM，也可以通过从“项目”窗口中打开“添加依赖关系”对话框进行添加。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在“项目”窗口中展开 "MavenPlatformWordApp - NetBeans Platform based application"。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>右键单击“库”节点，然后选择“添加依赖关系”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>单击“打开的项目”标签，然后选择 <strong>MavenWordEngine</strong>。单击“确定”。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-add-dependency1.png" alt="maven add dependency1">
</div>
<div class="title">Figure 5. “添加依赖关系”对话框的屏幕快照</div>
</div>
<div class="paragraph">
<p>*注意：*在 IDE 完成扫描和更新索引之后，新项目将出现在对话框中。</p>
</div>
<div class="paragraph">
<p>如果在“项目”窗口中展开 MavenPlatformWordApp 的“库”节点，可以看到 MavenWordEngine 现在已被列为依赖关系。</p>
</div>
</div>
<div class="sect2">
<h3 id="_在模块中添加窗口组件">在模块中添加窗口组件</h3>
<div class="paragraph">
<p>在本练习中，您将使用向导来将窗口组件添加到 MavenWordEngine 模块中。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在“项目”窗口中右键单击 "MavenWordEngine NetBeans Module"，然后选择“新建”&gt;“其他”以打开“新建文件”向导。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“模块开发”类别中选择“窗口”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“窗口位置”下拉列表中，选择 "output"。单击“下一步”。
image::images/maven-new-window.png[title="“新建文件”向导中窗口组件页的屏幕快照"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>在“类名前缀”字段中键入 <strong>Text</strong>。单击“完成”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>向导会显示将创建和修改的文件列表。</p>
</div>
<div class="paragraph">
<p>单击“完成”后，可以在“项目”窗口中看到 IDE 在“源包”下面的  <code>com.mycompany.mavenwordengine</code>  中生成了  <code>TextTopComponent.java</code>  类。IDE 还在“其他源”下面的  <code>com.mycompany.mavenwordengine</code>  中生成了其他资源文件。在本练习中，您将仅编辑  <code>TextTopComponent.java</code> 。</p>
</div>
<div class="paragraph">
<p>可以在“文件”窗口中查看项目的结构。要编译 Maven 项目，“源包”（“文件”窗口中的  <code>src/main/java</code>  目录）下只能放置源文件。其他资源（例如，XML 文件）需要置于“其他源”（“文件”窗口中的  <code>src/main/resources</code>  目录）下面。</p>
</div>
</div>
<div class="sect2">
<h3 id="_修改窗口组件">修改窗口组件</h3>
<div class="paragraph">
<p>在本练习中，您将在窗口组件中添加一个文本区域和一个按钮。然后，您将修改由按钮调用的方法，以将文本区域中的字母更改为大写字母。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在编辑器中单击  <code>TextTopComponent.java</code>  的“设计”标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>将一个按钮和一个文本区域从“组件面板”拖放到窗口中。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>右键单击文本区域并选择“更改变量名称”，然后键入 <strong>text</strong> 作为名称。当通过代码访问该组件时，将使用此名称。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>将按钮的文本设置为 "<strong>Filter!</strong>"。
image::images/maven-nbm-textopcomponent.png[title="“新建文件”向导中窗口组件页的屏幕快照"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>在“设计”视图中双击 "Filter!" 按钮元素，以在源代码编辑器中打开该按钮的事件处理程序方法。当双击该按钮元素时，将会自动为其创建方法。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>修改方法的主体以添加下列代码。保存所做的更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
   *String s = text.getText();
   s = s.toUpperCase();
   text.setText(s);*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>可以在编辑器中使用代码完成功能来帮助键入代码。</p>
</div>
<div class="paragraph">
<p>如果您希望测试应用程序是否可以正常运行，可以右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目节点，然后选择“使用依赖关系生成”。</p>
</div>
<div class="paragraph">
<p>映射到“使用依赖关系生成”的缺省操作为使用 Reactor 插件生成项目。在使用 Reactor 插件生成项目时，首先将生成子项目的依赖关系，然后再生成包含项目。“输出”窗口将显示生成顺序。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-buildwithdependencies1.png" alt="maven buildwithdependencies1">
</div>
<div class="title">Figure 6. “输出”窗口中 Reactor 生成顺序的屏幕快照</div>
</div>
<div class="paragraph">
<p>还会在“输出”窗口中显示生成结果。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-buildwithdependencies2.png" alt="maven buildwithdependencies2">
</div>
<div class="title">Figure 7. “输出”窗口中 Reactor 生成成功的屏幕快照</div>
</div>
<div class="paragraph">
<p>如果查看“项目”窗口，则会看到这些项目不再带有标记，因为所需依赖关系的工件此时在“本地资源库”的 "com.mycompany" 节点下可用。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-localrepo.png" alt="maven localrepo">
</div>
<div class="title">Figure 8. “本地资源库”的屏幕快照</div>
</div>
<div class="paragraph">
<p>要运行项目，请右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目节点，然后选择“运行”。在应用程序启动后，您可以通过执行下列步骤来测试该应用程序。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>从平台应用程序的主菜单中选择 "Window" &gt; "Text" 以打开 Text 窗口。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在文本区域中键入一些小写字母，然后单击 "Filter!"。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>退出 Maven Platform Word App。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>当单击 "Filter!" 时，您所键入的字母会被更改为大写并显示在文本区域中。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_textfilter_模块">创建 TextFilter 模块</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，您将创建一个名为 <strong>TextFilter</strong> 的模块，并将该模块作为依赖关系添加到应用程序中。TextFilter 模块将提供一个服务，且仅包含一个接口。然后，可以通过使用 lookup 来访问其他模块中的服务。</p>
</div>
<div class="sect2">
<h3 id="_创建模块_2">创建模块</h3>
<div class="paragraph">
<p>在本练习中，您将执行下列步骤来创建 TextFilter 模块。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>选择“文件”&gt;“新建项目”(Ctrl-Shift-N)。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>从 "Maven" 类别中选择“Maven NetBeans 模块”原型。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“项目名称”中键入 <strong>TextFilter</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击“浏览”以设置“项目位置”并找到 MavenPlatformWordApp 目录。单击“完成”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击“完成”后，IDE 会创建模块，并在“项目”窗口中打开 "TextFilter NetBeans Module" 模块项目。</p>
</div>
<div class="paragraph">
<p>IDE 会修改 POM 项目 "MavenPlatformWordApp - NetBeans Platform Application" 的  <code>pom.xml</code> ，以将新模块添加到要在项目中包含的模块列表中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
    &lt;module&gt;branding&lt;/module&gt;
    &lt;module&gt;application&lt;/module&gt;
    &lt;module&gt;MavenWordEngine&lt;/module&gt;
    &lt;module&gt;TextFilter&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建模块后，您需要将该模块添加为应用程序的依赖关系。</p>
</div>
</div>
<div class="sect2">
<h3 id="_将_textfilter_模块添加为_mavenplatformwordapp_的依赖关系">将 TextFilter 模块添加为 MavenPlatformWordApp 的依赖关系</h3>
<div class="paragraph">
<p>在本练习中，您要将 TextFilter 模块添加为 "MavenPlatformWordApp - NetBeans Platform based application" 的依赖关系。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目的“库”节点，然后选择“添加依赖关系”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“添加依赖关系”对话框中，单击“打开的项目”标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>选择 "TextFilter NetBeans Module" 模块。单击“确定”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击“确定”后，IDE 会将该模块添加为项目的依赖关系。如果展开“库”节点，可以看到该模块已被添加到依赖关系列表中。在 "MavenPlatformWordApp - NetBeans Platform based application" 的 POM 中，可以看到 IDE 在  <code>dependencies</code>  元素中添加了以下代码行。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
   &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;
   &lt;artifactId&gt;TextFilter&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_在_textfilter_模块中添加接口">在 TextFilter 模块中添加接口</h3>
<div class="paragraph">
<p>在本练习中，您将在 TextFilter 模块中添加一个简单的接口。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 "TextFilter NetBeans Module"，然后选择“新建”&gt;“Java 接口”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“类名”中键入 <strong>TextFilter</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“包”下拉列表中选择 "com.mycompany.textfilter"。单击“完成”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>修改该类以添加下列代码。保存所做的更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">package com.mycompany.textfilter;

public interface TextFilter {
    *public String process(String s);*
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_公开_textfilter_模块">公开 TextFilter 模块</h3>
<div class="paragraph">
<p>在本练习中，您将公开  <code>com.mycompany.textfilter</code>  包的内容，以便其他模块可以访问其方法。要将包声明为公共包，您需要在 POM 中修改  <code>nbm-maven-plugin</code>  的  <code>configuration</code>  元素，以指定将由插件作为公共包导出的包。您可以在编辑器中更改 POM，也可以通过在“项目属性”对话框中选择要公开的包来进行更改。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 "TextFilter NetBeans Module"，然后选择“属性”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“项目属性”对话框中选择“公共包”类别。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>选择 "com.mycompany.textfilter" 包。单击“确定”。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-public-packages.png" alt="maven public packages">
</div>
<div class="title">Figure 9. 属性对话框的屏幕快照</div>
</div>
<div class="paragraph">
<p>单击“确定”后，IDE 会修改项目 POM，从而修改  <code>nbm-maven-plugin</code>  工件的  <code>configuration</code>  元素以添加下列条目。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;publicPackages&gt;
   &lt;publicPackage&gt;com.mycompany.textfilter&lt;/publicPackage&gt;
&lt;/publicPackages&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在，POM 包含以下条目。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.2&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
    &lt;configuration&gt;
                    &lt;publicPackages&gt;
                        &lt;publicPackage&gt;com.mycompany.textfilter&lt;/publicPackage&gt;
                    &lt;/publicPackages&gt;

    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>有关详细信息，请参见  <a href="http://bits.netbeans.org/mavenutilities/nbm-maven-plugin/manifest-mojo.html#publicPackages">nbm-maven-plugin 清单</a>。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_myfilter_模块">创建 MyFilter 模块</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，您将创建 <strong>MyFilter</strong> 模块，然后将该模块添加为 TextFilter 的依赖关系。然后，可以通过查找 TextFilter 服务来调用 MyFilter 中的方法。</p>
</div>
<div class="sect2">
<h3 id="_创建模块_3">创建模块</h3>
<div class="paragraph">
<p>在本练习中，您将创建一个名为 <strong>MyFilter</strong> 的模块。要创建此模块，您需要执行与创建 TextFilter 模块相同的步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>选择“文件”&gt;“新建项目”(Ctrl-Shift-N)。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>从 "Maven" 类别中选择“Maven NetBeans 模块”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“项目名称”中键入 <strong>MyFilter</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击“浏览”以设置“项目位置”并找到 <strong>MavenPlatformWordApp</strong> 目录。单击“完成”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>将 MyFilter 模块添加为 "MavenPlatformWordApp - NetBeans Platform based application" 项目的依赖关系。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_将_textfilter_模块添加为依赖关系">将 TextFilter 模块添加为依赖关系</h3>
<div class="paragraph">
<p>在本练习中，您会将 TextFilter 模块添加为 MyFilter 模块的依赖关系。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 <strong>MyFilter</strong> 项目的“库”节点，然后选择“添加依赖关系”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“添加依赖关系”对话框中，单击“打开的项目”标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>选择 <strong>TextFilter</strong> 模块。单击“确定”。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_修改_myfilter_模块">修改 MyFilter 模块</h3>
<div class="paragraph">
<p>在本练习中，您将添加一个 Java 类，该类仅包含一个名为  <code>process</code>  的方法，用于将字符串转换为大写字母。您还将指定该类实现 TextFilter 接口。您将使用  <code>@ServiceProvider</code>  标注来将 TextFilter 指定为将在编译时注册的服务。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 <strong>MyFilter</strong> 模块，然后选择“新建”&gt;“Java 类”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“类名”中键入 <strong>UpperCaseFilter</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“包”下拉列表中选择 "com.mycompany.myfilter"。单击“完成”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>修改该类以添加下列代码。保存所做的更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">package com.mycompany.myfilter;

import com.mycompany.textfilter.TextFilter;
import org.openide.util.lookup.ServiceProvider;

*@ServiceProvider(service=TextFilter.class)*
public class UpperCaseFilter *implements TextFilter {

    public String process(String s) {
        return s.toUpperCase();
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>请注意是如何使用标注来指定服务提供器的。有关  <code>@ServiceProvider</code>  标注以及 ServiceLoader 机制在 JDK 6 中的行为的详细信息，请参见《实用程序 API》文档。</p>
</div>
</div>
<div class="sect2">
<h3 id="_修改_mavenwordengine_模块">修改 MavenWordEngine 模块</h3>
<div class="paragraph">
<p>在本练习中，您将修改 Text 窗口组件中的事件处理程序，以使用 lookup 来调用 TextFilter 接口并访问 MyFilter 中的方法。在事件处理程序中添加代码之前，您需要声明对 TextFilter 模块的依赖关系。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 <strong>MavenWordEngine</strong> 模块的“库”节点，然后添加对 TextFilter 模块的依赖关系。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>展开 <strong>MavenWordEngine</strong> 模块的“源包”，然后在源代码编辑器中打开  <code>TextTopComponent</code> 。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>修改  <code>jButton1ActionPerformed</code>  按钮处理程序方法以添加下列代码。保存所做的更改。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
    String s = text.getText();
    *TextFilter filter = Lookup.getDefault().lookup(TextFilter.class);
    if (filter != null) {
        s = filter.process(s);
    }*
    text.setText(s);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>可以使用代码完成功能来帮助您完成代码。</p>
</div>
<div class="paragraph">
<p>此时，可以检查您的应用程序是否可以正常运行。接下来，您将添加一个新的窗口组件，该组件会显示您使用过滤器处理过的文本的历史记录。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_在_text_窗口组件中添加_lookuplistener_和_instancecontent">在 Text 窗口组件中添加 LookupListener 和 InstanceContent</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本练习中，您将添加一个侦听程序和一个字段，以便在单击 "Filter!" 按钮时存储文本区域的内容。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在 <strong>MavenWordEngine</strong> 模块中，通过添加以下代码来添加  <code>InstanceContent</code>  对象并修改  <code>TextTopComponent</code>  的构造函数。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public final class TextTopComponent extends TopComponent {
    *private InstanceContent content;*

    public TextTopComponent() {
        initComponents();
        setName(NbBundle.getMessage(TextTopComponent.class, "CTL_TextTopComponent"));
        setToolTipText(NbBundle.getMessage(TextTopComponent.class, "HINT_TextTopComponent"));
        //        setIcon(Utilities.loadImage(ICON_PATH, true));

        *content = new InstanceContent();
        associateLookup(new AbstractLookup(content));*
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>修改  <code>jButton1ActionPerformed</code>  方法，以便在单击按钮时将旧的文本值添加到  <code>InstanceContent</code>  对象中。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
     String s = text.getText();
     TextFilter filter = Lookup.getDefault().lookup(TextFilter.class);
     if (filter != null) {
         *content.add(s);*
         s = filter.process(s);
     }
     text.setText(s);
 }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_history_模块">创建 History 模块</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在此部分，您将创建一个名为 <strong>History</strong> 的模块，用于显示  <code>InstanceContent</code>  的值。要创建此模块，您需要执行与创建 TextFilter 和 MyFilter 模块相同的步骤。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>选择“文件”&gt;“新建项目”(Ctrl-Shift-N)。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>从 "Maven" 类别中选择“Maven NetBeans 模块”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“项目名称”中键入 <strong>History</strong>。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>单击“浏览”以设置“项目位置”并找到 MavenPlatformWordApp 目录。单击“完成”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>将 History 模块添加为 "MavenPlatformWordApp - NetBeans Platform based application" 项目的依赖关系。</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_在_history_模块中创建窗口组件">在 History 模块中创建窗口组件</h3>
<div class="paragraph">
<p>在本练习中，您将使用向导在模块中添加窗口组件。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在“项目”窗口中右键单击 "History NetBeans Module"，然后选择“新建”&gt;“其他”以打开“新建文件”对话框。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>在“模块开发”类别中选择“窗口”。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>在“窗口位置”下拉列表中选择 "editor"。单击“下一步”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>在“类名前缀”字段中键入 <strong>History</strong>。单击“完成”。向导会显示将创建和修改的文件列表。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_修改_history_窗口组件">修改 History 窗口组件</h3>
<div class="paragraph">
<p>现在，您将在窗口组件中添加一个文本区域元素，用于显示已过滤的字符串。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>在编辑器中单击  <code>HistoryTopComponent.java</code>  的“设计”标签。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>将一个文本区域从“组件面板”拖放到窗口中。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>右键单击文本区域并选择“更改变量名称”，然后键入 <strong>historyText</strong> 作为名称。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>在  <code>HistoryTopComponent</code>  的构造函数中添加  <code>private</code>  字段  <code>result</code>  和以下代码，以使其侦听当前活动窗口 String 类的 lookup 事件，并在文本区域中显示所有检索到的 String 对象。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">      *private Lookup.Result result;*

      public HistoryTopComponent() {
          initComponents();
          ...

          *result = org.openide.util.Utilities.actionsGlobalContext().lookupResult(String.class);
          result.addLookupListener(new LookupListener() {
              public void resultChanged(LookupEvent e) {
                  historyText.setText(result.allInstances().toString());
              }
          });*
      }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_生成和运行应用程序">生成和运行应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>现在，可以测试此应用程序。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目节点，然后选择“清理”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目节点，然后选择“使用依赖关系生成”。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>右键单击 "MavenPlatformWordApp - NetBeans Platform based application" 项目节点，然后选择“运行”。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>单击“运行”后，IDE 会启动 NetBeans 平台应用程序。您可以从 "Window" 菜单中打开 History 和 Text 窗口。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-final-app.png" alt="maven final app">
</div>
<div class="title">Figure 10. 最终 NetBeans 平台应用程序的屏幕快照</div>
</div>
<div class="paragraph">
<p>当在 Text 窗口中键入文本并单击 "Filter!" 按钮时，该文本会被转换为大写字母并添加到 History 窗口的内容中。</p>
</div>
<div class="paragraph">
<p>本快速入门教程说明了使用 Maven 创建 NetBeans 平台应用程序与使用 Ant 创建应用程序并无太大差异。主要的不同之处在于 Maven POM 控制应用程序组装的方式。有关如何生成 NetBeans 平台应用程序和模块的更多示例，请参见  <a href="https://netbeans.apache.org/kb/docs/platform_zh_CN.html">NetBeans 平台学习资源</a>中所列的教程。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_另请参见">另请参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有关创建和开发应用程序的更多信息，请参见以下资源。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform_zh_CN.html">NetBeans 平台学习资源</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/">NetBeans API Javadoc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果您有任何有关 NetBeans 平台的问题，可随时写信至邮件列表 <a href="mailto:dev@platform.netbeans.org">dev@platform.netbeans.org</a>，或查看  <a href="https://netbeans.org/projects/platform/lists/dev/archive">NetBeans 平台邮件列表归档</a>。</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/69/nbm-maven-quickstart_zh_CN.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
