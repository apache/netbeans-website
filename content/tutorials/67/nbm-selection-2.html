
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NetBeans Selection Management Tutorial II—Using Nodes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NetBeans Selection Management Tutorial II—Using Nodes - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, NetBeans Selection Management Tutorial II—Using Nodes">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.3</h1>
            <p><a class="button success" href="/download/nb123/nb123.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">NetBeans Selection Management Tutorial II—Using Nodes</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/67/nbm-selection-2.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_introduction_to_the_nodes_api">Introduction to the Nodes API</a></li>
<li><a href="#_creating_an_explorer_view">Creating an Explorer View</a></li>
<li><a href="#_implementing_nodes_and_node_children">Implementing Nodes and Node Children</a></li>
<li><a href="#_running_the_tutorial">Running the Tutorial</a></li>
<li><a href="#_exploring_explorer">Exploring Explorer</a></li>
<li><a href="#_handling_multi_selection">Handling Multi-Selection</a></li>
<li><a href="#_review_of_concepts">Review of Concepts</a></li>
<li><a href="#_next_steps">Next Steps</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The  <a href="nbm-selection-1.html">previous tutorial</a> covered the basics of component-wide selection handling in NetBeans—how to provide objects from a ` <a href="https://netbeans.apache.org/wiki/devfaqwindowstopcomponent">TopComponent</a><code>'s ` <a href="https://netbeans.apache.org/wiki/devfaqlookup">Lookup</a></code>, and how to write other components that are sensitive to the <code>Lookup</code> of whatever component has focus.</p>
</div>
<div class="paragraph">
<p>This tutorial focuses on the  <a href="https://bits.netbeans.org/dev/javadoc/org-openide-nodes/overview-summary.html">Nodes API</a>, which makes it possible to do more granular views and selection than just component-level selection. Of course, you could write a component that reads and writes into its own Lookup whatever it wants, and provides more granular selection logic that way. But the Nodes API makes it very easy to do this, and offers a number of advantages over doing it yourself.</p>
</div>
<div class="paragraph">
<p>Optionally, for troubleshooting purposes, you can  <a href="http://plugins.netbeans.org/PluginPortal/faces/PluginDetailPage.jsp?pluginid=3146">download the completed sample</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_the_nodes_api">Introduction to the Nodes API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first advantage is that the Nodes API provides a <em>presentation layer</em>—a layer between the data model being edited in some way, and the UI components that expose the data model to the user. This is quite useful and powerful, as the same model may be presented in multiple ways, or with multiple UIs.</p>
</div>
<div class="paragraph">
<p>The second advantage is the Explorer API—the module <code>org.openide.explorer</code> provides a vast array of components—trees, lists, tree tables and more—which can render a Node and its children.</p>
</div>
<div class="paragraph">
<p>A <code>Node</code> is a generic hierarchical object—a <code>Node</code> has:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Children—Nodes in a hierarchy underneath it, that can be displayed in a tree</p>
</li>
<li>
<p>Actions—An array of actions that can be displayed in a popup menu</p>
</li>
<li>
<p>Display Name—A human-readable, localized display name that can be shown in a UI component</p>
</li>
<li>
<p>Icon—An icon that can be shown in a UI component</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and `Node`s can fire changes in any of the above, and the explorer UI components will automatically update themselves.</p>
</div>
<div class="paragraph">
<p>This is <em>not</em> to say that the content of the previous tutorial was useless—on the contrary, it is the reason the Nodes API can work. The reason: <code>org.openide.nodes.Node</code> has a method, you guessed it, <code>getLookup()</code>. In fact what is happening when you change selection in the Projects tab in the IDE, for example, is&#8230;&#8203;the Projects tab is a TopComponent. It proxies the <code>Lookup</code> of whatever object(s) are currently selected in the tree—just as the <code>Utilities.actionsGlobalContext()</code> <code>Lookup</code> proxies whichever component is focused and fires changes when focus changes.</p>
</div>
<div class="paragraph">
<p>Thanks to the components in the Explorer API, it is very easy to create your own views of a tree of <code>Node`s, and have this type of proxying in your own components with very little code. Viewer type components such as the `MyViewer</code> component in the previous tutorial do not have to do anything special to be able to respond to selection changes in Explorer components—they will automatically be notified as selection changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_an_explorer_view">Creating an Explorer View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first thing you will do is some substantial modifications to your <code>MyEditor</code> editor component. This starts with opening it in the editor.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>First, bring up the properties dialog for the My Editor project. On the Libraries tab, click the add button, and type "BeanTreeView" in the dialog. Click OK once you see the Explorer &amp; Property Sheet API listed, as shown below. This will add a dependency on the Explorer API module, so you can use classes from it.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-deps-beantreeview-60.png" alt="add deps beantreeview 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Next, delete the body of the action handler method:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and delete the call to it from the constructor. This way, when you delete the button it is associated with, the handler method will be deleted too.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Switch to the form designer, select all of the components, and delete them.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>In the Component Inspector, right click the <code>TopComponent</code> node, and choose Set Layout &gt; BorderLayout, as shown below:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/border-layout-60.png" alt="border layout 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Click the <code>JScrollPane</code> button in the Component Palette window and drop the scroll pane on the form—it will take up the entire form. The secret here is that all of the Explorer UI components are subclasses of <code>JScrollPane</code>—so you can simply change the instantiation code to create an explorer view instead.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Select your <code>JScrollPane</code>, right-click it, and choose Customize Code. Customize the initial line in the Code Customizer, by adding <code>new BeanTreeView()</code> as shown below:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/custom-creation-60.png" alt="custom creation 60">
</div>
</div>
<div class="paragraph">
<p><code>BeanTreeView</code> is a component from the Explorer API—a basic <code>JTree</code>-based view over a <code>Node</code> and its children, with built-in handling of popup menus, searching and more.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Switch to the code editor and press Ctrl-Shift-I to import BeanTreeView, because the import statement needs to be added, as indicated below:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/beantreeview-60.png" alt="beantreeview 60">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>The next step is to give your tree something to show. Explorer UI components work like this: When added to a container, they search that container and their ancestors until they find one that implements <code>ExplorerManager.Provider</code>. So you don&#8217;t set the node to be viewed directly on the component—you set it on the component&#8217;s manager. This makes it possible to have multiple views, master/detail views and such, all managed by a single manager. Add to the signature of MyEditor as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public class MyEditor extends TopComponent implements ExplorerManager.Provider {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then press Ctrl-Shift-I to fix imports. Keeping the caret in the signature line, a lightbulb glyph should appear in the margin. Press Alt-Enter, and accept the hint "Implement all abstract methods". This will add one method, <code>getExplorerManager()</code>. Implement it as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private final ExplorerManager mgr = new ExplorerManager();
public ExplorerManager getExplorerManager() {
    return mgr;
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Now, since the goal is one component that can display multiple <code>APIObject`s, you need a `Node</code> or two to display in your component. Each one will own its own instance of <code>APIObject</code>. So, right now you&#8217;ll just add the code that will create a root node for your tree view. Add the following line to the constructor:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">mgr.setRootContext(new AbstractNode(new MyChildren()));</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the code that sets the root node for all of the explorer views that are child components of <code>MyEditor</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>If you tried Fix Imports, you may have seen the error dialog telling you that neither <code>AbstractNode</code>, nor <code>MyChildren</code> could be resolved. To resolve <code>AbstractNode</code>, you need to add one dependency, on the Nodes API module. Right click the My Editor project, go to the Libraries page and click Add Dependency. Type "AbstractNode" in the Add dialog, and when the item "Nodes API" in the list is selected, click OK or press Enter.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Now, back in the source editor, press Ctrl-Shift-I to Fix Imports. You will be notified that <code>MyChildren</code> could not be resolved. That&#8217;s okay—you&#8217;re about to write it.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementing_nodes_and_node_children">Implementing Nodes and Node Children</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ll notice you&#8217;re using a class called <code>AbstractNode</code> above. Despite its name, it is not an abstract class! It is a utility implementation of <code>org.openide.nodes.Node</code> which can save you some time and trouble—rather than implement Node yourself, you can just create an AbstractNode and pass it a <code>Children</code> object which will provide child nodes for it, and then set its icon and display name as needed. So it is a simple way to get a <code>Node</code> object to represent something, without needing to do any subclassing of <code>Node</code> itself.</p>
</div>
<div class="paragraph">
<p>The next step is to implement <code>MyChildren</code>, so that there are subnodes underneath the initial node.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right click the <code>org.myorg.myeditor</code> package in the My Editor project, and choose New &gt; Java Class from the popup menu</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the New Java Class wizard, name the class "MyChildren", and click Finish or press Enter to create the class.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Modify the signature of the class so it extends <code>Children.Keys</code>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">class MyChildren extends Children.Keys {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Press Ctrl-Shift-I to Fix Imports</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Position the caret in the class signature line. When the lightbulb glyph appears in the margin, press Alt-Enter and then Enter again to accept the hint "Implement all Abstract Methods". This will add a <code>createNodes (Object key)</code> method—this is where you will create the nodes that will be children of your root node.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>But first, you want to override one method—<code>addNotify</code>. As with the <code>addNotify()</code> pattern in Swing components, <code>Children.Keys.addNotify()</code> is called the first time something pays attention to this Children object—the first time it is asked for its child nodes. So you can delay creation of child Nodes until the user has really expanded the parent node in a view and needs to see them. Position the caret somewhere in the source file and press Alt-Insert. Then choose 'Override Method&#8230;&#8203;'. In the dialog that appears, expand 'Children', select the <code>addNotify()</code> method, and click OK or press Enter.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Implement the <code>addNotify()</code> method as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">protected void addNotify() {
    APIObject[] objs = new APIObject[5];
    for (int i = 0; i &lt; objs.length; i++) {
        objs[i] = new APIObject();
    }
    setKeys (objs);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you may have guessed from the name <code>Children.Keys</code>, what your parent class does is take an array or <code>Collection</code> of key objects, and act as a factory for <code>Node`s for them. So, you call `setKeys()</code> in <code>addNotify()</code>, since <code>addNotify()</code> is telling you that something is about to ask for the child nodes. For each element in the array or collection you pass to <code>setKeys()</code>, <code>createNodes()</code> will be called once (note this means that if you want, you can have more than one node to represent one object).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Now you need to implement the code that actually creates Node objects for all of these. Implement <code>createNodes()</code> as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">protected Node[] createNodes(Object o) {
    APIObject obj = (APIObject) o;
    AbstractNode result = new AbstractNode (new MyChildren(), Lookups.singleton(obj));
    result.setDisplayName (obj.toString());
    return new Node[] { result };
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Press Ctrl-Shift-I to Fix Imports.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>The last step is to install a bit of plumbing code that will wire up your explorer manager to your TopComponent&#8217;s lookup. First, delete the line</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private final InstanceContent content = new InstanceContent();</code></pre>
</div>
</div>
<div class="paragraph">
<p>from the head of the class definition—you will be using a utility to wire up the selected <code>Node&#8217;s `Lookup</code> to your component&#8217;s <code>Lookup</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Modify the constructor of <code>MyEditor</code> so it looks like this:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public MyEditor() {
    initComponents();
    associateLookup (ExplorerUtils.createLookup(mgr, getActionMap()));
    mgr.setRootContext(new AbstractNode(new MyChildren()));
    setDisplayName ("My Editor");
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_tutorial">Running the Tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may have noticed that because you pass a new instance of <code>MyChildren</code> to each <code>AbstractNode</code> you create, that you will end up with an infinitely deep tree of <code>APIObjects</code>—each <code>Node</code> will have five child <code>Node`s, each with its own `APIObject</code>.</p>
</div>
<div class="paragraph">
<p>You are now ready to run, so right-click <code>SelectionSuite</code> and choose Clean and Build, and then right-click again and choose Run from the popup menu. When NetBeans starts, use your Open Editor action on the File menu to open an instance of <code>MyEditor</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/result-2-60.png" alt="result 2 60">
</div>
</div>
<div class="paragraph">
<p>Notice that as you click and/or expand different nodes, the viewer and the property sheet update themselves to show the <code>APIObject</code> belonging to each node, as shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/result-1-60.png" alt="result 1 60">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exploring_explorer">Exploring Explorer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have the above code, it can be interesting to explore some of the other components available in NetBeans, which can also render a <code>Node</code> and it&#8217;s children. You can do this simply by opening <code>MyEditor</code> in the form editor and changing the Custom Creation Code property to use a different component. For some of these you will need to replace the <code>JScrollPane</code> with a different type of component (if it seems easier, just delete the <code>JScrollPane</code> in the form editor, and add the code <code>add (new BeanTreeView(), BorderLayout.CENTER)</code> to the constructor. Some of the options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ListView</strong>—display nodes in a JList (you can set how deep into the Node hierarchy it should go)</p>
</li>
<li>
<p><strong>TreeTableView</strong>—a tree-table—a table whose leftmost column is a tree</p>
</li>
<li>
<p><strong>ChoiceView</strong>—a combo-box view of a Node and its children</p>
</li>
<li>
<p><strong>MenuView</strong>—a <code>JButton</code> that pops up a menu of a Node and its children</p>
</li>
<li>
<p><strong>IconView</strong>—a component that shows Node children in equally spaced icons, rather like Windows Explorer</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handling_multi_selection">Handling Multi-Selection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may have noticed that <code>BeanTreeView</code>, the basic tree view for Nodes, lets you select more than one Node at a time. Therefore, it might be desirable to modify your viewer component to display information about all of the selected nodes:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Open <code>org.myorg.myviewer.MyViewerTopComponent</code> from the My Viewer project, in the editor.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Replace the <code>resultChanged()</code> listener method with the following code:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public void resultChanged(LookupEvent lookupEvent) {
    Lookup.Result r = (Lookup.Result) lookupEvent.getSource();
    Collection c = r.allInstances();
    if (!c.isEmpty()) {
        StringBuffer text1 = new StringBuffer();
        StringBuffer text2 = new StringBuffer();
        for (Iterator i = c.iterator(); i.hasNext();) {
            APIObject o = (APIObject) i.next();
            text1.append (o.getIndex());
            text2.append (o.getDate().toString());
            if (i.hasNext()) {
                text1.append (',');
                text2.append (',');
            }
        }
        jLabel1.setText (text1.toString());
        jLabel2.setText (text2.toString());
    } else {
        jLabel1.setText("[no selection]");
        jLabel2.setText ("");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So you can see that, not only does the <code>Lookup</code> created by <code>ExplorerUtils</code> handle proxying the <code>Lookup</code> of whatever <code>Node</code> is selected; it also correctly proxies the `Lookup`s of multiple `Node`s.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/multi-selection-60.png" alt="multi selection 60">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_review_of_concepts">Review of Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To review a few of the concepts you&#8217;ve covered here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>Lookup</code> is like a <code>Map</code> where the keys are classes and the values are instances of those classes. It&#8217;s also useful to think of a <code>Lookup</code> as a <em>place</em> that objects swim into and out of, and you can subscribe to be notified of the arrival and departure of specific types of object.</p>
</li>
<li>
<p><code>Utilities.actionsGlobalContext()</code> is a <code>Lookup</code> which proxies the <code>Lookup</code> of whichever <code>TopComponent</code> currently has keyboard focus, and fires changes when focus moves to a different component.</p>
</li>
<li>
<p><code>Node`s are presentation objects that can be displayed in a tree, list or other component from the Explorer API. Each `Node</code> has its own <code>Lookup</code>.</p>
</li>
<li>
<p>Just as <code>Utilities.actionsGlobalContext</code> proxies the <code>Lookup</code> of TopComponents (so you can just ask that lookup for a result and listen for changes in it, rather than having to track focus changes yourself), so also the <code>Lookup</code> created by <code>ExplorerUtils.createLookup(ExplorerManager, ActionMap)</code> will create a <code>Lookup</code> which automatically proxies the <code>Lookup</code> of whatever <code>Node</code>(s) are selected in an Explorer component.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Send Us Your Feedback</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So you now have a view that can display <code>Node`s that expose some underlying model object (`APIObject</code> in your case). In the  <a href="nbm-nodesapi2.html">next tutorial</a>, you will cover how to enhance the Nodes you have already created with actions, properties and more colorful display names.</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/67/nbm-selection-2.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="/plugins/index.html">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
