
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Lexer Migration Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lexer Migration Guide - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Lexer Migration Guide">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 15</h1>
            <p><a class="button success" href="/download/nb15/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Lexer Migration Guide</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/68/nbm-mfsyntax_migrate_lexer.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_setting_up">Setting Up</a>
<ul class="sectlevel2">
<li><a href="#_installing_the_software">Installing the Software</a></li>
<li><a href="#_installing_the_sample">Installing the Sample</a></li>
</ul>
</li>
<li><a href="#_migrating_the_module">Migrating the Module</a>
<ul class="sectlevel2">
<li><a href="#_migrating_the_tokens">Migrating the Tokens</a></li>
<li><a href="#_migrating_the_lexical_analyzer">Migrating the Lexical Analyzer</a></li>
<li><a href="#_migrating_the_bundle_properties_file">Migrating the  <code>Bundle.properties</code>  File</a></li>
<li><a href="#_migrating_the_xml_layer">Migrating the XML Layer</a></li>
<li><a href="#_finishing_up">Finishing Up</a></li>
</ul>
</li>
<li><a href="#_building_and_installing_the_module">Building and Installing the Module</a>
<ul class="sectlevel2">
<li><a href="#_installing_and_testing_the_netbeans_module">Installing and Testing the NetBeans Module</a></li>
</ul>
</li>
<li><a href="#_next_steps">Next Steps</a></li>
<li><a href="#_versioning">Versioning</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Please note that this tutorial is <strong>obsolete</strong>. Go here instead:</p>
</div>
<div class="paragraph">
<p><a href="http://wiki.netbeans.org/How_to_create_support_for_a_new_language">http://wiki.netbeans.org/How_to_create_support_for_a_new_language</a></p>
</div>
<div class="paragraph">
<p>This document shows you how to migrate from an implementation of  <code>org.netbeans.editor.Syntax</code>  to an implementation of  <code>org.netbeans.api.lexer</code> . At the end of this document, you will have a NetBeans module that provides syntax highlighting for Manifest files. You will have tokens for the 'name', 'colon', and 'value' in manifest entries and each will have a distinct color, as illustrated below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mf_syntax_result1.png" alt="mf syntax result1">
</div>
</div>
<div class="paragraph">
<p>The starting point of this migration guide is the  <a href="https://netbeans.apache.org/tutorials/nbm-mfsyntax.html">NetBeans Manifest File Syntax Highlighting Module Tutorial</a>, which implements the  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-modules-editor-lib/org/netbeans/editor/Syntax.html">org.netbeans.editor.Syntax</a></code>  class. To migrate from an implementation of that class to an implementation of  <code>org.netbeans.api.lexer</code> , you will need to replace the files listed in the left column in the table below with those listed in the right column:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Pre-Lexer</strong></th>
<th class="tableblock halign-left valign-top"><strong>Lexer</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestEditorKit.java</code>  extends  <code> <a href="https://bits.netbeans.org/dev/javadoc/org-netbeans-modules-editor/org/netbeans/modules/editor/NbEditorKit.html">NbEditorKit</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestEditorKit.java</code>  extends  <code>LexerEditorKit</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestSyntax.java</code>  extends  <code>org.netbeans.editor.Syntax</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestLexer.java</code>  extends  <code>org.netbeans.spi.lexer.Lexer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestTokenContext.java</code>  extends  <code>org.netbeans.editor.TokenContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestTokenId.java</code>  extends  <code>org.netbeans.api.lexer.TokenId</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestEditorKit.java</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not needed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManifestSettingsInitializer.java</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not needed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.netbeans.modules.manifestsupport.options</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not needed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following topics are covered in this document:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#setting-up">Setting Up</a></p>
</li>
<li>
<p><a href="#installing-software">Installing the Software</a></p>
</li>
<li>
<p><a href="#installing-sample">Installing the Sample</a></p>
</li>
<li>
<p><a href="#migrating">Migrating the Module</a></p>
</li>
<li>
<p><a href="#tokenizing">Migrating the Tokens</a></p>
</li>
<li>
<p><a href="#syntaxing">Migrating the Lexical Analyzer</a></p>
</li>
<li>
<p><a href="#bundle">Migrating the Bundle.properties File</a></p>
</li>
<li>
<p><a href="#layer">Migrating the XML Layer</a></p>
</li>
<li>
<p><a href="#building">Building and Installing the Module</a></p>
</li>
<li>
<p><a href="#explore">Exploring Further</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the software is installed, the migration can be complete in 15 minutes.</p>
</div>
<div class="paragraph">
<p>For more information on creating NetBeans plug-in modules, see the  <a href="https://netbeans.apache.org/platform/index.html"> NetBeans Development Project home</a> on the NetBeans website. If you have questions, visit the  <a href="http://wiki.netbeans.org/wiki/view/NetBeansDeveloperFAQ">NetBeans Developer FAQ</a> or use the feedback link at the top of this page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up">Setting Up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you start writing the module, you have to make sure you have all of the necessary software. In addition, you might want to play with the sample before building it yourself.</p>
</div>
<div class="sect2">
<h3 id="_installing_the_software">Installing the Software</h3>
<div class="paragraph">
<p>Before you begin, you need to install the following software on your computer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NetBeans IDE 5.5, together with the Lexer modules provided by the Update Center (to come) or Milestone 5 (or later) of NetBeans IDE 6.0</p>
</li>
<li>
<p>Java Standard Development Kit (JDK™) version 1.4.2 ( <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">download</a>) or 5.0 ( <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">download</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_installing_the_sample">Installing the Sample</h3>
<div class="paragraph">
<p>Take the following steps to install the sample:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Download and unzip  <a href="https://netbeans.org/files/documents/4/583/ManifestSupport.zip">ManifestSupport.zip</a>.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the IDE, choose File &gt; Open Project and browse to the folder that contains the unzipped file. Open the module project. The files that we will deal with are in the main package,  <code>org.netbeans.modules.manifestsupport</code> :</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mf_syntax_migrate1.png" alt="mf syntax migrate1">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Right-click the project node and choose Project Properties. In the Sources panel, change the source level to 1.5. In the Libraries panel, add dependencies on Lexer and Lexer to Editor Bridge and Plain Editor Library.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migrating_the_module">Migrating the Module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After taking the preparatory steps above, you need to change four files and delete several others. The files to be changed are listed below, with explanations after the code listing and, in some cases, within the code listings themselves. After that a list of files to be deleted is provided.</p>
</div>
<div class="sect2">
<h3 id="_migrating_the_tokens">Migrating the Tokens</h3>
<div class="paragraph">
<p>Do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><strong>Migrate the file.</strong> Refactor  <code>ManifestTokenContext</code>  to  <code>ManifestTokenId</code> . Replace the code with the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.manifestsupport;

import java.util.Collection;
import java.util.EnumSet;
import java.util.Map;
import org.netbeans.api.lexer.Language;
import org.netbeans.api.lexer.TokenId;
import org.netbeans.spi.lexer.LanguageHierarchy;
import org.netbeans.spi.lexer.Lexer;
import org.netbeans.spi.lexer.LexerRestartInfo;

/**
 *
 * @author Administrator
 */
public enum ManifestTokenId implements TokenId {

    // The token ids may be assigned to categories and the coloring information
    // may then be assigned directly to a tokenId.name() e.g. "NAME"
    // or to a token category e.g. "separator"
    NAME(null),
    COLON("separator"),
    VALUE(null),
    END_OF_LINE("whitespace");

    private String primaryCategory;

    private ManifestTokenId(String primaryCategory) {
        this.primaryCategory = primaryCategory;
    }

    public String primaryCategory() {
        return primaryCategory;
    }

    private static final Language&lt;ManifestTokenId&gt; language = new LanguageHierarchy&lt;ManifestTokenId&gt;() {

        protected String mimeType() {
            return "text/x-java-jar-manifest";
        }

        protected Collection&lt;ManifestTokenId&gt; createTokenIds() {
            return EnumSet.allOf(ManifestTokenId.class);
        }

        protected Map&lt;String,Collection&lt;ManifestTokenId&gt;&gt; createTokenCategories() {
            return null;
        }

        protected Lexer&lt;ManifestTokenId&gt; createLexer(LexerRestartInfo&lt;ManifestTokenId&gt; info) {
            return new ManifestLexer(info);
        }

    }.language();

    public static Language&lt;ManifestTokenId&gt; language() {
        return language;
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><strong>Understand the file.</strong> This Java class specifies a token for each item in the Manifest file with which we want to work. Each distinct item in a Manifest file is a token: 'NAME', 'COLON', and 'VALUE'. In addition, there is also a token for the end of the line, because we need to work with the end of the line—the end of the line determines where a value ends and the next name begins. We can also assign tokens to categories and then bind colors to categories. For example, above COLON is assigned to the category 'separator', while END_OF_LINE is assigned to the category 'whitespace'. If the example was not so simple, we would probably assign multiple tokens to the same category, which is superfluous here.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_migrating_the_lexical_analyzer">Migrating the Lexical Analyzer</h3>
<div class="paragraph">
<p>Do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><strong>Migrate the file.</strong> Refactor  <code>ManifestSyntax</code>  to  <code>ManifestLexer</code> . Replace the default code with the following:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package org.netbeans.modules.manifestsupport;

import org.netbeans.api.lexer.Token;
import org.netbeans.spi.lexer.Lexer;
import org.netbeans.spi.lexer.LexerInput;
import org.netbeans.spi.lexer.LexerRestartInfo;
import org.netbeans.spi.lexer.TokenFactory;

public class ManifestLexer implements Lexer&lt;ManifestTokenId&gt; {

    private static final int EOF = LexerInput.EOF;

    // Lexer internal states - preferably small integers for more compact token storage
    private static final int INIT = 0;
    private static final int AFTER_COLON = 1;
    private static final int AFTER_NAME = 2;

    private LexerInput input;

    private TokenFactory&lt;ManifestTokenId&gt; tokenFactory;

    private int state;

    public Object state() {
		// autoconversion uses Integer.valueOf() which caches &lt;-127,127&gt;
        return state;
    }

    public ManifestLexer(LexerRestartInfo&lt;ManifestTokenId&gt; info) {
        this.input = info.input();
        this.tokenFactory = info.tokenFactory();
		this.state = (info.state() != null) ? (Integer)info.state() : INIT;
    }

    public Token&lt;ManifestTokenId&gt; nextToken() {
        int c = input.read();
        switch (state) {
            case INIT:
                return nextTokenInit(c);
            case AFTER_COLON:
                return nextTokenAfterColon(c);
            case AFTER_NAME:
                return nextTokenAfterName(c);
            default:
                throw new IllegalStateException();
        }
    }

    private Token&lt;ManifestTokenId&gt; nextTokenInit(int c) {
        switch (c) {
            case ':': // ":"
                state = AFTER_COLON;
                return token(ManifestTokenId.COLON);
            case '\r':
                input.consumeNewline(); // continue to '\n' handling
            case '\n':
                //state = INIT;
                return token(ManifestTokenId.END_OF_LINE);
            case EOF: // no chars -&gt; finish lexing by returning null
                return null;
            default: // Name follows
                return finishName(c);
        }
    }

    private Token&lt;ManifestTokenId&gt; nextTokenAfterColon(int c) {
        switch (c) {
            case ':': // ":"
                state = AFTER_COLON;
                return token(ManifestTokenId.COLON);
            case '\r':
                input.consumeNewline(); // continue to '\n' handling
            case '\n':
                state = INIT;
                return token(ManifestTokenId.END_OF_LINE);
            case EOF: // no chars -&gt; finish lexing by returning null
                return null;
            default:
                return finishValue(c);
        }
    }

    private Token&lt;ManifestTokenId&gt; nextTokenAfterName(int c) {
        switch (c) {
            case ':': // ":"
                state = AFTER_COLON;
                return token(ManifestTokenId.COLON);
            case '\r':
                input.consumeNewline(); // continue to '\n' handling
            case '\n':
                state = INIT;
                return token(ManifestTokenId.END_OF_LINE);
            case EOF: // no chars -&gt; finish lexing by returning null
                return null;
            default:
                throw new IllegalStateException();
        }
    }

    private Token&lt;ManifestTokenId&gt; finishName(int c) {
        while (true) {
            switch (c) {
                case ':':
                case '\r':
                case '\n':
                case EOF:
                    input.backup(1);
                    state = AFTER_NAME;
                    return token(ManifestTokenId.NAME);
            }
            c = input.read();
        }
    }

    private Token&lt;ManifestTokenId&gt; finishValue(int c) {
        while (true) {
            switch (c) {
                case '\r':
                case '\n':
                case EOF:
                    input.backup(1);
                    state = INIT;
                    return token(ManifestTokenId.VALUE);
            }
            c = input.read();
        }
    }

    private Token&lt;ManifestTokenId&gt; token(ManifestTokenId id) {
        Token&lt;ManifestTokenId&gt; t = tokenFactory.createToken(id);
        return t;
    }

    public void release() {
    }

}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><strong>Understand the file.</strong> This Java class tells the IDE which part of the text is which token. It does this by starting in an initial state and sequentially looking at each character in the text and deciding if it stays in that state, moves to another state, or announces that a token was found.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_migrating_the_bundle_properties_file">Migrating the  <code>Bundle.properties</code>  File</h3>
<div class="paragraph">
<p>Your  <code>Bundle.properties</code>  file, which is in the same package as the previous two classes, should have this content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">#Layer.xml entries for fonts &amp;amp; colors in Options window:
NetBeans=NetBeans
NAME=Name
VALUE=Value
COLON=Colon
separator=Separator
whitespace=Whitespace</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_migrating_the_xml_layer">Migrating the XML Layer</h3>
<div class="paragraph">
<p>This is how your new Lexer implementation should be registered:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Editors"&gt;
    &lt;folder name="text"&gt;
        &lt;folder name="x-java-jar-manifest"&gt;
            &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.myorg.manifestfiletype.Bundle"/&gt;
            &lt;folder name="NetBeans"&gt;
                &lt;folder name="Defaults"&gt;
                    &lt;file name="coloring.xml" url="resources/NetBeans-Manifest-fontsColors.xml"&gt;
                        &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.manifestsupport.Bundle"/&gt;
                    &lt;/file&gt;
                &lt;/folder&gt;
            &lt;/folder&gt;
            &lt;folder name="CityLights"&gt;
                &lt;folder name="Defaults"&gt;
                    &lt;file name="coloring.xml" url="resources/CityLights-Properties-fontsColors.xml"&gt;
                        &lt;attr name="SystemFileSystem.localizingBundle" stringvalue="org.netbeans.modules.manifestsupport.Bundle"/&gt;
                    &lt;/file&gt;
                &lt;/folder&gt;
            &lt;/folder&gt;
            &lt;file name="language.instance"&gt;
                &lt;attr name="instanceCreate" methodvalue="org.netbeans.modules.manifestsupport.ManifestTokenId.language"/&gt;
                &lt;attr name="instanceOf" stringvalue="org.netbeans.api.lexer.Language"/&gt;
            &lt;/file&gt;
            &lt;file name="EditorKit.instance"&gt;
                &lt;attr name="instanceCreate" methodvalue="org.netbeans.modules.lexer.editorbridge.LexerEditorKit.create"/&gt;
                &lt;attr name="instanceClass" stringvalue="org.netbeans.modules.lexer.editorbridge.LexerEditorKit"/&gt;
            &lt;/file&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/folder&gt;

&lt;folder name="OptionsDialog"&gt;
    &lt;folder name="PreviewExamples"&gt;
        &lt;folder name="text"&gt;
            &lt;file name="x-java-jar-manifest" url="resources/ManifestExample"/&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_finishing_up">Finishing Up</h3>
<div class="paragraph">
<p>Do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p><strong>Delete  <code>ManifestEditorKit</code> .</strong> You do not need this anymore, because of the LexerEditorKit registered in the XML layer. Right-click the  <code>ManifestSettingsInitializer.java</code>  file and choose Delete.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><strong>Delete  <code>ManifestSettingsInitializer</code> .</strong> You do not need this anymore, because initizialiatio is done through the XML layer. Right-click the  <code>ManifestSettingsInitializer.java</code>  file and choose Delete.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><strong>Change the installer.</strong> Previously, you used a module installer to call the  <code>ManifestSettingsInitializer</code> . You no longer have it, so there is no need to call it. In  <code>RestoreColoring.java</code> , delete the  <code>addInitializer()</code>  method and remove it from the  <code>restored()</code>  method.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><strong>Delete the Options package.</strong> Delete  <code>org.netbeans.modules.manifestsupport.options</code> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_and_installing_the_module">Building and Installing the Module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The IDE uses an Ant build script to build and install your module. The build script is created for you when you create the module project.</p>
</div>
<div class="sect2">
<h3 id="_installing_and_testing_the_netbeans_module">Installing and Testing the NetBeans Module</h3>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>In the Projects window, right-click the  <code>ManifestSupport</code>  project and choose Install/Reload in Target Platform.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The module is built and installed in the target IDE or Platform. The target IDE or Platform opens so that you can try out your new module. The default target IDE or Platform is the installation used by the current instance of the development IDE. Note that when you run your module, you will be using a temporary test user directory, not the development IDE&#8217;s user directory.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Choose File &gt; New Project (Ctrl-Shift-N). Create a new Java application project or a new Plug-in Module project. Open the project&#8217;s Manifest file in the Source Editor and notice the syntax highlighting.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html">Send Us Your Feedback</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about creating and developing NetBeans modules, see the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/platform/index.html">Module Developer&#8217;s Resources</a></p>
</li>
<li>
<p><a href="https://bits.netbeans.org/dev/javadoc/">NetBeans API List (Current Development Version)</a></p>
</li>
<li>
<p><a href="http://apisupport.netbeans.org/new-apisupport.html">New API Support-Proposal</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_versioning">Versioning</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Version</strong></th>
<th class="tableblock halign-left valign-top"><strong>Date</strong></th>
<th class="tableblock halign-left valign-top"><strong>Changes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 November 2006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Initial version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 December 2006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Removed editorkit. Not necessary anymore. LexerEditorkit is declared in layer XML.
* Added migration of Bundle.properties and XML layer.
* Changed token ID class and Lexer class, to reflect latest state of the implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13 December 2006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Removed the Options package. (Forgot to do that yesterday.)
* Small tweaks.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/68/nbm-mfsyntax_migrate_lexer.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.asciidoc">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2022 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
