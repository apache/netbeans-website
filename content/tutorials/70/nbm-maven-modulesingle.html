
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Creating a NetBeans Module Using Maven</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creating a NetBeans Module Using Maven - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Creating a NetBeans Module Using Maven">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 13</h1>
            <p><a class="button success" href="/download/nb13/nb13.html">Download</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Creating a NetBeans Module Using Maven</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/70/nbm-maven-modulesingle.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_using_maven_with_the_ide">Using Maven with the IDE</a>
<ul class="sectlevel2">
<li><a href="#_configuring_maven_options">Configuring Maven Options</a></li>
<li><a href="#_viewing_the_maven_repositories">Viewing the Maven Repositories</a></li>
</ul>
</li>
<li><a href="#_creating_the_netbeans_platform_module_project">Creating the NetBeans Platform Module Project</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_module">Creating the Module</a></li>
<li><a href="#_creating_the_dataobject_class">Creating the DataObject Class</a></li>
</ul>
</li>
<li><a href="#_building_and_running_the_project">Building and Running the Project</a>
<ul class="sectlevel2">
<li><a href="#_specifying_the_location_of_the_netbeans_installation">Specifying the Location of the NetBeans Installation</a></li>
<li><a href="#_running_the_module">Running the Module</a></li>
</ul>
</li>
<li><a href="#_adding_an_action_for_the_file_type">Adding an Action for the File Type</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_action_class">Creating the Action Class</a></li>
<li><a href="#_assigning_a_behavior_to_the_action">Assigning a Behavior to the Action</a></li>
</ul>
</li>
<li><a href="#_creating_a_window_for_the_file_type">Creating a Window for the File Type</a></li>
<li><a href="#_see_also">See Also</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document demonstrates how to create a NetBeans Module project from a Maven archetype and build and install the module in your installation of the IDE. In this tutorial you will create a simple module project that when installed enables you to create a new file type in your projects. The module also creates a menu action that is available when you the new file type is selected.</p>
</div>
<div class="paragraph">
<p>This document is based on the Ant-based  <a href="https://netbeans.apache.org/tutorials/nbm-filetype.html">NetBeans File Type Tutorial</a> and illustrates some of the differences between using Ant and Maven to develop NetBeans modules. After you understand some of the differences, you can easily proceed through other tutorials on the  <a href="https://netbeans.apache.org/kb/docs/platform.html">NetBeans Platform Learning Trail</a>.</p>
</div>
<div class="paragraph">
<p>If you are new to the NetBeans Platform, you might want to watch the the screencast series  <a href="https://netbeans.apache.org/tutorials/nbm-10-top-apis.html">Top 10 NetBeans APIs</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You do not need to download a separate version of the NetBeans Platform to develop applications for the NetBeans Platform. Typically, you develop the applications and modules in the NetBeans IDE and then only include the modules that are necessary to run the NetBeans Platform and your application.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before starting this tutorial you may want to familiarize yourself with the following documentation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">Best Practices for Apache Maven in NetBeans 6.x</a></p>
</li>
<li>
<p><a href="http://www.sonatype.com/books/maven-book/reference/introduction.html">Chapter 1. Introducing Apache Maven</a> (from  <a href="http://www.sonatype.com/books/maven-book/reference/public-book.html">Maven: The Definitive Guide</a>)</p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/java/gui-functionality.html">Introduction to GUI Building</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_maven_with_the_ide">Using Maven with the IDE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If this is your first Maven project you will want to familiarize yourself with the Maven configuration settings and the Maven Repository Browser.</p>
</div>
<div class="sect2">
<h3 id="_configuring_maven_options">Configuring Maven Options</h3>
<div class="paragraph">
<p>You can use the Maven tab in the Options window to configure the behavior of Maven in the IDE and to check that your configuration is correct.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Select the Miscellaneous category in the Options window and click the Maven tab.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Specify the location of your local Maven installation (requires 2.0.9 or newer).</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Check that the location of the local Maven repository is correct.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In most cases, if your Maven configuration is typical the information in the Options window should already be correct.</p>
</div>
<div class="paragraph">
<p><strong>Note.</strong> Maven support is activated as part of the Java SE feature set. If the Maven tab is not available in the Options window, confirm that Java SE is activated by creating a Java application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_viewing_the_maven_repositories">Viewing the Maven Repositories</h3>
<div class="paragraph">
<p>The artifacts that are used by Maven to build all your projects are stored in your local Maven repository. When an artifact is declared as a project dependency, the artifact is downloaded to your local repository from one of the registered remote repositories.</p>
</div>
<div class="paragraph">
<p>The NetBeans repository and several well-known indexed Maven repositories are registered and listed in the Repository Browser window by default. The NetBeans repository contains most of the public artifacts necessary for you to build your project. You can use the Maven Repository Browser to view the contents of your local and remote repositories. You can expand the Local Repository node to see the artifacts that are present locally. The artifacts listed under the NetBeans repository nodes can be added as project dependencies, but not all of them are present locally. They are only added to the Local Repository when they are declared as project dependencies.</p>
</div>
<div class="paragraph">
<p>To open the Maven Repository Browser:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Choose Window &gt; Other &gt; Maven Repository Browser from the main menu.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart68_maven-nbm-netbeans-repo.png" alt="maven quickstart68 maven nbm netbeans repo">
</div>
<div class="title">Figure 1. Screenshot of Maven Repository Browser</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_netbeans_platform_module_project">Creating the NetBeans Platform Module Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section you create a NetBeans Module project and then create a DataObject for the new file type.</p>
</div>
<div class="sect2">
<h3 id="_creating_the_module">Creating the Module</h3>
<div class="paragraph">
<p>In this exercise you use the New Project wizard to create the NetBeans Module project from a Maven archetype.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Open the New Project wizard and choose Maven NetBeans Module in the Maven category. Click Next.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Type <strong>AbcFileType</strong> in Project Name. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you click Finish, the IDE creates the AbcFileType project. If you look at the POM you can see that Maven will use the  <code> <a href="http://maven.apache.org/plugins/maven-jar-plugin/">maven-jar-plugin</a></code>  to build the JAR and the  <code> <a href="http://bits.netbeans.org/mavenutilities/nbm-maven-plugin/">nbm-maven-plugin</a></code>  will package the JAR as a NetBeans Module ( <code>nbm</code> ).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;AbcFileType&lt;/artifactId&gt;
    *&lt;packaging&gt;nbm&lt;/packaging&gt;*
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;AbcFileType NetBeans Module&lt;/name&gt;
    ...
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                *&lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;*
                &lt;extensions&gt;true&lt;/extensions&gt;
            &lt;/plugin&gt;
            ...
            &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                *&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;*
                &lt;version&gt;2.2&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;!-- to have the jar plugin pickup the nbm generated manifest --&gt;
                    &lt;useDefaultManifestFile&gt;true&lt;/useDefaultManifestFile&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_dataobject_class">Creating the DataObject Class</h3>
<div class="paragraph">
<p>In this section you will use the New File Type wizard to create the files for creating and recognizing a new file type named  <code>.abc</code> . The wizard will create a  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-loaders/org/openide/loaders/DataObject.html">DataObject</a></code> , a MIME type resolver and a file template for  <code>abc</code>  files and modify  <code>layer.xml</code>  to add registration entries for the new file type.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the project node in the Projects window and choose New &gt; File Type.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the File Recognition panel, type <strong>text/x-abc</strong> for the MIME Type and <strong>.abc .ABC</strong> for the Filename Extension. Click Next.
image::images/maven-single_maven-single-new-filetype-wizard.png[title="New File Type wizard"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Type <strong>Abc</strong> as the Class Name Prefix.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click Browse and select a 16x16 pixel image file as the new file type&#8217;s icon. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can save this image  <code> <a href="images/maven-crud_abc16.png">abc16.png</a></code>  ( 
image::images/maven-crud_abc16.png[title="16x16"] ) to you system and specify the image in the wizard.</p>
</div>
<div class="paragraph">
<p>When you click Finish, the IDE creates the  <code>AbcDataObject</code>  class and copies your file type icon into the package in the  <code>src/main/resources</code>  under Other Sources.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_maven-single-projects1.png" alt="maven single maven single projects1">
</div>
<div class="title">Figure 2. Screenshot of Projects window</div>
</div>
<div class="paragraph">
<p>In the Projects window you can see that the wizard created the MIME type resolver ( <code>AbcResolver.xml</code> ) and template ( <code>AbcTemplate.abc</code> ) files in the  <code>src/main/resources</code>  directory.</p>
</div>
<div class="paragraph">
<p>For more details on the files that the IDE created, see  <a href="https://netbeans.apache.org/wiki/devfaqdataobject">What is a DataObject</a> and the section on  <a href="nbm-filetype.html#recognizing">Recognizing Abc Files</a> in the  <a href="nbm-filetype.html">NBM Filetype tutorial</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_and_running_the_project">Building and Running the Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section you will configure the module so that the module will be installed into the current version of the IDE. A new instance of the IDE will launch when you run the module.</p>
</div>
<div class="sect2">
<h3 id="_specifying_the_location_of_the_netbeans_installation">Specifying the Location of the NetBeans Installation</h3>
<div class="paragraph">
<p>By default, no target NetBeans installation is specified when you use the Maven archetype to create a NetBeans Platform module. You can build the project, but when you try to run the project before you set the installation directory you will see a build error similar to the following in the Output window.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_output-build-error.png" alt="maven single output build error">
</div>
<div class="title">Figure 3. Output window showing build error</div>
</div>
<div class="paragraph">
<p>To install and run the module in an installation of the IDE you need to edit the  <code>nbm-maven-plugin</code>  element in the POM to specify the path to the installation directory.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Expand the Project Files node and open  <code>pom.xml</code>  in the editor.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Specify the path to the NetBeans installation by modifying the  <code>nbm-maven-plugin</code>  element to add the  <code>&lt;netbeansInstallation&gt;</code>  element.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.2&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
    *&lt;configuration&gt;
       &lt;netbeansInstallation&gt;/home/me/netbeans-6.9&lt;/netbeansInstallation&gt;
    &lt;/configuration&gt;*
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note.</strong> The path needs to specify the directory that contains the  <code>bin</code>  directory containing the runnable file.</p>
</div>
<div class="paragraph">
<p>For example, on OS X the path might resemble the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;netbeansInstallation&gt;/Applications/NetBeans/NetBeans 6.9.app/Contents/Resources/NetBeans&lt;/netbeansInstallation&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_the_module">Running the Module</h3>
<div class="paragraph">
<p>After you specify the NetBeans IDE installation directory you can build and run the module.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the project node and choose Build.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Right-click the project node and choose Run.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you choose Run, the IDE launches with the new module installed. To confirm that the new module is working correctly, create a new project and then use the New File wizard to create an  <code>abc</code>  file. For example, you can create a simple Java application and then open the New File wizard and choose the Empty Abc file type in the Other category.</p>
</div>
<div class="paragraph">
<p>When you create the new file, specify a source package if you want to see the file in the Projects window. By default the wizard for the new file type will create the file at the root level of the project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_wizard-new-abc-file.png" alt="maven single wizard new abc file">
</div>
<div class="title">Figure 4. New File wizard with Abc file type</div>
</div>
<div class="paragraph">
<p>After you create the new abc file you can see that the file is displayed in the Projects window with the icon for the file type. If you open the file in the editor you can see that the contents of the new file were generated from the file template.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_maven-single-projects-abcfile.png" alt="maven single maven single projects abcfile">
</div>
<div class="title">Figure 5. Abc file in Projects window and open in editor</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_an_action_for_the_file_type">Adding an Action for the File Type</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section you will add an action that can be invoked from the popup menu when the user right-clicks the node of the new file type.</p>
</div>
<div class="sect2">
<h3 id="_creating_the_action_class">Creating the Action Class</h3>
<div class="paragraph">
<p>In this exercise you will use the New Action wizard to create a Java class that will perform an action for the new file type. The wizard will also register the class in the  <code>layer.xml</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the project node and choose New &gt; Action.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the Action Type panel, select Conditionally Enabled and type <strong>com.mycompany.abcfiletype.AbcDataObject</strong> for the Cookie Class. Click Next.
image::images/maven-single_maven-single-newactionwizard.png[title="New Action wizard"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Select Edit in the Category drop-down list and deselect Global Menu Item.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Select File Type Context Menu Item and select <strong>text/x-abc</strong> in the Content Type drop-down list. Click Next.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Type <strong>MyAction</strong> as the Class Name and <strong>My Action</strong> as the Display Name. Click Finish.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you click Finish,  <code>MyAction.java</code>  is created in the  <code>com.mycompany.abcfiletype</code>  source package. If you open  <code>layer.xml</code>  in the editor you can see that the wizard added details about the new action for the file type inside the  <code>Edit</code>  folder element inside the  <code>Actions</code>  folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Actions"&gt;
    &lt;folder name="Edit"&gt;
        *&lt;file name="com-mycompany-abcfiletype-MyAction.instance"&gt;*
            &lt;attr name="delegate" methodvalue="org.openide.awt.Actions.inject"/&gt;
            &lt;attr name="displayName" bundlevalue="com.mycompany.abcfiletype.Bundle#CTL_MyAction"/&gt;
            &lt;attr name="injectable" stringvalue="com.mycompany.abcfiletype.MyAction"/&gt;
            &lt;attr name="instanceCreate" methodvalue="org.openide.awt.Actions.context"/&gt;
            &lt;attr name="noIconInMenu" boolvalue="false"/&gt;
            &lt;attr name="selectionType" stringvalue="EXACTLY_ONE"/&gt;
            &lt;attr name="type" stringvalue="com.mycompany.abcfiletype.AbcDataObject"/&gt;
        &lt;/file&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The wizard also generated elements inside the  <code>Loaders</code>  and  <code>Factories</code>  folder elements that apply to the new file type. The menu actions for the  <code>abc</code>  file type are specified under  <code>Actions</code>  and the  <code>DataLoader</code>  is specified under  <code>Factories</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Loaders"&gt;
    &lt;folder name="text"&gt;
        *&lt;folder name="x-abc"&gt;
            &lt;folder name="Actions"&gt;
                &lt;file name="com-mycompany-abcfiletype-MyAction.shadow"&gt;*
                    &lt;attr name="originalFile" stringvalue="Actions/Edit/com-mycompany-abcfiletype-MyAction.instance"/&gt;
                    *&lt;attr name="position" intvalue="0"/&gt;*
                &lt;/file&gt;
                &lt;file name="org-openide-actions-CopyAction.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="Actions/Edit/org-openide-actions-CopyAction.instance"/&gt;
                    &lt;attr name="position" intvalue="400"/&gt;
                &lt;/file&gt;
                ...
            &lt;/folder&gt;
            *&lt;folder name="Factories"&gt;
                &lt;file name="AbcDataLoader.instance"&gt;*
                    &lt;attr name="SystemFileSystem.icon" urlvalue="nbresloc:/com/mycompany/abcfiletype/abc16.png"/&gt;
                    &lt;attr name="dataObjectClass" stringvalue="com.mycompany.abcfiletype.AbcDataObject"/&gt;
                    &lt;attr name="instanceCreate" methodvalue="org.openide.loaders.DataLoaderPool.factory"/&gt;
                    &lt;attr name="mimeType" stringvalue="text/x-abc"/&gt;
                &lt;/file&gt;
            &lt;/folder&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The position of My Action in the popup menu is specified by the  <code>position</code>  attribute ( <code>&lt;attr name="position" intvalue="0"/&gt;</code> ). The default is to assign the  <code>intvalue</code>  of the attribute of a new action to  <code>0</code>  which will make the action the topmost in the list. You can change the order by changing the  <code>intvalue</code> . For example, if you change the  <code>intvalue</code>  to  <code>200</code> , the My Action menu item will appear below the Open menu item (the Open action has an  <code>intvalue</code>  of  <code>100</code> ).</p>
</div>
</div>
<div class="sect2">
<h3 id="_assigning_a_behavior_to_the_action">Assigning a Behavior to the Action</h3>
<div class="paragraph">
<p>You now need to add the code for the action. In this example you will add some code that uses  <code>DialogDisplayer</code>  to open a dialog box when the action is invoked from the popup menu. To use  <code>DialogDisplayer</code>  you will also need to declare a direct dependency on  <code>org.openide.dialogs</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Modify the  <code>actionPerformed(ActionEvent ev)</code>  method in  <code>MyAction.java</code>  to open a dialog when My Action is invoked.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public void actionPerformed(ActionEvent ev) {
   *FileObject f = context.getPrimaryFile();
   String displayName = FileUtil.getFileDisplayName(f);
   String msg = "This file is " + displayName + ".";
   NotifyDescriptor nd = new NotifyDescriptor.Message(msg);
   DialogDisplayer.getDefault().notify(nd);*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Fix your imports and confirm that you import  <code><strong>org.openide.filesystems.FileObject</strong></code> . Save your changes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you fixed the imports you added an import statement for  <code>org.openide.DialogDisplayer</code> . You now need to declare the dependency on the  <code>org.openide.dialogs</code>  artifact a direct dependency instead of a transitive dependency.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Right-click the  <code>org.openide.dialogs</code>  JAR under the project&#8217;s Libraries node and choose Declare as Direct Dependency.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can now test the module to confirm that the new action works correctly.</p>
</div>
<div class="paragraph">
<p><strong>Note.</strong> To run the module you will first need to clean and build the module.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_maven-single-action-popup.png" alt="maven single maven single action popup">
</div>
<div class="title">Figure 6. Abc file in Projects window and open in editor</div>
</div>
<div class="paragraph">
<p>When you right-click on a node of the  <code>abc</code>  file type you will see that My Action is one of the items in the popup menu.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_window_for_the_file_type">Creating a Window for the File Type</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the new file type will open into a basic text editor. If you do not want to use an editor for the new file type, you can create a new window specifically for editing the new file type. You can then modify the window component to support other ways of editing the file, for example by making the window a visual editor. In this section you will create the new window component specifically for files of your new file type.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Right-click the project node and choose New &gt; Window.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Select <strong>editor</strong> from the dropdown list and select Open on Application Start. Click Next.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Type <strong>Abc</strong> as the Class Name Prefix. Click Finish.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Open  <code>AbcDataObject.java</code>  in the editor and modify the class constructor to use  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-loaders/org/openide/loaders/OpenSupport.html">OpenSupport</a></code>  instead of  <code>DataEditorSupport</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public AbcDataObject(FileObject pf, MultiFileLoader loader) throws DataObjectExistsException, IOException {
    super(pf, loader);
    CookieSet cookies = getCookieSet();
    *cookies.add((Node.Cookie) new AbcOpenSupport(getPrimaryEntry()));*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Create the  <code>AbcOpenSupport</code>  class that is called by the constructor.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Type Alt-Enter in the line containing the call to  <code>AbcOpenSupport</code>  to create  <code>AbcOpenSupport</code>  in the package  <code>com.mycompany.abcfiletype</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Modify  <code>AbcOpenSupport</code>  to extend  <code>OpenSupport</code>  and implement  <code>OpenCookie</code>  and  <code>CloseCookie</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">class AbcOpenSupport *extends OpenSupport implements OpenCookie, CloseCookie* {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Implement the abstract methods (Alt-Enter) and make the following changes to the class.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public AbcOpenSupport(*AbcDataObject.Entry entry*) {
        *super(entry);*
    }

    @Override
    protected CloneableTopComponent createCloneableTopComponent() {
        *AbcDataObject dobj = (AbcDataObject) entry.getDataObject();
        AbcTopComponent tc = new AbcTopComponent();
        tc.setDisplayName(dobj.getName());
        return tc;*
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Open  <code>AbcTopComponent</code>  in the editor and modify the class to extend  <code>CloneableTopComponent</code>  instead of  <code>TopComponent</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public final class AbcTopComponent extends *CloneableTopComponent* {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Change the class modifier from  <code>private</code>  to  <code>public</code> .<strong>public</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"> static AbcTopComponent instance;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Fix your imports and save your changes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can now try running the module again after cleaning and building the project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single_maven-single-newfile-window.png" alt="maven single maven single newfile window">
</div>
<div class="title">Figure 7. Abc file in Projects window and open in editor</div>
</div>
<div class="paragraph">
<p>When you open an abc file the file will now open in the new window instead of the basic editor.</p>
</div>
<div class="paragraph">
<p>This tutorial demonstrated how to create and run a NetBeans Module that you create from a Maven Archetype. You learned how to modify the project POM to specify the target NetBeans installation so that the Run command in the IDE will install the module and launch a new instance of the IDE. You also learned a little about how to work with file types and  <code>DataObjects</code> , but for more details you should look at the  <a href="https://netbeans.apache.org/tutorials/nbm-filetype.html">NetBeans File Type Tutorial</a>. For more examples on how to build NetBeans Platform applications and modules, see the tutorials listed in the  <a href="https://netbeans.apache.org/kb/docs/platform.html">NetBeans Platform Learning Trail</a>.</p>
</div>
<div class="paragraph">
<p><a href="http://netbeans.apache.org/community/mailing-lists.html"> Send Us Your Feedback</a></p>
</div>
<div class="paragraph">
<p> </p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information about creating and developing applications, see the following resources.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform.html">NetBeans Platform Learning Trail</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/">NetBeans API Javadoc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have any questions about the NetBeans Platform, feel free to write to the mailing list, <a href="mailto:dev@platform.netbeans.org">dev@platform.netbeans.org</a>, or view the  <a href="https://mail-archives.apache.org/mod_mbox/netbeans-dev/">NetBeans Platform mailing list archive</a>.</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/70/nbm-maven-modulesingle.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
