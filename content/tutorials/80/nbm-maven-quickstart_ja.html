
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Maven を使用した NetBeans プラットフォームクイックスタート</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Maven を使用した NetBeans プラットフォームクイックスタート - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Maven を使用した NetBeans プラットフォームクイックスタート">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="/blogs/index.html">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


    
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 18</h1>
            <p><a class="button success" href="/download/nb18/">Download</a></p>
        </div>
    </div>
</section>

    <div class='grid-container main-content tutorial'>
      <h1 class="sect0">Maven を使用した NetBeans プラットフォームクイックスタート</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/80/nbm-maven-quickstart_ja.adoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_maven_の構成">Maven の構成</a>
<ul class="sectlevel2">
<li><a href="#_maven_リポジトリの表示">Maven リポジトリの表示</a></li>
</ul>
</li>
<li><a href="#_netbeans_プラットフォームアプリケーションプロジェクトの作成">NetBeans プラットフォームアプリケーションプロジェクトの作成</a>
<ul class="sectlevel2">
<li><a href="#_プロジェクトの作成">プロジェクトの作成</a></li>
<li><a href="#_ブランド設定要素の変更">ブランド設定要素の変更</a></li>
</ul>
</li>
<li><a href="#_mavenwordengine_モジュールの作成">MavenWordEngine モジュールの作成</a>
<ul class="sectlevel2">
<li><a href="#_モジュールの作成">モジュールの作成</a></li>
<li><a href="#_モジュール_を_mavenplatformwordapp_の依存リソースに設定する">モジュール を MavenPlatformWordApp の依存リソースに設定する</a></li>
<li><a href="#_モジュールへのウィンドウコンポーネントの追加">モジュールへのウィンドウコンポーネントの追加</a></li>
<li><a href="#_ウィンドウコンポーネントの変更">ウィンドウコンポーネントの変更</a></li>
</ul>
</li>
<li><a href="#_textfilter_モジュールの作成">TextFilter モジュールの作成</a>
<ul class="sectlevel2">
<li><a href="#_モジュールの作成_2">モジュールの作成</a></li>
<li><a href="#_mavenplatformwordapp_の依存リソースとして_textfilter_モジュールを追加する">MavenPlatformWordApp の依存リソースとして TextFilter モジュールを追加する</a></li>
<li><a href="#_textfilter_モジュールへのインタフェースの追加">TextFilter モジュールへのインタフェースの追加</a></li>
<li><a href="#_モジュールの公開設定">モジュールの公開設定</a></li>
</ul>
</li>
<li><a href="#_myfilter_モジュールの作成">MyFilter モジュールの作成</a>
<ul class="sectlevel2">
<li><a href="#_モジュールの作成_3">モジュールの作成</a></li>
<li><a href="#_依存リソースとしての_textfilter_モジュールの追加">依存リソースとしての TextFilter モジュールの追加</a></li>
<li><a href="#_myfilter_モジュールの変更">MyFilter モジュールの変更</a></li>
<li><a href="#_mavenwordengine_モジュールの変更">MavenWordEngine モジュールの変更</a></li>
</ul>
</li>
<li><a href="#_textウィンドウコンポーネントへの_lookuplistener_および_instancecontent_の追加">「Text」ウィンドウコンポーネントへの LookupListener および InstanceContent の追加</a></li>
<li><a href="#_history_モジュールの作成">History モジュールの作成</a>
<ul class="sectlevel2">
<li><a href="#_historyモジュールのウィンドウコンポーネントの作成">「History」モジュールのウィンドウコンポーネントの作成</a></li>
<li><a href="#_historyウィンドウコンポーネントの変更">「History」ウィンドウコンポーネントの変更</a></li>
</ul>
</li>
<li><a href="#_アプリケーションの構築と実行">アプリケーションの構築と実行</a></li>
<li><a href="#_関連項目">関連項目</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://netbeans.apache.org/platform/"><strong>NetBeans プラットフォーム</strong></a>へようこそ!</p>
</div>
<div class="paragraph">
<p>このドキュメントは、構築フレームワークとして Maven を使用し、単純な NetBeans プラットフォームのアプリケーションおよびモジュールを作成する方法についての簡単なデモンストレーションです。このドキュメントでは、Maven 原型を使用して、NetBeans プラットフォームのアプリケーションおよびモジュールを作成します。Swing UI ツールキットおよび「Matisse」GUI ビルダーを使用して、モジュールのウィンドウコンポーネントを作成します。NetBeans プラットフォームのモジュール式の特長により、新しいモジュールを追加するだけで、ユーザーアプリケーションの機能を開発および拡張できます。</p>
</div>
<div class="paragraph">
<p>このドキュメントは Ant ベースの「 <a href="nbm-quick-start_ja.html">NetBeans プラットフォーム: NetBeans プラットフォームクイックスタート</a>」に基づいており、NetBeans プラットフォームのアプリケーション開発において、Ant を使用する場合と Maven を使用する場合の違いについていくつか説明します。Maven と Ant との相違点を理解すれば、「 <a href="https://netbeans.apache.org/kb/docs/platform_ja.html">NetBeans プラットフォームの学習</a>」のチュートリアルを容易に理解できるようになります。</p>
</div>
<div class="paragraph">
<p>NetBeans IDE 6.8 を使用している場合は、「 <a href="68/nbm-maven-quickstart.html">Maven を使用した NetBeans プラットフォーム 6.8 クイックスタート</a>」を参照してください。</p>
</div>
<div class="paragraph">
<p>NetBeans プラットフォームをはじめて使用する場合は、スクリーンキャストシリーズの「 <a href="https://netbeans.apache.org/tutorials/nbm-10-top-apis.html">NetBeans API のトップ 10</a>」を視聴いただくことをお勧めします。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
NetBeans プラットフォーム用のアプリケーション開発のために、別々のバージョンの NetBeans プラットフォームをダウンロードする必要はありません。通常、NetBeans IDE でアプリケーションおよびモジュールを開発し、NetBeans プラットフォームおよびアプリケーションを実行するのに必要なモジュールのみを追加します。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>このチュートリアルを開始する前に、必要に応じて次のドキュメントをお読みください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">NetBeans 6.x での Apache Maven のベストプラクティス</a></p>
</li>
<li>
<p><a href="http://www.sonatype.com/books/maven-book/reference/introduction.html">Chapter 1. Introducing Apache Maven</a> (『 <a href="http://www.sonatype.com/books/maven-book/reference/public-book.html">Maven: The Definitive Guide</a>』)</p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/java/gui-functionality_ja.html">GUI 構築入門</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_の構成">Maven の構成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>これがはじめての Maven プロジェクトである場合は、「オプション」ウィンドウで Maven の構成設定を確認します。このチュートリアルを完了するには、ローカルシステムに Maven がインストールされている必要があります。インストーラは  <a href="http://maven.apache.org/">Maven のサイト</a>からダウンロードできます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「オプション」ウィンドウの「その他」カテゴリを選択して、「Maven」タブをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Maven をインストールするローカルの場所を指定します (2.0.9 以降が必要)。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Maven のローカルリポジトリの場所が正しいことを確認します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「了解」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ほとんどの場合、Maven の設定が標準的であれば、「オプション」ウィンドウの情報はすでに正しいものになっています。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Maven サポートは、Java SE 機能セットの一部として有効になっています。「オプション」ウィンドウで「Maven」タブが使用できない場合は、Java アプリケーションを作成して Java SE が有効になっているか確認してください。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>IDE は、Maven SCM を使用して Maven アーティファクトのチェックアウトを行います。ソースのチェックアウトを行うために必要なすべてのクライアントが、ローカルマシンにインストールされていて正しく設定されているか確認することをお勧めします。</p>
</div>
<div class="paragraph">
<p>Maven SCM の詳細については、「 <a href="http://maven.apache.org/scm/index.html">Maven SCM のページ</a>」を参照してください。</p>
</div>
<div class="sect2">
<h3 id="_maven_リポジトリの表示">Maven リポジトリの表示</h3>
<div class="paragraph">
<p>Maven ですべてのプロジェクトを構築するために使用されるアーティファクトは、Maven のローカルリポジトリに格納されます。アーティファクトがプロジェクトの依存リソースとして宣言されると、そのアーティファクトは登録されたリモートリポジトリの 1 つからローカルリポジトリにダウンロードされます。</p>
</div>
<div class="paragraph">
<p>デフォルトで、NetBeans リポジトリおよびよく知られているインデックス付きの Maven リポジトリがいくつか登録され、リポジトリブラウザウィンドウに一覧表示されます。NetBeans リポジトリには、プロジェクトの構築に必要な、ほとんどの公開アーティファクトが含まれています。Maven リポジトリブラウザを使用すると、ローカルリポジトリとリモートリポジトリの内容を確認することができます。「ローカルリポジトリ」ノードを展開すると、ローカルにあるアーティファクトを表示できます。NetBeans リポジトリノードの下に一覧表示されているアーティファクトは、プロジェクトの依存リソースとして追加できますが、すべてのアーティファクトがローカルにあるわけではありません。これらはプロジェクトの依存リソースとして宣言されたときにだけ、ローカルリポジトリに追加されます。</p>
</div>
<div class="paragraph">
<p>Maven リポジトリブラウザを開くには、次の手順に従います。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>メインメニューから「ウィンドウ」&gt;「その他」&gt;「Maven リポジトリブラウザ」を選択します。</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart68_maven-nbm-netbeans-repo.png" alt="maven quickstart68 maven nbm netbeans repo">
</div>
<div class="title">Figure 1. Maven リポジトリブラウザのスクリーンショット</div>
</div>
<div class="paragraph">
<p>カーソルをアーティファクトの上に置くと、アーティファクトのコーディネートとともにツールチップが表示されます。ブラウザで、アーティファクトの JAR ファイルをダブルクリックすると、アーティファクトについての追加の詳細情報を確認できます。</p>
</div>
<div class="paragraph">
<p>Maven リポジトリブラウザのツールバーにある「検索」ボタンをクリックするか、メインツールバーにあるクイック検索のテキストフィールドを使用すると、アーティファクトを検索できます。</p>
</div>
<div class="paragraph">
<p>IDE での Maven のクラスパス依存リソースの管理と、Maven リポジトリの操作の詳細については、「 <a href="http://wiki.netbeans.org/MavenBestPractices">NetBeans 6.x での Apache Maven のベストプラクティス</a>」の「 <a href="http://wiki.netbeans.org/MavenBestPractices#Dependency_management">依存リソースの管理</a>」の節を参照してください。</p>
</div>
<div class="paragraph">
<p>Artifact Viewer の使用方法のデモンストレーションを確認するには、「 <a href="https://netbeans.apache.org/kb/docs/java/maven-dependencies-screencast.html">Maven 依存リソースの操作</a>」のスクリーンキャストを参照してください。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_netbeans_プラットフォームアプリケーションプロジェクトの作成">NetBeans プラットフォームアプリケーションプロジェクトの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この節では、「新規プロジェクト」ウィザードを使用して、Maven 原型から NetBeans アプリケーションを作成します。このウィザードにより、NetBeans プラットフォームでアプリケーションを開発するために必要な Maven モジュールプロジェクトが作成されます。このウィザードでは、アプリケーションプロジェクトで NetBeans モジュールを作成することもできますが、このチュートリアルでは各モジュールを個々に作成します。</p>
</div>
<div class="sect2">
<h3 id="_プロジェクトの作成">プロジェクトの作成</h3>
<div class="paragraph">
<p>「新規プロジェクト」ウィザードを使用して NetBeans プラットフォームアプリケーションを作成するには、次の手順を実行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択し、「新規プロジェクト」ウィザードを開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Maven」カテゴリから「Maven NetBeans アプリケーション」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクト名」に「<strong>MavenPlatformWordApp</strong>」と入力し、「プロジェクトの場所」を設定します。「完了」をクリックします。
image::images/maven-quickstart_maven-newproject.png[title="「新規プロジェクト」ウィザードのスクリーンショット"]</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
これが Maven を使用した最初の NetBeans プラットフォームアプリケーションである場合、IDE が必要なすべてのアーティファクトを NetBeans リポジトリからダウンロードする必要があるため、プロジェクト作成まで少し時間がかかることがあります。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>「完了」をクリックすると、デフォルトで IDE が次のような Maven プロジェクトタイプを作成します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>*NetBeans Platform Application。*このプロジェクトはプラットフォームアプリケーションのコンテナプロジェクトです。このプロジェクトに、包含する各モジュールおよびプロジェクトのリポジトリの場所が一覧表示されます。このプロジェクトにソースは含まれません。IDE は、このプロジェクトのサブディレクトリに、ソースおよびリソースを含むモジュールを生成します。</p>
</li>
<li>
<p>*NetBeans Platform based application。*このプロジェクトは、アプリケーションをコンパイルするために必要なアーティファクト (ソース) を指定します。必要な依存リソース (IDE アーティファクト、モジュールアーティファクト) は、このプロジェクトの  <code>pom.xml</code>  ファイルで指定されます。「ライブラリ」ノードを展開すると、NetBeans プラットフォームのアプリケーションに必要なライブラリを確認できます。</p>
</li>
<li>
<p>*Platform application branding resources。*このプロジェクトには、アプリケーションのブランド設定に使用されるリソースが含まれています。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>すべての Maven プロジェクトにおいて、 <code>pom.xml</code>  ファイル (POM) は「プロジェクト」ウィンドウの「プロジェクトファイル」ノードの下にあります。NetBeans プラットフォームアプリケーションプロジェクトの POM を見ると、ウィザードによって作成された別の 2 つのモジュールが、アプリケーションのモジュールとして一覧表示されているのが確認できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;modules&gt;
   &lt;module&gt;branding&lt;/module&gt;
   &lt;module&gt;application&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ブランド設定要素の変更">ブランド設定要素の変更</h3>
<div class="paragraph">
<p>ブランド設定モジュールは、プラットフォームアプリケーションの構築時に使用されるブランド設定リソースを指定します。ブランド設定ダイアログでアプリケーションのブランド設定プロパティーを修正することで、名前、スプラッシュ画面、およびテキスト要素の値を簡単に変更できます。</p>
</div>
<div class="paragraph">
<p>NetBeans プラットフォームアプリケーションを原型から作成する場合、アプリケーションのデフォルト名はアプリケーションのアーティファクト ID になります。この課題では、ブランド設定ウィザードを使用して、アプリケーション名の変更およびスプラッシュ画面のデフォルト画像の置き換えを行います。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
ブランド設定リソースを変更するには、IDE によってブランド設定モジュールが構築されている必要があります。
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>Platform application branding resources</strong>」モジュールを右クリックして、「ブランド設定」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「基本」タブで、「アプリケーションタイトル」を「<strong>My Maven Platform Word App</strong>」に変更します。
image::images/maven-quickstart_maven-branding1.png[title="「新規プロジェクト」ウィザードのスクリーンショット"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「スプラッシュ画面」タブをクリックし、スプラッシュ画面のデフォルトの画像の隣にある「参照」ボタンをクリックして、別の画像を指定します。「了解」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>次の画像をローカルシステムにコピーして、ブランド設定ダイアログにスプラッシュ画面の画像として指定することもできます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart68_splash.gif" alt="maven quickstart68 splash">
</div>
<div class="title">Figure 2. デフォルトのスプラッシュ画像の例</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mavenwordengine_モジュールの作成">MavenWordEngine モジュールの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この節では、MavenWordEngine という名前の新しいモジュールを作成します。そのあとでモジュールを変更して、ウィンドウコンポーネント、ボタン、およびテキスト領域を追加します。</p>
</div>
<div class="sect2">
<h3 id="_モジュールの作成">モジュールの作成</h3>
<div class="paragraph">
<p>この課題では、ブランド設定モジュールとアプリケーションモジュールを含む同じディレクトリで、新しいモジュールプロジェクトを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>メインメニューから「ファイル」&gt;「新規プロジェクト」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Maven」カテゴリから「Maven NetBeans モジュール」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクト名」に「<strong>MavenWordEngine</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「参照」をクリックして、「プロジェクトの場所」を MavenPlatformWordApp ディレクトリに指定します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-wizard-project-location.png" alt="maven quickstart maven wizard project location">
</div>
<div class="title">Figure 3. 「新規プロジェクト」ウィザードのスクリーンショット</div>
</div>
<div class="paragraph">
<p>MavenWordEngine モジュールの POM を見ると、プロジェクトの  <code>artifactId</code>  が <strong>MavenWordEngine</strong> であることが確認できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&lt;parent&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;MavenPlatformWordApp&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;/parent&gt;
&lt;groupId&gt;com.mycompany&lt;/groupId&gt;
&lt;artifactId&gt;*MavenWordEngine*&lt;/artifactId&gt;
&lt;packaging&gt;nbm&lt;/packaging&gt;
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;name&gt;MavenWordEngine NetBeans Module&lt;/name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>NetBeans モジュールを構築するには、 <code>nbm-maven-plugin</code>  を使用する必要があります。モジュールの POM を見ると、IDE によって自動的に  <code>packaging</code>  に  <code>nbm</code>  が指定され、構築プラグインとして <strong>nbm-maven-plugin</strong> が指定されていることが確認できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;plugin&gt;
   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
   &lt;artifactId&gt;*nbm-maven-plugin*&lt;/artifactId&gt;
   &lt;version&gt;3.2-SNAPSHOT&lt;/version&gt;
   &lt;extensions&gt;true&lt;/extensions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>NetBeans プラットフォームアプリケーションの POM を見ると、<strong>MavenWordEngine</strong> がアプリケーションのモジュールの一覧に追加されているのが確認できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;modules&gt;
   &lt;module&gt;branding&lt;/module&gt;
   &lt;module&gt;application&lt;/module&gt;
   &lt;module&gt;*MavenWordEngine*&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モジュール_を_mavenplatformwordapp_の依存リソースに設定する">モジュール を MavenPlatformWordApp の依存リソースに設定する</h3>
<div class="paragraph">
<p>この課題では、POM に依存リソースを追加して、MavenWordEngine モジュールを「NetBeans Platform based application」の依存リソースとして宣言します。アプリケーションの POM では、次の依存リソースを宣言しています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.netbeans.cluster&lt;/groupId&gt;
        &lt;artifactId&gt;platform&lt;/artifactId&gt;
        &lt;version&gt;${netbeans.version}&lt;/version&gt;
        &lt;type&gt;pom&lt;/type&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
        &lt;artifactId&gt;branding&lt;/artifactId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>「NetBeans Platform based application」の「ライブラリ」ノードを展開すると、ブランド設定モジュールや、アプリケーション構築に必要なクラスタの依存リソースであるほかのライブラリに対して、依存リソースが存在することが確認できます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-projects-libraries.png" alt="maven quickstart maven projects libraries">
</div>
<div class="title">Figure 4. 「依存リソースを追加」ダイアログのスクリーンショット</div>
</div>
<div class="paragraph">
<p>クラスパスではない依存リソースの一覧を展開すると、依存リソースの全一覧が確認できます。</p>
</div>
<div class="paragraph">
<p>POM に依存リソースを追加するには、エディタで直接 POM を編集するか、「プロジェクト」ウィンドウから「依存リソースを追加」ダイアログボックスを開いて操作します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで「<strong>MavenPlatformWordApp - NetBeans Platform based application</strong>」を展開します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「ライブラリ」ノードを右クリックし、「依存リソースを追加」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「開いているプロジェクト」タブをクリックして、「<strong>MavenWordEngine</strong>」を選択します。「了解」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-add-dependency1.png" alt="maven quickstart maven add dependency1">
</div>
<div class="title">Figure 5. 「依存リソースを追加」ダイアログのスクリーンショット</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IDE によってインデックスのスキャンおよび更新が完了すると、ダイアログに新しいプロジェクトが表示されます。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>「プロジェクト」ウィンドウで「MavenPlatformWordApp」の「ライブラリ」ノードを展開すると、MavenWordEngine が依存リソースとして表示されるようになっているのが確認できます。</p>
</div>
</div>
<div class="sect2">
<h3 id="_モジュールへのウィンドウコンポーネントの追加">モジュールへのウィンドウコンポーネントの追加</h3>
<div class="paragraph">
<p>この課題では、ウィザードを使用して、MavenWordEngine モジュールにウィンドウコンポーネントを追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで「<strong>MavenWordEngine NetBeans Module</strong>」を右クリックして、「新規」&gt;「その他」を選択して「新規ファイル」ウィザードを開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「モジュールの開発」カテゴリで「ウィンドウ」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「ウィンドウの位置」ドロップダウンリストから「<strong>output</strong>」を選択します。「次へ」をクリックします。
image::images/maven-quickstart_maven-new-window.png[title="「新規ファイル」ウィザードのウィンドウコンポーネントページのスクリーンショット"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「クラス名の接頭辞」フィールドに「<strong>Text</strong>」と入力します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ウィザードにより、作成されるファイルと変更されるファイルの一覧が表示されます。</p>
</div>
<div class="paragraph">
<p>「完了」をクリックすると、IDE によって「ソースパッケージ」の下の  <code>com.mycompany.mavenwordengine</code>  に  <code>TextTopComponent.java</code>  クラスが生成されているのが「プロジェクト」ウィンドウで確認できます。また、「その他のソース」の下の  <code>com.mycompany.mavenwordengine</code>  にも IDE によって追加のリソースファイルが生成されています。この課題では、 <code>TextTopComponent.java</code>  だけを編集します。</p>
</div>
<div class="paragraph">
<p>プロジェクトの構造は、「ファイル」ウィンドウで確認できます。Maven プロジェクトをコンパイルするには、「ソースパッケージ」(「ファイル」ウィンドウの  <code>src/main/java</code>  ディレクトリ) の下にソースファイルだけを配置する必要があります。その他のリソース (XML ファイルなど) は、「その他のソース」(「ファイル」ウィンドウの  <code>src/main/resources</code>  ディレクトリ) の下に配置しなければいけません。</p>
</div>
</div>
<div class="sect2">
<h3 id="_ウィンドウコンポーネントの変更">ウィンドウコンポーネントの変更</h3>
<div class="paragraph">
<p>この課題では、ウィンドウコンポーネントにテキスト領域とボタンを追加します。そのあと、ボタンによって呼び出されるメソッドを、テキスト領域の文字を大文字にするように変更します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>エディタで  <code>TextTopComponent.java</code>  の「デザイン」タブをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>パレットからウィンドウに、ボタンとテキスト領域をドラッグ＆ドロップします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>テキスト領域を右クリックして、「変数名を変更」を選択し、「<strong>text</strong>」という名前を入力します。この名前は、コードからコンポーネントにアクセスする際に使用します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>ボタンのテキストを「<strong>Filter!</strong>」に設定します。
image::images/maven-quickstart68_maven-nbm-textopcomponent.png[title="「新規ファイル」ウィザードのウィンドウコンポーネントページのスクリーンショット"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>「デザイン」ビューで「Filter!」ボタンをダブルクリックして、ソースコードエディタでボタンのイベントハンドラメソッドを開きます。ボタン要素をダブルクリックすると、メソッドが自動的に作成されます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>メソッドの本文に次のコードを追加します。変更を保存します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
   *String s = text.getText();
   s = s.toUpperCase();
   text.setText(s);*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>エディタでコード補完を使用すると、コードの入力に役立ちます。</p>
</div>
<div class="paragraph">
<p>アプリケーションが正しく動作するかテストする場合は、「<strong>MavenPlatformWordApp NetBeans Platform based application</strong>」のプロジェクトノードを右クリックして、「依存関係で構築」を選択します。</p>
</div>
<div class="paragraph">
<p>「依存関係で構築」にマップされているデフォルトの動作は、Reactor プラグインを使用してプロジェクトを構築することです。Reactor プラグインを使用してプロジェクトを構築すると、サブプロジェクトの依存関係が構築されてから、それを含むプロジェクトが構築されます。出力ウィンドウに、構築の順序が表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-buildwithdependencies1.png" alt="maven quickstart maven buildwithdependencies1">
</div>
<div class="title">Figure 6. 「出力」ウィンドウの Reactor 構築順序のスクリーンショット</div>
</div>
<div class="paragraph">
<p>出力ウィンドウには、構築の結果も表示されます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-buildwithdependencies2.png" alt="maven quickstart maven buildwithdependencies2">
</div>
<div class="title">Figure 7. 「出力」ウィンドウの正常な Reactor 構築のスクリーンショット</div>
</div>
<div class="paragraph">
<p>「プロジェクト」ウィンドウを見ると、「 <code>com.mycompany</code> 」ノードの下の「ローカルリポジトリ」で必要な依存関係のアーティファクトが使用可能になったため、プロジェクトからバッジがなくなっているのが確認できます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-localrepo.png" alt="maven quickstart maven localrepo">
</div>
<div class="title">Figure 8. 「ローカルリポジトリ」のスクリーンショット</div>
</div>
<div class="paragraph">
<p>プロジェクトを実行するには、「<strong>MavenPlatformWordApp NetBeans Platform based application</strong>」のプロジェクトノードを右クリックして、「実行」を選択します。アプリケーションが起動したら、次の手順を実行してアプリケーションをテストできます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>プラットフォームアプリケーションのメインメニューから「Window」&gt;「Text」を選択して、「Text」ウィンドウを開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>テキスト領域に小文字をいくつか入力して、「Filter!」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Maven Platform Word App を終了します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「Filter!」をクリックすると、入力した文字が大文字に変更されてテキスト領域に表示されます。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_textfilter_モジュールの作成">TextFilter モジュールの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題では、<strong>TextFilter</strong> という名前のモジュールを作成して、このモジュールを依存リソースとしてアプリケーションに追加します。TextFilter モジュールはサービスを提供し、インタフェースだけを含んでいます。あとで、ほかのモジュールからルックアップを使用してこのサービスにアクセスできます。</p>
</div>
<div class="sect2">
<h3 id="_モジュールの作成_2">モジュールの作成</h3>
<div class="paragraph">
<p>この課題では、次の手順を実行して、TextFilter モジュールを作成します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Maven」カテゴリから「Maven NetBeans モジュール」原型を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクト名」に「<strong>TextFilter</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「参照」をクリックして、「プロジェクトの場所」を MavenPlatformWordApp ディレクトリに設定します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「完了」をクリックすると、IDE がモジュールを作成し、モジュールプロジェクト「<strong>TextFilter NetBeans Module</strong>」が「プロジェクト」ウィンドウで開きます。</p>
</div>
<div class="paragraph">
<p>IDE により、POM プロジェクト「MavenPlatformWordApp - NetBeans Platform Application」の  <code>pom.xml</code>  が変更され、プロジェクトに含まれるモジュールの一覧に新しいモジュールが追加されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;modules&gt;
    &lt;module&gt;branding&lt;/module&gt;
    &lt;module&gt;application&lt;/module&gt;
    &lt;module&gt;MavenWordEngine&lt;/module&gt;
    &lt;module&gt;TextFilter&lt;/module&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>モジュールを作成したら、そのモジュールをアプリケーションの依存リソースとして追加する必要があります。</p>
</div>
</div>
<div class="sect2">
<h3 id="_mavenplatformwordapp_の依存リソースとして_textfilter_モジュールを追加する">MavenPlatformWordApp の依存リソースとして TextFilter モジュールを追加する</h3>
<div class="paragraph">
<p>この課題では、TextFilter モジュールを「MavenPlatformWordApp NetBeans Platform based application」の依存リソースとして追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MavenPlatformWordApp - NetBeans Platform based application</strong>」プロジェクトの「ライブラリ」ノードを右クリックして、「依存リソースを追加」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「依存リソースを追加」ダイアログで、「開いているプロジェクト」タブをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「<strong>TextFilter NetBeans Module</strong>」モジュールを選択します。「了解」をクリックします。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「了解」をクリックすると、IDE によってモジュールがプロジェクトの依存リソースとして追加されます。「ライブラリ」ノードを展開すると、モジュールが依存リソースの一覧に追加されているのが確認できます。「<strong>MavenPlatformWordApp - NetBeans Platform based application</strong>」の POM では、IDE によって「 <code>dependencies</code> 」要素の中に次の行が追加されているのが確認できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;dependency&gt;
   &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;
   &lt;artifactId&gt;TextFilter&lt;/artifactId&gt;
   &lt;version&gt;${project.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_textfilter_モジュールへのインタフェースの追加">TextFilter モジュールへのインタフェースの追加</h3>
<div class="paragraph">
<p>この課題では、TextFilter モジュールへの単純なインタフェースを追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>TextFilter NetBeans Module</strong>」を右クリックし、「新規」&gt;「Java インタフェース」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「クラス名」に「<strong>TextFilter</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「パッケージ」ドロップダウンリストから「<strong>com.mycompany.textfilter</strong>」を選択します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>クラスに次のコードを追加します。変更を保存します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package com.mycompany.textfilter;

public interface TextFilter {
    *public String process(String s);*
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モジュールの公開設定">モジュールの公開設定</h3>
<div class="paragraph">
<p>この課題では、 <code>com.mycompany.textfilter</code>  パッケージの内容を公開パッケージとして設定し、ほかのモジュールがこのメソッドにアクセスできるようにします。パッケージを公開パッケージとして宣言するには、POM にある  <code>nbm-maven-plugin</code>  の  <code>configuration</code>  要素を変更して、プラグインによって公開パッケージとしてエクスポートされるパッケージを指定します。エディタで POM を変更するか、プロジェクトの「プロパティー」ダイアログボックスで、公開するパッケージを選択できます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>TextFilter NetBeans Module</strong>」を右クリックし、「プロパティー」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「プロジェクトプロパティー」ダイアログで「公開パッケージ」カテゴリを選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「<strong>com.mycompany.textfilter</strong>」パッケージを選択します。「了解」をクリックします。</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-public-packages.png" alt="maven quickstart maven public packages">
</div>
<div class="title">Figure 9. 「プロパティー」ダイアログのスクリーンショット</div>
</div>
<div class="paragraph">
<p>「了解」をクリックすると、IDE によってプロジェクト POM が変更され、 <code>nbm-maven-plugin</code>  アーティファクトの  <code>configuration</code>  要素に次のエントリが追加されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;publicPackages&gt;
   &lt;publicPackage&gt;com.mycompany.textfilter&lt;/publicPackage&gt;
&lt;/publicPackages&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>この時点で、POM エントリには次のエントリが含まれています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.2&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
    &lt;configuration&gt;
                    &lt;publicPackages&gt;
                        &lt;publicPackage&gt;com.mycompany.textfilter&lt;/publicPackage&gt;
                    &lt;/publicPackages&gt;

    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>詳細は、「 <a href="http://bits.netbeans.org/mavenutilities/nbm-maven-plugin/manifest-mojo.html#publicPackages">nbm-maven-plugin マニフェスト</a>」を参照してください。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_myfilter_モジュールの作成">MyFilter モジュールの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題では、モジュール <strong>MyFilter</strong> を作成して、このモジュールを TextFilter の依存リソースとして追加します。その後、TextFilter サービスをルックアップして、MyFilter のメソッドを呼び出せるようになります。</p>
</div>
<div class="sect2">
<h3 id="_モジュールの作成_3">モジュールの作成</h3>
<div class="paragraph">
<p>この課題では、<strong>MyFilter</strong> という名前のモジュールを作成します。このモジュールを作成するには、TextFilter モジュールを作成したときと同じ手順を実行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Maven」カテゴリから「Maven NetBeans モジュール」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクト名」に「<strong>MyFilter</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「参照」をクリックして、「プロジェクトの場所」を <strong>MavenPlatformWordApp</strong> ディレクトリに設定します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>MyFilter モジュールを「<strong>MavenPlatformWordApp - NetBeans Platform based application</strong>」プロジェクトの依存リソースとして追加します。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_依存リソースとしての_textfilter_モジュールの追加">依存リソースとしての TextFilter モジュールの追加</h3>
<div class="paragraph">
<p>この課題では、TextFilter モジュールを MyFilter モジュールの依存リソースとして追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MyFilter</strong>」プロジェクトの「ライブラリ」ノードを右クリックし、「依存リソースを追加」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「依存リソースを追加」ダイアログで、「開いているプロジェクト」タブをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「<strong>TextFilter</strong>」モジュールを選択します。「了解」をクリックします。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_myfilter_モジュールの変更">MyFilter モジュールの変更</h3>
<div class="paragraph">
<p>この課題では、文字列を大文字に変換する  <code>process</code>  という名前の単一のメソッドを持つ Java クラスを追加します。また、クラスが TextFilter インタフェースを実装することも指定します。 <code>@ServiceProvider</code>  注釈を使用して、TextFilter がコンパイル時に登録されるサービスであることを指定します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MyFilter</strong>」モジュールを右クリックし、「新規」&gt;「Java クラス」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「クラス名」に「<strong>UpperCaseFilter</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「パッケージ」ドロップダウンリストから「<strong>com.mycompany.myfilter</strong>」を選択します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>クラスに次のコードを追加します。変更を保存します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">package com.mycompany.myfilter;

import com.mycompany.textfilter.TextFilter;
import org.openide.util.lookup.ServiceProvider;

*@ServiceProvider(service=TextFilter.class)*
public class UpperCaseFilter *implements TextFilter {

    public String process(String s) {
        return s.toUpperCase();
    }*
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>サービスプロバイダを指定するための、注釈の使用方法に注目してください。 <code>@ServiceProvider</code>  注釈および JDK 6 の ServiceLoader 機構の動作についての詳細は、ユーティリティーの API ドキュメントを参照してください。</p>
</div>
</div>
<div class="sect2">
<h3 id="_mavenwordengine_モジュールの変更">MavenWordEngine モジュールの変更</h3>
<div class="paragraph">
<p>この課題では、ルックアップを使用した「TextFilter」インタフェースの呼び出しおよび「MyFilter」のメソッドへのアクセスを行うように、「Text」ウィンドウコンポーネントのイベントハンドラを変更します。イベントハンドラにコードを追加する前に、TextFilter モジュールで依存リソースを宣言する必要があります。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MavenWordEngine</strong>」モジュールの「ライブラリ」ノードを右クリックして、TextFilter モジュールに依存リソースを追加します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「<strong>MavenWordEngine</strong>」モジュールの「ソースパッケージ」を展開して、ソースエディタで  <code>TextTopComponent</code>  を開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><code>jButton1ActionPerformed</code>  ボタンのハンドラメソッドに次のコードを追加します。変更を保存します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
    String s = text.getText();
    *TextFilter filter = Lookup.getDefault().lookup(TextFilter.class);
    if (filter != null) {
        s = filter.process(s);
    }*
    text.setText(s);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>コード補完を使用すると、コードの入力に役立ちます。</p>
</div>
<div class="paragraph">
<p>この時点で、アプリケーションが正常に動作するかを確認できます。次に、フィルタを使用して処理したテキストの履歴を表示する、新しいウィンドウコンポーネントを追加します。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_textウィンドウコンポーネントへの_lookuplistener_および_instancecontent_の追加">「Text」ウィンドウコンポーネントへの LookupListener および InstanceContent の追加</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この課題では、「Filter!」ボタンがクリックされたときにテキスト領域の内容を保存するリスナーおよびフィールドを追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MavenWordEngine</strong>」モジュールに次のコードを追加して、 <code>InstanceContent</code>  オブジェクトの追加および  <code>TextTopComponent</code>  のコンストラクタの変更を行います。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public final class TextTopComponent extends TopComponent {
    *private InstanceContent content;*

    public TextTopComponent() {
        initComponents();
        setName(NbBundle.getMessage(TextTopComponent.class, "CTL_TextTopComponent"));
        setToolTipText(NbBundle.getMessage(TextTopComponent.class, "HINT_TextTopComponent"));
        //        setIcon(Utilities.loadImage(ICON_PATH, true));

        *content = new InstanceContent();
        associateLookup(new AbstractLookup(content));*
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><code>jButton1ActionPerformed</code>  メソッドを変更して、ボタンがクリックされたときに古いテキストの値を  <code>InstanceContent</code>  オブジェクトに追加するようにします。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
     String s = text.getText();
     TextFilter filter = Lookup.getDefault().lookup(TextFilter.class);
     if (filter != null) {
         *content.add(s);*
         s = filter.process(s);
     }
     text.setText(s);
 }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_history_モジュールの作成">History モジュールの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>この節では、 <code>InstanceContent</code>  の値を表示する「<strong>History</strong>」という名前のモジュールを作成します。このモジュールを作成するには、TextFilter および MyFilter モジュールを作成したときと同じ手順を実行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「ファイル」&gt;「新規プロジェクト」(Ctrl-Shift-N) を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Maven」カテゴリから「Maven NetBeans モジュール」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「プロジェクト名」に「<strong>History</strong>」と入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「参照」をクリックして、「プロジェクトの場所」を MavenPlatformWordApp ディレクトリに設定します。「完了」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>History モジュールを「<strong>MavenPlatformWordApp - NetBeans Platform based application</strong>」プロジェクトの依存リソースとして追加します。</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_historyモジュールのウィンドウコンポーネントの作成">「History」モジュールのウィンドウコンポーネントの作成</h3>
<div class="paragraph">
<p>この課題では、ウィザードを使用して、モジュールにウィンドウコンポーネントを追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「プロジェクト」ウィンドウで「<strong>History NetBeans Module</strong>」を右クリックして、「新規」&gt;「その他」を選択して「新規ファイル」ダイアログを開きます。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「モジュールの開発」カテゴリで「ウィンドウ」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「ウィンドウの位置」ドロップダウンリストから「<strong>editor</strong>」を選択します。「次へ」をクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>「クラス名の接頭辞」フィールドに「<strong>History</strong>」と入力します。「完了」をクリックします。ウィザードにより、作成されるファイルと変更されるファイルの一覧が表示されます。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_historyウィンドウコンポーネントの変更">「History」ウィンドウコンポーネントの変更</h3>
<div class="paragraph">
<p>ここで、フィルタされた文字列を表示するウィンドウコンポーネントに、テキスト領域要素を追加します。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>エディタで  <code>HistoryTopComponent.java</code>  の「デザイン」タブをクリックします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>パレットからウィンドウに、テキスト領域をドラッグ＆ドロップします。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>テキスト領域を右クリックして、「変数名を変更」を選択し、「<strong>historyText</strong>」という名前を入力します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><code>HistoryTopComponent</code>  のコンストラクタに  <code>private</code>  フィールド  <code>result</code>  および次のコードを追加して、このコンポーネントが現在のアクティブウィンドウの String クラスのルックアップを待機して、取得したテキスト領域の String オブジェクトをすべて表示するようにします。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">      *private Lookup.Result result;*

      public HistoryTopComponent() {
          initComponents();
          ...

          *result = org.openide.util.Utilities.actionsGlobalContext().lookupResult(String.class);
          result.addLookupListener(new LookupListener() {
              public void resultChanged(LookupEvent e) {
                  historyText.setText(result.allInstances().toString());
              }
          });*
      }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_アプリケーションの構築と実行">アプリケーションの構築と実行</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ここで、アプリケーションをテストできます。</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>「<strong>MavenPlatformWordApp NetBeans Platform based application</strong>」のプロジェクトノードを右クリックして、「生成物を削除」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「<strong>MavenPlatformWordApp NetBeans Platform based application</strong>」のプロジェクトノードを右クリックして、「依存関係で構築」を選択します。</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>「<strong>MavenPlatformWordApp NetBeans Platform based application</strong>」のプロジェクトノードを右クリックして、「実行」を選択します。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>「実行」をクリックすると、IDE によって NetBeans プラットフォームアプリケーションが起動します。「Window」メニューから、「History」および「Text」ウィンドウを開くことができます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-quickstart_maven-final-app.png" alt="maven quickstart maven final app">
</div>
<div class="title">Figure 10. 完成版 NetBeans プラットフォームアプリケーションのスクリーンショット</div>
</div>
<div class="paragraph">
<p>「Text」ウィンドウにテキストを入力して「Filter!」ボタンをクリックすると、テキストが大文字に変換され、「History」ウィンドウの内容に追加されます。</p>
</div>
<div class="paragraph">
<p>このクイックスタートでは、Maven を使用した NetBeans プラットフォームアプリケーションの作成方法が、Ant を使用した作成方法と大きく違わないことを示しました。主な違いは、Maven POM によるアプリケーション組み立ての制御方式です。ほかの NetBeans プラットフォームアプリケーションおよびモジュール構築の例については、「 <a href="https://netbeans.apache.org/kb/docs/platform.html">NetBeans プラットフォームの学習</a>」に一覧表示されている各チュートリアルを参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_関連項目">関連項目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>アプリケーションの作成と開発の詳細については、次のリソースを参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform.html">NetBeans プラットフォームの学習</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/">NetBeans API Javadoc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NetBeans プラットフォームに関して質問がある場合は、<a href="mailto:dev@platform.netbeans.org">dev@platform.netbeans.org</a> のメーリングリストに投稿していただくか、 <a href="https://mail-archives.apache.org/mod_mbox/netbeans-dev/">NetBeans プラットフォームメーリングリストのアーカイブ</a>を参照してください。</p>
</div>
</div>
</div>
        
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/80/nbm-maven-quickstart_ja.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

    </div>
    

    <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
                    
            <h1><a href="/about/index.html">About</a></h1>
            <ul>
              <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/community/index.html">Community</a></h1>
            <ul>
              <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
              <li><a href="/community/committer.html">Becoming a committer</a></li>
              <li><a href="/community/events.html">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/participate/index.html">Participate</a></h1>
            <ul>
              <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
              <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
              <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/help/index.html">Get Help</a></h1>
            <ul>
              <li><a href="/help/index.html#documentation">Documentation</a></li>
              <li><a href="/wiki/index.html">Wiki</a></li>
              <li><a href="/help/index.html#support">Community Support</a></li>
              <li><a href="/help/commercial-support.html">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="/download/index.html">Download</a></h1>
            <ul>
              <li><a href="/download/index.html">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="/download/index.html#source">Building from source</a></li>
              <li><a href="/download/index.html#previous">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
            
      </div>
    </div>


    

    <script src="/js/vendor/jquery-3.2.1.min.js"></script>
    <script src="/js/vendor/what-input.js"></script>
    <script src="/js/vendor/foundation.min.js"></script>
    <script src="/js/vendor/jquery.colorbox-min.js"></script>
    <script src="/js/netbeans.js"></script>
    <script>

       $(function(){ $(document).foundation(); });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
       $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
    </script>

  </body>
</html>
