
<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Criando um módulo NetBeans utilizando o Maven</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Criando um módulo NetBeans utilizando o Maven - Apache NetBeans">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans Platform, Platform Tutorials, Criando um módulo NetBeans utilizando o Maven">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
     <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css"> 
    <link rel="stylesheet" href="/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet"> 
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
</head>


    <body>
        

<div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="/"><img src='/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'></img> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <a href="/community/index.html">Community</a> </li>
            <li> <a href="/participate/index.html">Participate</a> </li>
            <li> <a href="https://blogs.apache.org/netbeans/">Blog</a></li>
            <li> <a href="/help/index.html">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="/download/index.html">Download</a> </li>
        </ul>
    </div>
</div>


        
<!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 12.4</h1>
            <p><a class="button success" href="/download/nb124/nb124.html">Find out more</a></p>
        </div>
    </div>
</section>

        <div class='grid-container main-content tutorial'>
            <h1 class="sect0">Criando um módulo NetBeans utilizando o Maven</h1>
            
            <div class="sectionbody">
              <div class="admonitionblock note">
                <table>
                  <tbody><tr>
                  <td class="icon"><i class="fa icon-note" title="Note"></i></td>
                  <td class="content">This tutorial needs a review. 
                     You can <a href="https://issues.apache.org/jira/projects/NETBEANS/issues">open a JIRA issue</a>, 
                     or <a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/80/nbm-maven-modulesingle_pt_BR.asciidoc" title="Edit this tutorial in github">edit it in GitHub </a>
                     following these <a href="/kb/docs/contributing.html">contribution guidelines.</a></td>
                  </tr></tbody>
                </table>
              </div>
            </div>
            
            <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_usando_maven_com_o_ide">Usando Maven com o IDE</a>
<ul class="sectlevel2">
<li><a href="#_configurando_as_opções_do_maven">Configurando as opções do Maven</a></li>
<li><a href="#_visualizando_os_repositórios_maven">Visualizando os repositórios Maven</a></li>
</ul>
</li>
<li><a href="#_criando_o_projeto_do_módulo_da_plataforma_netbeans">Criando o projeto do módulo da plataforma NetBeans</a>
<ul class="sectlevel2">
<li><a href="#_criando_o_módulo">Criando o módulo</a></li>
<li><a href="#_criando_a_classe_dataobject">Criando a classe DataObject</a></li>
</ul>
</li>
<li><a href="#_desenvolvendo_e_executando_o_projeto">Desenvolvendo e executando o projeto</a>
<ul class="sectlevel2">
<li><a href="#_especificando_a_localização_da_instalação_do_netbeans">Especificando a localização da instalação do NetBeans</a></li>
<li><a href="#_executando_o_módulo">Executando o módulo</a></li>
</ul>
</li>
<li><a href="#_adicionando_uma_ação_para_o_tipo_de_arquivo">Adicionando uma ação para o tipo de arquivo</a>
<ul class="sectlevel2">
<li><a href="#_criando_a_classe_action">Criando a classe Action</a></li>
<li><a href="#_atribuindo_um_comportamento_à_ação">Atribuindo um comportamento à ação</a></li>
</ul>
</li>
<li><a href="#_criando_uma_janela_para_o_tipo_de_arquivo">Criando uma janela para o Tipo de arquivo</a></li>
<li><a href="#_consulte_também">Consulte também</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este documento demonstra como criar um projeto no módulo NetBeans a partir de um arquetipo Maven e como desenvolver e instalar o módulo em sua instalação do IDE. Neste tutorial, você criará um projeto de módulo simples que após ser instalado permite criar um novo tipo de arquivo em seus projetos. Este módulo também cria uma ação de menu que fica disponível quando o novo tipo de arquivo é selecionado.</p>
</div>
<div class="paragraph">
<p>Este documento tem base no  <a href="https://netbeans.apache.org/tutorials/nbm-filetype_pt_BR.html">Tutorial de tipo de arquivo do NetBeans</a> com base no Ant e ilustra algumas das diferenças entre o uso do Ant e do Maven para desenvolver módulos NetBeans. Após compreender algumas das diferenças, é possível prosseguir com facilidade através dos outros tutoriais na  <a href="https://netbeans.apache.org/kb/docs/platform_pt_BR.html">Trilha de aprendizado da plataforma NetBeans</a>.</p>
</div>
<div class="paragraph">
<p>Caso seja novo na plataforma NetBeans, recomenda-se com ênfase que você assista à série de screencasts  <a href="https://netbeans.apache.org/tutorials/nbm-10-top-apis.html">As 10 principais APIs do NetBeans</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
não é preciso efetuar o download de uma versão separada da plataforma NetBeans para desenvolver aplicativos para a plataforma NetBeans. Normalmente, você desenvolverá os aplicativos e os módulos no NetBeans IDE e, em seguida, somente incluirá os módulos necessários para executar a plataforma NetBeans e seu aplicativo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Antes de começar este tutorial, talvez você queira se familiarizar com a documentação a seguir.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://wiki.netbeans.org/MavenBestPractices">Melhores práticas para o Apache Maven no NetBeans 6.x</a></p>
</li>
<li>
<p><a href="http://www.sonatype.com/books/maven-book/reference/introduction.html">Capítulo 1. Introdução ao Apache Maven</a> (do  <a href="http://www.sonatype.com/books/maven-book/reference/public-book.html">Maven: o guia definitivo</a>)</p>
</li>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/java/gui-functionality_pt_BR.html">Introdução à construção de GUIs</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usando_maven_com_o_ide">Usando Maven com o IDE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se este for seu primeiro projeto Maven, talvez queira se familiarizar com as definições de configurações e com o navegador do repositório Maven.</p>
</div>
<div class="sect2">
<h3 id="_configurando_as_opções_do_maven">Configurando as opções do Maven</h3>
<div class="paragraph">
<p>É possível usar a aba Maven na janela Opções para configurar o comportamento do Maven no IDE e verificar se sua configuração está correta.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Selecione a categoria Diversos na janela Opções e clique na aba Maven.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Especifique a localização da instalação local do Maven (requer 2.0.9 ou mais recente).</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Verifique se a localização do repositório local do Maven está correta.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Clique em OK.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Na maioria dos casos, se sua configuração do Maven é a típica, as informações na janela Opções já devem estar corretas.</p>
</div>
<div class="paragraph">
<p><strong>Nota.</strong> O suporte ao Maven é ativado como parte do conjunto de recursos do Java SE. Se a aba Maven não estiver disponível na janela Opções, confirme se o Java SE está ativado ao criar um aplicativo Java.</p>
</div>
</div>
<div class="sect2">
<h3 id="_visualizando_os_repositórios_maven">Visualizando os repositórios Maven</h3>
<div class="paragraph">
<p>Os artefatos que são usados pelo Maven para construir todos os seus projetos são armazenados em seu repositório local Maven. Quando um artefato é declarado como uma dependência do projeto, o artefato é baixado para seu repositório local a partir de um dos repositórios remotos registrados.</p>
</div>
<div class="paragraph">
<p>Como padrão, o repositório NetBeans e os diversos repositórios Maven indexados conhecidos são registrados e identificados na janela do navegador do repositório. O repositório NetBeans contém a maioria dos artefatos públicos necessários para que você desenvolva seu projeto. Você pode usar o navegador do repositório Maven para visualizar o conteúdo dos repositórios locais e remotos. Você expande o nó Repositório local para ver os artefatos que estão presentes localmente. Os artefatos listados abaixo dos nós do repositório NetBeans podem ser adicionados como dependências do projeto, mas nem todos eles estão localmente presentes. Eles são adicionados ao repositório local somente quando são declarados como dependências do projeto.</p>
</div>
<div class="paragraph">
<p>Para abrir o navegador do repositório Maven:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Escolha Janela &gt; Outro &gt; Navegador do repositório Maven no menu principal.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-nbm-netbeans-repo.png" alt="maven nbm netbeans repo">
</div>
<div class="title">Figure 1. Captura de tela do navegador do repositório Maven</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_o_projeto_do_módulo_da_plataforma_netbeans">Criando o projeto do módulo da plataforma NetBeans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção você criará um projeto do módulo NetBeans e a seguir criará um DataObject para o novo tipo de arquivo.</p>
</div>
<div class="sect2">
<h3 id="_criando_o_módulo">Criando o módulo</h3>
<div class="paragraph">
<p>Neste exercício, você usa o assistente Novo projeto para criar um projeto do módulo NetBeans a partir de um arquetipo Maven.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Abra o assistente Novo projeto e escolha Módulo NetBeans Maven na categoria Maven. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Digite <strong>AbcFileType</strong> em Nome do projeto. Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clicar em Terminar, o IDE criará o projeto AbcFileType. Se você examinar o POM poderá ver que o Maven utilizará o  <code> <a href="http://maven.apache.org/plugins/maven-jar-plugin/">plug-in maven-jar</a></code>  para desenvolver o JAR e o  <code> <a href="http://bits.netbeans.org/mavenutilities/nbm-maven-plugin/">plug-in nbm-maven</a></code>  empacotará o JAR como um módulo NetBeans ( <code>nbm</code> ).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;AbcFileType&lt;/artifactId&gt;
    *&lt;packaging&gt;nbm&lt;/packaging&gt;*
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;AbcFileType NetBeans Module&lt;/name&gt;
    ...
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                *&lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;*
                &lt;extensions&gt;true&lt;/extensions&gt;
            &lt;/plugin&gt;
            ...
            &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                *&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;*
                &lt;version&gt;2.2&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;!-- to have the jar plugin pickup the nbm generated manifest --&gt;
                    &lt;useDefaultManifestFile&gt;true&lt;/useDefaultManifestFile&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_criando_a_classe_dataobject">Criando a classe DataObject</h3>
<div class="paragraph">
<p>Nesta seção você utilizará o assistente Novo tipo de arquivo para criar os arquivos para a criação e reconhecimento de um novo tipo de arquivo denominado  <code>.abc</code> . O assistente criará um  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-loaders/org/openide/loaders/DataObject.html">DataObject</a></code> , um solucionador de tipo MIME e um modelo de arquivo para os arquivos  <code>abc</code>  e modificará o  <code>layer.xml</code>  para adicionar entradas do registro para o novo tipo de arquivo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Clique com o botão direito do mouse no nó da janela Projeto e escolha Novo &gt; Tipo de arquivo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Reconhecimento de arquivo, digite <strong>text/x-abc</strong> para o Tipo the MIME e <strong>.abc .ABC</strong> como a extensão do nome do arquivo. Clique em Próximo.
image::images/maven-single-new-filetype-wizard.png[title="Assistente Novo tipo de arquivo"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Digite <strong>Abc</strong> como o prefixo do nome da classe.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Clique em Procurar e selecione um arquivo de imagem de 16x16 pixels como o ícone do novo tipo de arquivo. Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Você pode salvar esta imagem como  <code> <a href="images/abc16.png">abc16.png</a></code>  ( 
image::images/abc16.png[title="16x16"] ) em seu sistema e especificar a imagem no assistente.</p>
</div>
<div class="paragraph">
<p>Quando você clica em Terminar, o IDE cria a classe  <code>AbcDataObject</code>  e copia o ícone do tipo de arquivo no pacote em  <code>src/main/resources</code>  sob Outras origens.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single-projects1.png" alt="maven single projects1">
</div>
<div class="title">Figure 2. Captura de tela da janela Projetos</div>
</div>
<div class="paragraph">
<p>Na janela Projetos é possível visualizar que o assistente criou o solucionador de tipo MIME ( <code>AbcResolver.xml</code> ) e os arquivos de modelo ( <code>AbcTemplate.abc</code> ) no diretório  <code>src/main/resources</code> .</p>
</div>
<div class="paragraph">
<p>Para obter mais detalhes sobre os arquivos criados pelo IDE, consulte  <a href="https://netbeans.apache.org/wiki/devfaqdataobject">O que é um DataObject</a> e a seção em  <a href="nbm-filetype_pt_BR.html#recognizing">Reconhecendo arquivos Abc</a> no  <a href="nbm-filetype_pt_BR.html">tutorial de tipo de arquivo NBM</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_desenvolvendo_e_executando_o_projeto">Desenvolvendo e executando o projeto</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção você configurará o módulo para que seja instalado na versão atual do IDE. Uma nova instância do IDE se inicia quando você executa o módulo.</p>
</div>
<div class="sect2">
<h3 id="_especificando_a_localização_da_instalação_do_netbeans">Especificando a localização da instalação do NetBeans</h3>
<div class="paragraph">
<p>Como padrão, nenhuma instalação NetBeans alvo é especificada quando você usa o arquetipo Maven para criar um módulo da plataforma NetBeans. Você pode desenvolver o projeto, mas quando tenta executá-lo antes de definir o diretório de instalação, verá um erro de versão similar ao seguinte na janela Saída.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/output-build-error.png" alt="output build error">
</div>
<div class="title">Figure 3. Janela Saída mostrando o erro de versão</div>
</div>
<div class="paragraph">
<p>Para instalar e executar o módulo em uma instalação do IDE, é necessário editar o elemento  <code>nbm-maven-plugin</code>  no POM para especificar o caminho para o diretório de instalação.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Expanda o nó Arquivos do projeto e abra o  <code>pom.xml</code>  no editor.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Especifique o caminho para a instalação do NetBeans ao modificar o elemento  <code>nbm-maven-plugin</code>  para adicionar o elemento  <code>&lt;netbeansInstallation&gt;</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;nbm-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.2&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
    *&lt;configuration&gt;
       &lt;netbeansInstallation&gt;/home/me/netbeans-6.9&lt;/netbeansInstallation&gt;
    &lt;/configuration&gt;*
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Nota.</strong> O caminho precisa especificar o diretório que contenha o diretório  <code>bin</code>  contendo o arquivo executável.</p>
</div>
<div class="paragraph">
<p>Por exemplo, no SO X o caminho pode se parecer com o seguinte.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;netbeansInstallation&gt;/Applications/NetBeans/NetBeans 6.9.app/Contents/Resources/NetBeans&lt;/netbeansInstallation&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executando_o_módulo">Executando o módulo</h3>
<div class="paragraph">
<p>Após especificar o diretório de instalação do NetBeans IDE, é possível desenvolver e executar o módulo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Construir.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Executar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você escolhe Executar, o IDE é iniciado com o novo módulo instalado. Para confirmar que o novo módulo esteja funcionando corretamente, crie um novo projeto e a seguir use o assistente Novo arquivo para criar um arquivo  <code>abc</code> . Por exemplo, você pode criar um aplicativo Java simples e a seguir abrir o assistente Novo arquivo e escolher o tipo de arquivo Empty Abc na categoria Outro.</p>
</div>
<div class="paragraph">
<p>Quando você cria o novo arquivo, especifique uma pacote de origem se desejar visualizar o arquivo na janela Projetos. Como padrão, o assistente para o novo tipo de arquivo criará o arquivo no nível raiz do projeto.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wizard-new-abc-file.png" alt="wizard new abc file">
</div>
<div class="title">Figure 4. assistente Novo arquivo com o tipo de arquivo Abc</div>
</div>
<div class="paragraph">
<p>Após você criar o novo arquivo abc, poderá visualizar que o arquivo é exibido na janela Projetos com o ícone para o tipo de arquivo. Se você abrir o arquivo no editor, poderá visualizar o conteúdo do novo arquivo que foi gerado a partir do modelo de arquivo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single-projects-abcfile.png" alt="maven single projects abcfile">
</div>
<div class="title">Figure 5. Arquivo Abc na janela Projetos e aberto no editor</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adicionando_uma_ação_para_o_tipo_de_arquivo">Adicionando uma ação para o tipo de arquivo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesta seção você adicionará uma ação que pode ser chamada a partir do menu suspenso quando o usuário clica com o botão direito do mouse no nó do novo tipo de arquivo.</p>
</div>
<div class="sect2">
<h3 id="_criando_a_classe_action">Criando a classe Action</h3>
<div class="paragraph">
<p>Neste exercício, usaremos o assistente Nova ação para criar uma classe Java que executará uma ação para o novo tipo de arquivo. O assistente também registrará a classe no  <code>layer.xml</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Nova &gt; Ação.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>No painel Tipo de ação, selecione Condicionalmente habilitado e digite <strong>com.mycompany.abcfiletype.AbcDataObject</strong> para a classe Cookie. Clique em Próximo.
image::images/maven-single-newactionwizard.png[title="Assistente Nova ação"]</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Selecione Editar na lista suspensa Categoria e cancele a seleção de Item de menu global.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Selecione Item de menu de contexto de tipo de arquivo e selecione <strong>text/x-abc</strong> na lista suspensa Tipo de conteúdo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Digite <strong>MyAction</strong> como o Nome da classe e <strong>My Action</strong> como o Nome de exibição. Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você clica em Terminar,  <code>MyAction.java</code>  é criado no pacote fonte  <code>com.mycompany.abcfiletype</code> . Se você abre o  <code>layer.xml</code>  no editor, poderá visualizar que o assistente adicionou detalhes sobre a nova ação para o tipo de arquivo dentro da pasta  <code>Edit</code>  e o elemento dentro da pasta  <code>Actions</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Actions"&gt;
    &lt;folder name="Edit"&gt;
        *&lt;file name="com-mycompany-abcfiletype-MyAction.instance"&gt;*
            &lt;attr name="delegate" methodvalue="org.openide.awt.Actions.inject"/&gt;
            &lt;attr name="displayName" bundlevalue="com.mycompany.abcfiletype.Bundle#CTL_MyAction"/&gt;
            &lt;attr name="injectable" stringvalue="com.mycompany.abcfiletype.MyAction"/&gt;
            &lt;attr name="instanceCreate" methodvalue="org.openide.awt.Actions.context"/&gt;
            &lt;attr name="noIconInMenu" boolvalue="false"/&gt;
            &lt;attr name="selectionType" stringvalue="EXACTLY_ONE"/&gt;
            &lt;attr name="type" stringvalue="com.mycompany.abcfiletype.AbcDataObject"/&gt;
        &lt;/file&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O assistente também gerou elementos dentro das pastas  <code>Loaders</code>  e  <code>Factories</code>  e elementos que se aplicam ao novo tipo de arquivo. As ações de menu para o tipo de arquivo  <code>abc</code>  são especificadas sob  <code>Actions</code>  e o  <code>DataLoader</code>  é especificado sob  <code>Factories</code> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="xml">&lt;folder name="Loaders"&gt;
    &lt;folder name="text"&gt;
        *&lt;folder name="x-abc"&gt;
            &lt;folder name="Actions"&gt;
                &lt;file name="com-mycompany-abcfiletype-MyAction.shadow"&gt;*
                    &lt;attr name="originalFile" stringvalue="Actions/Edit/com-mycompany-abcfiletype-MyAction.instance"/&gt;
                    *&lt;attr name="position" intvalue="0"/&gt;*
                &lt;/file&gt;
                &lt;file name="org-openide-actions-CopyAction.shadow"&gt;
                    &lt;attr name="originalFile" stringvalue="Actions/Edit/org-openide-actions-CopyAction.instance"/&gt;
                    &lt;attr name="position" intvalue="400"/&gt;
                &lt;/file&gt;
                ...
            &lt;/folder&gt;
            *&lt;folder name="Factories"&gt;
                &lt;file name="AbcDataLoader.instance"&gt;*
                    &lt;attr name="SystemFileSystem.icon" urlvalue="nbresloc:/com/mycompany/abcfiletype/abc16.png"/&gt;
                    &lt;attr name="dataObjectClass" stringvalue="com.mycompany.abcfiletype.AbcDataObject"/&gt;
                    &lt;attr name="instanceCreate" methodvalue="org.openide.loaders.DataLoaderPool.factory"/&gt;
                    &lt;attr name="mimeType" stringvalue="text/x-abc"/&gt;
                &lt;/file&gt;
            &lt;/folder&gt;
        &lt;/folder&gt;
    &lt;/folder&gt;
&lt;/folder&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A posição de My Action no menu suspenso é especificada pelo atributo  <code>posição</code>  ( <code>&lt;attr name="position" intvalue="0"/&gt;</code> ). O padrão é o de atribuir o atributo  <code>intvalue</code>  de uma nova ação como  <code>0</code>  que fará com que a ação esteja no topo da lista. Você pode alterar a ordem ao alterar o  <code>intvalue</code> . Por exemplo, se você altera o  <code>intvalue</code>  para  <code>200</code> , o item de menu My Action aprecerá abaixo do item de menu Abrir (a ação Abrir tem um  <code>intvalue</code>  de  <code>100</code> ).</p>
</div>
</div>
<div class="sect2">
<h3 id="_atribuindo_um_comportamento_à_ação">Atribuindo um comportamento à ação</h3>
<div class="paragraph">
<p>Agora é necessário adicionar o código para a ação. Neste exemplo, você adicionará algum código que usa  <code>DialogDisplayer</code>  para abrir uma caixa de diálogo quando a ação é chamada a partir do menu suspenso. Para usar  <code>DialogDisplayer</code>  também será necessário declarar uma dependência direta em  <code>org.openide.dialogs</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Modifique o método  <code>actionPerformed(ActionEvent ev)</code>  no  <code>MyAction.java</code>  para abrir uma caixa de diálogo quando My Action é chamada.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">@Override
public void actionPerformed(ActionEvent ev) {
   *FileObject f = context.getPrimaryFile();
   String displayName = FileUtil.getFileDisplayName(f);
   String msg = "This file is " + displayName + ".";
   NotifyDescriptor nd = new NotifyDescriptor.Message(msg);
   DialogDisplayer.getDefault().notify(nd);*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Corrija suas importações e confirme que você importou  <code><strong>org.openide.filesystems.FileObject</strong></code> . Salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quando você corrigiu as importações adicionou uma declaração de importação para  <code>org.openide.DialogDisplayer</code> . Agora é necessário declarar a dependência no artefato  <code>org.openide.dialogs</code> , uma dependência direta ao invés de uma dependência transitiva.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clique com o botão direito do mouse no JAR  <code>org.openide.dialogs</code>  sob o nó Bibliotecas do projeto e escolha Declarar como dependência direta.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Agora é possível testar o módulo para confirmar que a nova ação funciona corretamente.</p>
</div>
<div class="paragraph">
<p><strong>Nota.</strong> Para executar o módulo, é preciso primeiro limpar e desenvolver o módulo.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single-action-popup.png" alt="maven single action popup">
</div>
<div class="title">Figure 6. Arquivo Abc na janela Projetos e aberto no editor</div>
</div>
<div class="paragraph">
<p>Ao clicar com o botão direito do mouse em um nó no tipo de arquivo  <code>abc</code> , verá que My Action é um dos itens no menu suspenso.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_criando_uma_janela_para_o_tipo_de_arquivo">Criando uma janela para o Tipo de arquivo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Como padrão, o novo tipo de arquivo será aberto em um editor de texto básico. Caso não deseje usar um editor para o novo tipo de arquivo, você pode criar uma nova janela especificamente para editar o novo tipo de arquivo. Você pode então modificar o componente de janela para suportar outras formas de editar o arquivo, por exemplo, ao tornar a janela um editor visual. Nesta seção você criará um novo componente de janela especificamente para arquivos de seu novo tipo de arquivo.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>Clique com o botão direito do mouse no nó do projeto e escolha Nova &gt; Janela.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Selecione <strong>editor</strong> na lista suspensa e selecione Abrir ao iniciar o aplicativo. Clique em Próximo.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Digite <strong>Abc</strong> como o prefixo do nome da classe. Clique em Terminar.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Abra  <code>AbcDataObject.java</code>  no editor e modifique o construtor de classe para usar  <code> <a href="http://bits.netbeans.org/dev/javadoc/org-openide-loaders/org/openide/loaders/OpenSupport.html">OpenSupport</a></code>  ao invés de  <code>DataEditorSupport</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public AbcDataObject(FileObject pf, MultiFileLoader loader) throws DataObjectExistsException, IOException {
    super(pf, loader);
    CookieSet cookies = getCookieSet();
    *cookies.add((Node.Cookie) new AbcOpenSupport(getPrimaryEntry()));*
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Crie a classe  <code>AbcOpenSupport</code>  que é chamada pelo construtor.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Tecle Alt-Enter na linha que contém a chamada para  <code>AbcOpenSupport</code>  para criar  <code>AbcOpenSupport</code>  no pacote  <code>com.mycompany.abcfiletype</code> .</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Modifique  <code>AbcOpenSupport</code>  para estender  <code>OpenSupport</code>  e implementar  <code>OpenCookie</code>  e  <code>CloseCookie</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">class AbcOpenSupport *extends OpenSupport implements OpenCookie, CloseCookie* {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Implemente os métodos abstratos (Alt-Enter) e faça as seguintes alterações na classe.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">    public AbcOpenSupport(*AbcDataObject.Entry entry*) {
        *super(entry);*
    }

    @Override
    protected CloneableTopComponent createCloneableTopComponent() {
        *AbcDataObject dobj = (AbcDataObject) entry.getDataObject();
        AbcTopComponent tc = new AbcTopComponent();
        tc.setDisplayName(dobj.getName());
        return tc;*
    }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Abra  <code>AbcTopComponent</code>  no editor e modifique a classe para estender  <code>CloneableTopComponent</code>  ao invés de  <code>TopComponent</code> .</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java">public final class AbcTopComponent extends *CloneableTopComponent* {</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Altere o modificador de classe de  <code>privado</code>  para  <code>público</code> .<strong>public</strong></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="java"> static AbcTopComponent instance;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Corrija as importações e salve as alterações.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Agora é possível tentar executar o módulo novamente após limpar e desenvolver o projeto.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/maven-single-newfile-window.png" alt="maven single newfile window">
</div>
<div class="title">Figure 7. Arquivo Abc na janela Projetos e aberto no editor</div>
</div>
<div class="paragraph">
<p>Quando você abre um arquivo abc, este agora será aberto na nova janela ao invés de no editor básico.</p>
</div>
<div class="paragraph">
<p>Este tutorial demonstrou como criar e executar um módulo NetBeans criado a partir de um arquetipo Maven. Você aprendeu como modificar o POM do projeto para especificar a instalação NetBeans alvo, para que o comando Executar no IDE instale o módulo e inicie uma nova instância do IDE. Você também aprendeu um pouco sobre como trabalhar com tipos de arquivos e  <code>DataObjects</code> , mas para obter mais detalhes deveria consultar o  <a href="https://netbeans.apache.org/tutorials/nbm-filetype_pt_BR.html">Tutorial de tipo de arquivo do NetBeans</a>. Para obter mais exemplos sobre como desenvolver aplicativos e módulos da plataforma NetBeans, consulte os tutoriais listados na  <a href="https://netbeans.apache.org/kb/docs/platform_pt_BR.html">Trilha do aprendizado da plataforma NetBeans</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consulte_também">Consulte também</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para obter mais informações sobre a criação e o desenvolvimento de aplicativos, consulte os seguintes recursos.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netbeans.apache.org/kb/docs/platform_pt_BR.html">Trilha do aprendizado da plataforma NetBeans</a></p>
</li>
<li>
<p><a href="http://bits.netbeans.org/dev/javadoc/">Javadoc da API da NetBeans </a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sempre que tiver perguntas sobre a plataforma NetBeans, de qualquer tipo, sinta-se a vontade para escrever para a lista de e-mail, <a href="mailto:dev@platform.netbeans.org">dev@platform.netbeans.org</a>, ou visualize  <a href="https://mail-archives.apache.org/mod_mbox/netbeans-dev/">o arquivo da lista de e-mail da plataforma NetBeans</a>.</p>
</div>
</div>
</div>
            
<section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="JIRA" href="https://issues.apache.org/jira/projects/NETBEANS/summary"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        
        <li><a href="https://github.com/apache/netbeans-website/blob/master/netbeans.apache.org/src/content/tutorials/80/nbm-maven-modulesingle_pt_BR.asciidoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>

        </div>
        

<div class='grid-container incubator-area' style='margin-top: 64px'>
    <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/">
                <img style="width: 320px" title="Apache Software Foundation" src="/images/asf_logo_wide.svg" />
            </a>
        </div>
        <div class='large-auto cell text-center'>
            <a href="https://www.apache.org/events/current-event.html">
               <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
            </a>
        </div>
    </div>
</div>
<footer>
    <div class="grid-container">
        <div class="grid-x grid-padding-x">
            <div class="large-auto cell">
                
                <h1><a href="/about/index.html">About</a></h1>
                <ul>
                    <li><a href="https://netbeans.apache.org/community/who.html">Who's Who</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/community/index.html">Community</a></h1>
                <ul>
                    <li><a href="/community/mailing-lists.html">Mailing lists</a></li>
                    <li><a href="/community/committer.html">Becoming a committer</a></li>
                    <li><a href="/community/events.html">NetBeans Events</a></li>
                    <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/participate/index.html">Participate</a></h1>
                <ul>
                    <li><a href="/participate/submit-pr.html">Submitting Pull Requests</a></li>
                    <li><a href="/participate/report-issue.html">Reporting Issues</a></li>
                    <li><a href="/participate/index.html#documentation">Improving the documentation</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/help/index.html">Get Help</a></h1>
                <ul>
                    <li><a href="/help/index.html#documentation">Documentation</a></li>
                    <li><a href="/wiki/index.asciidoc">Wiki</a></li>
                    <li><a href="/help/index.html#support">Community Support</a></li>
                    <li><a href="/help/commercial-support.html">Commercial Support</a></li>
                </ul>
            </div>
            <div class="large-auto cell">
                <h1><a href="/download/nb110/nb110.html">Download</a></h1>
                <ul>
                    <li><a href="/download/index.html">Releases</a></li>                    
                    <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
                    <li><a href="/download/index.html#source">Building from source</a></li>
                    <li><a href="/download/index.html#previous">Previous releases</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div class='footer-disclaimer'>
    <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2020 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
            <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
            <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
        </div>
        
    </div>
</div>



        <script src="/js/vendor/jquery-3.2.1.min.js"></script>
        <script src="/js/vendor/what-input.js"></script>
        <script src="/js/vendor/jquery.colorbox-min.js"></script>
        <script src="/js/vendor/foundation.min.js"></script>
        <script src="/js/netbeans.js"></script>
        <script>
            
            $(function(){ $(document).foundation(); });
        </script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        <script>
         $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); }); 
        </script>
        
    </body>
</html>
