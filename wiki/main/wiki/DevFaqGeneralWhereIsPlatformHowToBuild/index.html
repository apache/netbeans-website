<!doctype html>
<html class="no-js" lang="en" dir="ltr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Where is the Platform and How Can I Build It?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Apache NetBeans wiki DevFaqGeneralWhereIsPlatformHowToBuild">
    <meta name="author" content="Apache NetBeans">
    <meta name="keywords" content="Apache NetBeans wiki DevFaqGeneralWhereIsPlatformHowToBuild">
    <meta name="generator" content="Apache NetBeans">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="alternate" type="application/atom+xml" title="Apache NetBeans Blog" href="https://netbeans.apache.org/blogs/atom" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <link rel="stylesheet" href="../../../../_/css/netbeans.css">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/images/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/images/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/images/fav/favicon-16x16.png">
    <link rel="manifest" href="../../../../_/images/fav/site.webmanifest">
    <link rel="mask-icon" href="../../../../_/images/fav/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
    <link href="../../../../_/css/font-open-sans.css" rel="stylesheet">
    <!--
        Licensed to the Apache Software Foundation (ASF) under one
        or more contributor license agreements.  See the NOTICE file
        distributed with this work for additional information
        regarding copyright ownership.  The ASF licenses this file
        to you under the Apache License, Version 2.0 (the
        "License"); you may not use this file except in compliance
        with the License.  You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0
        Unless required by applicable law or agreed to in writing,
        software distributed under the License is distributed on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, either express or implied.  See the License for the
        specific language governing permissions and limitations
        under the License.
    -->
  </head>
  <body>
    <div class="title-bar" data-responsive-toggle="responsive-menu" data-hide-for="medium">
    <button type="button" data-toggle="responsive-menu"><i style='font-size: 32px; color: #fff; padding: 8px' class='fa fa-bars'></i></button>
    <div class="title-bar-title">Apache NetBeans</div>
</div>
<div class="top-bar" id="responsive-menu">
    <div class='top-bar-left'>
        <a class='title' href="../../../../index.html"><img src='../../../../_/images/apache-netbeans.svg' style='padding: 8px; height: 48px;'> Apache NetBeans</a>
    </div>
    <div class="top-bar-right">
        <ul class="vertical medium-horizontal menu" data-responsive-menu="drilldown medium-dropdown">
            <li> <input id="search-input" type="text" placeholder="Search the docs"> </li>
            <li> <a href="../../../../front/main/community">Community</a> </li>
            <li> <a href="../../../../front/main/participate">Participate</a> </li>
            <li> <a href="../../../../front/main/blogs">Blog</a></li>
            <li> <a href="../../../../front/main/help">Get Help</a> </li>
            <li> <a href="https://plugins.netbeans.apache.org/">Plugins</a> </li>
            <li> <a href="../../../../front/main/download">Download</a> </li>
        </ul>
    </div>
</div>

    <!-- src/templates/news -->
<section class="hero news alternate">
    <div class='grid-container'>
        <div class='cell'>
            <div class="annotation">Latest release</div>
            <h1>Apache NetBeans 21</h1>
            <p><a class="button success" href="../../../../front/main/download/nb21">Download</a></p>
        </div>
    </div>
</section>
    <div class='grid-container main-content'>
      <article class="doc">
      <h1 class="sect1">Where is the Platform and How Can I Build It?</h1>
      <div class='aside' style='text-align: center; padding: 20px;'>
    <a href="../../../../wiki/main/wiki" title="Apache NetBeans WIKI">Apache NetBeans Wiki Index</a>
    <p><b>Note:</b> These pages are being reviewed.</p>
</div>
      <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_why_would_you_want_to_build_your_application_on_a_separate_platform_instead_of_the_ide_as_a_platform">Why would you want to build your application on a separate platform instead of the IDE as a platform?</a></li>
<li><a href="#_update_for_nbm_projects_generated_by_netbeans_6_7_and_later">Update for NBM projects generated by NetBeans 6.7 and later</a></li>
<li><a href="#_update_for_nbm_projects_generated_by_netbeans_7_0_and_later">Update for NBM projects generated by NetBeans 7.0 and later</a></li>
<li><a href="#_some_automation_anyone">Some automation anyone?</a>
<ul class="sectlevel2">
<li><a href="#_update_the_development_environment">Update the development environment</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In versions of NetBeans prior to 6.0, two major products were available for download: the IDE and the platform.  The platform is the foundation on which the IDE is built, or looking at it another way, the platform is what&#8217;s left over when you remove all the IDE features from the IDE.  At any rate, the platform provides user interface components, build scripts, declarative configuration and many other features that can save you a lot of time and effort in creating your own application.</p>
</div>
<div class="paragraph">
<p>Because platform-based applications are themselves platforms that can be extended, the IDE can also be extended just as the platform can.  Since you can remove features from a platform as well as add new ones, the availability of the platform and IDE let you choose between starting small and adding on (platform) or starting large and removing things (the IDE).  Some feel the latter approach is better and even facing such a choice can be confusing to new users.  If you&#8217;re a new user, you&#8217;d do well to heed this advice and just use the IDE as a platform.  It works just as well and is a lot less trouble.</p>
</div>
<div class="paragraph">
<p>But if you&#8217;re still here, you may be asking where is the platform?  Binary distributions of the platform are not being made available from version 6.0 onward (and <a href="https://bz.apache.org/netbeans/show_bug.cgi?id=124372">issue #124372</a> filed to bring them back was closed without any reasonable explanation).  So if you want a platform binary, you&#8217;ll have to create one yourself.</p>
</div>
<div class="paragraph">
<p>Building the platform is not difficult, but it&#8217;s not intuitive either.  To start, you will need to download the  platform source ZIP file and unpack it to some directory.  Open a command prompt to that directory and change  to the &lt;pre&gt;nbbuild&lt;/pre&gt; subdirectory.  From there, issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   ant -Dcluster.config=platform build-platform</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re using Java 6, you&#8217;ll need to add an extra property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   ant -Dcluster.config=platform build-platform -Dpermit.jdk6.builds=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>But be aware that it is not guaranteed to build under Java 6 due to language changes or compiler bugs.  It is unlikely you will encounter such a problem in the platform build, though it has certainly been known to happen in the IDE build.  If you find something that won&#8217;t compile under Java 6 but does compile under Java 5, file a bug report (preferably with a patch) about it so it can be corrected.  Meanwhile, you can use Java 5 to compile&#8201;&#8212;&#8201;even when Java 6 is first in your path&#8201;&#8212;&#8201;by using the <code>nbjdk.home</code> system property to point to your Java 5 installation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   ant -Dcluster.config=platform build-platform -Dnbjdk.home=c:/devtools/jdk/jdk-1.5.0_u15</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will build the platform into the &lt;pre&gt;netbeans&lt;/pre&gt; subdirectory (i.e. <code>{nbbuild/netbeans</code>}).  You can zip or tar up the netbeans directory to create a ZIP distribution.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to create platforms based on a different subset of the NetBeans project.  Hints for doing this can be found here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#WorkingWithNetBeansSources.adoc" class="xref unresolved">Working with NetBeans Sources</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_would_you_want_to_build_your_application_on_a_separate_platform_instead_of_the_ide_as_a_platform"><a class="anchor" href="#_why_would_you_want_to_build_your_application_on_a_separate_platform_instead_of_the_ide_as_a_platform"></a>Why would you want to build your application on a separate platform instead of the IDE as a platform?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the IDE is certainly easier, but there are inherent dangers associated with developing against your own IDE as the platform. In particular, another developer on your team may have a different version of the IDE, have different modules/clusters installed or even have simply named the platform something different in the Platform Manager.  This can result in a broken build or the introduction of unwanted features.  It also makes doing an automated build, such as through Hudson or CruiseControl, far more difficult.</p>
</div>
<div class="paragraph">
<p>If you want to avoid these problems, you can check the platform you want to build against into source control and then set the <code>netbeans.dest.dir</code> and <code>harness.dir</code> properties in your suite&#8217;s <code>nbproject/platform.properties</code> file to point to the platform and harness, respectively.  Building from a known version checked out from source control avoids these problems and makes it possible to historically reproduce any build.  I show example values for these below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"># NOTE: You must remove the nbplatform.default line which might already exist in this file.
# Also note that editing the properties of your suite via the suite customizer (dialog)
# can add that line back in, so you'll need to watch for this and delete it again in this case.

# where the suite is located; you don't need to change this.  It exists
# to allow us to use relative paths for the other values
suite.dir=${basedir}

# the path to the NetBeans IDE or platform binary we want to build against
# (e.g. if building against the IDE, this points to the directory created when
# you unpack the IDE zip file).  this example assumes your platform directory
# is parallel to the suite directory, but you can change it to suit your needs
netbeans.dest.dir=${suite.dir}/../platform

# path to the build harness you want to use.  This is typically in the
# harness subdirectory of your platform, but you could point to a directory
# containing customized build scripts if you want to.
harness.dir=${netbeans.dest.dir}/harness</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_for_nbm_projects_generated_by_netbeans_6_7_and_later"><a class="anchor" href="#_update_for_nbm_projects_generated_by_netbeans_6_7_and_later"></a>Update for NBM projects generated by NetBeans 6.7 and later</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have generated your projects in IDE version 6.7 and later, you have to modify the above described method slightly (6.5.1 and earlier projects compile against newer platform/harness without changes). You can distinguish "newer" project by the presence of <code>cluster.path</code> property in <code>nbproject/platform.properties</code> file or simply by the fact that an attempt to build a suite with above described <code>platform.properties</code> results in error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.../harness/suite.xml:60: When using cluster.path property, remove
netbeans.dest.dir, enabled.clusters and disabled.clusters properties
from platform config, they would be ignored.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In such case you have to replace <code>netbeans.dest.dir</code>, <code>enabled.clusters</code> and <code>disabled.clusters</code> properties with new property <code>cluster.path</code>, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"># NOTE: You must remove the nbplatform.default line which might already exist in this file.
# Also note that editing the properties of your suite via the suite customizer (dialog)
# can add that line back in, so you'll need to watch for this and delete it again in this case.

# where the suite is located; you don't need to change this.  It exists
# to allow us to use relative paths for the other values
suite.dir=${basedir}

# just a helper property pointing to the same location as netbeans.dest.dir did before;
# Referenced only in this properties file, has no meaning for NB harness.
platform.base=${suite.dir}/../platform

# Give a name to the platform at the relative path and define its location
# using the platform.base property we set above. You can change the value
# ('myplatform') to something more descriptive (like 'nb68'), but you
# must then change the name of the second property (e.g. from
# nbplatform.myplatform.netbeans.dest.dir to nbplatform.nb68.netbeans.dest.dir)
nbplatform.active=myplatform
nbplatform.myplatform.netbeans.dest.dir=${platform.base}

# classpath-like list of absolute or relative paths to individual clusters
# against which you want your suite to build; Note that you can use
# "bare", i.e. not numbered cluster names, which simplifies later transitions
# to newer version of the platform. E.g:
cluster.path=${platform.base}/platform:\
     ${platform.base}/ide:\
     ../otherSuite/build/cluster

# path to the build harness you want to use.  This is typically in the
# harness subdirectory of your platform, but you could point to a directory
# containing customized build scripts if you want to.
harness.dir=${platform.base}/harness</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the content of <code>cluster.path</code> is not limited to clusters from NB platform, you can add clusters from other suites, standalone modules, etc. This allows to reuse non-platform modules in several RCP apps. <a href="../DevFaqHowToReuseModules/" class="xref page">More on module reuse here</a>, other details about setting up <code>cluster.path</code> can be found in <code>harness/README</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_for_nbm_projects_generated_by_netbeans_7_0_and_later"><a class="anchor" href="#_update_for_nbm_projects_generated_by_netbeans_7_0_and_later"></a>Update for NBM projects generated by NetBeans 7.0 and later</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now the the platform can get downloaded automatically with some minor tweaks! This is great for usage in Continuous Integration servers like Hudson/Jenkins.</p>
</div>
<div class="paragraph">
<p>See <a href="../DevFaqAutomaticPlatformDownload/" class="xref page">here</a> for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_some_automation_anyone"><a class="anchor" href="#_some_automation_anyone"></a>Some automation anyone?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The above process is basically manual so here are some stuff I developed to automate the process:</p>
</div>
<div class="sect2">
<h3 id="_update_the_development_environment"><a class="anchor" href="#_update_the_development_environment"></a>Update the development environment</h3>
<div class="paragraph">
<p>The following allows to update the development environment mentioned above that should be part of version control. (i.e. to make it work from Hudson for example)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a xml file in the suite&#8217;s root (referred as preparation.xml from now on)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hare are its contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="XXX-Preparation" basedir="."&gt;
    &lt;description&gt;Prepares the environment to build the module suite XXX.&lt;/description&gt;
    &lt;!--Don't modify this file unless you know what you are doing--&gt;
    &lt;property name="ant-contrib-filename" value="ant-contrib-1.0b3.jar"/&gt;
    &lt;property file="nbproject/project.properties"/&gt;
    &lt;property file="nbproject/platform.properties"/&gt;

    &lt;target name="update-platform" depends="init-netbeans"&gt;
        &lt;for list="${cluster.path}" delimiter=":" param="cur" trim="true"&gt;
            &lt;sequential&gt;
                &lt;add-core-module module="@{cur}"/&gt;
            &lt;/sequential&gt;
        &lt;/for&gt;
    &lt;/target&gt;

    &lt;target name="unzip-compilation-env" depends="init-netbeans, init-hudson"&gt;
        &lt;!--Hudson needs to run this task first as it gets the core modules as zip from version control--&gt;
        &lt;for list="${cluster.path}" delimiter=":" param="cur" trim="true"&gt;
            &lt;sequential&gt;
                &lt;expand-module module="@{cur}"/&gt;
            &lt;/sequential&gt;
        &lt;/for&gt;
    &lt;/target&gt;

    &lt;target name="update-env" depends="init-netbeans, init-hudson" description="Update the Netbeans core modules used to compile/run OIT"&gt;
        &lt;!--Make sure that any recently added module using the IDE is also included.
        Fix it to the proper format.--&gt;
        &lt;mkdir dir="../netbeans/"/&gt;
        &lt;propertyregex property="cluster.path"
               input="${cluster.path}"
               regexp="nbplatform.active.dir"
               replace="platform.base"
               global="true"
               override="true"/&gt;
        &lt;replaceregexp file="nbproject/platform.properties"
                       match="nbplatform.active.dir"
                       replace="platform.base"
                       byline="true"
                       flags="g,s"/&gt;
        &lt;pathconvert pathsep="\;" property="folders_temp"&gt;
            &lt;dirset dir="../netbeans/"&gt;
                &lt;include name="*/**"/&gt;
                &lt;!--ignore svn and cvs files--&gt;
                &lt;include name="**/.svn"/&gt;
                &lt;include name="**/.svn/**"/&gt;
                &lt;include name="**/CVS"/&gt;
                &lt;include name="**/CVS/**"/&gt;
                &lt;!--Exclude the nb-plugins folder--&gt;
                &lt;exclude name="nb-plugins/**"/&gt;
                &lt;!--Exclude the root folder--&gt;
                &lt;exclude name="../netbeans"/&gt;
            &lt;/dirset&gt;
        &lt;/pathconvert&gt;
        &lt;antcall target="update-platform"/&gt;
        &lt;antcall target="unzip-compilation-env"/&gt;
    &lt;/target&gt;

    &lt;macrodef name="expand-module"&gt;
        &lt;attribute name="module"/&gt;
        &lt;sequential&gt;
            &lt;delete dir="@{module}"/&gt;
            &lt;unzip src="@{module}.zip" dest="@{module}"/&gt;
        &lt;/sequential&gt;
    &lt;/macrodef&gt;

    &lt;macrodef name="add-core-module"&gt;
        &lt;attribute name="module"/&gt;
        &lt;sequential&gt;
            &lt;if&gt;
                &lt;equals arg1="@{module}" arg2="../netbeans/nb-plugins"/&gt;
                &lt;then&gt;
                    &lt;echo&gt;Adding custom module @{module}&lt;/echo&gt;
                    &lt;available file="@{module}" type="dir" property="customdir.exists"/&gt;
                    &lt;if&gt;
                        &lt;equals arg1="${customdir.exists}" arg2="true"/&gt;
                        &lt;then&gt;
                            &lt;zip destfile="@{module}.zip" basedir="@{module}" update="true"/&gt;
                        &lt;/then&gt;
                    &lt;/if&gt;
                &lt;/then&gt;
                &lt;else&gt;
                    &lt;length string="@{module}" property="@{module}.length.module" /&gt;
                    &lt;substring text="@{module}" start="12" end="${@{module}.length.module}" property="new.module"/&gt;
                    &lt;echo&gt;Adding netbeans core module ${new.module}&lt;/echo&gt;
                    &lt;mkdir dir="../netbeans/${new.module}/"/&gt;
                    &lt;delete file="../netbeans/${new.module}.zip"/&gt;
                    &lt;delete includeemptydirs="true"&gt;
                        &lt;fileset dir="../netbeans/${new.module}/" includes="**/.*" defaultexcludes="false"/&gt;
                    &lt;/delete&gt;
                    &lt;zip destfile="../netbeans/${new.module}.zip" basedir="${netbeans.home}\..\${new.module}" update="true"/&gt;
                &lt;/else&gt;
            &lt;/if&gt;
        &lt;/sequential&gt;
    &lt;/macrodef&gt;

    &lt;scriptdef name="substring" language="javascript"&gt;
        &lt;attribute name="text" /&gt;
        &lt;attribute name="start" /&gt;
        &lt;attribute name="end" /&gt;
        &lt;attribute name="property" /&gt;
     &lt;![CDATA[
       var text = attributes.get("text");
       var start = attributes.get("start");
       var end = attributes.get("end") || text.length;
       project.setProperty(attributes.get("property"), text.substring(start, end));
     ]]&gt;
    &lt;/scriptdef&gt;

    &lt;target name="check-env" depends="getAntContribJar"&gt;
        &lt;condition property="isNetbeans"&gt;
            &lt;not&gt;
                &lt;isset property="Hudson"/&gt;
            &lt;/not&gt;
        &lt;/condition&gt;
    &lt;/target&gt;

    &lt;target name="getAntContribJar"&gt;
        &lt;fileset id="ant-contrib-jar" dir="${suite.dir}/tools"&gt;
            &lt;include name="ant-contrib-*.jar" /&gt;
        &lt;/fileset&gt;
        &lt;pathconvert property="ant-contrib-jar" refid="ant-contrib-jar" pathsep="," /&gt;
        &lt;basename property="ant-contrib-filename" file="${ant-contrib-jar}"/&gt;
    &lt;/target&gt;

    &lt;target name="init-netbeans" depends="check-env" if="isNetbeans"&gt;
        &lt;echo&gt;Configuring ant-contrib for Netbeans use...&lt;/echo&gt;
        &lt;property name="ant-contrib-loc" value="${suite.dir}/tools/${ant-contrib-filename}"/&gt;
        &lt;available file="${ant-contrib-loc}" property="ant-contrib.present"/&gt;
        &lt;fail unless="ant-contrib.present" message="The ant-contrib jar doesn't exist at: ${ant-contrib-loc}, can't build. Check your settings!" /&gt;
        &lt;!--We are in not Hudson--&gt;
        &lt;taskdef resource="net/sf/antcontrib/antcontrib.properties"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
    &lt;/target&gt;

    &lt;target name="init-hudson" depends="check-env" unless="isNetbeans"&gt;
        &lt;echo&gt;Configuring ant-contrib for Hudson use...&lt;/echo&gt;
        &lt;!--Import Hudson environment variables--&gt;
        &lt;property environment="env"/&gt;
        &lt;property name="ant-contrib-loc" value="${env.ANT_HOME}/lib/${ant-contrib-filename}"/&gt;
        &lt;available file="${ant-contrib-loc}" property="ant-contrib.present"/&gt;
        &lt;fail unless="ant-contrib.present" message="The ant-contrib jar doesn't exist at: ${ant-contrib-loc}, can't build. Check your settings!" /&gt;
        &lt;!--Define it. For some reason the approach in init-netbeans doesn't work in Hudson.--&gt;
        &lt;taskdef name="for" classname="net.sf.antcontrib.logic.ForTask"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
        &lt;taskdef name="propertyregex" classname="net.sf.antcontrib.property.RegexTask"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
        &lt;taskdef name="if" classname="net.sf.antcontrib.logic.IfTask"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
        &lt;taskdef name="math" classname="net.sf.antcontrib.math.MathTask"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
        &lt;taskdef name="var" classname="net.sf.antcontrib.property.Variable"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${ant-contrib-loc}"/&gt;
            &lt;/classpath&gt;
        &lt;/taskdef&gt;
    &lt;/target&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s a sumary of the targets and what they do:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>init-netbeans/init-hudson</strong>: Configures the ant-contrib lib used in other tasks. For some reason Hudson doesn&#8217;t work with the init-netbeans approach.</p>
</li>
<li>
<p><strong>getAntContribJar</strong>: Looks in the suite&#8217;s tools folder for the ant-contrib jar file. This file name is then used by other tasks</p>
</li>
<li>
<p><strong>check-env</strong>: Basically to decide if we&#8217;re in Netbeans or in Hudson. While in Hudson just pass the -DHudson=true parameter to the ant job. Having this variable set (not the value) tells this task that we are in Hudson.</p>
</li>
<li>
<p><strong>update-env</strong>: The task to call. This one updates the cluster.path values in nbproject/platform.properties to set it up as mentioned in this FAQ. Why you might ask? This just takes care of updating any later addition of a module via using Netbeans and converts it to the format discussed in this FAQ. Basically no need to manually modify the nbproject/platform.properties file after the initial change!</p>
</li>
<li>
<p><strong>update-platform</strong>: This will grab the current&#8217;s IDE modules defined in cluster.path and zip them in a netbeans folder parallel to the suite&#8217;s root folder. No need to do it manually!</p>
</li>
<li>
<p><strong>unzip-compilation-env</strong>: this unzips the zips created in the above task to their proper place.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Keep in mind that after making the changes proposed earlier in this FAQ the project won&#8217;t work (i.e. build, run, etc) if the environment is not set.</p>
</div>
<div class="paragraph">
<p>That&#8217;s the reason of doing all this in another xml file. Attempting any of this from the suite&#8217;s build file won&#8217;t work since you are messing with the platform files it is working from.</p>
</div>
<div class="paragraph">
<p><strong>Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make sure to have an ant-contrib file in &lt;suite&#8217;s root&gt;/tools folder for the above to work.</p>
</li>
<li>
<p>Current release of ant-contrib has an error. To fix it unpack the jar and add this entry to the net/sf/antcontrib/antcontrib.properties file in the Logic tasks section:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>for=net.sf.antcontrib.logic.ForTask</pre>
</div>
</div>
<div class="paragraph">
<p>See also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../DevFaqSignNbm/" class="xref page">Can I sign NBMs I create?</a> for tasks to sign all your nbm files</p>
</li>
<li>
<p><a href="../DevFaqCustomizeBuild/" class="xref page">How can I customize the build process?</a> To add any custom task you might have to the build process.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
      <section class='tools'>
    <ul class="menu align-center">
        <li><a title="Facebook" href="https://www.facebook.com/NetBeans"><i class="fa fa-md fa-facebook"></i></a></li>
        <li><a title="Twitter" href="https://twitter.com/netbeans"><i class="fa fa-md fa-twitter"></i></a></li>
        <li><a title="Github" href="https://github.com/apache/netbeans"><i class="fa fa-md fa-github"></i></a></li>
        <li><a title="YouTube" href="https://www.youtube.com/user/netbeansvideos"><i class="fa fa-md fa-youtube"></i></a></li>
        <li><a title="Atom Feed" href="https://netbeans.apache.org/blogs/atom"><i class="fa fa-mf fa-rss"></i></a></li>
        <li><a title="Slack" href="https://tinyurl.com/netbeans-slack-signup/"><i class="fa fa-md fa-slack"></i></a></li>
        <li><a title="Issues" href="https://github.com/apache/netbeans/issues"><i class="fa fa-mf fa-bug"></i></a></li>
    </ul>
    <ul class="menu align-center">
        <li><a href="https://github.com/apache/netbeans-antora-wiki/edit/main/modules/ROOT/pages/wiki/DevFaqGeneralWhereIsPlatformHowToBuild.adoc" title="See this page in github"><i class="fa fa-md fa-edit"></i> See this page in GitHub.</a></li>
    </ul>
</section>
      </article>
    </div>
        <div class='grid-container incubator-area' style='margin-top: 64px'>
      <div class='grid-x grid-padding-x'>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/">
            <img style="width: 320px" title="Apache Software Foundation" src="../../../../_/images/asf_logo_wide.svg" />
          </a>
        </div>
        <div class='large-auto cell text-center'>
          <a href="https://www.apache.org/events/current-event.html">
            <img style="width:234px; height: 60px;" title="Apache Software Foundation current event" src="https://www.apache.org/events/current-event-234x60.png"/>
          </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/about">About</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/who">Who's Who</a></li>
              <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              <li><a href="https://www.apache.org/security/">Security</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/community">Community</a></h1>
            <ul>
              <li><a href="../../../../front/main/community/mailing-lists">Mailing lists</a></li>
              <li><a href="../../../../front/main/community/committer">Becoming a committer</a></li>
              <li><a href="../../../../front/main/community/events">NetBeans Events</a></li>
              <li><a href="https://www.apache.org/events/current-event.html">Apache Events</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/participate">Participate</a></h1>
            <ul>
              <li><a href="../../../../front/main/participate/submit-pr">Submitting Pull Requests</a></li>
              <li><a href="../../../../front/main/participate/report-issue">Reporting Issues</a></li>
              <li><a href="../../../../front/main/participate/#documentation">Improving the documentation</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/help">Get Help</a></h1>
            <ul>
              <li><a href="../../../../front/main/help/#documentation">Documentation</a></li>
              <li><a href="../../../../wiki/main/wiki">Wiki</a></li>
              <li><a href="../../../../front/main/help/#support">Community Support</a></li>
              <li><a href="../../../../front/main/help/commercial-support">Commercial Support</a></li>
            </ul>
          </div>
          <div class="large-auto cell">
            <h1><a href="../../../../front/main/download">Download</a></h1>
            <ul>
              <li><a href="../../../../front/main/download">Releases</a></li>                    
              <li><a href="https://plugins.netbeans.apache.org/">Plugins</a></li>
              <li><a href="../../../../front/main/download/#_daily_builds_and_building_from_source">Building from source</a></li>
              <li><a href="../../../../front/main/download/#_older_releases">Previous releases</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <div class='footer-disclaimer'>
      <div class="footer-disclaimer-content">
        <p>Copyright &copy; 2017-2024 <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
        <p>Licensed under the Apache <a href="https://www.apache.org/licenses/">license</a>, version 2.0</p>
        <div style='max-width: 40em; margin: 0 auto'>
          <p>Apache, Apache NetBeans, NetBeans, the Apache feather logo and the Apache NetBeans logo are trademarks of <a href="https://www.apache.org">The Apache Software Foundation</a>.</p>
          <p>Oracle and Java are registered trademarks of Oracle and/or its affiliates.</p>
          <p>The Apache NetBeans website conforms to the <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Apache Software Foundation Privacy Policy</a></p>
        </div>
      </div>
    </div>

    
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
    <script src="../../../../_/js/vendor/jquery-3.7.1.min.js"></script>
    <script src="../../../../_/js/vendor/what-input.js"></script>
    <script src="../../../../_/js/vendor/foundation.min.js"></script>
    <script src="../../../../_/js/vendor/jquery.colorbox-min.js"></script>
    <script src="../../../../_/js/netbeans.js"></script>
    <script>
       $(function(){ $(document).foundation(); });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
      $(document).ready(function() { $("pre code").each(function(i, block) { hljs.highlightBlock(block); }); });
    </script>
  </body>
</html>
